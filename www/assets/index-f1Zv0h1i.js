function jA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var ci=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function AA(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var fm={exports:{}},Rc={};var bb;function RA(){if(bb)return Rc;bb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,a){var o=null;if(a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:e,type:r,key:o,ref:s!==void 0?s:null,props:a}}return Rc.Fragment=t,Rc.jsx=n,Rc.jsxs=n,Rc}var _b;function OA(){return _b||(_b=1,fm.exports=RA()),fm.exports}var c=OA(),hm={exports:{}},Nt={};var Sb;function MA(){if(Sb)return Nt;Sb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,_={};function S(D,R,U){this.props=D,this.context=R,this.refs=_,this.updater=U||w}S.prototype.isReactComponent={},S.prototype.setState=function(D,R){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,R,"setState")},S.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function N(){}N.prototype=S.prototype;function T(D,R,U){this.props=D,this.context=R,this.refs=_,this.updater=U||w}var C=T.prototype=new N;C.constructor=T,y(C,S.prototype),C.isPureReactComponent=!0;var A=Array.isArray;function z(){}var M={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function O(D,R,U){var B=U.ref;return{$$typeof:e,type:D,key:R,ref:B!==void 0?B:null,props:U}}function Y(D,R){return O(D.type,R,D.props)}function J(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function F(D){var R={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(U){return R[U]})}var re=/\/+/g;function k(D,R){return typeof D=="object"&&D!==null&&D.key!=null?F(""+D.key):R.toString(36)}function V(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(z,z):(D.status="pending",D.then(function(R){D.status==="pending"&&(D.status="fulfilled",D.value=R)},function(R){D.status==="pending"&&(D.status="rejected",D.reason=R)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function K(D,R,U,B,G){var ue=typeof D;(ue==="undefined"||ue==="boolean")&&(D=null);var ge=!1;if(D===null)ge=!0;else switch(ue){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(D.$$typeof){case e:case t:ge=!0;break;case p:return ge=D._init,K(ge(D._payload),R,U,B,G)}}if(ge)return G=G(D),ge=B===""?"."+k(D,0):B,A(G)?(U="",ge!=null&&(U=ge.replace(re,"$&/")+"/"),K(G,R,U,"",function(Re){return Re})):G!=null&&(J(G)&&(G=Y(G,U+(G.key==null||D&&D.key===G.key?"":(""+G.key).replace(re,"$&/")+"/")+ge)),R.push(G)),1;ge=0;var me=B===""?".":B+":";if(A(D))for(var ve=0;ve<D.length;ve++)B=D[ve],ue=me+k(B,ve),ge+=K(B,R,U,ue,G);else if(ve=x(D),typeof ve=="function")for(D=ve.call(D),ve=0;!(B=D.next()).done;)B=B.value,ue=me+k(B,ve++),ge+=K(B,R,U,ue,G);else if(ue==="object"){if(typeof D.then=="function")return K(V(D),R,U,B,G);throw R=String(D),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return ge}function H(D,R,U){if(D==null)return D;var B=[],G=0;return K(D,B,"","",function(ue){return R.call(U,ue,G++)}),B}function Q(D){if(D._status===-1){var R=D._result;R=R(),R.then(function(U){(D._status===0||D._status===-1)&&(D._status=1,D._result=U)},function(U){(D._status===0||D._status===-1)&&(D._status=2,D._result=U)}),D._status===-1&&(D._status=0,D._result=R)}if(D._status===1)return D._result.default;throw D._result}var ee=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},ae={map:H,forEach:function(D,R,U){H(D,function(){R.apply(this,arguments)},U)},count:function(D){var R=0;return H(D,function(){R++}),R},toArray:function(D){return H(D,function(R){return R})||[]},only:function(D){if(!J(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Nt.Activity=g,Nt.Children=ae,Nt.Component=S,Nt.Fragment=n,Nt.Profiler=s,Nt.PureComponent=T,Nt.StrictMode=r,Nt.Suspense=d,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return M.H.useMemoCache(D)}},Nt.cache=function(D){return function(){return D.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(D,R,U){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var B=y({},D.props),G=D.key;if(R!=null)for(ue in R.key!==void 0&&(G=""+R.key),R)!j.call(R,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&R.ref===void 0||(B[ue]=R[ue]);var ue=arguments.length-2;if(ue===1)B.children=U;else if(1<ue){for(var ge=Array(ue),me=0;me<ue;me++)ge[me]=arguments[me+2];B.children=ge}return O(D.type,G,B)},Nt.createContext=function(D){return D={$$typeof:o,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:a,_context:D},D},Nt.createElement=function(D,R,U){var B,G={},ue=null;if(R!=null)for(B in R.key!==void 0&&(ue=""+R.key),R)j.call(R,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(G[B]=R[B]);var ge=arguments.length-2;if(ge===1)G.children=U;else if(1<ge){for(var me=Array(ge),ve=0;ve<ge;ve++)me[ve]=arguments[ve+2];G.children=me}if(D&&D.defaultProps)for(B in ge=D.defaultProps,ge)G[B]===void 0&&(G[B]=ge[B]);return O(D,ue,G)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(D){return{$$typeof:u,render:D}},Nt.isValidElement=J,Nt.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:Q}},Nt.memo=function(D,R){return{$$typeof:f,type:D,compare:R===void 0?null:R}},Nt.startTransition=function(D){var R=M.T,U={};M.T=U;try{var B=D(),G=M.S;G!==null&&G(U,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(z,ee)}catch(ue){ee(ue)}finally{R!==null&&U.types!==null&&(R.types=U.types),M.T=R}},Nt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Nt.use=function(D){return M.H.use(D)},Nt.useActionState=function(D,R,U){return M.H.useActionState(D,R,U)},Nt.useCallback=function(D,R){return M.H.useCallback(D,R)},Nt.useContext=function(D){return M.H.useContext(D)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(D,R){return M.H.useDeferredValue(D,R)},Nt.useEffect=function(D,R){return M.H.useEffect(D,R)},Nt.useEffectEvent=function(D){return M.H.useEffectEvent(D)},Nt.useId=function(){return M.H.useId()},Nt.useImperativeHandle=function(D,R,U){return M.H.useImperativeHandle(D,R,U)},Nt.useInsertionEffect=function(D,R){return M.H.useInsertionEffect(D,R)},Nt.useLayoutEffect=function(D,R){return M.H.useLayoutEffect(D,R)},Nt.useMemo=function(D,R){return M.H.useMemo(D,R)},Nt.useOptimistic=function(D,R){return M.H.useOptimistic(D,R)},Nt.useReducer=function(D,R,U){return M.H.useReducer(D,R,U)},Nt.useRef=function(D){return M.H.useRef(D)},Nt.useState=function(D){return M.H.useState(D)},Nt.useSyncExternalStore=function(D,R,U){return M.H.useSyncExternalStore(D,R,U)},Nt.useTransition=function(){return M.H.useTransition()},Nt.version="19.2.0",Nt}var Eb;function vx(){return Eb||(Eb=1,hm.exports=MA()),hm.exports}var P=vx();const Te=Rh(P);var pm={exports:{}},Oc={},mm={exports:{}},gm={};var Nb;function DA(){return Nb||(Nb=1,(function(e){function t(K,H){var Q=K.length;K.push(H);e:for(;0<Q;){var ee=Q-1>>>1,ae=K[ee];if(0<s(ae,H))K[ee]=H,K[Q]=ae,Q=ee;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var H=K[0],Q=K.pop();if(Q!==H){K[0]=Q;e:for(var ee=0,ae=K.length,D=ae>>>1;ee<D;){var R=2*(ee+1)-1,U=K[R],B=R+1,G=K[B];if(0>s(U,Q))B<ae&&0>s(G,U)?(K[ee]=G,K[B]=Q,ee=B):(K[ee]=U,K[R]=Q,ee=R);else if(B<ae&&0>s(G,Q))K[ee]=G,K[B]=Q,ee=B;else break e}}return H}function s(K,H){var Q=K.sortIndex-H.sortIndex;return Q!==0?Q:K.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var d=[],f=[],p=1,g=null,v=3,x=!1,w=!1,y=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(K){for(var H=n(f);H!==null;){if(H.callback===null)r(f);else if(H.startTime<=K)r(f),H.sortIndex=H.expirationTime,t(d,H);else break;H=n(f)}}function A(K){if(y=!1,C(K),!w)if(n(d)!==null)w=!0,z||(z=!0,F());else{var H=n(f);H!==null&&V(A,H.startTime-K)}}var z=!1,M=-1,j=5,O=-1;function Y(){return _?!0:!(e.unstable_now()-O<j)}function J(){if(_=!1,z){var K=e.unstable_now();O=K;var H=!0;try{e:{w=!1,y&&(y=!1,N(M),M=-1),x=!0;var Q=v;try{t:{for(C(K),g=n(d);g!==null&&!(g.expirationTime>K&&Y());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,v=g.priorityLevel;var ae=ee(g.expirationTime<=K);if(K=e.unstable_now(),typeof ae=="function"){g.callback=ae,C(K),H=!0;break t}g===n(d)&&r(d),C(K)}else r(d);g=n(d)}if(g!==null)H=!0;else{var D=n(f);D!==null&&V(A,D.startTime-K),H=!1}}break e}finally{g=null,v=Q,x=!1}H=void 0}}finally{H?F():z=!1}}}var F;if(typeof T=="function")F=function(){T(J)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,k=re.port2;re.port1.onmessage=J,F=function(){k.postMessage(null)}}else F=function(){S(J,0)};function V(K,H){M=S(function(){K(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(K){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var Q=v;v=H;try{return K()}finally{v=Q}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(K,H){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=v;v=K;try{return H()}finally{v=Q}},e.unstable_scheduleCallback=function(K,H,Q){var ee=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ee+Q:ee):Q=ee,K){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Q+ae,K={id:p++,callback:H,priorityLevel:K,startTime:Q,expirationTime:ae,sortIndex:-1},Q>ee?(K.sortIndex=Q,t(f,K),n(d)===null&&K===n(f)&&(y?(N(M),M=-1):y=!0,V(A,Q-ee))):(K.sortIndex=ae,t(d,K),w||x||(w=!0,z||(z=!0,F()))),K},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(K){var H=v;return function(){var Q=v;v=H;try{return K.apply(this,arguments)}finally{v=Q}}}})(gm)),gm}var Tb;function IA(){return Tb||(Tb=1,mm.exports=DA()),mm.exports}var xm={exports:{}},lr={};var Cb;function LA(){if(Cb)return lr;Cb=1;var e=vx();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lr.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(d,f,null,p)},lr.flushSync=function(d){var f=o.T,p=r.p;try{if(o.T=null,r.p=2,d)return d()}finally{o.T=f,r.p=p,r.d.f()}},lr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},lr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},lr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:x}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},lr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},lr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},lr.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},lr.requestFormReset=function(d){r.d.r(d)},lr.unstable_batchedUpdates=function(d,f){return d(f)},lr.useFormState=function(d,f,p){return o.H.useFormState(d,f,p)},lr.useFormStatus=function(){return o.H.useHostTransitionStatus()},lr.version="19.2.0",lr}var kb;function CS(){if(kb)return xm.exports;kb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xm.exports=LA(),xm.exports}var jb;function PA(){if(jb)return Oc;jb=1;var e=IA(),t=vx(),n=CS();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var l=i,h=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(h=l.return),i=l.return;while(i)}return l.tag===3?h:null}function o(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function u(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function d(i){if(a(i)!==i)throw Error(r(188))}function f(i){var l=i.alternate;if(!l){if(l=a(i),l===null)throw Error(r(188));return l!==i?null:i}for(var h=i,m=l;;){var b=h.return;if(b===null)break;var E=b.alternate;if(E===null){if(m=b.return,m!==null){h=m;continue}break}if(b.child===E.child){for(E=b.child;E;){if(E===h)return d(b),i;if(E===m)return d(b),l;E=E.sibling}throw Error(r(188))}if(h.return!==m.return)h=b,m=E;else{for(var L=!1,Z=b.child;Z;){if(Z===h){L=!0,h=b,m=E;break}if(Z===m){L=!0,m=b,h=E;break}Z=Z.sibling}if(!L){for(Z=E.child;Z;){if(Z===h){L=!0,h=E,m=b;break}if(Z===m){L=!0,m=E,h=b;break}Z=Z.sibling}if(!L)throw Error(r(189))}}if(h.alternate!==m)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?i:l}function p(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=p(i),l!==null)return l;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=J&&i[J]||i["@@iterator"],typeof i=="function"?i:null)}var re=Symbol.for("react.client.reference");function k(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===re?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case y:return"Fragment";case S:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case z:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case T:return i.displayName||"Context";case N:return(i._context.displayName||"Context")+".Consumer";case C:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return l=i.displayName||null,l!==null?l:k(i.type)||"Memo";case j:l=i._payload,i=i._init;try{return k(i(l))}catch{}}return null}var V=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ee=[],ae=-1;function D(i){return{current:i}}function R(i){0>ae||(i.current=ee[ae],ee[ae]=null,ae--)}function U(i,l){ae++,ee[ae]=i.current,i.current=l}var B=D(null),G=D(null),ue=D(null),ge=D(null);function me(i,l){switch(U(ue,l),U(G,i),U(B,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?Gw(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=Gw(l),i=Vw(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}R(B),U(B,i)}function ve(){R(B),R(G),R(ue)}function Re(i){i.memoizedState!==null&&U(ge,i);var l=B.current,h=Vw(l,i.type);l!==h&&(U(G,i),U(B,h))}function Ue(i){G.current===i&&(R(B),R(G)),ge.current===i&&(R(ge),Cc._currentValue=Q)}var Ve,st;function I(i){if(Ve===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Ve=l&&l[1]||"",st=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+i+st}var ye=!1;function ne(i,l){if(!i||ye)return"";ye=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(De){var ke=De}Reflect.construct(i,[],Be)}else{try{Be.call()}catch(De){ke=De}i.call(Be.prototype)}}else{try{throw Error()}catch(De){ke=De}(Be=i())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(De){if(De&&ke&&typeof De.stack=="string")return[De.stack,ke.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=m.DetermineComponentFrameRoot(),L=E[0],Z=E[1];if(L&&Z){var de=L.split(`
`),Se=Z.split(`
`);for(b=m=0;m<de.length&&!de[m].includes("DetermineComponentFrameRoot");)m++;for(;b<Se.length&&!Se[b].includes("DetermineComponentFrameRoot");)b++;if(m===de.length||b===Se.length)for(m=de.length-1,b=Se.length-1;1<=m&&0<=b&&de[m]!==Se[b];)b--;for(;1<=m&&0<=b;m--,b--)if(de[m]!==Se[b]){if(m!==1||b!==1)do if(m--,b--,0>b||de[m]!==Se[b]){var Le=`
`+de[m].replace(" at new "," at ");return i.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",i.displayName)),Le}while(1<=m&&0<=b);break}}}finally{ye=!1,Error.prepareStackTrace=h}return(h=i?i.displayName||i.name:"")?I(h):""}function q(i,l){switch(i.tag){case 26:case 27:case 5:return I(i.type);case 16:return I("Lazy");case 13:return i.child!==l&&l!==null?I("Suspense Fallback"):I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return ne(i.type,!1);case 11:return ne(i.type.render,!1);case 1:return ne(i.type,!0);case 31:return I("Activity");default:return""}}function X(i){try{var l="",h=null;do l+=q(i,h),h=i,i=i.return;while(i);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var le=Object.prototype.hasOwnProperty,pe=e.unstable_scheduleCallback,be=e.unstable_cancelCallback,fe=e.unstable_shouldYield,Me=e.unstable_requestPaint,we=e.unstable_now,je=e.unstable_getCurrentPriorityLevel,He=e.unstable_ImmediatePriority,et=e.unstable_UserBlockingPriority,Ge=e.unstable_NormalPriority,mt=e.unstable_LowPriority,Gt=e.unstable_IdlePriority,vt=e.log,Mt=e.unstable_setDisableYieldValue,xt=null,rt=null;function Dt(i){if(typeof vt=="function"&&Mt(i),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(xt,i)}catch{}}var At=Math.clz32?Math.clz32:ht,ze=Math.log,tt=Math.LN2;function ht(i){return i>>>=0,i===0?32:31-(ze(i)/tt|0)|0}var Tt=256,yt=262144,St=4194304;function Ot(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Bt(i,l,h){var m=i.pendingLanes;if(m===0)return 0;var b=0,E=i.suspendedLanes,L=i.pingedLanes;i=i.warmLanes;var Z=m&134217727;return Z!==0?(m=Z&~E,m!==0?b=Ot(m):(L&=Z,L!==0?b=Ot(L):h||(h=Z&~i,h!==0&&(b=Ot(h))))):(Z=m&~E,Z!==0?b=Ot(Z):L!==0?b=Ot(L):h||(h=m&~i,h!==0&&(b=Ot(h)))),b===0?0:l!==0&&l!==b&&(l&E)===0&&(E=b&-b,h=l&-l,E>=h||E===32&&(h&4194048)!==0)?l:b}function vn(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function kn(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yn(){var i=St;return St<<=1,(St&62914560)===0&&(St=4194304),i}function jn(i){for(var l=[],h=0;31>h;h++)l.push(i);return l}function fn(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function gn(i,l,h,m,b,E){var L=i.pendingLanes;i.pendingLanes=h,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=h,i.entangledLanes&=h,i.errorRecoveryDisabledLanes&=h,i.shellSuspendCounter=0;var Z=i.entanglements,de=i.expirationTimes,Se=i.hiddenUpdates;for(h=L&~h;0<h;){var Le=31-At(h),Be=1<<Le;Z[Le]=0,de[Le]=-1;var ke=Se[Le];if(ke!==null)for(Se[Le]=null,Le=0;Le<ke.length;Le++){var De=ke[Le];De!==null&&(De.lane&=-536870913)}h&=~Be}m!==0&&mr(i,m,0),E!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=E&~(L&~l))}function mr(i,l,h){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-At(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|h&261930}function Fn(i,l){var h=i.entangledLanes|=l;for(i=i.entanglements;h;){var m=31-At(h),b=1<<m;b&l|i[m]&l&&(i[m]|=l),h&=~b}}function or(i,l){var h=l&-l;return h=(h&42)!==0?1:Oe(h),(h&(i.suspendedLanes|l))!==0?0:h}function Oe(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Je(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function W(){var i=H.p;return i!==0?i:(i=window.event,i===void 0?32:pb(i.type))}function ie(i,l){var h=H.p;try{return H.p=i,l()}finally{H.p=h}}var te=Math.random().toString(36).slice(2),se="__reactFiber$"+te,oe="__reactProps$"+te,ce="__reactContainer$"+te,Ee="__reactEvents$"+te,Pe="__reactListeners$"+te,Ne="__reactHandles$"+te,Ce="__reactResources$"+te,Ae="__reactMarker$"+te;function We(i){delete i[se],delete i[oe],delete i[Ee],delete i[Pe],delete i[Ne]}function Ke(i){var l=i[se];if(l)return l;for(var h=i.parentNode;h;){if(l=h[ce]||h[se]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(i=Zw(i);i!==null;){if(h=i[se])return h;i=Zw(i)}return l}i=h,h=i.parentNode}return null}function nt(i){if(i=i[se]||i[ce]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function qe(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function Qe(i){var l=i[Ce];return l||(l=i[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function lt(i){i[Ae]=!0}var an=new Set,on={};function hn(i,l){Qr(i,l),Qr(i+"Capture",l)}function Qr(i,l){for(on[i]=l,i=0;i<l.length;i++)an.add(l[i])}var bi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oa={},Ps={};function Hl(i){return le.call(Ps,i)?!0:le.call(Oa,i)?!1:bi.test(i)?Ps[i]=!0:(Oa[i]=!0,!1)}function br(i,l,h){if(Hl(l))if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+h)}}function Xu(i,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+h)}}function Js(i,l,h,m){if(m===null)i.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(h);return}i.setAttributeNS(l,h,""+m)}}function es(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Lv(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function _k(i,l,h){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,E=m.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return b.call(this)},set:function(L){h=""+L,E.call(this,L)}}),Object.defineProperty(i,l,{enumerable:m.enumerable}),{getValue:function(){return h},setValue:function(L){h=""+L},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function a0(i){if(!i._valueTracker){var l=Lv(i)?"checked":"value";i._valueTracker=_k(i,l,""+i[l])}}function Pv(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var h=l.getValue(),m="";return i&&(m=Lv(i)?i.checked?"true":"false":i.value),i=m,i!==h?(l.setValue(i),!0):!1}function Yu(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Sk=/[\n"\\]/g;function ts(i){return i.replace(Sk,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function i0(i,l,h,m,b,E,L,Z){i.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.type=L:i.removeAttribute("type"),l!=null?L==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+es(l)):i.value!==""+es(l)&&(i.value=""+es(l)):L!=="submit"&&L!=="reset"||i.removeAttribute("value"),l!=null?o0(i,L,es(l)):h!=null?o0(i,L,es(h)):m!=null&&i.removeAttribute("value"),b==null&&E!=null&&(i.defaultChecked=!!E),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?i.name=""+es(Z):i.removeAttribute("name")}function Fv(i,l,h,m,b,E,L,Z){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.type=E),l!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||l!=null)){a0(i);return}h=h!=null?""+es(h):"",l=l!=null?""+es(l):h,Z||l===i.value||(i.value=l),i.defaultValue=l}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=Z?i.checked:!!m,i.defaultChecked=!!m,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(i.name=L),a0(i)}function o0(i,l,h){l==="number"&&Yu(i.ownerDocument)===i||i.defaultValue===""+h||(i.defaultValue=""+h)}function fo(i,l,h,m){if(i=i.options,l){l={};for(var b=0;b<h.length;b++)l["$"+h[b]]=!0;for(h=0;h<i.length;h++)b=l.hasOwnProperty("$"+i[h].value),i[h].selected!==b&&(i[h].selected=b),b&&m&&(i[h].defaultSelected=!0)}else{for(h=""+es(h),l=null,b=0;b<i.length;b++){if(i[b].value===h){i[b].selected=!0,m&&(i[b].defaultSelected=!0);return}l!==null||i[b].disabled||(l=i[b])}l!==null&&(l.selected=!0)}}function zv(i,l,h){if(l!=null&&(l=""+es(l),l!==i.value&&(i.value=l),h==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=h!=null?""+es(h):""}function Bv(i,l,h,m){if(l==null){if(m!=null){if(h!=null)throw Error(r(92));if(V(m)){if(1<m.length)throw Error(r(93));m=m[0]}h=m}h==null&&(h=""),l=h}h=es(l),i.defaultValue=h,m=i.textContent,m===h&&m!==""&&m!==null&&(i.value=m),a0(i)}function ho(i,l){if(l){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=l;return}}i.textContent=l}var Ek=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uv(i,l,h){var m=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,h):typeof h!="number"||h===0||Ek.has(l)?l==="float"?i.cssFloat=h:i[l]=(""+h).trim():i[l]=h+"px"}function $v(i,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var b in l)m=l[b],l.hasOwnProperty(b)&&h[b]!==m&&Uv(i,b,m)}else for(var E in l)l.hasOwnProperty(E)&&Uv(i,E,l[E])}function l0(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ju(i){return Tk.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Zs(){}var c0=null;function u0(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var po=null,mo=null;function Hv(i){var l=nt(i);if(l&&(i=l.stateNode)){var h=i[oe]||null;e:switch(i=l.stateNode,l.type){case"input":if(i0(i,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ts(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var m=h[l];if(m!==i&&m.form===i.form){var b=m[oe]||null;if(!b)throw Error(r(90));i0(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<h.length;l++)m=h[l],m.form===i.form&&Pv(m)}break e;case"textarea":zv(i,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&fo(i,!!h.multiple,l,!1)}}}var d0=!1;function Gv(i,l,h){if(d0)return i(l,h);d0=!0;try{var m=i(l);return m}finally{if(d0=!1,(po!==null||mo!==null)&&(Fd(),po&&(l=po,i=mo,mo=po=null,Hv(l),i)))for(l=0;l<i.length;l++)Hv(i[l])}}function Gl(i,l){var h=i.stateNode;if(h===null)return null;var m=h[oe]||null;if(m===null)return null;h=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var Qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f0=!1;if(Qs)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){f0=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{f0=!1}var Ma=null,h0=null,Zu=null;function Vv(){if(Zu)return Zu;var i,l=h0,h=l.length,m,b="value"in Ma?Ma.value:Ma.textContent,E=b.length;for(i=0;i<h&&l[i]===b[i];i++);var L=h-i;for(m=1;m<=L&&l[h-m]===b[E-m];m++);return Zu=b.slice(i,1<m?1-m:void 0)}function Qu(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function ed(){return!0}function Wv(){return!1}function _r(i){function l(h,m,b,E,L){this._reactName=h,this._targetInst=b,this.type=m,this.nativeEvent=E,this.target=L,this.currentTarget=null;for(var Z in i)i.hasOwnProperty(Z)&&(h=i[Z],this[Z]=h?h(E):E[Z]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?ed:Wv,this.isPropagationStopped=Wv,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ed)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ed)},persist:function(){},isPersistent:ed}),l}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=_r(_i),Wl=g({},_i,{view:0,detail:0}),Ck=_r(Wl),p0,m0,ql,nd=g({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x0,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ql&&(ql&&i.type==="mousemove"?(p0=i.screenX-ql.screenX,m0=i.screenY-ql.screenY):m0=p0=0,ql=i),p0)},movementY:function(i){return"movementY"in i?i.movementY:m0}}),qv=_r(nd),kk=g({},nd,{dataTransfer:0}),jk=_r(kk),Ak=g({},Wl,{relatedTarget:0}),g0=_r(Ak),Rk=g({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),Ok=_r(Rk),Mk=g({},_i,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Dk=_r(Mk),Ik=g({},_i,{data:0}),Kv=_r(Ik),Lk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zk(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Fk[i])?!!l[i]:!1}function x0(){return zk}var Bk=g({},Wl,{key:function(i){if(i.key){var l=Lk[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Qu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Pk[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x0,charCode:function(i){return i.type==="keypress"?Qu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Uk=_r(Bk),$k=g({},nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xv=_r($k),Hk=g({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x0}),Gk=_r(Hk),Vk=g({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wk=_r(Vk),qk=g({},nd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Kk=_r(qk),Xk=g({},_i,{newState:0,oldState:0}),Yk=_r(Xk),Jk=[9,13,27,32],v0=Qs&&"CompositionEvent"in window,Kl=null;Qs&&"documentMode"in document&&(Kl=document.documentMode);var Zk=Qs&&"TextEvent"in window&&!Kl,Yv=Qs&&(!v0||Kl&&8<Kl&&11>=Kl),Jv=" ",Zv=!1;function Qv(i,l){switch(i){case"keyup":return Jk.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var go=!1;function Qk(i,l){switch(i){case"compositionend":return e1(l);case"keypress":return l.which!==32?null:(Zv=!0,Jv);case"textInput":return i=l.data,i===Jv&&Zv?null:i;default:return null}}function ej(i,l){if(go)return i==="compositionend"||!v0&&Qv(i,l)?(i=Vv(),Zu=h0=Ma=null,go=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Yv&&l.locale!=="ko"?null:l.data;default:return null}}var tj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t1(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!tj[i.type]:l==="textarea"}function n1(i,l,h,m){po?mo?mo.push(m):mo=[m]:po=m,l=Vd(l,"onChange"),0<l.length&&(h=new td("onChange","change",null,h,m),i.push({event:h,listeners:l}))}var Xl=null,Yl=null;function nj(i){Fw(i,0)}function rd(i){var l=qe(i);if(Pv(l))return i}function r1(i,l){if(i==="change")return l}var s1=!1;if(Qs){var y0;if(Qs){var w0="oninput"in document;if(!w0){var a1=document.createElement("div");a1.setAttribute("oninput","return;"),w0=typeof a1.oninput=="function"}y0=w0}else y0=!1;s1=y0&&(!document.documentMode||9<document.documentMode)}function i1(){Xl&&(Xl.detachEvent("onpropertychange",o1),Yl=Xl=null)}function o1(i){if(i.propertyName==="value"&&rd(Yl)){var l=[];n1(l,Yl,i,u0(i)),Gv(nj,l)}}function rj(i,l,h){i==="focusin"?(i1(),Xl=l,Yl=h,Xl.attachEvent("onpropertychange",o1)):i==="focusout"&&i1()}function sj(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rd(Yl)}function aj(i,l){if(i==="click")return rd(l)}function ij(i,l){if(i==="input"||i==="change")return rd(l)}function oj(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Ir=typeof Object.is=="function"?Object.is:oj;function Jl(i,l){if(Ir(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var h=Object.keys(i),m=Object.keys(l);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var b=h[m];if(!le.call(l,b)||!Ir(i[b],l[b]))return!1}return!0}function l1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function c1(i,l){var h=l1(i);i=0;for(var m;h;){if(h.nodeType===3){if(m=i+h.textContent.length,i<=l&&m>=l)return{node:h,offset:l-i};i=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=l1(h)}}function u1(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?u1(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function d1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Yu(i.document);l instanceof i.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)i=l.contentWindow;else break;l=Yu(i.document)}return l}function b0(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var lj=Qs&&"documentMode"in document&&11>=document.documentMode,xo=null,_0=null,Zl=null,S0=!1;function f1(i,l,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;S0||xo==null||xo!==Yu(m)||(m=xo,"selectionStart"in m&&b0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Zl&&Jl(Zl,m)||(Zl=m,m=Vd(_0,"onSelect"),0<m.length&&(l=new td("onSelect","select",null,l,h),i.push({event:l,listeners:m}),l.target=xo)))}function Si(i,l){var h={};return h[i.toLowerCase()]=l.toLowerCase(),h["Webkit"+i]="webkit"+l,h["Moz"+i]="moz"+l,h}var vo={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionrun:Si("Transition","TransitionRun"),transitionstart:Si("Transition","TransitionStart"),transitioncancel:Si("Transition","TransitionCancel"),transitionend:Si("Transition","TransitionEnd")},E0={},h1={};Qs&&(h1=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function Ei(i){if(E0[i])return E0[i];if(!vo[i])return i;var l=vo[i],h;for(h in l)if(l.hasOwnProperty(h)&&h in h1)return E0[i]=l[h];return i}var p1=Ei("animationend"),m1=Ei("animationiteration"),g1=Ei("animationstart"),cj=Ei("transitionrun"),uj=Ei("transitionstart"),dj=Ei("transitioncancel"),x1=Ei("transitionend"),v1=new Map,N0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");N0.push("scrollEnd");function gs(i,l){v1.set(i,l),hn(l,[i])}var sd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ns=[],yo=0,T0=0;function ad(){for(var i=yo,l=T0=yo=0;l<i;){var h=ns[l];ns[l++]=null;var m=ns[l];ns[l++]=null;var b=ns[l];ns[l++]=null;var E=ns[l];if(ns[l++]=null,m!==null&&b!==null){var L=m.pending;L===null?b.next=b:(b.next=L.next,L.next=b),m.pending=b}E!==0&&y1(h,b,E)}}function id(i,l,h,m){ns[yo++]=i,ns[yo++]=l,ns[yo++]=h,ns[yo++]=m,T0|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function C0(i,l,h,m){return id(i,l,h,m),od(i)}function Ni(i,l){return id(i,null,null,l),od(i)}function y1(i,l,h){i.lanes|=h;var m=i.alternate;m!==null&&(m.lanes|=h);for(var b=!1,E=i.return;E!==null;)E.childLanes|=h,m=E.alternate,m!==null&&(m.childLanes|=h),E.tag===22&&(i=E.stateNode,i===null||i._visibility&1||(b=!0)),i=E,E=E.return;return i.tag===3?(E=i.stateNode,b&&l!==null&&(b=31-At(h),i=E.hiddenUpdates,m=i[b],m===null?i[b]=[l]:m.push(l),l.lane=h|536870912),E):null}function od(i){if(50<wc)throw wc=0,Lp=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var wo={};function fj(i,l,h,m){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(i,l,h,m){return new fj(i,l,h,m)}function k0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ea(i,l){var h=i.alternate;return h===null?(h=Lr(i.tag,l,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=l,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&65011712,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,l=i.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h.refCleanup=i.refCleanup,h}function w1(i,l){i.flags&=65011714;var h=i.alternate;return h===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=h.childLanes,i.lanes=h.lanes,i.child=h.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=h.memoizedProps,i.memoizedState=h.memoizedState,i.updateQueue=h.updateQueue,i.type=h.type,l=h.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function ld(i,l,h,m,b,E){var L=0;if(m=i,typeof i=="function")k0(i)&&(L=1);else if(typeof i=="string")L=xA(i,h,B.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case O:return i=Lr(31,h,l,b),i.elementType=O,i.lanes=E,i;case y:return Ti(h.children,b,E,l);case _:L=8,b|=24;break;case S:return i=Lr(12,h,l,b|2),i.elementType=S,i.lanes=E,i;case A:return i=Lr(13,h,l,b),i.elementType=A,i.lanes=E,i;case z:return i=Lr(19,h,l,b),i.elementType=z,i.lanes=E,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:L=10;break e;case N:L=9;break e;case C:L=11;break e;case M:L=14;break e;case j:L=16,m=null;break e}L=29,h=Error(r(130,i===null?"null":typeof i,"")),m=null}return l=Lr(L,h,l,b),l.elementType=i,l.type=m,l.lanes=E,l}function Ti(i,l,h,m){return i=Lr(7,i,m,l),i.lanes=h,i}function j0(i,l,h){return i=Lr(6,i,null,l),i.lanes=h,i}function b1(i){var l=Lr(18,null,null,0);return l.stateNode=i,l}function A0(i,l,h){return l=Lr(4,i.children!==null?i.children:[],i.key,l),l.lanes=h,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var _1=new WeakMap;function rs(i,l){if(typeof i=="object"&&i!==null){var h=_1.get(i);return h!==void 0?h:(l={value:i,source:l,stack:X(l)},_1.set(i,l),l)}return{value:i,source:l,stack:X(l)}}var bo=[],_o=0,cd=null,Ql=0,ss=[],as=0,Da=null,Fs=1,zs="";function ta(i,l){bo[_o++]=Ql,bo[_o++]=cd,cd=i,Ql=l}function S1(i,l,h){ss[as++]=Fs,ss[as++]=zs,ss[as++]=Da,Da=i;var m=Fs;i=zs;var b=32-At(m)-1;m&=~(1<<b),h+=1;var E=32-At(l)+b;if(30<E){var L=b-b%5;E=(m&(1<<L)-1).toString(32),m>>=L,b-=L,Fs=1<<32-At(l)+b|h<<b|m,zs=E+i}else Fs=1<<E|h<<b|m,zs=i}function R0(i){i.return!==null&&(ta(i,1),S1(i,1,0))}function O0(i){for(;i===cd;)cd=bo[--_o],bo[_o]=null,Ql=bo[--_o],bo[_o]=null;for(;i===Da;)Da=ss[--as],ss[as]=null,zs=ss[--as],ss[as]=null,Fs=ss[--as],ss[as]=null}function E1(i,l){ss[as++]=Fs,ss[as++]=zs,ss[as++]=Da,Fs=l.id,zs=l.overflow,Da=i}var Yn=null,cn=null,zt=!1,Ia=null,is=!1,M0=Error(r(519));function La(i){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ec(rs(l,i)),M0}function N1(i){var l=i.stateNode,h=i.type,m=i.memoizedProps;switch(l[se]=i,l[oe]=m,h){case"dialog":Lt("cancel",l),Lt("close",l);break;case"iframe":case"object":case"embed":Lt("load",l);break;case"video":case"audio":for(h=0;h<_c.length;h++)Lt(_c[h],l);break;case"source":Lt("error",l);break;case"img":case"image":case"link":Lt("error",l),Lt("load",l);break;case"details":Lt("toggle",l);break;case"input":Lt("invalid",l),Fv(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Lt("invalid",l);break;case"textarea":Lt("invalid",l),Bv(l,m.value,m.defaultValue,m.children)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||m.suppressHydrationWarning===!0||$w(l.textContent,h)?(m.popover!=null&&(Lt("beforetoggle",l),Lt("toggle",l)),m.onScroll!=null&&Lt("scroll",l),m.onScrollEnd!=null&&Lt("scrollend",l),m.onClick!=null&&(l.onclick=Zs),l=!0):l=!1,l||La(i,!0)}function T1(i){for(Yn=i.return;Yn;)switch(Yn.tag){case 5:case 31:case 13:is=!1;return;case 27:case 3:is=!0;return;default:Yn=Yn.return}}function So(i){if(i!==Yn)return!1;if(!zt)return T1(i),zt=!0,!1;var l=i.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=i.type,h=!(h!=="form"&&h!=="button")||Jp(i.type,i.memoizedProps)),h=!h),h&&cn&&La(i),T1(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));cn=Jw(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));cn=Jw(i)}else l===27?(l=cn,Ya(i.type)?(i=nm,nm=null,cn=i):cn=l):cn=Yn?ls(i.stateNode.nextSibling):null;return!0}function Ci(){cn=Yn=null,zt=!1}function D0(){var i=Ia;return i!==null&&(Tr===null?Tr=i:Tr.push.apply(Tr,i),Ia=null),i}function ec(i){Ia===null?Ia=[i]:Ia.push(i)}var I0=D(null),ki=null,na=null;function Pa(i,l,h){U(I0,l._currentValue),l._currentValue=h}function ra(i){i._currentValue=I0.current,R(I0)}function L0(i,l,h){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===h)break;i=i.return}}function P0(i,l,h,m){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var E=b.dependencies;if(E!==null){var L=b.child;E=E.firstContext;e:for(;E!==null;){var Z=E;E=b;for(var de=0;de<l.length;de++)if(Z.context===l[de]){E.lanes|=h,Z=E.alternate,Z!==null&&(Z.lanes|=h),L0(E.return,h,i),m||(L=null);break e}E=Z.next}}else if(b.tag===18){if(L=b.return,L===null)throw Error(r(341));L.lanes|=h,E=L.alternate,E!==null&&(E.lanes|=h),L0(L,h,i),L=null}else L=b.child;if(L!==null)L.return=b;else for(L=b;L!==null;){if(L===i){L=null;break}if(b=L.sibling,b!==null){b.return=L.return,L=b;break}L=L.return}b=L}}function Eo(i,l,h,m){i=null;for(var b=l,E=!1;b!==null;){if(!E){if((b.flags&524288)!==0)E=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var L=b.alternate;if(L===null)throw Error(r(387));if(L=L.memoizedProps,L!==null){var Z=b.type;Ir(b.pendingProps.value,L.value)||(i!==null?i.push(Z):i=[Z])}}else if(b===ge.current){if(L=b.alternate,L===null)throw Error(r(387));L.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(Cc):i=[Cc])}b=b.return}i!==null&&P0(l,i,h,m),l.flags|=262144}function ud(i){for(i=i.firstContext;i!==null;){if(!Ir(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ji(i){ki=i,na=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Jn(i){return C1(ki,i)}function dd(i,l){return ki===null&&ji(i),C1(i,l)}function C1(i,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},na===null){if(i===null)throw Error(r(308));na=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else na=na.next=l;return h}var hj=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(h,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(h){return h()})}},pj=e.unstable_scheduleCallback,mj=e.unstable_NormalPriority,An={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function F0(){return{controller:new hj,data:new Map,refCount:0}}function tc(i){i.refCount--,i.refCount===0&&pj(mj,function(){i.controller.abort()})}var nc=null,z0=0,No=0,To=null;function gj(i,l){if(nc===null){var h=nc=[];z0=0,No=$p(),To={status:"pending",value:void 0,then:function(m){h.push(m)}}}return z0++,l.then(k1,k1),l}function k1(){if(--z0===0&&nc!==null){To!==null&&(To.status="fulfilled");var i=nc;nc=null,No=0,To=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function xj(i,l){var h=[],m={status:"pending",value:null,reason:null,then:function(b){h.push(b)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var b=0;b<h.length;b++)(0,h[b])(l)},function(b){for(m.status="rejected",m.reason=b,b=0;b<h.length;b++)(0,h[b])(void 0)}),m}var j1=K.S;K.S=function(i,l){fw=we(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&gj(i,l),j1!==null&&j1(i,l)};var Ai=D(null);function B0(){var i=Ai.current;return i!==null?i:rn.pooledCache}function fd(i,l){l===null?U(Ai,Ai.current):U(Ai,l.pool)}function A1(){var i=B0();return i===null?null:{parent:An._currentValue,pool:i}}var Co=Error(r(460)),U0=Error(r(474)),hd=Error(r(542)),pd={then:function(){}};function R1(i){return i=i.status,i==="fulfilled"||i==="rejected"}function O1(i,l,h){switch(h=i[h],h===void 0?i.push(l):h!==l&&(l.then(Zs,Zs),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,D1(i),i;default:if(typeof l.status=="string")l.then(Zs,Zs);else{if(i=rn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=m}},function(m){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,D1(i),i}throw Oi=l,Co}}function Ri(i){try{var l=i._init;return l(i._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Oi=h,Co):h}}var Oi=null;function M1(){if(Oi===null)throw Error(r(459));var i=Oi;return Oi=null,i}function D1(i){if(i===Co||i===hd)throw Error(r(483))}var ko=null,rc=0;function md(i){var l=rc;return rc+=1,ko===null&&(ko=[]),O1(ko,i,l)}function sc(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function gd(i,l){throw l.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function I1(i){function l(xe,he){if(i){var _e=xe.deletions;_e===null?(xe.deletions=[he],xe.flags|=16):_e.push(he)}}function h(xe,he){if(!i)return null;for(;he!==null;)l(xe,he),he=he.sibling;return null}function m(xe){for(var he=new Map;xe!==null;)xe.key!==null?he.set(xe.key,xe):he.set(xe.index,xe),xe=xe.sibling;return he}function b(xe,he){return xe=ea(xe,he),xe.index=0,xe.sibling=null,xe}function E(xe,he,_e){return xe.index=_e,i?(_e=xe.alternate,_e!==null?(_e=_e.index,_e<he?(xe.flags|=67108866,he):_e):(xe.flags|=67108866,he)):(xe.flags|=1048576,he)}function L(xe){return i&&xe.alternate===null&&(xe.flags|=67108866),xe}function Z(xe,he,_e,Fe){return he===null||he.tag!==6?(he=j0(_e,xe.mode,Fe),he.return=xe,he):(he=b(he,_e),he.return=xe,he)}function de(xe,he,_e,Fe){var pt=_e.type;return pt===y?Le(xe,he,_e.props.children,Fe,_e.key):he!==null&&(he.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===j&&Ri(pt)===he.type)?(he=b(he,_e.props),sc(he,_e),he.return=xe,he):(he=ld(_e.type,_e.key,_e.props,null,xe.mode,Fe),sc(he,_e),he.return=xe,he)}function Se(xe,he,_e,Fe){return he===null||he.tag!==4||he.stateNode.containerInfo!==_e.containerInfo||he.stateNode.implementation!==_e.implementation?(he=A0(_e,xe.mode,Fe),he.return=xe,he):(he=b(he,_e.children||[]),he.return=xe,he)}function Le(xe,he,_e,Fe,pt){return he===null||he.tag!==7?(he=Ti(_e,xe.mode,Fe,pt),he.return=xe,he):(he=b(he,_e),he.return=xe,he)}function Be(xe,he,_e){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=j0(""+he,xe.mode,_e),he.return=xe,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case x:return _e=ld(he.type,he.key,he.props,null,xe.mode,_e),sc(_e,he),_e.return=xe,_e;case w:return he=A0(he,xe.mode,_e),he.return=xe,he;case j:return he=Ri(he),Be(xe,he,_e)}if(V(he)||F(he))return he=Ti(he,xe.mode,_e,null),he.return=xe,he;if(typeof he.then=="function")return Be(xe,md(he),_e);if(he.$$typeof===T)return Be(xe,dd(xe,he),_e);gd(xe,he)}return null}function ke(xe,he,_e,Fe){var pt=he!==null?he.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return pt!==null?null:Z(xe,he,""+_e,Fe);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case x:return _e.key===pt?de(xe,he,_e,Fe):null;case w:return _e.key===pt?Se(xe,he,_e,Fe):null;case j:return _e=Ri(_e),ke(xe,he,_e,Fe)}if(V(_e)||F(_e))return pt!==null?null:Le(xe,he,_e,Fe,null);if(typeof _e.then=="function")return ke(xe,he,md(_e),Fe);if(_e.$$typeof===T)return ke(xe,he,dd(xe,_e),Fe);gd(xe,_e)}return null}function De(xe,he,_e,Fe,pt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return xe=xe.get(_e)||null,Z(he,xe,""+Fe,pt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case x:return xe=xe.get(Fe.key===null?_e:Fe.key)||null,de(he,xe,Fe,pt);case w:return xe=xe.get(Fe.key===null?_e:Fe.key)||null,Se(he,xe,Fe,pt);case j:return Fe=Ri(Fe),De(xe,he,_e,Fe,pt)}if(V(Fe)||F(Fe))return xe=xe.get(_e)||null,Le(he,xe,Fe,pt,null);if(typeof Fe.then=="function")return De(xe,he,_e,md(Fe),pt);if(Fe.$$typeof===T)return De(xe,he,_e,dd(he,Fe),pt);gd(he,Fe)}return null}function at(xe,he,_e,Fe){for(var pt=null,Ut=null,ut=he,kt=he=0,Ft=null;ut!==null&&kt<_e.length;kt++){ut.index>kt?(Ft=ut,ut=null):Ft=ut.sibling;var $t=ke(xe,ut,_e[kt],Fe);if($t===null){ut===null&&(ut=Ft);break}i&&ut&&$t.alternate===null&&l(xe,ut),he=E($t,he,kt),Ut===null?pt=$t:Ut.sibling=$t,Ut=$t,ut=Ft}if(kt===_e.length)return h(xe,ut),zt&&ta(xe,kt),pt;if(ut===null){for(;kt<_e.length;kt++)ut=Be(xe,_e[kt],Fe),ut!==null&&(he=E(ut,he,kt),Ut===null?pt=ut:Ut.sibling=ut,Ut=ut);return zt&&ta(xe,kt),pt}for(ut=m(ut);kt<_e.length;kt++)Ft=De(ut,xe,kt,_e[kt],Fe),Ft!==null&&(i&&Ft.alternate!==null&&ut.delete(Ft.key===null?kt:Ft.key),he=E(Ft,he,kt),Ut===null?pt=Ft:Ut.sibling=Ft,Ut=Ft);return i&&ut.forEach(function(ti){return l(xe,ti)}),zt&&ta(xe,kt),pt}function gt(xe,he,_e,Fe){if(_e==null)throw Error(r(151));for(var pt=null,Ut=null,ut=he,kt=he=0,Ft=null,$t=_e.next();ut!==null&&!$t.done;kt++,$t=_e.next()){ut.index>kt?(Ft=ut,ut=null):Ft=ut.sibling;var ti=ke(xe,ut,$t.value,Fe);if(ti===null){ut===null&&(ut=Ft);break}i&&ut&&ti.alternate===null&&l(xe,ut),he=E(ti,he,kt),Ut===null?pt=ti:Ut.sibling=ti,Ut=ti,ut=Ft}if($t.done)return h(xe,ut),zt&&ta(xe,kt),pt;if(ut===null){for(;!$t.done;kt++,$t=_e.next())$t=Be(xe,$t.value,Fe),$t!==null&&(he=E($t,he,kt),Ut===null?pt=$t:Ut.sibling=$t,Ut=$t);return zt&&ta(xe,kt),pt}for(ut=m(ut);!$t.done;kt++,$t=_e.next())$t=De(ut,xe,kt,$t.value,Fe),$t!==null&&(i&&$t.alternate!==null&&ut.delete($t.key===null?kt:$t.key),he=E($t,he,kt),Ut===null?pt=$t:Ut.sibling=$t,Ut=$t);return i&&ut.forEach(function(kA){return l(xe,kA)}),zt&&ta(xe,kt),pt}function tn(xe,he,_e,Fe){if(typeof _e=="object"&&_e!==null&&_e.type===y&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case x:e:{for(var pt=_e.key;he!==null;){if(he.key===pt){if(pt=_e.type,pt===y){if(he.tag===7){h(xe,he.sibling),Fe=b(he,_e.props.children),Fe.return=xe,xe=Fe;break e}}else if(he.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===j&&Ri(pt)===he.type){h(xe,he.sibling),Fe=b(he,_e.props),sc(Fe,_e),Fe.return=xe,xe=Fe;break e}h(xe,he);break}else l(xe,he);he=he.sibling}_e.type===y?(Fe=Ti(_e.props.children,xe.mode,Fe,_e.key),Fe.return=xe,xe=Fe):(Fe=ld(_e.type,_e.key,_e.props,null,xe.mode,Fe),sc(Fe,_e),Fe.return=xe,xe=Fe)}return L(xe);case w:e:{for(pt=_e.key;he!==null;){if(he.key===pt)if(he.tag===4&&he.stateNode.containerInfo===_e.containerInfo&&he.stateNode.implementation===_e.implementation){h(xe,he.sibling),Fe=b(he,_e.children||[]),Fe.return=xe,xe=Fe;break e}else{h(xe,he);break}else l(xe,he);he=he.sibling}Fe=A0(_e,xe.mode,Fe),Fe.return=xe,xe=Fe}return L(xe);case j:return _e=Ri(_e),tn(xe,he,_e,Fe)}if(V(_e))return at(xe,he,_e,Fe);if(F(_e)){if(pt=F(_e),typeof pt!="function")throw Error(r(150));return _e=pt.call(_e),gt(xe,he,_e,Fe)}if(typeof _e.then=="function")return tn(xe,he,md(_e),Fe);if(_e.$$typeof===T)return tn(xe,he,dd(xe,_e),Fe);gd(xe,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,he!==null&&he.tag===6?(h(xe,he.sibling),Fe=b(he,_e),Fe.return=xe,xe=Fe):(h(xe,he),Fe=j0(_e,xe.mode,Fe),Fe.return=xe,xe=Fe),L(xe)):h(xe,he)}return function(xe,he,_e,Fe){try{rc=0;var pt=tn(xe,he,_e,Fe);return ko=null,pt}catch(ut){if(ut===Co||ut===hd)throw ut;var Ut=Lr(29,ut,null,xe.mode);return Ut.lanes=Fe,Ut.return=xe,Ut}finally{}}}var Mi=I1(!0),L1=I1(!1),Fa=!1;function $0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function H0(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function za(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ba(i,l,h){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Vt&2)!==0){var b=m.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),m.pending=l,l=od(i),y1(i,null,h),l}return id(i,m,l,h),od(i)}function ac(i,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,h|=m,l.lanes=h,Fn(i,h)}}function G0(i,l){var h=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var b=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var L={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?b=E=L:E=E.next=L,h=h.next}while(h!==null);E===null?b=E=l:E=E.next=l}else b=E=l;h={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:E,shared:m.shared,callbacks:m.callbacks},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=l:i.next=l,h.lastBaseUpdate=l}var V0=!1;function ic(){if(V0){var i=To;if(i!==null)throw i}}function oc(i,l,h,m){V0=!1;var b=i.updateQueue;Fa=!1;var E=b.firstBaseUpdate,L=b.lastBaseUpdate,Z=b.shared.pending;if(Z!==null){b.shared.pending=null;var de=Z,Se=de.next;de.next=null,L===null?E=Se:L.next=Se,L=de;var Le=i.alternate;Le!==null&&(Le=Le.updateQueue,Z=Le.lastBaseUpdate,Z!==L&&(Z===null?Le.firstBaseUpdate=Se:Z.next=Se,Le.lastBaseUpdate=de))}if(E!==null){var Be=b.baseState;L=0,Le=Se=de=null,Z=E;do{var ke=Z.lane&-536870913,De=ke!==Z.lane;if(De?(Pt&ke)===ke:(m&ke)===ke){ke!==0&&ke===No&&(V0=!0),Le!==null&&(Le=Le.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var at=i,gt=Z;ke=l;var tn=h;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){Be=at.call(tn,Be,ke);break e}Be=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,ke=typeof at=="function"?at.call(tn,Be,ke):at,ke==null)break e;Be=g({},Be,ke);break e;case 2:Fa=!0}}ke=Z.callback,ke!==null&&(i.flags|=64,De&&(i.flags|=8192),De=b.callbacks,De===null?b.callbacks=[ke]:De.push(ke))}else De={lane:ke,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Le===null?(Se=Le=De,de=Be):Le=Le.next=De,L|=ke;if(Z=Z.next,Z===null){if(Z=b.shared.pending,Z===null)break;De=Z,Z=De.next,De.next=null,b.lastBaseUpdate=De,b.shared.pending=null}}while(!0);Le===null&&(de=Be),b.baseState=de,b.firstBaseUpdate=Se,b.lastBaseUpdate=Le,E===null&&(b.shared.lanes=0),Va|=L,i.lanes=L,i.memoizedState=Be}}function P1(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function F1(i,l){var h=i.callbacks;if(h!==null)for(i.callbacks=null,i=0;i<h.length;i++)P1(h[i],l)}var jo=D(null),xd=D(0);function z1(i,l){i=fa,U(xd,i),U(jo,l),fa=i|l.baseLanes}function W0(){U(xd,fa),U(jo,jo.current)}function q0(){fa=xd.current,R(jo),R(xd)}var Pr=D(null),os=null;function Ua(i){var l=i.alternate;U(En,En.current&1),U(Pr,i),os===null&&(l===null||jo.current!==null||l.memoizedState!==null)&&(os=i)}function K0(i){U(En,En.current),U(Pr,i),os===null&&(os=i)}function B1(i){i.tag===22?(U(En,En.current),U(Pr,i),os===null&&(os=i)):$a()}function $a(){U(En,En.current),U(Pr,Pr.current)}function Fr(i){R(Pr),os===i&&(os=null),R(En)}var En=D(0);function vd(i){for(var l=i;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||em(h)||tm(h)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var sa=0,Ct=null,Qt=null,Rn=null,yd=!1,Ao=!1,Di=!1,wd=0,lc=0,Ro=null,vj=0;function wn(){throw Error(r(321))}function X0(i,l){if(l===null)return!1;for(var h=0;h<l.length&&h<i.length;h++)if(!Ir(i[h],l[h]))return!1;return!0}function Y0(i,l,h,m,b,E){return sa=E,Ct=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,K.H=i===null||i.memoizedState===null?Sy:dp,Di=!1,E=h(m,b),Di=!1,Ao&&(E=$1(l,h,m,b)),U1(i),E}function U1(i){K.H=dc;var l=Qt!==null&&Qt.next!==null;if(sa=0,Rn=Qt=Ct=null,yd=!1,lc=0,Ro=null,l)throw Error(r(300));i===null||On||(i=i.dependencies,i!==null&&ud(i)&&(On=!0))}function $1(i,l,h,m){Ct=i;var b=0;do{if(Ao&&(Ro=null),lc=0,Ao=!1,25<=b)throw Error(r(301));if(b+=1,Rn=Qt=null,i.updateQueue!=null){var E=i.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}K.H=Ey,E=l(h,m)}while(Ao);return E}function yj(){var i=K.H,l=i.useState()[0];return l=typeof l.then=="function"?cc(l):l,i=i.useState()[0],(Qt!==null?Qt.memoizedState:null)!==i&&(Ct.flags|=1024),l}function J0(){var i=wd!==0;return wd=0,i}function Z0(i,l,h){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~h}function Q0(i){if(yd){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}yd=!1}sa=0,Rn=Qt=Ct=null,Ao=!1,lc=wd=0,Ro=null}function gr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?Ct.memoizedState=Rn=i:Rn=Rn.next=i,Rn}function Nn(){if(Qt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var l=Rn===null?Ct.memoizedState:Rn.next;if(l!==null)Rn=l,Qt=i;else{if(i===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Rn===null?Ct.memoizedState=Rn=i:Rn=Rn.next=i}return Rn}function bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cc(i){var l=lc;return lc+=1,Ro===null&&(Ro=[]),i=O1(Ro,i,l),l=Ct,(Rn===null?l.memoizedState:Rn.next)===null&&(l=l.alternate,K.H=l===null||l.memoizedState===null?Sy:dp),i}function _d(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return cc(i);if(i.$$typeof===T)return Jn(i)}throw Error(r(438,String(i)))}function ep(i){var l=null,h=Ct.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var m=Ct.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=bd(),Ct.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(i),m=0;m<i;m++)h[m]=Y;return l.index++,h}function aa(i,l){return typeof l=="function"?l(i):l}function Sd(i){var l=Nn();return tp(l,Qt,i)}function tp(i,l,h){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=h;var b=i.baseQueue,E=m.pending;if(E!==null){if(b!==null){var L=b.next;b.next=E.next,E.next=L}l.baseQueue=b=E,m.pending=null}if(E=i.baseState,b===null)i.memoizedState=E;else{l=b.next;var Z=L=null,de=null,Se=l,Le=!1;do{var Be=Se.lane&-536870913;if(Be!==Se.lane?(Pt&Be)===Be:(sa&Be)===Be){var ke=Se.revertLane;if(ke===0)de!==null&&(de=de.next={lane:0,revertLane:0,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),Be===No&&(Le=!0);else if((sa&ke)===ke){Se=Se.next,ke===No&&(Le=!0);continue}else Be={lane:0,revertLane:Se.revertLane,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},de===null?(Z=de=Be,L=E):de=de.next=Be,Ct.lanes|=ke,Va|=ke;Be=Se.action,Di&&h(E,Be),E=Se.hasEagerState?Se.eagerState:h(E,Be)}else ke={lane:Be,revertLane:Se.revertLane,gesture:Se.gesture,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},de===null?(Z=de=ke,L=E):de=de.next=ke,Ct.lanes|=Be,Va|=Be;Se=Se.next}while(Se!==null&&Se!==l);if(de===null?L=E:de.next=Z,!Ir(E,i.memoizedState)&&(On=!0,Le&&(h=To,h!==null)))throw h;i.memoizedState=E,i.baseState=L,i.baseQueue=de,m.lastRenderedState=E}return b===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function np(i){var l=Nn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=i;var m=h.dispatch,b=h.pending,E=l.memoizedState;if(b!==null){h.pending=null;var L=b=b.next;do E=i(E,L.action),L=L.next;while(L!==b);Ir(E,l.memoizedState)||(On=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),h.lastRenderedState=E}return[E,m]}function H1(i,l,h){var m=Ct,b=Nn(),E=zt;if(E){if(h===void 0)throw Error(r(407));h=h()}else h=l();var L=!Ir((Qt||b).memoizedState,h);if(L&&(b.memoizedState=h,On=!0),b=b.queue,ap(W1.bind(null,m,b,i),[i]),b.getSnapshot!==l||L||Rn!==null&&Rn.memoizedState.tag&1){if(m.flags|=2048,Oo(9,{destroy:void 0},V1.bind(null,m,b,h,l),null),rn===null)throw Error(r(349));E||(sa&127)!==0||G1(m,l,h)}return h}function G1(i,l,h){i.flags|=16384,i={getSnapshot:l,value:h},l=Ct.updateQueue,l===null?(l=bd(),Ct.updateQueue=l,l.stores=[i]):(h=l.stores,h===null?l.stores=[i]:h.push(i))}function V1(i,l,h,m){l.value=h,l.getSnapshot=m,q1(l)&&K1(i)}function W1(i,l,h){return h(function(){q1(l)&&K1(i)})}function q1(i){var l=i.getSnapshot;i=i.value;try{var h=l();return!Ir(i,h)}catch{return!0}}function K1(i){var l=Ni(i,2);l!==null&&Cr(l,i,2)}function rp(i){var l=gr();if(typeof i=="function"){var h=i;if(i=h(),Di){Dt(!0);try{h()}finally{Dt(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:i},l}function X1(i,l,h,m){return i.baseState=h,tp(i,Qt,typeof m=="function"?m:aa)}function wj(i,l,h,m,b){if(Td(i))throw Error(r(485));if(i=l.action,i!==null){var E={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){E.listeners.push(L)}};K.T!==null?h(!0):E.isTransition=!1,m(E),h=l.pending,h===null?(E.next=l.pending=E,Y1(l,E)):(E.next=h.next,l.pending=h.next=E)}}function Y1(i,l){var h=l.action,m=l.payload,b=i.state;if(l.isTransition){var E=K.T,L={};K.T=L;try{var Z=h(b,m),de=K.S;de!==null&&de(L,Z),J1(i,l,Z)}catch(Se){sp(i,l,Se)}finally{E!==null&&L.types!==null&&(E.types=L.types),K.T=E}}else try{E=h(b,m),J1(i,l,E)}catch(Se){sp(i,l,Se)}}function J1(i,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){Z1(i,l,m)},function(m){return sp(i,l,m)}):Z1(i,l,h)}function Z1(i,l,h){l.status="fulfilled",l.value=h,Q1(l),i.state=h,l=i.pending,l!==null&&(h=l.next,h===l?i.pending=null:(h=h.next,l.next=h,Y1(i,h)))}function sp(i,l,h){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=h,Q1(l),l=l.next;while(l!==m)}i.action=null}function Q1(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function ey(i,l){return l}function ty(i,l){if(zt){var h=rn.formState;if(h!==null){e:{var m=Ct;if(zt){if(cn){t:{for(var b=cn,E=is;b.nodeType!==8;){if(!E){b=null;break t}if(b=ls(b.nextSibling),b===null){b=null;break t}}E=b.data,b=E==="F!"||E==="F"?b:null}if(b){cn=ls(b.nextSibling),m=b.data==="F!";break e}}La(m)}m=!1}m&&(l=h[0])}}return h=gr(),h.memoizedState=h.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ey,lastRenderedState:l},h.queue=m,h=wy.bind(null,Ct,m),m.dispatch=h,m=rp(!1),E=up.bind(null,Ct,!1,m.queue),m=gr(),b={state:l,dispatch:null,action:i,pending:null},m.queue=b,h=wj.bind(null,Ct,b,E,h),b.dispatch=h,m.memoizedState=i,[l,h,!1]}function ny(i){var l=Nn();return ry(l,Qt,i)}function ry(i,l,h){if(l=tp(i,l,ey)[0],i=Sd(aa)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=cc(l)}catch(L){throw L===Co?hd:L}else m=l;l=Nn();var b=l.queue,E=b.dispatch;return h!==l.memoizedState&&(Ct.flags|=2048,Oo(9,{destroy:void 0},bj.bind(null,b,h),null)),[m,E,i]}function bj(i,l){i.action=l}function sy(i){var l=Nn(),h=Qt;if(h!==null)return ry(l,h,i);Nn(),l=l.memoizedState,h=Nn();var m=h.queue.dispatch;return h.memoizedState=i,[l,m,!1]}function Oo(i,l,h,m){return i={tag:i,create:h,deps:m,inst:l,next:null},l=Ct.updateQueue,l===null&&(l=bd(),Ct.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=i.next=i:(m=h.next,h.next=i,i.next=m,l.lastEffect=i),i}function ay(){return Nn().memoizedState}function Ed(i,l,h,m){var b=gr();Ct.flags|=i,b.memoizedState=Oo(1|l,{destroy:void 0},h,m===void 0?null:m)}function Nd(i,l,h,m){var b=Nn();m=m===void 0?null:m;var E=b.memoizedState.inst;Qt!==null&&m!==null&&X0(m,Qt.memoizedState.deps)?b.memoizedState=Oo(l,E,h,m):(Ct.flags|=i,b.memoizedState=Oo(1|l,E,h,m))}function iy(i,l){Ed(8390656,8,i,l)}function ap(i,l){Nd(2048,8,i,l)}function _j(i){Ct.flags|=4;var l=Ct.updateQueue;if(l===null)l=bd(),Ct.updateQueue=l,l.events=[i];else{var h=l.events;h===null?l.events=[i]:h.push(i)}}function oy(i){var l=Nn().memoizedState;return _j({ref:l,nextImpl:i}),function(){if((Vt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function ly(i,l){return Nd(4,2,i,l)}function cy(i,l){return Nd(4,4,i,l)}function uy(i,l){if(typeof l=="function"){i=i();var h=l(i);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function dy(i,l,h){h=h!=null?h.concat([i]):null,Nd(4,4,uy.bind(null,l,i),h)}function ip(){}function fy(i,l){var h=Nn();l=l===void 0?null:l;var m=h.memoizedState;return l!==null&&X0(l,m[1])?m[0]:(h.memoizedState=[i,l],i)}function hy(i,l){var h=Nn();l=l===void 0?null:l;var m=h.memoizedState;if(l!==null&&X0(l,m[1]))return m[0];if(m=i(),Di){Dt(!0);try{i()}finally{Dt(!1)}}return h.memoizedState=[m,l],m}function op(i,l,h){return h===void 0||(sa&1073741824)!==0&&(Pt&261930)===0?i.memoizedState=l:(i.memoizedState=h,i=pw(),Ct.lanes|=i,Va|=i,h)}function py(i,l,h,m){return Ir(h,l)?h:jo.current!==null?(i=op(i,h,m),Ir(i,l)||(On=!0),i):(sa&42)===0||(sa&1073741824)!==0&&(Pt&261930)===0?(On=!0,i.memoizedState=h):(i=pw(),Ct.lanes|=i,Va|=i,l)}function my(i,l,h,m,b){var E=H.p;H.p=E!==0&&8>E?E:8;var L=K.T,Z={};K.T=Z,up(i,!1,l,h);try{var de=b(),Se=K.S;if(Se!==null&&Se(Z,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var Le=xj(de,m);uc(i,l,Le,Ur(i))}else uc(i,l,m,Ur(i))}catch(Be){uc(i,l,{then:function(){},status:"rejected",reason:Be},Ur())}finally{H.p=E,L!==null&&Z.types!==null&&(L.types=Z.types),K.T=L}}function Sj(){}function lp(i,l,h,m){if(i.tag!==5)throw Error(r(476));var b=gy(i).queue;my(i,b,l,Q,h===null?Sj:function(){return xy(i),h(m)})}function gy(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:Q},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:h},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function xy(i){var l=gy(i);l.next===null&&(l=i.alternate.memoizedState),uc(i,l.next.queue,{},Ur())}function cp(){return Jn(Cc)}function vy(){return Nn().memoizedState}function yy(){return Nn().memoizedState}function Ej(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var h=Ur();i=za(h);var m=Ba(l,i,h);m!==null&&(Cr(m,l,h),ac(m,l,h)),l={cache:F0()},i.payload=l;return}l=l.return}}function Nj(i,l,h){var m=Ur();h={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Td(i)?by(l,h):(h=C0(i,l,h,m),h!==null&&(Cr(h,i,m),_y(h,l,m)))}function wy(i,l,h){var m=Ur();uc(i,l,h,m)}function uc(i,l,h,m){var b={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Td(i))by(l,b);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var L=l.lastRenderedState,Z=E(L,h);if(b.hasEagerState=!0,b.eagerState=Z,Ir(Z,L))return id(i,l,b,0),rn===null&&ad(),!1}catch{}finally{}if(h=C0(i,l,b,m),h!==null)return Cr(h,i,m),_y(h,l,m),!0}return!1}function up(i,l,h,m){if(m={lane:2,revertLane:$p(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Td(i)){if(l)throw Error(r(479))}else l=C0(i,h,m,2),l!==null&&Cr(l,i,2)}function Td(i){var l=i.alternate;return i===Ct||l!==null&&l===Ct}function by(i,l){Ao=yd=!0;var h=i.pending;h===null?l.next=l:(l.next=h.next,h.next=l),i.pending=l}function _y(i,l,h){if((h&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,h|=m,l.lanes=h,Fn(i,h)}}var dc={readContext:Jn,use:_d,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn};dc.useEffectEvent=wn;var Sy={readContext:Jn,use:_d,useCallback:function(i,l){return gr().memoizedState=[i,l===void 0?null:l],i},useContext:Jn,useEffect:iy,useImperativeHandle:function(i,l,h){h=h!=null?h.concat([i]):null,Ed(4194308,4,uy.bind(null,l,i),h)},useLayoutEffect:function(i,l){return Ed(4194308,4,i,l)},useInsertionEffect:function(i,l){Ed(4,2,i,l)},useMemo:function(i,l){var h=gr();l=l===void 0?null:l;var m=i();if(Di){Dt(!0);try{i()}finally{Dt(!1)}}return h.memoizedState=[m,l],m},useReducer:function(i,l,h){var m=gr();if(h!==void 0){var b=h(l);if(Di){Dt(!0);try{h(l)}finally{Dt(!1)}}}else b=l;return m.memoizedState=m.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},m.queue=i,i=i.dispatch=Nj.bind(null,Ct,i),[m.memoizedState,i]},useRef:function(i){var l=gr();return i={current:i},l.memoizedState=i},useState:function(i){i=rp(i);var l=i.queue,h=wy.bind(null,Ct,l);return l.dispatch=h,[i.memoizedState,h]},useDebugValue:ip,useDeferredValue:function(i,l){var h=gr();return op(h,i,l)},useTransition:function(){var i=rp(!1);return i=my.bind(null,Ct,i.queue,!0,!1),gr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,h){var m=Ct,b=gr();if(zt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),rn===null)throw Error(r(349));(Pt&127)!==0||G1(m,l,h)}b.memoizedState=h;var E={value:h,getSnapshot:l};return b.queue=E,iy(W1.bind(null,m,E,i),[i]),m.flags|=2048,Oo(9,{destroy:void 0},V1.bind(null,m,E,h,l),null),h},useId:function(){var i=gr(),l=rn.identifierPrefix;if(zt){var h=zs,m=Fs;h=(m&~(1<<32-At(m)-1)).toString(32)+h,l="_"+l+"R_"+h,h=wd++,0<h&&(l+="H"+h.toString(32)),l+="_"}else h=vj++,l="_"+l+"r_"+h.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:cp,useFormState:ty,useActionState:ty,useOptimistic:function(i){var l=gr();l.memoizedState=l.baseState=i;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=up.bind(null,Ct,!0,h),h.dispatch=l,[i,l]},useMemoCache:ep,useCacheRefresh:function(){return gr().memoizedState=Ej.bind(null,Ct)},useEffectEvent:function(i){var l=gr(),h={impl:i};return l.memoizedState=h,function(){if((Vt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},dp={readContext:Jn,use:_d,useCallback:fy,useContext:Jn,useEffect:ap,useImperativeHandle:dy,useInsertionEffect:ly,useLayoutEffect:cy,useMemo:hy,useReducer:Sd,useRef:ay,useState:function(){return Sd(aa)},useDebugValue:ip,useDeferredValue:function(i,l){var h=Nn();return py(h,Qt.memoizedState,i,l)},useTransition:function(){var i=Sd(aa)[0],l=Nn().memoizedState;return[typeof i=="boolean"?i:cc(i),l]},useSyncExternalStore:H1,useId:vy,useHostTransitionStatus:cp,useFormState:ny,useActionState:ny,useOptimistic:function(i,l){var h=Nn();return X1(h,Qt,i,l)},useMemoCache:ep,useCacheRefresh:yy};dp.useEffectEvent=oy;var Ey={readContext:Jn,use:_d,useCallback:fy,useContext:Jn,useEffect:ap,useImperativeHandle:dy,useInsertionEffect:ly,useLayoutEffect:cy,useMemo:hy,useReducer:np,useRef:ay,useState:function(){return np(aa)},useDebugValue:ip,useDeferredValue:function(i,l){var h=Nn();return Qt===null?op(h,i,l):py(h,Qt.memoizedState,i,l)},useTransition:function(){var i=np(aa)[0],l=Nn().memoizedState;return[typeof i=="boolean"?i:cc(i),l]},useSyncExternalStore:H1,useId:vy,useHostTransitionStatus:cp,useFormState:sy,useActionState:sy,useOptimistic:function(i,l){var h=Nn();return Qt!==null?X1(h,Qt,i,l):(h.baseState=i,[i,h.queue.dispatch])},useMemoCache:ep,useCacheRefresh:yy};Ey.useEffectEvent=oy;function fp(i,l,h,m){l=i.memoizedState,h=h(m,l),h=h==null?l:g({},l,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var hp={enqueueSetState:function(i,l,h){i=i._reactInternals;var m=Ur(),b=za(m);b.payload=l,h!=null&&(b.callback=h),l=Ba(i,b,m),l!==null&&(Cr(l,i,m),ac(l,i,m))},enqueueReplaceState:function(i,l,h){i=i._reactInternals;var m=Ur(),b=za(m);b.tag=1,b.payload=l,h!=null&&(b.callback=h),l=Ba(i,b,m),l!==null&&(Cr(l,i,m),ac(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var h=Ur(),m=za(h);m.tag=2,l!=null&&(m.callback=l),l=Ba(i,m,h),l!==null&&(Cr(l,i,h),ac(l,i,h))}};function Ny(i,l,h,m,b,E,L){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,E,L):l.prototype&&l.prototype.isPureReactComponent?!Jl(h,m)||!Jl(b,E):!0}function Ty(i,l,h,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,m),l.state!==i&&hp.enqueueReplaceState(l,l.state,null)}function Ii(i,l){var h=l;if("ref"in l){h={};for(var m in l)m!=="ref"&&(h[m]=l[m])}if(i=i.defaultProps){h===l&&(h=g({},h));for(var b in i)h[b]===void 0&&(h[b]=i[b])}return h}function Cy(i){sd(i)}function ky(i){console.error(i)}function jy(i){sd(i)}function Cd(i,l){try{var h=i.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function Ay(i,l,h){try{var m=i.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function pp(i,l,h){return h=za(h),h.tag=3,h.payload={element:null},h.callback=function(){Cd(i,l)},h}function Ry(i){return i=za(i),i.tag=3,i}function Oy(i,l,h,m){var b=h.type.getDerivedStateFromError;if(typeof b=="function"){var E=m.value;i.payload=function(){return b(E)},i.callback=function(){Ay(l,h,m)}}var L=h.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(i.callback=function(){Ay(l,h,m),typeof b!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var Z=m.stack;this.componentDidCatch(m.value,{componentStack:Z!==null?Z:""})})}function Tj(i,l,h,m,b){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=h.alternate,l!==null&&Eo(l,h,b,!0),h=Pr.current,h!==null){switch(h.tag){case 31:case 13:return os===null?zd():h.alternate===null&&bn===0&&(bn=3),h.flags&=-257,h.flags|=65536,h.lanes=b,m===pd?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([m]):l.add(m),zp(i,m,b)),!1;case 22:return h.flags|=65536,m===pd?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([m]):h.add(m)),zp(i,m,b)),!1}throw Error(r(435,h.tag))}return zp(i,m,b),zd(),!1}if(zt)return l=Pr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,m!==M0&&(i=Error(r(422),{cause:m}),ec(rs(i,h)))):(m!==M0&&(l=Error(r(423),{cause:m}),ec(rs(l,h))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,m=rs(m,h),b=pp(i.stateNode,m,b),G0(i,b),bn!==4&&(bn=2)),!1;var E=Error(r(520),{cause:m});if(E=rs(E,h),yc===null?yc=[E]:yc.push(E),bn!==4&&(bn=2),l===null)return!0;m=rs(m,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,i=b&-b,h.lanes|=i,i=pp(h.stateNode,m,i),G0(h,i),!1;case 1:if(l=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Wa===null||!Wa.has(E))))return h.flags|=65536,b&=-b,h.lanes|=b,b=Ry(b),Oy(b,i,h,m),G0(h,b),!1}h=h.return}while(h!==null);return!1}var mp=Error(r(461)),On=!1;function Zn(i,l,h,m){l.child=i===null?L1(l,null,h,m):Mi(l,i.child,h,m)}function My(i,l,h,m,b){h=h.render;var E=l.ref;if("ref"in m){var L={};for(var Z in m)Z!=="ref"&&(L[Z]=m[Z])}else L=m;return ji(l),m=Y0(i,l,h,L,E,b),Z=J0(),i!==null&&!On?(Z0(i,l,b),ia(i,l,b)):(zt&&Z&&R0(l),l.flags|=1,Zn(i,l,m,b),l.child)}function Dy(i,l,h,m,b){if(i===null){var E=h.type;return typeof E=="function"&&!k0(E)&&E.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=E,Iy(i,l,E,m,b)):(i=ld(h.type,null,m,l,l.mode,b),i.ref=l.ref,i.return=l,l.child=i)}if(E=i.child,!Sp(i,b)){var L=E.memoizedProps;if(h=h.compare,h=h!==null?h:Jl,h(L,m)&&i.ref===l.ref)return ia(i,l,b)}return l.flags|=1,i=ea(E,m),i.ref=l.ref,i.return=l,l.child=i}function Iy(i,l,h,m,b){if(i!==null){var E=i.memoizedProps;if(Jl(E,m)&&i.ref===l.ref)if(On=!1,l.pendingProps=m=E,Sp(i,b))(i.flags&131072)!==0&&(On=!0);else return l.lanes=i.lanes,ia(i,l,b)}return gp(i,l,h,m,b)}function Ly(i,l,h,m){var b=m.children,E=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(E=E!==null?E.baseLanes|h:h,i!==null){for(m=l.child=i.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;m=b&~E}else m=0,l.child=null;return Py(i,l,E,h,m)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&fd(l,E!==null?E.cachePool:null),E!==null?z1(l,E):W0(),B1(l);else return m=l.lanes=536870912,Py(i,l,E!==null?E.baseLanes|h:h,h,m)}else E!==null?(fd(l,E.cachePool),z1(l,E),$a(),l.memoizedState=null):(i!==null&&fd(l,null),W0(),$a());return Zn(i,l,b,h),l.child}function fc(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Py(i,l,h,m,b){var E=B0();return E=E===null?null:{parent:An._currentValue,pool:E},l.memoizedState={baseLanes:h,cachePool:E},i!==null&&fd(l,null),W0(),B1(l),i!==null&&Eo(i,l,m,!0),l.childLanes=b,null}function kd(i,l){return l=Ad({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function Fy(i,l,h){return Mi(l,i.child,null,h),i=kd(l,l.pendingProps),i.flags|=2,Fr(l),l.memoizedState=null,i}function Cj(i,l,h){var m=l.pendingProps,b=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(zt){if(m.mode==="hidden")return i=kd(l,m),l.lanes=536870912,fc(null,i);if(K0(l),(i=cn)?(i=Yw(i,is),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Da!==null?{id:Fs,overflow:zs}:null,retryLane:536870912,hydrationErrors:null},h=b1(i),h.return=l,l.child=h,Yn=l,cn=null)):i=null,i===null)throw La(l);return l.lanes=536870912,null}return kd(l,m)}var E=i.memoizedState;if(E!==null){var L=E.dehydrated;if(K0(l),b)if(l.flags&256)l.flags&=-257,l=Fy(i,l,h);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(r(558));else if(On||Eo(i,l,h,!1),b=(h&i.childLanes)!==0,On||b){if(m=rn,m!==null&&(L=or(m,h),L!==0&&L!==E.retryLane))throw E.retryLane=L,Ni(i,L),Cr(m,i,L),mp;zd(),l=Fy(i,l,h)}else i=E.treeContext,cn=ls(L.nextSibling),Yn=l,zt=!0,Ia=null,is=!1,i!==null&&E1(l,i),l=kd(l,m),l.flags|=4096;return l}return i=ea(i.child,{mode:m.mode,children:m.children}),i.ref=l.ref,l.child=i,i.return=l,i}function jd(i,l){var h=l.ref;if(h===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(i===null||i.ref!==h)&&(l.flags|=4194816)}}function gp(i,l,h,m,b){return ji(l),h=Y0(i,l,h,m,void 0,b),m=J0(),i!==null&&!On?(Z0(i,l,b),ia(i,l,b)):(zt&&m&&R0(l),l.flags|=1,Zn(i,l,h,b),l.child)}function zy(i,l,h,m,b,E){return ji(l),l.updateQueue=null,h=$1(l,m,h,b),U1(i),m=J0(),i!==null&&!On?(Z0(i,l,E),ia(i,l,E)):(zt&&m&&R0(l),l.flags|=1,Zn(i,l,h,E),l.child)}function By(i,l,h,m,b){if(ji(l),l.stateNode===null){var E=wo,L=h.contextType;typeof L=="object"&&L!==null&&(E=Jn(L)),E=new h(m,E),l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=hp,l.stateNode=E,E._reactInternals=l,E=l.stateNode,E.props=m,E.state=l.memoizedState,E.refs={},$0(l),L=h.contextType,E.context=typeof L=="object"&&L!==null?Jn(L):wo,E.state=l.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(fp(l,h,L,m),E.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(L=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),L!==E.state&&hp.enqueueReplaceState(E,E.state,null),oc(l,m,E,b),ic(),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){E=l.stateNode;var Z=l.memoizedProps,de=Ii(h,Z);E.props=de;var Se=E.context,Le=h.contextType;L=wo,typeof Le=="object"&&Le!==null&&(L=Jn(Le));var Be=h.getDerivedStateFromProps;Le=typeof Be=="function"||typeof E.getSnapshotBeforeUpdate=="function",Z=l.pendingProps!==Z,Le||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(Z||Se!==L)&&Ty(l,E,m,L),Fa=!1;var ke=l.memoizedState;E.state=ke,oc(l,m,E,b),ic(),Se=l.memoizedState,Z||ke!==Se||Fa?(typeof Be=="function"&&(fp(l,h,Be,m),Se=l.memoizedState),(de=Fa||Ny(l,h,de,m,ke,Se,L))?(Le||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Se),E.props=m,E.state=Se,E.context=L,m=de):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{E=l.stateNode,H0(i,l),L=l.memoizedProps,Le=Ii(h,L),E.props=Le,Be=l.pendingProps,ke=E.context,Se=h.contextType,de=wo,typeof Se=="object"&&Se!==null&&(de=Jn(Se)),Z=h.getDerivedStateFromProps,(Se=typeof Z=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L!==Be||ke!==de)&&Ty(l,E,m,de),Fa=!1,ke=l.memoizedState,E.state=ke,oc(l,m,E,b),ic();var De=l.memoizedState;L!==Be||ke!==De||Fa||i!==null&&i.dependencies!==null&&ud(i.dependencies)?(typeof Z=="function"&&(fp(l,h,Z,m),De=l.memoizedState),(Le=Fa||Ny(l,h,Le,m,ke,De,de)||i!==null&&i.dependencies!==null&&ud(i.dependencies))?(Se||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(m,De,de),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(m,De,de)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||L===i.memoizedProps&&ke===i.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&ke===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=De),E.props=m,E.state=De,E.context=de,m=Le):(typeof E.componentDidUpdate!="function"||L===i.memoizedProps&&ke===i.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&ke===i.memoizedState||(l.flags|=1024),m=!1)}return E=m,jd(i,l),m=(l.flags&128)!==0,E||m?(E=l.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:E.render(),l.flags|=1,i!==null&&m?(l.child=Mi(l,i.child,null,b),l.child=Mi(l,null,h,b)):Zn(i,l,h,b),l.memoizedState=E.state,i=l.child):i=ia(i,l,b),i}function Uy(i,l,h,m){return Ci(),l.flags|=256,Zn(i,l,h,m),l.child}var xp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vp(i){return{baseLanes:i,cachePool:A1()}}function yp(i,l,h){return i=i!==null?i.childLanes&~h:0,l&&(i|=Br),i}function $y(i,l,h){var m=l.pendingProps,b=!1,E=(l.flags&128)!==0,L;if((L=E)||(L=i!==null&&i.memoizedState===null?!1:(En.current&2)!==0),L&&(b=!0,l.flags&=-129),L=(l.flags&32)!==0,l.flags&=-33,i===null){if(zt){if(b?Ua(l):$a(),(i=cn)?(i=Yw(i,is),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Da!==null?{id:Fs,overflow:zs}:null,retryLane:536870912,hydrationErrors:null},h=b1(i),h.return=l,l.child=h,Yn=l,cn=null)):i=null,i===null)throw La(l);return tm(i)?l.lanes=32:l.lanes=536870912,null}var Z=m.children;return m=m.fallback,b?($a(),b=l.mode,Z=Ad({mode:"hidden",children:Z},b),m=Ti(m,b,h,null),Z.return=l,m.return=l,Z.sibling=m,l.child=Z,m=l.child,m.memoizedState=vp(h),m.childLanes=yp(i,L,h),l.memoizedState=xp,fc(null,m)):(Ua(l),wp(l,Z))}var de=i.memoizedState;if(de!==null&&(Z=de.dehydrated,Z!==null)){if(E)l.flags&256?(Ua(l),l.flags&=-257,l=bp(i,l,h)):l.memoizedState!==null?($a(),l.child=i.child,l.flags|=128,l=null):($a(),Z=m.fallback,b=l.mode,m=Ad({mode:"visible",children:m.children},b),Z=Ti(Z,b,h,null),Z.flags|=2,m.return=l,Z.return=l,m.sibling=Z,l.child=m,Mi(l,i.child,null,h),m=l.child,m.memoizedState=vp(h),m.childLanes=yp(i,L,h),l.memoizedState=xp,l=fc(null,m));else if(Ua(l),tm(Z)){if(L=Z.nextSibling&&Z.nextSibling.dataset,L)var Se=L.dgst;L=Se,m=Error(r(419)),m.stack="",m.digest=L,ec({value:m,source:null,stack:null}),l=bp(i,l,h)}else if(On||Eo(i,l,h,!1),L=(h&i.childLanes)!==0,On||L){if(L=rn,L!==null&&(m=or(L,h),m!==0&&m!==de.retryLane))throw de.retryLane=m,Ni(i,m),Cr(L,i,m),mp;em(Z)||zd(),l=bp(i,l,h)}else em(Z)?(l.flags|=192,l.child=i.child,l=null):(i=de.treeContext,cn=ls(Z.nextSibling),Yn=l,zt=!0,Ia=null,is=!1,i!==null&&E1(l,i),l=wp(l,m.children),l.flags|=4096);return l}return b?($a(),Z=m.fallback,b=l.mode,de=i.child,Se=de.sibling,m=ea(de,{mode:"hidden",children:m.children}),m.subtreeFlags=de.subtreeFlags&65011712,Se!==null?Z=ea(Se,Z):(Z=Ti(Z,b,h,null),Z.flags|=2),Z.return=l,m.return=l,m.sibling=Z,l.child=m,fc(null,m),m=l.child,Z=i.child.memoizedState,Z===null?Z=vp(h):(b=Z.cachePool,b!==null?(de=An._currentValue,b=b.parent!==de?{parent:de,pool:de}:b):b=A1(),Z={baseLanes:Z.baseLanes|h,cachePool:b}),m.memoizedState=Z,m.childLanes=yp(i,L,h),l.memoizedState=xp,fc(i.child,m)):(Ua(l),h=i.child,i=h.sibling,h=ea(h,{mode:"visible",children:m.children}),h.return=l,h.sibling=null,i!==null&&(L=l.deletions,L===null?(l.deletions=[i],l.flags|=16):L.push(i)),l.child=h,l.memoizedState=null,h)}function wp(i,l){return l=Ad({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Ad(i,l){return i=Lr(22,i,null,l),i.lanes=0,i}function bp(i,l,h){return Mi(l,i.child,null,h),i=wp(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function Hy(i,l,h){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),L0(i.return,l,h)}function _p(i,l,h,m,b,E){var L=i.memoizedState;L===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:b,treeForkCount:E}:(L.isBackwards=l,L.rendering=null,L.renderingStartTime=0,L.last=m,L.tail=h,L.tailMode=b,L.treeForkCount=E)}function Gy(i,l,h){var m=l.pendingProps,b=m.revealOrder,E=m.tail;m=m.children;var L=En.current,Z=(L&2)!==0;if(Z?(L=L&1|2,l.flags|=128):L&=1,U(En,L),Zn(i,l,m,h),m=zt?Ql:0,!Z&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Hy(i,h,l);else if(i.tag===19)Hy(i,h,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(h=l.child,b=null;h!==null;)i=h.alternate,i!==null&&vd(i)===null&&(b=h),h=h.sibling;h=b,h===null?(b=l.child,l.child=null):(b=h.sibling,h.sibling=null),_p(l,!1,b,h,E,m);break;case"backwards":case"unstable_legacy-backwards":for(h=null,b=l.child,l.child=null;b!==null;){if(i=b.alternate,i!==null&&vd(i)===null){l.child=b;break}i=b.sibling,b.sibling=h,h=b,b=i}_p(l,!0,h,null,E,m);break;case"together":_p(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function ia(i,l,h){if(i!==null&&(l.dependencies=i.dependencies),Va|=l.lanes,(h&l.childLanes)===0)if(i!==null){if(Eo(i,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,h=ea(i,i.pendingProps),l.child=h,h.return=l;i.sibling!==null;)i=i.sibling,h=h.sibling=ea(i,i.pendingProps),h.return=l;h.sibling=null}return l.child}function Sp(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&ud(i)))}function kj(i,l,h){switch(l.tag){case 3:me(l,l.stateNode.containerInfo),Pa(l,An,i.memoizedState.cache),Ci();break;case 27:case 5:Re(l);break;case 4:me(l,l.stateNode.containerInfo);break;case 10:Pa(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,K0(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Ua(l),l.flags|=128,null):(h&l.child.childLanes)!==0?$y(i,l,h):(Ua(l),i=ia(i,l,h),i!==null?i.sibling:null);Ua(l);break;case 19:var b=(i.flags&128)!==0;if(m=(h&l.childLanes)!==0,m||(Eo(i,l,h,!1),m=(h&l.childLanes)!==0),b){if(m)return Gy(i,l,h);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),U(En,En.current),m)break;return null;case 22:return l.lanes=0,Ly(i,l,h,l.pendingProps);case 24:Pa(l,An,i.memoizedState.cache)}return ia(i,l,h)}function Vy(i,l,h){if(i!==null)if(i.memoizedProps!==l.pendingProps)On=!0;else{if(!Sp(i,h)&&(l.flags&128)===0)return On=!1,kj(i,l,h);On=(i.flags&131072)!==0}else On=!1,zt&&(l.flags&1048576)!==0&&S1(l,Ql,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(i=Ri(l.elementType),l.type=i,typeof i=="function")k0(i)?(m=Ii(i,m),l.tag=1,l=By(null,l,i,m,h)):(l.tag=0,l=gp(null,l,i,m,h));else{if(i!=null){var b=i.$$typeof;if(b===C){l.tag=11,l=My(null,l,i,m,h);break e}else if(b===M){l.tag=14,l=Dy(null,l,i,m,h);break e}}throw l=k(i)||i,Error(r(306,l,""))}}return l;case 0:return gp(i,l,l.type,l.pendingProps,h);case 1:return m=l.type,b=Ii(m,l.pendingProps),By(i,l,m,b,h);case 3:e:{if(me(l,l.stateNode.containerInfo),i===null)throw Error(r(387));m=l.pendingProps;var E=l.memoizedState;b=E.element,H0(i,l),oc(l,m,null,h);var L=l.memoizedState;if(m=L.cache,Pa(l,An,m),m!==E.cache&&P0(l,[An],h,!0),ic(),m=L.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:L.cache},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){l=Uy(i,l,m,h);break e}else if(m!==b){b=rs(Error(r(424)),l),ec(b),l=Uy(i,l,m,h);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(cn=ls(i.firstChild),Yn=l,zt=!0,Ia=null,is=!0,h=L1(l,null,m,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Ci(),m===b){l=ia(i,l,h);break e}Zn(i,l,m,h)}l=l.child}return l;case 26:return jd(i,l),i===null?(h=nb(l.type,null,l.pendingProps,null))?l.memoizedState=h:zt||(h=l.type,i=l.pendingProps,m=Wd(ue.current).createElement(h),m[se]=l,m[oe]=i,Qn(m,h,i),lt(m),l.stateNode=m):l.memoizedState=nb(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Re(l),i===null&&zt&&(m=l.stateNode=Qw(l.type,l.pendingProps,ue.current),Yn=l,is=!0,b=cn,Ya(l.type)?(nm=b,cn=ls(m.firstChild)):cn=b),Zn(i,l,l.pendingProps.children,h),jd(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&zt&&((b=m=cn)&&(m=sA(m,l.type,l.pendingProps,is),m!==null?(l.stateNode=m,Yn=l,cn=ls(m.firstChild),is=!1,b=!0):b=!1),b||La(l)),Re(l),b=l.type,E=l.pendingProps,L=i!==null?i.memoizedProps:null,m=E.children,Jp(b,E)?m=null:L!==null&&Jp(b,L)&&(l.flags|=32),l.memoizedState!==null&&(b=Y0(i,l,yj,null,null,h),Cc._currentValue=b),jd(i,l),Zn(i,l,m,h),l.child;case 6:return i===null&&zt&&((i=h=cn)&&(h=aA(h,l.pendingProps,is),h!==null?(l.stateNode=h,Yn=l,cn=null,i=!0):i=!1),i||La(l)),null;case 13:return $y(i,l,h);case 4:return me(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=Mi(l,null,m,h):Zn(i,l,m,h),l.child;case 11:return My(i,l,l.type,l.pendingProps,h);case 7:return Zn(i,l,l.pendingProps,h),l.child;case 8:return Zn(i,l,l.pendingProps.children,h),l.child;case 12:return Zn(i,l,l.pendingProps.children,h),l.child;case 10:return m=l.pendingProps,Pa(l,l.type,m.value),Zn(i,l,m.children,h),l.child;case 9:return b=l.type._context,m=l.pendingProps.children,ji(l),b=Jn(b),m=m(b),l.flags|=1,Zn(i,l,m,h),l.child;case 14:return Dy(i,l,l.type,l.pendingProps,h);case 15:return Iy(i,l,l.type,l.pendingProps,h);case 19:return Gy(i,l,h);case 31:return Cj(i,l,h);case 22:return Ly(i,l,h,l.pendingProps);case 24:return ji(l),m=Jn(An),i===null?(b=B0(),b===null&&(b=rn,E=F0(),b.pooledCache=E,E.refCount++,E!==null&&(b.pooledCacheLanes|=h),b=E),l.memoizedState={parent:m,cache:b},$0(l),Pa(l,An,b)):((i.lanes&h)!==0&&(H0(i,l),oc(l,null,null,h),ic()),b=i.memoizedState,E=l.memoizedState,b.parent!==m?(b={parent:m,cache:m},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),Pa(l,An,m)):(m=E.cache,Pa(l,An,m),m!==b.cache&&P0(l,[An],h,!0))),Zn(i,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function oa(i){i.flags|=4}function Ep(i,l,h,m,b){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(vw())i.flags|=8192;else throw Oi=pd,U0}else i.flags&=-16777217}function Wy(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ob(l))if(vw())i.flags|=8192;else throw Oi=pd,U0}function Rd(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?yn():536870912,i.lanes|=l,Lo|=l)}function hc(i,l){if(!zt)switch(i.tailMode){case"hidden":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function un(i){var l=i.alternate!==null&&i.alternate.child===i.child,h=0,m=0;if(l)for(var b=i.child;b!==null;)h|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)h|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=m,i.childLanes=h,l}function jj(i,l,h){var m=l.pendingProps;switch(O0(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(l),null;case 1:return un(l),null;case 3:return h=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),ra(An),ve(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(So(l)?oa(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,D0())),un(l),null;case 26:var b=l.type,E=l.memoizedState;return i===null?(oa(l),E!==null?(un(l),Wy(l,E)):(un(l),Ep(l,b,null,m,h))):E?E!==i.memoizedState?(oa(l),un(l),Wy(l,E)):(un(l),l.flags&=-16777217):(i=i.memoizedProps,i!==m&&oa(l),un(l),Ep(l,b,i,m,h)),null;case 27:if(Ue(l),h=ue.current,b=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&oa(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return un(l),null}i=B.current,So(l)?N1(l):(i=Qw(b,m,h),l.stateNode=i,oa(l))}return un(l),null;case 5:if(Ue(l),b=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&oa(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return un(l),null}if(E=B.current,So(l))N1(l);else{var L=Wd(ue.current);switch(E){case 1:E=L.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:E=L.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":E=L.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":E=L.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":E=L.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof m.is=="string"?L.createElement("select",{is:m.is}):L.createElement("select"),m.multiple?E.multiple=!0:m.size&&(E.size=m.size);break;default:E=typeof m.is=="string"?L.createElement(b,{is:m.is}):L.createElement(b)}}E[se]=l,E[oe]=m;e:for(L=l.child;L!==null;){if(L.tag===5||L.tag===6)E.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===l)break e;for(;L.sibling===null;){if(L.return===null||L.return===l)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}l.stateNode=E;e:switch(Qn(E,b,m),b){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&oa(l)}}return un(l),Ep(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,h),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&oa(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(i=ue.current,So(l)){if(i=l.stateNode,h=l.memoizedProps,m=null,b=Yn,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}i[se]=l,i=!!(i.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||$w(i.nodeValue,h)),i||La(l,!0)}else i=Wd(i).createTextNode(m),i[se]=l,l.stateNode=i}return un(l),null;case 31:if(h=l.memoizedState,i===null||i.memoizedState!==null){if(m=So(l),h!==null){if(i===null){if(!m)throw Error(r(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[se]=l}else Ci(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;un(l),i=!1}else h=D0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),i=!0;if(!i)return l.flags&256?(Fr(l),l):(Fr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return un(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=So(l),m!==null&&m.dehydrated!==null){if(i===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[se]=l}else Ci(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;un(l),b=!1}else b=D0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(Fr(l),l):(Fr(l),null)}return Fr(l),(l.flags&128)!==0?(l.lanes=h,l):(h=m!==null,i=i!==null&&i.memoizedState!==null,h&&(m=l.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool),E=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),E!==b&&(m.flags|=2048)),h!==i&&h&&(l.child.flags|=8192),Rd(l,l.updateQueue),un(l),null);case 4:return ve(),i===null&&Wp(l.stateNode.containerInfo),un(l),null;case 10:return ra(l.type),un(l),null;case 19:if(R(En),m=l.memoizedState,m===null)return un(l),null;if(b=(l.flags&128)!==0,E=m.rendering,E===null)if(b)hc(m,!1);else{if(bn!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(E=vd(i),E!==null){for(l.flags|=128,hc(m,!1),i=E.updateQueue,l.updateQueue=i,Rd(l,i),l.subtreeFlags=0,i=h,h=l.child;h!==null;)w1(h,i),h=h.sibling;return U(En,En.current&1|2),zt&&ta(l,m.treeForkCount),l.child}i=i.sibling}m.tail!==null&&we()>Ld&&(l.flags|=128,b=!0,hc(m,!1),l.lanes=4194304)}else{if(!b)if(i=vd(E),i!==null){if(l.flags|=128,b=!0,i=i.updateQueue,l.updateQueue=i,Rd(l,i),hc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!E.alternate&&!zt)return un(l),null}else 2*we()-m.renderingStartTime>Ld&&h!==536870912&&(l.flags|=128,b=!0,hc(m,!1),l.lanes=4194304);m.isBackwards?(E.sibling=l.child,l.child=E):(i=m.last,i!==null?i.sibling=E:l.child=E,m.last=E)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=we(),i.sibling=null,h=En.current,U(En,b?h&1|2:h&1),zt&&ta(l,m.treeForkCount),i):(un(l),null);case 22:case 23:return Fr(l),q0(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(h&536870912)!==0&&(l.flags&128)===0&&(un(l),l.subtreeFlags&6&&(l.flags|=8192)):un(l),h=l.updateQueue,h!==null&&Rd(l,h.retryQueue),h=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048),i!==null&&R(Ai),null;case 24:return h=null,i!==null&&(h=i.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),ra(An),un(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function Aj(i,l){switch(O0(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return ra(An),ve(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Ue(l),null;case 31:if(l.memoizedState!==null){if(Fr(l),l.alternate===null)throw Error(r(340));Ci()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(Fr(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ci()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return R(En),null;case 4:return ve(),null;case 10:return ra(l.type),null;case 22:case 23:return Fr(l),q0(),i!==null&&R(Ai),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return ra(An),null;case 25:return null;default:return null}}function qy(i,l){switch(O0(l),l.tag){case 3:ra(An),ve();break;case 26:case 27:case 5:Ue(l);break;case 4:ve();break;case 31:l.memoizedState!==null&&Fr(l);break;case 13:Fr(l);break;case 19:R(En);break;case 10:ra(l.type);break;case 22:case 23:Fr(l),q0(),i!==null&&R(Ai);break;case 24:ra(An)}}function pc(i,l){try{var h=l.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var b=m.next;h=b;do{if((h.tag&i)===i){m=void 0;var E=h.create,L=h.inst;m=E(),L.destroy=m}h=h.next}while(h!==b)}}catch(Z){Kt(l,l.return,Z)}}function Ha(i,l,h){try{var m=l.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var E=b.next;m=E;do{if((m.tag&i)===i){var L=m.inst,Z=L.destroy;if(Z!==void 0){L.destroy=void 0,b=l;var de=h,Se=Z;try{Se()}catch(Le){Kt(b,de,Le)}}}m=m.next}while(m!==E)}}catch(Le){Kt(l,l.return,Le)}}function Ky(i){var l=i.updateQueue;if(l!==null){var h=i.stateNode;try{F1(l,h)}catch(m){Kt(i,i.return,m)}}}function Xy(i,l,h){h.props=Ii(i.type,i.memoizedProps),h.state=i.memoizedState;try{h.componentWillUnmount()}catch(m){Kt(i,l,m)}}function mc(i,l){try{var h=i.ref;if(h!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof h=="function"?i.refCleanup=h(m):h.current=m}}catch(b){Kt(i,l,b)}}function Bs(i,l){var h=i.ref,m=i.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(b){Kt(i,l,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(b){Kt(i,l,b)}else h.current=null}function Yy(i){var l=i.type,h=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(b){Kt(i,i.return,b)}}function Np(i,l,h){try{var m=i.stateNode;Zj(m,i.type,h,l),m[oe]=l}catch(b){Kt(i,i.return,b)}}function Jy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ya(i.type)||i.tag===4}function Tp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Jy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ya(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cp(i,l,h){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(i,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(i),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Zs));else if(m!==4&&(m===27&&Ya(i.type)&&(h=i.stateNode,l=null),i=i.child,i!==null))for(Cp(i,l,h),i=i.sibling;i!==null;)Cp(i,l,h),i=i.sibling}function Od(i,l,h){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?h.insertBefore(i,l):h.appendChild(i);else if(m!==4&&(m===27&&Ya(i.type)&&(h=i.stateNode),i=i.child,i!==null))for(Od(i,l,h),i=i.sibling;i!==null;)Od(i,l,h),i=i.sibling}function Zy(i){var l=i.stateNode,h=i.memoizedProps;try{for(var m=i.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);Qn(l,m,h),l[se]=i,l[oe]=h}catch(E){Kt(i,i.return,E)}}var la=!1,Mn=!1,kp=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,Vn=null;function Rj(i,l){if(i=i.containerInfo,Xp=Qd,i=d1(i),b0(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var b=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var L=0,Z=-1,de=-1,Se=0,Le=0,Be=i,ke=null;t:for(;;){for(var De;Be!==h||b!==0&&Be.nodeType!==3||(Z=L+b),Be!==E||m!==0&&Be.nodeType!==3||(de=L+m),Be.nodeType===3&&(L+=Be.nodeValue.length),(De=Be.firstChild)!==null;)ke=Be,Be=De;for(;;){if(Be===i)break t;if(ke===h&&++Se===b&&(Z=L),ke===E&&++Le===m&&(de=L),(De=Be.nextSibling)!==null)break;Be=ke,ke=Be.parentNode}Be=De}h=Z===-1||de===-1?null:{start:Z,end:de}}else h=null}h=h||{start:0,end:0}}else h=null;for(Yp={focusedElem:i,selectionRange:h},Qd=!1,Vn=l;Vn!==null;)if(l=Vn,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Vn=i;else for(;Vn!==null;){switch(l=Vn,E=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(h=0;h<i.length;h++)b=i[h],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&E!==null){i=void 0,h=l,b=E.memoizedProps,E=E.memoizedState,m=h.stateNode;try{var at=Ii(h.type,b);i=m.getSnapshotBeforeUpdate(at,E),m.__reactInternalSnapshotBeforeUpdate=i}catch(gt){Kt(h,h.return,gt)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,h=i.nodeType,h===9)Qp(i);else if(h===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Qp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,Vn=i;break}Vn=l.return}}function ew(i,l,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:ua(i,h),m&4&&pc(5,h);break;case 1:if(ua(i,h),m&4)if(i=h.stateNode,l===null)try{i.componentDidMount()}catch(L){Kt(h,h.return,L)}else{var b=Ii(h.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(b,l,i.__reactInternalSnapshotBeforeUpdate)}catch(L){Kt(h,h.return,L)}}m&64&&Ky(h),m&512&&mc(h,h.return);break;case 3:if(ua(i,h),m&64&&(i=h.updateQueue,i!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{F1(i,l)}catch(L){Kt(h,h.return,L)}}break;case 27:l===null&&m&4&&Zy(h);case 26:case 5:ua(i,h),l===null&&m&4&&Yy(h),m&512&&mc(h,h.return);break;case 12:ua(i,h);break;case 31:ua(i,h),m&4&&rw(i,h);break;case 13:ua(i,h),m&4&&sw(i,h),m&64&&(i=h.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(h=Bj.bind(null,h),iA(i,h))));break;case 22:if(m=h.memoizedState!==null||la,!m){l=l!==null&&l.memoizedState!==null||Mn,b=la;var E=Mn;la=m,(Mn=l)&&!E?da(i,h,(h.subtreeFlags&8772)!==0):ua(i,h),la=b,Mn=E}break;case 30:break;default:ua(i,h)}}function tw(i){var l=i.alternate;l!==null&&(i.alternate=null,tw(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&We(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var pn=null,Sr=!1;function ca(i,l,h){for(h=h.child;h!==null;)nw(i,l,h),h=h.sibling}function nw(i,l,h){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(xt,h)}catch{}switch(h.tag){case 26:Mn||Bs(h,l),ca(i,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Mn||Bs(h,l);var m=pn,b=Sr;Ya(h.type)&&(pn=h.stateNode,Sr=!1),ca(i,l,h),Ec(h.stateNode),pn=m,Sr=b;break;case 5:Mn||Bs(h,l);case 6:if(m=pn,b=Sr,pn=null,ca(i,l,h),pn=m,Sr=b,pn!==null)if(Sr)try{(pn.nodeType===9?pn.body:pn.nodeName==="HTML"?pn.ownerDocument.body:pn).removeChild(h.stateNode)}catch(E){Kt(h,l,E)}else try{pn.removeChild(h.stateNode)}catch(E){Kt(h,l,E)}break;case 18:pn!==null&&(Sr?(i=pn,Kw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,h.stateNode),Go(i)):Kw(pn,h.stateNode));break;case 4:m=pn,b=Sr,pn=h.stateNode.containerInfo,Sr=!0,ca(i,l,h),pn=m,Sr=b;break;case 0:case 11:case 14:case 15:Ha(2,h,l),Mn||Ha(4,h,l),ca(i,l,h);break;case 1:Mn||(Bs(h,l),m=h.stateNode,typeof m.componentWillUnmount=="function"&&Xy(h,l,m)),ca(i,l,h);break;case 21:ca(i,l,h);break;case 22:Mn=(m=Mn)||h.memoizedState!==null,ca(i,l,h),Mn=m;break;default:ca(i,l,h)}}function rw(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Go(i)}catch(h){Kt(l,l.return,h)}}}function sw(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Go(i)}catch(h){Kt(l,l.return,h)}}function Oj(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new Qy),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new Qy),l;default:throw Error(r(435,i.tag))}}function Md(i,l){var h=Oj(i);l.forEach(function(m){if(!h.has(m)){h.add(m);var b=Uj.bind(null,i,m);m.then(b,b)}})}function Er(i,l){var h=l.deletions;if(h!==null)for(var m=0;m<h.length;m++){var b=h[m],E=i,L=l,Z=L;e:for(;Z!==null;){switch(Z.tag){case 27:if(Ya(Z.type)){pn=Z.stateNode,Sr=!1;break e}break;case 5:pn=Z.stateNode,Sr=!1;break e;case 3:case 4:pn=Z.stateNode.containerInfo,Sr=!0;break e}Z=Z.return}if(pn===null)throw Error(r(160));nw(E,L,b),pn=null,Sr=!1,E=b.alternate,E!==null&&(E.return=null),b.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)aw(l,i),l=l.sibling}var xs=null;function aw(i,l){var h=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Er(l,i),Nr(i),m&4&&(Ha(3,i,i.return),pc(3,i),Ha(5,i,i.return));break;case 1:Er(l,i),Nr(i),m&512&&(Mn||h===null||Bs(h,h.return)),m&64&&la&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(h=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var b=xs;if(Er(l,i),Nr(i),m&512&&(Mn||h===null||Bs(h,h.return)),m&4){var E=h!==null?h.memoizedState:null;if(m=i.memoizedState,h===null)if(m===null)if(i.stateNode===null){e:{m=i.type,h=i.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":E=b.getElementsByTagName("title")[0],(!E||E[Ae]||E[se]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=b.createElement(m),b.head.insertBefore(E,b.querySelector("head > title"))),Qn(E,m,h),E[se]=i,lt(E),m=E;break e;case"link":var L=ab("link","href",b).get(m+(h.href||""));if(L){for(var Z=0;Z<L.length;Z++)if(E=L[Z],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){L.splice(Z,1);break t}}E=b.createElement(m),Qn(E,m,h),b.head.appendChild(E);break;case"meta":if(L=ab("meta","content",b).get(m+(h.content||""))){for(Z=0;Z<L.length;Z++)if(E=L[Z],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){L.splice(Z,1);break t}}E=b.createElement(m),Qn(E,m,h),b.head.appendChild(E);break;default:throw Error(r(468,m))}E[se]=i,lt(E),m=E}i.stateNode=m}else ib(b,i.type,i.stateNode);else i.stateNode=sb(b,m,i.memoizedProps);else E!==m?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,m===null?ib(b,i.type,i.stateNode):sb(b,m,i.memoizedProps)):m===null&&i.stateNode!==null&&Np(i,i.memoizedProps,h.memoizedProps)}break;case 27:Er(l,i),Nr(i),m&512&&(Mn||h===null||Bs(h,h.return)),h!==null&&m&4&&Np(i,i.memoizedProps,h.memoizedProps);break;case 5:if(Er(l,i),Nr(i),m&512&&(Mn||h===null||Bs(h,h.return)),i.flags&32){b=i.stateNode;try{ho(b,"")}catch(at){Kt(i,i.return,at)}}m&4&&i.stateNode!=null&&(b=i.memoizedProps,Np(i,b,h!==null?h.memoizedProps:b)),m&1024&&(kp=!0);break;case 6:if(Er(l,i),Nr(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,h=i.stateNode;try{h.nodeValue=m}catch(at){Kt(i,i.return,at)}}break;case 3:if(Xd=null,b=xs,xs=qd(l.containerInfo),Er(l,i),xs=b,Nr(i),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Go(l.containerInfo)}catch(at){Kt(i,i.return,at)}kp&&(kp=!1,iw(i));break;case 4:m=xs,xs=qd(i.stateNode.containerInfo),Er(l,i),Nr(i),xs=m;break;case 12:Er(l,i),Nr(i);break;case 31:Er(l,i),Nr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Md(i,m)));break;case 13:Er(l,i),Nr(i),i.child.flags&8192&&i.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Id=we()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Md(i,m)));break;case 22:b=i.memoizedState!==null;var de=h!==null&&h.memoizedState!==null,Se=la,Le=Mn;if(la=Se||b,Mn=Le||de,Er(l,i),Mn=Le,la=Se,Nr(i),m&8192)e:for(l=i.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(h===null||de||la||Mn||Li(i)),h=null,l=i;;){if(l.tag===5||l.tag===26){if(h===null){de=h=l;try{if(E=de.stateNode,b)L=E.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{Z=de.stateNode;var Be=de.memoizedProps.style,ke=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;Z.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(at){Kt(de,de.return,at)}}}else if(l.tag===6){if(h===null){de=l;try{de.stateNode.nodeValue=b?"":de.memoizedProps}catch(at){Kt(de,de.return,at)}}}else if(l.tag===18){if(h===null){de=l;try{var De=de.stateNode;b?Xw(De,!0):Xw(de.stateNode,!1)}catch(at){Kt(de,de.return,at)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,Md(i,h))));break;case 19:Er(l,i),Nr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Md(i,m)));break;case 30:break;case 21:break;default:Er(l,i),Nr(i)}}function Nr(i){var l=i.flags;if(l&2){try{for(var h,m=i.return;m!==null;){if(Jy(m)){h=m;break}m=m.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var b=h.stateNode,E=Tp(i);Od(i,E,b);break;case 5:var L=h.stateNode;h.flags&32&&(ho(L,""),h.flags&=-33);var Z=Tp(i);Od(i,Z,L);break;case 3:case 4:var de=h.stateNode.containerInfo,Se=Tp(i);Cp(i,Se,de);break;default:throw Error(r(161))}}catch(Le){Kt(i,i.return,Le)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function iw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;iw(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function ua(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)ew(i,l.alternate,l),l=l.sibling}function Li(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:Ha(4,l,l.return),Li(l);break;case 1:Bs(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&Xy(l,l.return,h),Li(l);break;case 27:Ec(l.stateNode);case 26:case 5:Bs(l,l.return),Li(l);break;case 22:l.memoizedState===null&&Li(l);break;case 30:Li(l);break;default:Li(l)}i=i.sibling}}function da(i,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,b=i,E=l,L=E.flags;switch(E.tag){case 0:case 11:case 15:da(b,E,h),pc(4,E);break;case 1:if(da(b,E,h),m=E,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Se){Kt(m,m.return,Se)}if(m=E,b=m.updateQueue,b!==null){var Z=m.stateNode;try{var de=b.shared.hiddenCallbacks;if(de!==null)for(b.shared.hiddenCallbacks=null,b=0;b<de.length;b++)P1(de[b],Z)}catch(Se){Kt(m,m.return,Se)}}h&&L&64&&Ky(E),mc(E,E.return);break;case 27:Zy(E);case 26:case 5:da(b,E,h),h&&m===null&&L&4&&Yy(E),mc(E,E.return);break;case 12:da(b,E,h);break;case 31:da(b,E,h),h&&L&4&&rw(b,E);break;case 13:da(b,E,h),h&&L&4&&sw(b,E);break;case 22:E.memoizedState===null&&da(b,E,h),mc(E,E.return);break;case 30:break;default:da(b,E,h)}l=l.sibling}}function jp(i,l){var h=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==h&&(i!=null&&i.refCount++,h!=null&&tc(h))}function Ap(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&tc(i))}function vs(i,l,h,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ow(i,l,h,m),l=l.sibling}function ow(i,l,h,m){var b=l.flags;switch(l.tag){case 0:case 11:case 15:vs(i,l,h,m),b&2048&&pc(9,l);break;case 1:vs(i,l,h,m);break;case 3:vs(i,l,h,m),b&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&tc(i)));break;case 12:if(b&2048){vs(i,l,h,m),i=l.stateNode;try{var E=l.memoizedProps,L=E.id,Z=E.onPostCommit;typeof Z=="function"&&Z(L,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(de){Kt(l,l.return,de)}}else vs(i,l,h,m);break;case 31:vs(i,l,h,m);break;case 13:vs(i,l,h,m);break;case 23:break;case 22:E=l.stateNode,L=l.alternate,l.memoizedState!==null?E._visibility&2?vs(i,l,h,m):gc(i,l):E._visibility&2?vs(i,l,h,m):(E._visibility|=2,Mo(i,l,h,m,(l.subtreeFlags&10256)!==0||!1)),b&2048&&jp(L,l);break;case 24:vs(i,l,h,m),b&2048&&Ap(l.alternate,l);break;default:vs(i,l,h,m)}}function Mo(i,l,h,m,b){for(b=b&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var E=i,L=l,Z=h,de=m,Se=L.flags;switch(L.tag){case 0:case 11:case 15:Mo(E,L,Z,de,b),pc(8,L);break;case 23:break;case 22:var Le=L.stateNode;L.memoizedState!==null?Le._visibility&2?Mo(E,L,Z,de,b):gc(E,L):(Le._visibility|=2,Mo(E,L,Z,de,b)),b&&Se&2048&&jp(L.alternate,L);break;case 24:Mo(E,L,Z,de,b),b&&Se&2048&&Ap(L.alternate,L);break;default:Mo(E,L,Z,de,b)}l=l.sibling}}function gc(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=i,m=l,b=m.flags;switch(m.tag){case 22:gc(h,m),b&2048&&jp(m.alternate,m);break;case 24:gc(h,m),b&2048&&Ap(m.alternate,m);break;default:gc(h,m)}l=l.sibling}}var xc=8192;function Do(i,l,h){if(i.subtreeFlags&xc)for(i=i.child;i!==null;)lw(i,l,h),i=i.sibling}function lw(i,l,h){switch(i.tag){case 26:Do(i,l,h),i.flags&xc&&i.memoizedState!==null&&vA(h,xs,i.memoizedState,i.memoizedProps);break;case 5:Do(i,l,h);break;case 3:case 4:var m=xs;xs=qd(i.stateNode.containerInfo),Do(i,l,h),xs=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=xc,xc=16777216,Do(i,l,h),xc=m):Do(i,l,h));break;default:Do(i,l,h)}}function cw(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function vc(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];Vn=m,dw(m,i)}cw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uw(i),i=i.sibling}function uw(i){switch(i.tag){case 0:case 11:case 15:vc(i),i.flags&2048&&Ha(9,i,i.return);break;case 3:vc(i);break;case 12:vc(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Dd(i)):vc(i);break;default:vc(i)}}function Dd(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];Vn=m,dw(m,i)}cw(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:Ha(8,l,l.return),Dd(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,Dd(l));break;default:Dd(l)}i=i.sibling}}function dw(i,l){for(;Vn!==null;){var h=Vn;switch(h.tag){case 0:case 11:case 15:Ha(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:tc(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,Vn=m;else e:for(h=i;Vn!==null;){m=Vn;var b=m.sibling,E=m.return;if(tw(m),m===h){Vn=null;break e}if(b!==null){b.return=E,Vn=b;break e}Vn=E}}}var Mj={getCacheForType:function(i){var l=Jn(An),h=l.data.get(i);return h===void 0&&(h=i(),l.data.set(i,h)),h},cacheSignal:function(){return Jn(An).controller.signal}},Dj=typeof WeakMap=="function"?WeakMap:Map,Vt=0,rn=null,It=null,Pt=0,qt=0,zr=null,Ga=!1,Io=!1,Rp=!1,fa=0,bn=0,Va=0,Pi=0,Op=0,Br=0,Lo=0,yc=null,Tr=null,Mp=!1,Id=0,fw=0,Ld=1/0,Pd=null,Wa=null,zn=0,qa=null,Po=null,ha=0,Dp=0,Ip=null,hw=null,wc=0,Lp=null;function Ur(){return(Vt&2)!==0&&Pt!==0?Pt&-Pt:K.T!==null?$p():W()}function pw(){if(Br===0)if((Pt&536870912)===0||zt){var i=yt;yt<<=1,(yt&3932160)===0&&(yt=262144),Br=i}else Br=536870912;return i=Pr.current,i!==null&&(i.flags|=32),Br}function Cr(i,l,h){(i===rn&&(qt===2||qt===9)||i.cancelPendingCommit!==null)&&(Fo(i,0),Ka(i,Pt,Br,!1)),fn(i,h),((Vt&2)===0||i!==rn)&&(i===rn&&((Vt&2)===0&&(Pi|=h),bn===4&&Ka(i,Pt,Br,!1)),Us(i))}function mw(i,l,h){if((Vt&6)!==0)throw Error(r(327));var m=!h&&(l&127)===0&&(l&i.expiredLanes)===0||vn(i,l),b=m?Pj(i,l):Fp(i,l,!0),E=m;do{if(b===0){Io&&!m&&Ka(i,l,0,!1);break}else{if(h=i.current.alternate,E&&!Ij(h)){b=Fp(i,l,!1),E=!1;continue}if(b===2){if(E=l,i.errorRecoveryDisabledLanes&E)var L=0;else L=i.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){l=L;e:{var Z=i;b=yc;var de=Z.current.memoizedState.isDehydrated;if(de&&(Fo(Z,L).flags|=256),L=Fp(Z,L,!1),L!==2){if(Rp&&!de){Z.errorRecoveryDisabledLanes|=E,Pi|=E,b=4;break e}E=Tr,Tr=b,E!==null&&(Tr===null?Tr=E:Tr.push.apply(Tr,E))}b=L}if(E=!1,b!==2)continue}}if(b===1){Fo(i,0),Ka(i,l,0,!0);break}e:{switch(m=i,E=b,E){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ka(m,l,Br,!Ga);break e;case 2:Tr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=Id+300-we(),10<b)){if(Ka(m,l,Br,!Ga),Bt(m,0,!0)!==0)break e;ha=l,m.timeoutHandle=Ww(gw.bind(null,m,h,Tr,Pd,Mp,l,Br,Pi,Lo,Ga,E,"Throttled",-0,0),b);break e}gw(m,h,Tr,Pd,Mp,l,Br,Pi,Lo,Ga,E,null,-0,0)}}break}while(!0);Us(i)}function gw(i,l,h,m,b,E,L,Z,de,Se,Le,Be,ke,De){if(i.timeoutHandle=-1,Be=l.subtreeFlags,Be&8192||(Be&16785408)===16785408){Be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zs},lw(l,E,Be);var at=(E&62914560)===E?Id-we():(E&4194048)===E?fw-we():0;if(at=yA(Be,at),at!==null){ha=E,i.cancelPendingCommit=at(Ew.bind(null,i,l,E,h,m,b,L,Z,de,Le,Be,null,ke,De)),Ka(i,E,L,!Se);return}}Ew(i,l,E,h,m,b,L,Z,de)}function Ij(i){for(var l=i;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var b=h[m],E=b.getSnapshot;b=b.value;try{if(!Ir(E(),b))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ka(i,l,h,m){l&=~Op,l&=~Pi,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var b=l;0<b;){var E=31-At(b),L=1<<E;m[E]=-1,b&=~L}h!==0&&mr(i,h,l)}function Fd(){return(Vt&6)===0?(bc(0),!1):!0}function Pp(){if(It!==null){if(qt===0)var i=It.return;else i=It,na=ki=null,Q0(i),ko=null,rc=0,i=It;for(;i!==null;)qy(i.alternate,i),i=i.return;It=null}}function Fo(i,l){var h=i.timeoutHandle;h!==-1&&(i.timeoutHandle=-1,tA(h)),h=i.cancelPendingCommit,h!==null&&(i.cancelPendingCommit=null,h()),ha=0,Pp(),rn=i,It=h=ea(i.current,null),Pt=l,qt=0,zr=null,Ga=!1,Io=vn(i,l),Rp=!1,Lo=Br=Op=Pi=Va=bn=0,Tr=yc=null,Mp=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var b=31-At(m),E=1<<b;l|=i[b],m&=~E}return fa=l,ad(),h}function xw(i,l){Ct=null,K.H=dc,l===Co||l===hd?(l=M1(),qt=3):l===U0?(l=M1(),qt=4):qt=l===mp?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,zr=l,It===null&&(bn=1,Cd(i,rs(l,i.current)))}function vw(){var i=Pr.current;return i===null?!0:(Pt&4194048)===Pt?os===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?i===os:!1}function yw(){var i=K.H;return K.H=dc,i===null?dc:i}function ww(){var i=K.A;return K.A=Mj,i}function zd(){bn=4,Ga||(Pt&4194048)!==Pt&&Pr.current!==null||(Io=!0),(Va&134217727)===0&&(Pi&134217727)===0||rn===null||Ka(rn,Pt,Br,!1)}function Fp(i,l,h){var m=Vt;Vt|=2;var b=yw(),E=ww();(rn!==i||Pt!==l)&&(Pd=null,Fo(i,l)),l=!1;var L=bn;e:do try{if(qt!==0&&It!==null){var Z=It,de=zr;switch(qt){case 8:Pp(),L=6;break e;case 3:case 2:case 9:case 6:Pr.current===null&&(l=!0);var Se=qt;if(qt=0,zr=null,zo(i,Z,de,Se),h&&Io){L=0;break e}break;default:Se=qt,qt=0,zr=null,zo(i,Z,de,Se)}}Lj(),L=bn;break}catch(Le){xw(i,Le)}while(!0);return l&&i.shellSuspendCounter++,na=ki=null,Vt=m,K.H=b,K.A=E,It===null&&(rn=null,Pt=0,ad()),L}function Lj(){for(;It!==null;)bw(It)}function Pj(i,l){var h=Vt;Vt|=2;var m=yw(),b=ww();rn!==i||Pt!==l?(Pd=null,Ld=we()+500,Fo(i,l)):Io=vn(i,l);e:do try{if(qt!==0&&It!==null){l=It;var E=zr;t:switch(qt){case 1:qt=0,zr=null,zo(i,l,E,1);break;case 2:case 9:if(R1(E)){qt=0,zr=null,_w(l);break}l=function(){qt!==2&&qt!==9||rn!==i||(qt=7),Us(i)},E.then(l,l);break e;case 3:qt=7;break e;case 4:qt=5;break e;case 7:R1(E)?(qt=0,zr=null,_w(l)):(qt=0,zr=null,zo(i,l,E,7));break;case 5:var L=null;switch(It.tag){case 26:L=It.memoizedState;case 5:case 27:var Z=It;if(L?ob(L):Z.stateNode.complete){qt=0,zr=null;var de=Z.sibling;if(de!==null)It=de;else{var Se=Z.return;Se!==null?(It=Se,Bd(Se)):It=null}break t}}qt=0,zr=null,zo(i,l,E,5);break;case 6:qt=0,zr=null,zo(i,l,E,6);break;case 8:Pp(),bn=6;break e;default:throw Error(r(462))}}Fj();break}catch(Le){xw(i,Le)}while(!0);return na=ki=null,K.H=m,K.A=b,Vt=h,It!==null?0:(rn=null,Pt=0,ad(),bn)}function Fj(){for(;It!==null&&!fe();)bw(It)}function bw(i){var l=Vy(i.alternate,i,fa);i.memoizedProps=i.pendingProps,l===null?Bd(i):It=l}function _w(i){var l=i,h=l.alternate;switch(l.tag){case 15:case 0:l=zy(h,l,l.pendingProps,l.type,void 0,Pt);break;case 11:l=zy(h,l,l.pendingProps,l.type.render,l.ref,Pt);break;case 5:Q0(l);default:qy(h,l),l=It=w1(l,fa),l=Vy(h,l,fa)}i.memoizedProps=i.pendingProps,l===null?Bd(i):It=l}function zo(i,l,h,m){na=ki=null,Q0(l),ko=null,rc=0;var b=l.return;try{if(Tj(i,b,l,h,Pt)){bn=1,Cd(i,rs(h,i.current)),It=null;return}}catch(E){if(b!==null)throw It=b,E;bn=1,Cd(i,rs(h,i.current)),It=null;return}l.flags&32768?(zt||m===1?i=!0:Io||(Pt&536870912)!==0?i=!1:(Ga=i=!0,(m===2||m===9||m===3||m===6)&&(m=Pr.current,m!==null&&m.tag===13&&(m.flags|=16384))),Sw(l,i)):Bd(l)}function Bd(i){var l=i;do{if((l.flags&32768)!==0){Sw(l,Ga);return}i=l.return;var h=jj(l.alternate,l,fa);if(h!==null){It=h;return}if(l=l.sibling,l!==null){It=l;return}It=l=i}while(l!==null);bn===0&&(bn=5)}function Sw(i,l){do{var h=Aj(i.alternate,i);if(h!==null){h.flags&=32767,It=h;return}if(h=i.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(i=i.sibling,i!==null)){It=i;return}It=i=h}while(i!==null);bn=6,It=null}function Ew(i,l,h,m,b,E,L,Z,de){i.cancelPendingCommit=null;do Ud();while(zn!==0);if((Vt&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(E=l.lanes|l.childLanes,E|=T0,gn(i,h,E,L,Z,de),i===rn&&(It=rn=null,Pt=0),Po=l,qa=i,ha=h,Dp=E,Ip=b,hw=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,$j(Ge,function(){return jw(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=K.T,K.T=null,b=H.p,H.p=2,L=Vt,Vt|=4;try{Rj(i,l,h)}finally{Vt=L,H.p=b,K.T=m}}zn=1,Nw(),Tw(),Cw()}}function Nw(){if(zn===1){zn=0;var i=qa,l=Po,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=K.T,K.T=null;var m=H.p;H.p=2;var b=Vt;Vt|=4;try{aw(l,i);var E=Yp,L=d1(i.containerInfo),Z=E.focusedElem,de=E.selectionRange;if(L!==Z&&Z&&Z.ownerDocument&&u1(Z.ownerDocument.documentElement,Z)){if(de!==null&&b0(Z)){var Se=de.start,Le=de.end;if(Le===void 0&&(Le=Se),"selectionStart"in Z)Z.selectionStart=Se,Z.selectionEnd=Math.min(Le,Z.value.length);else{var Be=Z.ownerDocument||document,ke=Be&&Be.defaultView||window;if(ke.getSelection){var De=ke.getSelection(),at=Z.textContent.length,gt=Math.min(de.start,at),tn=de.end===void 0?gt:Math.min(de.end,at);!De.extend&&gt>tn&&(L=tn,tn=gt,gt=L);var xe=c1(Z,gt),he=c1(Z,tn);if(xe&&he&&(De.rangeCount!==1||De.anchorNode!==xe.node||De.anchorOffset!==xe.offset||De.focusNode!==he.node||De.focusOffset!==he.offset)){var _e=Be.createRange();_e.setStart(xe.node,xe.offset),De.removeAllRanges(),gt>tn?(De.addRange(_e),De.extend(he.node,he.offset)):(_e.setEnd(he.node,he.offset),De.addRange(_e))}}}}for(Be=[],De=Z;De=De.parentNode;)De.nodeType===1&&Be.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<Be.length;Z++){var Fe=Be[Z];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}Qd=!!Xp,Yp=Xp=null}finally{Vt=b,H.p=m,K.T=h}}i.current=l,zn=2}}function Tw(){if(zn===2){zn=0;var i=qa,l=Po,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=K.T,K.T=null;var m=H.p;H.p=2;var b=Vt;Vt|=4;try{ew(i,l.alternate,l)}finally{Vt=b,H.p=m,K.T=h}}zn=3}}function Cw(){if(zn===4||zn===3){zn=0,Me();var i=qa,l=Po,h=ha,m=hw;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?zn=5:(zn=0,Po=qa=null,kw(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(Wa=null),Je(h),l=l.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(xt,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=K.T,b=H.p,H.p=2,K.T=null;try{for(var E=i.onRecoverableError,L=0;L<m.length;L++){var Z=m[L];E(Z.value,{componentStack:Z.stack})}}finally{K.T=l,H.p=b}}(ha&3)!==0&&Ud(),Us(i),b=i.pendingLanes,(h&261930)!==0&&(b&42)!==0?i===Lp?wc++:(wc=0,Lp=i):wc=0,bc(0)}}function kw(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,tc(l)))}function Ud(){return Nw(),Tw(),Cw(),jw()}function jw(){if(zn!==5)return!1;var i=qa,l=Dp;Dp=0;var h=Je(ha),m=K.T,b=H.p;try{H.p=32>h?32:h,K.T=null,h=Ip,Ip=null;var E=qa,L=ha;if(zn=0,Po=qa=null,ha=0,(Vt&6)!==0)throw Error(r(331));var Z=Vt;if(Vt|=4,uw(E.current),ow(E,E.current,L,h),Vt=Z,bc(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(xt,E)}catch{}return!0}finally{H.p=b,K.T=m,kw(i,l)}}function Aw(i,l,h){l=rs(h,l),l=pp(i.stateNode,l,2),i=Ba(i,l,2),i!==null&&(fn(i,2),Us(i))}function Kt(i,l,h){if(i.tag===3)Aw(i,i,h);else for(;l!==null;){if(l.tag===3){Aw(l,i,h);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Wa===null||!Wa.has(m))){i=rs(h,i),h=Ry(2),m=Ba(l,h,2),m!==null&&(Oy(h,m,l,i),fn(m,2),Us(m));break}}l=l.return}}function zp(i,l,h){var m=i.pingCache;if(m===null){m=i.pingCache=new Dj;var b=new Set;m.set(l,b)}else b=m.get(l),b===void 0&&(b=new Set,m.set(l,b));b.has(h)||(Rp=!0,b.add(h),i=zj.bind(null,i,l,h),l.then(i,i))}function zj(i,l,h){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&h,i.warmLanes&=~h,rn===i&&(Pt&h)===h&&(bn===4||bn===3&&(Pt&62914560)===Pt&&300>we()-Id?(Vt&2)===0&&Fo(i,0):Op|=h,Lo===Pt&&(Lo=0)),Us(i)}function Rw(i,l){l===0&&(l=yn()),i=Ni(i,l),i!==null&&(fn(i,l),Us(i))}function Bj(i){var l=i.memoizedState,h=0;l!==null&&(h=l.retryLane),Rw(i,h)}function Uj(i,l){var h=0;switch(i.tag){case 31:case 13:var m=i.stateNode,b=i.memoizedState;b!==null&&(h=b.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),Rw(i,h)}function $j(i,l){return pe(i,l)}var $d=null,Bo=null,Bp=!1,Hd=!1,Up=!1,Xa=0;function Us(i){i!==Bo&&i.next===null&&(Bo===null?$d=Bo=i:Bo=Bo.next=i),Hd=!0,Bp||(Bp=!0,Gj())}function bc(i,l){if(!Up&&Hd){Up=!0;do for(var h=!1,m=$d;m!==null;){if(i!==0){var b=m.pendingLanes;if(b===0)var E=0;else{var L=m.suspendedLanes,Z=m.pingedLanes;E=(1<<31-At(42|i)+1)-1,E&=b&~(L&~Z),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,Iw(m,E))}else E=Pt,E=Bt(m,m===rn?E:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(E&3)===0||vn(m,E)||(h=!0,Iw(m,E));m=m.next}while(h);Up=!1}}function Hj(){Ow()}function Ow(){Hd=Bp=!1;var i=0;Xa!==0&&eA()&&(i=Xa);for(var l=we(),h=null,m=$d;m!==null;){var b=m.next,E=Mw(m,l);E===0?(m.next=null,h===null?$d=b:h.next=b,b===null&&(Bo=h)):(h=m,(i!==0||(E&3)!==0)&&(Hd=!0)),m=b}zn!==0&&zn!==5||bc(i),Xa!==0&&(Xa=0)}function Mw(i,l){for(var h=i.suspendedLanes,m=i.pingedLanes,b=i.expirationTimes,E=i.pendingLanes&-62914561;0<E;){var L=31-At(E),Z=1<<L,de=b[L];de===-1?((Z&h)===0||(Z&m)!==0)&&(b[L]=kn(Z,l)):de<=l&&(i.expiredLanes|=Z),E&=~Z}if(l=rn,h=Pt,h=Bt(i,i===l?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,h===0||i===l&&(qt===2||qt===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&be(m),i.callbackNode=null,i.callbackPriority=0;if((h&3)===0||vn(i,h)){if(l=h&-h,l===i.callbackPriority)return l;switch(m!==null&&be(m),Je(h)){case 2:case 8:h=et;break;case 32:h=Ge;break;case 268435456:h=Gt;break;default:h=Ge}return m=Dw.bind(null,i),h=pe(h,m),i.callbackPriority=l,i.callbackNode=h,l}return m!==null&&m!==null&&be(m),i.callbackPriority=2,i.callbackNode=null,2}function Dw(i,l){if(zn!==0&&zn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var h=i.callbackNode;if(Ud()&&i.callbackNode!==h)return null;var m=Pt;return m=Bt(i,i===rn?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(mw(i,m,l),Mw(i,we()),i.callbackNode!=null&&i.callbackNode===h?Dw.bind(null,i):null)}function Iw(i,l){if(Ud())return null;mw(i,l,!0)}function Gj(){nA(function(){(Vt&6)!==0?pe(He,Hj):Ow()})}function $p(){if(Xa===0){var i=No;i===0&&(i=Tt,Tt<<=1,(Tt&261888)===0&&(Tt=256)),Xa=i}return Xa}function Lw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ju(""+i)}function Pw(i,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,i.id&&h.setAttribute("form",i.id),l.parentNode.insertBefore(h,l),i=new FormData(i),h.parentNode.removeChild(h),i}function Vj(i,l,h,m,b){if(l==="submit"&&h&&h.stateNode===b){var E=Lw((b[oe]||null).action),L=m.submitter;L&&(l=(l=L[oe]||null)?Lw(l.formAction):L.getAttribute("formAction"),l!==null&&(E=l,L=null));var Z=new td("action","action",null,m,b);i.push({event:Z,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Xa!==0){var de=L?Pw(b,L):new FormData(b);lp(h,{pending:!0,data:de,method:b.method,action:E},null,de)}}else typeof E=="function"&&(Z.preventDefault(),de=L?Pw(b,L):new FormData(b),lp(h,{pending:!0,data:de,method:b.method,action:E},E,de))},currentTarget:b}]})}}for(var Hp=0;Hp<N0.length;Hp++){var Gp=N0[Hp],Wj=Gp.toLowerCase(),qj=Gp[0].toUpperCase()+Gp.slice(1);gs(Wj,"on"+qj)}gs(p1,"onAnimationEnd"),gs(m1,"onAnimationIteration"),gs(g1,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(cj,"onTransitionRun"),gs(uj,"onTransitionStart"),gs(dj,"onTransitionCancel"),gs(x1,"onTransitionEnd"),Qr("onMouseEnter",["mouseout","mouseover"]),Qr("onMouseLeave",["mouseout","mouseover"]),Qr("onPointerEnter",["pointerout","pointerover"]),Qr("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_c));function Fw(i,l){l=(l&4)!==0;for(var h=0;h<i.length;h++){var m=i[h],b=m.event;m=m.listeners;e:{var E=void 0;if(l)for(var L=m.length-1;0<=L;L--){var Z=m[L],de=Z.instance,Se=Z.currentTarget;if(Z=Z.listener,de!==E&&b.isPropagationStopped())break e;E=Z,b.currentTarget=Se;try{E(b)}catch(Le){sd(Le)}b.currentTarget=null,E=de}else for(L=0;L<m.length;L++){if(Z=m[L],de=Z.instance,Se=Z.currentTarget,Z=Z.listener,de!==E&&b.isPropagationStopped())break e;E=Z,b.currentTarget=Se;try{E(b)}catch(Le){sd(Le)}b.currentTarget=null,E=de}}}}function Lt(i,l){var h=l[Ee];h===void 0&&(h=l[Ee]=new Set);var m=i+"__bubble";h.has(m)||(zw(l,i,2,!1),h.add(m))}function Vp(i,l,h){var m=0;l&&(m|=4),zw(h,i,m,l)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function Wp(i){if(!i[Gd]){i[Gd]=!0,an.forEach(function(h){h!=="selectionchange"&&(Kj.has(h)||Vp(h,!1,i),Vp(h,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Gd]||(l[Gd]=!0,Vp("selectionchange",!1,l))}}function zw(i,l,h,m){switch(pb(l)){case 2:var b=_A;break;case 8:b=SA;break;default:b=om}h=b.bind(null,l,h,i),b=void 0,!f0||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),m?b!==void 0?i.addEventListener(l,h,{capture:!0,passive:b}):i.addEventListener(l,h,!0):b!==void 0?i.addEventListener(l,h,{passive:b}):i.addEventListener(l,h,!1)}function qp(i,l,h,m,b){var E=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var L=m.tag;if(L===3||L===4){var Z=m.stateNode.containerInfo;if(Z===b)break;if(L===4)for(L=m.return;L!==null;){var de=L.tag;if((de===3||de===4)&&L.stateNode.containerInfo===b)return;L=L.return}for(;Z!==null;){if(L=Ke(Z),L===null)return;if(de=L.tag,de===5||de===6||de===26||de===27){m=E=L;continue e}Z=Z.parentNode}}m=m.return}Gv(function(){var Se=E,Le=u0(h),Be=[];e:{var ke=v1.get(i);if(ke!==void 0){var De=td,at=i;switch(i){case"keypress":if(Qu(h)===0)break e;case"keydown":case"keyup":De=Uk;break;case"focusin":at="focus",De=g0;break;case"focusout":at="blur",De=g0;break;case"beforeblur":case"afterblur":De=g0;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=qv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=jk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=Gk;break;case p1:case m1:case g1:De=Ok;break;case x1:De=Wk;break;case"scroll":case"scrollend":De=Ck;break;case"wheel":De=Kk;break;case"copy":case"cut":case"paste":De=Dk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=Xv;break;case"toggle":case"beforetoggle":De=Yk}var gt=(l&4)!==0,tn=!gt&&(i==="scroll"||i==="scrollend"),xe=gt?ke!==null?ke+"Capture":null:ke;gt=[];for(var he=Se,_e;he!==null;){var Fe=he;if(_e=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||_e===null||xe===null||(Fe=Gl(he,xe),Fe!=null&&gt.push(Sc(he,Fe,_e))),tn)break;he=he.return}0<gt.length&&(ke=new De(ke,at,null,h,Le),Be.push({event:ke,listeners:gt}))}}if((l&7)===0){e:{if(ke=i==="mouseover"||i==="pointerover",De=i==="mouseout"||i==="pointerout",ke&&h!==c0&&(at=h.relatedTarget||h.fromElement)&&(Ke(at)||at[ce]))break e;if((De||ke)&&(ke=Le.window===Le?Le:(ke=Le.ownerDocument)?ke.defaultView||ke.parentWindow:window,De?(at=h.relatedTarget||h.toElement,De=Se,at=at?Ke(at):null,at!==null&&(tn=a(at),gt=at.tag,at!==tn||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(De=null,at=Se),De!==at)){if(gt=qv,Fe="onMouseLeave",xe="onMouseEnter",he="mouse",(i==="pointerout"||i==="pointerover")&&(gt=Xv,Fe="onPointerLeave",xe="onPointerEnter",he="pointer"),tn=De==null?ke:qe(De),_e=at==null?ke:qe(at),ke=new gt(Fe,he+"leave",De,h,Le),ke.target=tn,ke.relatedTarget=_e,Fe=null,Ke(Le)===Se&&(gt=new gt(xe,he+"enter",at,h,Le),gt.target=_e,gt.relatedTarget=tn,Fe=gt),tn=Fe,De&&at)t:{for(gt=Xj,xe=De,he=at,_e=0,Fe=xe;Fe;Fe=gt(Fe))_e++;Fe=0;for(var pt=he;pt;pt=gt(pt))Fe++;for(;0<_e-Fe;)xe=gt(xe),_e--;for(;0<Fe-_e;)he=gt(he),Fe--;for(;_e--;){if(xe===he||he!==null&&xe===he.alternate){gt=xe;break t}xe=gt(xe),he=gt(he)}gt=null}else gt=null;De!==null&&Bw(Be,ke,De,gt,!1),at!==null&&tn!==null&&Bw(Be,tn,at,gt,!0)}}e:{if(ke=Se?qe(Se):window,De=ke.nodeName&&ke.nodeName.toLowerCase(),De==="select"||De==="input"&&ke.type==="file")var Ut=r1;else if(t1(ke))if(s1)Ut=ij;else{Ut=sj;var ut=rj}else De=ke.nodeName,!De||De.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Se&&l0(Se.elementType)&&(Ut=r1):Ut=aj;if(Ut&&(Ut=Ut(i,Se))){n1(Be,Ut,h,Le);break e}ut&&ut(i,ke,Se),i==="focusout"&&Se&&ke.type==="number"&&Se.memoizedProps.value!=null&&o0(ke,"number",ke.value)}switch(ut=Se?qe(Se):window,i){case"focusin":(t1(ut)||ut.contentEditable==="true")&&(xo=ut,_0=Se,Zl=null);break;case"focusout":Zl=_0=xo=null;break;case"mousedown":S0=!0;break;case"contextmenu":case"mouseup":case"dragend":S0=!1,f1(Be,h,Le);break;case"selectionchange":if(lj)break;case"keydown":case"keyup":f1(Be,h,Le)}var kt;if(v0)e:{switch(i){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else go?Qv(i,h)&&(Ft="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(Ft="onCompositionStart");Ft&&(Yv&&h.locale!=="ko"&&(go||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&go&&(kt=Vv()):(Ma=Le,h0="value"in Ma?Ma.value:Ma.textContent,go=!0)),ut=Vd(Se,Ft),0<ut.length&&(Ft=new Kv(Ft,i,null,h,Le),Be.push({event:Ft,listeners:ut}),kt?Ft.data=kt:(kt=e1(h),kt!==null&&(Ft.data=kt)))),(kt=Zk?Qk(i,h):ej(i,h))&&(Ft=Vd(Se,"onBeforeInput"),0<Ft.length&&(ut=new Kv("onBeforeInput","beforeinput",null,h,Le),Be.push({event:ut,listeners:Ft}),ut.data=kt)),Vj(Be,i,Se,h,Le)}Fw(Be,l)})}function Sc(i,l,h){return{instance:i,listener:l,currentTarget:h}}function Vd(i,l){for(var h=l+"Capture",m=[];i!==null;){var b=i,E=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||E===null||(b=Gl(i,h),b!=null&&m.unshift(Sc(i,b,E)),b=Gl(i,l),b!=null&&m.push(Sc(i,b,E))),i.tag===3)return m;i=i.return}return[]}function Xj(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Bw(i,l,h,m,b){for(var E=l._reactName,L=[];h!==null&&h!==m;){var Z=h,de=Z.alternate,Se=Z.stateNode;if(Z=Z.tag,de!==null&&de===m)break;Z!==5&&Z!==26&&Z!==27||Se===null||(de=Se,b?(Se=Gl(h,E),Se!=null&&L.unshift(Sc(h,Se,de))):b||(Se=Gl(h,E),Se!=null&&L.push(Sc(h,Se,de)))),h=h.return}L.length!==0&&i.push({event:l,listeners:L})}var Yj=/\r\n?/g,Jj=/\u0000|\uFFFD/g;function Uw(i){return(typeof i=="string"?i:""+i).replace(Yj,`
`).replace(Jj,"")}function $w(i,l){return l=Uw(l),Uw(i)===l}function en(i,l,h,m,b,E){switch(h){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||ho(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&ho(i,""+m);break;case"className":Xu(i,"class",m);break;case"tabIndex":Xu(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Xu(i,h,m);break;case"style":$v(i,m,E);break;case"data":if(l!=="object"){Xu(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||h!=="href")){i.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(h);break}m=Ju(""+m),i.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(l!=="input"&&en(i,l,"name",b.name,b,null),en(i,l,"formEncType",b.formEncType,b,null),en(i,l,"formMethod",b.formMethod,b,null),en(i,l,"formTarget",b.formTarget,b,null)):(en(i,l,"encType",b.encType,b,null),en(i,l,"method",b.method,b,null),en(i,l,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(h);break}m=Ju(""+m),i.setAttribute(h,m);break;case"onClick":m!=null&&(i.onclick=Zs);break;case"onScroll":m!=null&&Lt("scroll",i);break;case"onScrollEnd":m!=null&&Lt("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=h}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}h=Ju(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(h,""+m):i.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(h,""):i.removeAttribute(h);break;case"capture":case"download":m===!0?i.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(h,m):i.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(h,m):i.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(h):i.setAttribute(h,m);break;case"popover":Lt("beforetoggle",i),Lt("toggle",i),br(i,"popover",m);break;case"xlinkActuate":Js(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Js(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Js(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Js(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Js(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Js(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Js(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Js(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Js(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":br(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Nk.get(h)||h,br(i,h,m))}}function Kp(i,l,h,m,b,E){switch(h){case"style":$v(i,m,E);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=h}}break;case"children":typeof m=="string"?ho(i,m):(typeof m=="number"||typeof m=="bigint")&&ho(i,""+m);break;case"onScroll":m!=null&&Lt("scroll",i);break;case"onScrollEnd":m!=null&&Lt("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Zs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!on.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(b=h.endsWith("Capture"),l=h.slice(2,b?h.length-7:void 0),E=i[oe]||null,E=E!=null?E[h]:null,typeof E=="function"&&i.removeEventListener(l,E,b),typeof m=="function")){typeof E!="function"&&E!==null&&(h in i?i[h]=null:i.hasAttribute(h)&&i.removeAttribute(h)),i.addEventListener(l,m,b);break e}h in i?i[h]=m:m===!0?i.setAttribute(h,""):br(i,h,m)}}}function Qn(i,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",i),Lt("load",i);var m=!1,b=!1,E;for(E in h)if(h.hasOwnProperty(E)){var L=h[E];if(L!=null)switch(E){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:en(i,l,E,L,h,null)}}b&&en(i,l,"srcSet",h.srcSet,h,null),m&&en(i,l,"src",h.src,h,null);return;case"input":Lt("invalid",i);var Z=E=L=b=null,de=null,Se=null;for(m in h)if(h.hasOwnProperty(m)){var Le=h[m];if(Le!=null)switch(m){case"name":b=Le;break;case"type":L=Le;break;case"checked":de=Le;break;case"defaultChecked":Se=Le;break;case"value":E=Le;break;case"defaultValue":Z=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,l));break;default:en(i,l,m,Le,h,null)}}Fv(i,E,Z,de,Se,L,b,!1);return;case"select":Lt("invalid",i),m=L=E=null;for(b in h)if(h.hasOwnProperty(b)&&(Z=h[b],Z!=null))switch(b){case"value":E=Z;break;case"defaultValue":L=Z;break;case"multiple":m=Z;default:en(i,l,b,Z,h,null)}l=E,h=L,i.multiple=!!m,l!=null?fo(i,!!m,l,!1):h!=null&&fo(i,!!m,h,!0);return;case"textarea":Lt("invalid",i),E=b=m=null;for(L in h)if(h.hasOwnProperty(L)&&(Z=h[L],Z!=null))switch(L){case"value":m=Z;break;case"defaultValue":b=Z;break;case"children":E=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(91));break;default:en(i,l,L,Z,h,null)}Bv(i,m,b,E);return;case"option":for(de in h)if(h.hasOwnProperty(de)&&(m=h[de],m!=null))switch(de){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:en(i,l,de,m,h,null)}return;case"dialog":Lt("beforetoggle",i),Lt("toggle",i),Lt("cancel",i),Lt("close",i);break;case"iframe":case"object":Lt("load",i);break;case"video":case"audio":for(m=0;m<_c.length;m++)Lt(_c[m],i);break;case"image":Lt("error",i),Lt("load",i);break;case"details":Lt("toggle",i);break;case"embed":case"source":case"link":Lt("error",i),Lt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in h)if(h.hasOwnProperty(Se)&&(m=h[Se],m!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:en(i,l,Se,m,h,null)}return;default:if(l0(l)){for(Le in h)h.hasOwnProperty(Le)&&(m=h[Le],m!==void 0&&Kp(i,l,Le,m,h,void 0));return}}for(Z in h)h.hasOwnProperty(Z)&&(m=h[Z],m!=null&&en(i,l,Z,m,h,null))}function Zj(i,l,h,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,E=null,L=null,Z=null,de=null,Se=null,Le=null;for(De in h){var Be=h[De];if(h.hasOwnProperty(De)&&Be!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":de=Be;default:m.hasOwnProperty(De)||en(i,l,De,null,m,Be)}}for(var ke in m){var De=m[ke];if(Be=h[ke],m.hasOwnProperty(ke)&&(De!=null||Be!=null))switch(ke){case"type":E=De;break;case"name":b=De;break;case"checked":Se=De;break;case"defaultChecked":Le=De;break;case"value":L=De;break;case"defaultValue":Z=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,l));break;default:De!==Be&&en(i,l,ke,De,m,Be)}}i0(i,L,Z,de,Se,Le,E,b);return;case"select":De=L=Z=ke=null;for(E in h)if(de=h[E],h.hasOwnProperty(E)&&de!=null)switch(E){case"value":break;case"multiple":De=de;default:m.hasOwnProperty(E)||en(i,l,E,null,m,de)}for(b in m)if(E=m[b],de=h[b],m.hasOwnProperty(b)&&(E!=null||de!=null))switch(b){case"value":ke=E;break;case"defaultValue":Z=E;break;case"multiple":L=E;default:E!==de&&en(i,l,b,E,m,de)}l=Z,h=L,m=De,ke!=null?fo(i,!!h,ke,!1):!!m!=!!h&&(l!=null?fo(i,!!h,l,!0):fo(i,!!h,h?[]:"",!1));return;case"textarea":De=ke=null;for(Z in h)if(b=h[Z],h.hasOwnProperty(Z)&&b!=null&&!m.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:en(i,l,Z,null,m,b)}for(L in m)if(b=m[L],E=h[L],m.hasOwnProperty(L)&&(b!=null||E!=null))switch(L){case"value":ke=b;break;case"defaultValue":De=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==E&&en(i,l,L,b,m,E)}zv(i,ke,De);return;case"option":for(var at in h)if(ke=h[at],h.hasOwnProperty(at)&&ke!=null&&!m.hasOwnProperty(at))switch(at){case"selected":i.selected=!1;break;default:en(i,l,at,null,m,ke)}for(de in m)if(ke=m[de],De=h[de],m.hasOwnProperty(de)&&ke!==De&&(ke!=null||De!=null))switch(de){case"selected":i.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:en(i,l,de,ke,m,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in h)ke=h[gt],h.hasOwnProperty(gt)&&ke!=null&&!m.hasOwnProperty(gt)&&en(i,l,gt,null,m,ke);for(Se in m)if(ke=m[Se],De=h[Se],m.hasOwnProperty(Se)&&ke!==De&&(ke!=null||De!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,l));break;default:en(i,l,Se,ke,m,De)}return;default:if(l0(l)){for(var tn in h)ke=h[tn],h.hasOwnProperty(tn)&&ke!==void 0&&!m.hasOwnProperty(tn)&&Kp(i,l,tn,void 0,m,ke);for(Le in m)ke=m[Le],De=h[Le],!m.hasOwnProperty(Le)||ke===De||ke===void 0&&De===void 0||Kp(i,l,Le,ke,m,De);return}}for(var xe in h)ke=h[xe],h.hasOwnProperty(xe)&&ke!=null&&!m.hasOwnProperty(xe)&&en(i,l,xe,null,m,ke);for(Be in m)ke=m[Be],De=h[Be],!m.hasOwnProperty(Be)||ke===De||ke==null&&De==null||en(i,l,Be,ke,m,De)}function Hw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qj(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,h=performance.getEntriesByType("resource"),m=0;m<h.length;m++){var b=h[m],E=b.transferSize,L=b.initiatorType,Z=b.duration;if(E&&Z&&Hw(L)){for(L=0,Z=b.responseEnd,m+=1;m<h.length;m++){var de=h[m],Se=de.startTime;if(Se>Z)break;var Le=de.transferSize,Be=de.initiatorType;Le&&Hw(Be)&&(de=de.responseEnd,L+=Le*(de<Z?1:(Z-Se)/(de-Se)))}if(--m,l+=8*(E+L)/(b.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Xp=null,Yp=null;function Wd(i){return i.nodeType===9?i:i.ownerDocument}function Gw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vw(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Jp(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Zp=null;function eA(){var i=window.event;return i&&i.type==="popstate"?i===Zp?!1:(Zp=i,!0):(Zp=null,!1)}var Ww=typeof setTimeout=="function"?setTimeout:void 0,tA=typeof clearTimeout=="function"?clearTimeout:void 0,qw=typeof Promise=="function"?Promise:void 0,nA=typeof queueMicrotask=="function"?queueMicrotask:typeof qw<"u"?function(i){return qw.resolve(null).then(i).catch(rA)}:Ww;function rA(i){setTimeout(function(){throw i})}function Ya(i){return i==="head"}function Kw(i,l){var h=l,m=0;do{var b=h.nextSibling;if(i.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"||h==="/&"){if(m===0){i.removeChild(b),Go(l);return}m--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")m++;else if(h==="html")Ec(i.ownerDocument.documentElement);else if(h==="head"){h=i.ownerDocument.head,Ec(h);for(var E=h.firstChild;E;){var L=E.nextSibling,Z=E.nodeName;E[Ae]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=L}}else h==="body"&&Ec(i.ownerDocument.body);h=b}while(h);Go(l)}function Xw(i,l){var h=i;i=0;do{var m=h.nextSibling;if(h.nodeType===1?l?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(l?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),m&&m.nodeType===8)if(h=m.data,h==="/$"){if(i===0)break;i--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||i++;h=m}while(h)}function Qp(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Qp(h),We(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}i.removeChild(h)}}function sA(i,l,h,m){for(;i.nodeType===1;){var b=h;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[Ae])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(E=i.getAttribute("rel"),E==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(E!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(E=i.getAttribute("src"),(E!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&E&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var E=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===E)return i}else return i;if(i=ls(i.nextSibling),i===null)break}return null}function aA(i,l,h){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!h||(i=ls(i.nextSibling),i===null))return null;return i}function Yw(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ls(i.nextSibling),i===null))return null;return i}function em(i){return i.data==="$?"||i.data==="$~"}function tm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function iA(i,l){var h=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||h.readyState!=="loading")l();else{var m=function(){l(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function ls(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var nm=null;function Jw(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"||h==="/&"){if(l===0)return ls(i.nextSibling);l--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||l++}i=i.nextSibling}return null}function Zw(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(l===0)return i;l--}else h!=="/$"&&h!=="/&"||l++}i=i.previousSibling}return null}function Qw(i,l,h){switch(l=Wd(h),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ec(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);We(i)}var cs=new Map,eb=new Set;function qd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var pa=H.d;H.d={f:oA,r:lA,D:cA,C:uA,L:dA,m:fA,X:pA,S:hA,M:mA};function oA(){var i=pa.f(),l=Fd();return i||l}function lA(i){var l=nt(i);l!==null&&l.tag===5&&l.type==="form"?xy(l):pa.r(i)}var Uo=typeof document>"u"?null:document;function tb(i,l,h){var m=Uo;if(m&&typeof l=="string"&&l){var b=ts(l);b='link[rel="'+i+'"][href="'+b+'"]',typeof h=="string"&&(b+='[crossorigin="'+h+'"]'),eb.has(b)||(eb.add(b),i={rel:i,crossOrigin:h,href:l},m.querySelector(b)===null&&(l=m.createElement("link"),Qn(l,"link",i),lt(l),m.head.appendChild(l)))}}function cA(i){pa.D(i),tb("dns-prefetch",i,null)}function uA(i,l){pa.C(i,l),tb("preconnect",i,l)}function dA(i,l,h){pa.L(i,l,h);var m=Uo;if(m&&i&&l){var b='link[rel="preload"][as="'+ts(l)+'"]';l==="image"&&h&&h.imageSrcSet?(b+='[imagesrcset="'+ts(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(b+='[imagesizes="'+ts(h.imageSizes)+'"]')):b+='[href="'+ts(i)+'"]';var E=b;switch(l){case"style":E=$o(i);break;case"script":E=Ho(i)}cs.has(E)||(i=g({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:i,as:l},h),cs.set(E,i),m.querySelector(b)!==null||l==="style"&&m.querySelector(Nc(E))||l==="script"&&m.querySelector(Tc(E))||(l=m.createElement("link"),Qn(l,"link",i),lt(l),m.head.appendChild(l)))}}function fA(i,l){pa.m(i,l);var h=Uo;if(h&&i){var m=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+ts(m)+'"][href="'+ts(i)+'"]',E=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Ho(i)}if(!cs.has(E)&&(i=g({rel:"modulepreload",href:i},l),cs.set(E,i),h.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Tc(E)))return}m=h.createElement("link"),Qn(m,"link",i),lt(m),h.head.appendChild(m)}}}function hA(i,l,h){pa.S(i,l,h);var m=Uo;if(m&&i){var b=Qe(m).hoistableStyles,E=$o(i);l=l||"default";var L=b.get(E);if(!L){var Z={loading:0,preload:null};if(L=m.querySelector(Nc(E)))Z.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":l},h),(h=cs.get(E))&&rm(i,h);var de=L=m.createElement("link");lt(de),Qn(de,"link",i),de._p=new Promise(function(Se,Le){de.onload=Se,de.onerror=Le}),de.addEventListener("load",function(){Z.loading|=1}),de.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,Kd(L,l,m)}L={type:"stylesheet",instance:L,count:1,state:Z},b.set(E,L)}}}function pA(i,l){pa.X(i,l);var h=Uo;if(h&&i){var m=Qe(h).hoistableScripts,b=Ho(i),E=m.get(b);E||(E=h.querySelector(Tc(b)),E||(i=g({src:i,async:!0},l),(l=cs.get(b))&&sm(i,l),E=h.createElement("script"),lt(E),Qn(E,"link",i),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(b,E))}}function mA(i,l){pa.M(i,l);var h=Uo;if(h&&i){var m=Qe(h).hoistableScripts,b=Ho(i),E=m.get(b);E||(E=h.querySelector(Tc(b)),E||(i=g({src:i,async:!0,type:"module"},l),(l=cs.get(b))&&sm(i,l),E=h.createElement("script"),lt(E),Qn(E,"link",i),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(b,E))}}function nb(i,l,h,m){var b=(b=ue.current)?qd(b):null;if(!b)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=$o(h.href),h=Qe(b).hoistableStyles,m=h.get(l),m||(m={type:"style",instance:null,count:0,state:null},h.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){i=$o(h.href);var E=Qe(b).hoistableStyles,L=E.get(i);if(L||(b=b.ownerDocument||b,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(i,L),(E=b.querySelector(Nc(i)))&&!E._p&&(L.instance=E,L.state.loading=5),cs.has(i)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},cs.set(i,h),E||gA(b,i,h,L.state))),l&&m===null)throw Error(r(528,""));return L}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ho(h),h=Qe(b).hoistableScripts,m=h.get(l),m||(m={type:"script",instance:null,count:0,state:null},h.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function $o(i){return'href="'+ts(i)+'"'}function Nc(i){return'link[rel="stylesheet"]['+i+"]"}function rb(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function gA(i,l,h,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Qn(l,"link",h),lt(l),i.head.appendChild(l))}function Ho(i){return'[src="'+ts(i)+'"]'}function Tc(i){return"script[async]"+i}function sb(i,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+ts(h.href)+'"]');if(m)return l.instance=m,lt(m),m;var b=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),lt(m),Qn(m,"style",b),Kd(m,h.precedence,i),l.instance=m;case"stylesheet":b=$o(h.href);var E=i.querySelector(Nc(b));if(E)return l.state.loading|=4,l.instance=E,lt(E),E;m=rb(h),(b=cs.get(b))&&rm(m,b),E=(i.ownerDocument||i).createElement("link"),lt(E);var L=E;return L._p=new Promise(function(Z,de){L.onload=Z,L.onerror=de}),Qn(E,"link",m),l.state.loading|=4,Kd(E,h.precedence,i),l.instance=E;case"script":return E=Ho(h.src),(b=i.querySelector(Tc(E)))?(l.instance=b,lt(b),b):(m=h,(b=cs.get(E))&&(m=g({},h),sm(m,b)),i=i.ownerDocument||i,b=i.createElement("script"),lt(b),Qn(b,"link",m),i.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Kd(m,h.precedence,i));return l.instance}function Kd(i,l,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,E=b,L=0;L<m.length;L++){var Z=m[L];if(Z.dataset.precedence===l)E=Z;else if(E!==b)break}E?E.parentNode.insertBefore(i,E.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(i,l.firstChild))}function rm(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function sm(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Xd=null;function ab(i,l,h){if(Xd===null){var m=new Map,b=Xd=new Map;b.set(h,m)}else b=Xd,m=b.get(h),m||(m=new Map,b.set(h,m));if(m.has(i))return m;for(m.set(i,null),h=h.getElementsByTagName(i),b=0;b<h.length;b++){var E=h[b];if(!(E[Ae]||E[se]||i==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var L=E.getAttribute(l)||"";L=i+L;var Z=m.get(L);Z?Z.push(E):m.set(L,[E])}}return m}function ib(i,l,h){i=i.ownerDocument||i,i.head.insertBefore(h,l==="title"?i.querySelector("head > title"):null)}function xA(i,l,h){if(h===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function ob(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function vA(i,l,h,m){if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var b=$o(m.href),E=l.querySelector(Nc(b));if(E){l=E._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=Yd.bind(i),l.then(i,i)),h.state.loading|=4,h.instance=E,lt(E);return}E=l.ownerDocument||l,m=rb(m),(b=cs.get(b))&&rm(m,b),E=E.createElement("link"),lt(E);var L=E;L._p=new Promise(function(Z,de){L.onload=Z,L.onerror=de}),Qn(E,"link",m),h.instance=E}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(i.count++,h=Yd.bind(i),l.addEventListener("load",h),l.addEventListener("error",h))}}var am=0;function yA(i,l){return i.stylesheets&&i.count===0&&Zd(i,i.stylesheets),0<i.count||0<i.imgCount?function(h){var m=setTimeout(function(){if(i.stylesheets&&Zd(i,i.stylesheets),i.unsuspend){var E=i.unsuspend;i.unsuspend=null,E()}},6e4+l);0<i.imgBytes&&am===0&&(am=62500*Qj());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Zd(i,i.stylesheets),i.unsuspend)){var E=i.unsuspend;i.unsuspend=null,E()}},(i.imgBytes>am?50:800)+l);return i.unsuspend=h,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(b)}}:null}function Yd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Jd=null;function Zd(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Jd=new Map,l.forEach(wA,i),Jd=null,Yd.call(i))}function wA(i,l){if(!(l.state.loading&4)){var h=Jd.get(i);if(h)var m=h.get(null);else{h=new Map,Jd.set(i,h);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<b.length;E++){var L=b[E];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(h.set(L.dataset.precedence,L),m=L)}m&&h.set(null,m)}b=l.instance,L=b.getAttribute("data-precedence"),E=h.get(L)||m,E===m&&h.set(null,b),h.set(L,b),this.count++,m=Yd.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),E?E.parentNode.insertBefore(b,E.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),l.state.loading|=4}}var Cc={$$typeof:T,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function bA(i,l,h,m,b,E,L,Z,de){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jn(0),this.hiddenUpdates=jn(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=E,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function lb(i,l,h,m,b,E,L,Z,de,Se,Le,Be){return i=new bA(i,l,h,L,de,Se,Le,Be,Z),l=1,E===!0&&(l|=24),E=Lr(3,null,null,l),i.current=E,E.stateNode=i,l=F0(),l.refCount++,i.pooledCache=l,l.refCount++,E.memoizedState={element:m,isDehydrated:h,cache:l},$0(E),i}function cb(i){return i?(i=wo,i):wo}function ub(i,l,h,m,b,E){b=cb(b),m.context===null?m.context=b:m.pendingContext=b,m=za(l),m.payload={element:h},E=E===void 0?null:E,E!==null&&(m.callback=E),h=Ba(i,m,l),h!==null&&(Cr(h,i,l),ac(h,i,l))}function db(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<l?h:l}}function im(i,l){db(i,l),(i=i.alternate)&&db(i,l)}function fb(i){if(i.tag===13||i.tag===31){var l=Ni(i,67108864);l!==null&&Cr(l,i,67108864),im(i,67108864)}}function hb(i){if(i.tag===13||i.tag===31){var l=Ur();l=Oe(l);var h=Ni(i,l);h!==null&&Cr(h,i,l),im(i,l)}}var Qd=!0;function _A(i,l,h,m){var b=K.T;K.T=null;var E=H.p;try{H.p=2,om(i,l,h,m)}finally{H.p=E,K.T=b}}function SA(i,l,h,m){var b=K.T;K.T=null;var E=H.p;try{H.p=8,om(i,l,h,m)}finally{H.p=E,K.T=b}}function om(i,l,h,m){if(Qd){var b=lm(m);if(b===null)qp(i,l,m,ef,h),mb(i,m);else if(NA(b,i,l,h,m))m.stopPropagation();else if(mb(i,m),l&4&&-1<EA.indexOf(i)){for(;b!==null;){var E=nt(b);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var L=Ot(E.pendingLanes);if(L!==0){var Z=E;for(Z.pendingLanes|=2,Z.entangledLanes|=2;L;){var de=1<<31-At(L);Z.entanglements[1]|=de,L&=~de}Us(E),(Vt&6)===0&&(Ld=we()+500,bc(0))}}break;case 31:case 13:Z=Ni(E,2),Z!==null&&Cr(Z,E,2),Fd(),im(E,2)}if(E=lm(m),E===null&&qp(i,l,m,ef,h),E===b)break;b=E}b!==null&&m.stopPropagation()}else qp(i,l,m,null,h)}}function lm(i){return i=u0(i),cm(i)}var ef=null;function cm(i){if(ef=null,i=Ke(i),i!==null){var l=a(i);if(l===null)i=null;else{var h=l.tag;if(h===13){if(i=o(l),i!==null)return i;i=null}else if(h===31){if(i=u(l),i!==null)return i;i=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return ef=i,null}function pb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case He:return 2;case et:return 8;case Ge:case mt:return 32;case Gt:return 268435456;default:return 32}default:return 32}}var um=!1,Ja=null,Za=null,Qa=null,kc=new Map,jc=new Map,ei=[],EA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mb(i,l){switch(i){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":kc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(l.pointerId)}}function Ac(i,l,h,m,b,E){return i===null||i.nativeEvent!==E?(i={blockedOn:l,domEventName:h,eventSystemFlags:m,nativeEvent:E,targetContainers:[b]},l!==null&&(l=nt(l),l!==null&&fb(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),i)}function NA(i,l,h,m,b){switch(l){case"focusin":return Ja=Ac(Ja,i,l,h,m,b),!0;case"dragenter":return Za=Ac(Za,i,l,h,m,b),!0;case"mouseover":return Qa=Ac(Qa,i,l,h,m,b),!0;case"pointerover":var E=b.pointerId;return kc.set(E,Ac(kc.get(E)||null,i,l,h,m,b)),!0;case"gotpointercapture":return E=b.pointerId,jc.set(E,Ac(jc.get(E)||null,i,l,h,m,b)),!0}return!1}function gb(i){var l=Ke(i.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){i.blockedOn=l,ie(i.priority,function(){hb(h)});return}}else if(l===31){if(l=u(h),l!==null){i.blockedOn=l,ie(i.priority,function(){hb(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function tf(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var h=lm(i.nativeEvent);if(h===null){h=i.nativeEvent;var m=new h.constructor(h.type,h);c0=m,h.target.dispatchEvent(m),c0=null}else return l=nt(h),l!==null&&fb(l),i.blockedOn=h,!1;l.shift()}return!0}function xb(i,l,h){tf(i)&&h.delete(l)}function TA(){um=!1,Ja!==null&&tf(Ja)&&(Ja=null),Za!==null&&tf(Za)&&(Za=null),Qa!==null&&tf(Qa)&&(Qa=null),kc.forEach(xb),jc.forEach(xb)}function nf(i,l){i.blockedOn===l&&(i.blockedOn=null,um||(um=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,TA)))}var rf=null;function vb(i){rf!==i&&(rf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){rf===i&&(rf=null);for(var l=0;l<i.length;l+=3){var h=i[l],m=i[l+1],b=i[l+2];if(typeof m!="function"){if(cm(m||h)===null)continue;break}var E=nt(h);E!==null&&(i.splice(l,3),l-=3,lp(E,{pending:!0,data:b,method:h.method,action:m},m,b))}}))}function Go(i){function l(de){return nf(de,i)}Ja!==null&&nf(Ja,i),Za!==null&&nf(Za,i),Qa!==null&&nf(Qa,i),kc.forEach(l),jc.forEach(l);for(var h=0;h<ei.length;h++){var m=ei[h];m.blockedOn===i&&(m.blockedOn=null)}for(;0<ei.length&&(h=ei[0],h.blockedOn===null);)gb(h),h.blockedOn===null&&ei.shift();if(h=(i.ownerDocument||i).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var b=h[m],E=h[m+1],L=b[oe]||null;if(typeof E=="function")L||vb(h);else if(L){var Z=null;if(E&&E.hasAttribute("formAction")){if(b=E,L=E[oe]||null)Z=L.formAction;else if(cm(b)!==null)continue}else Z=L.action;typeof Z=="function"?h[m+1]=Z:(h.splice(m,3),m-=3),vb(h)}}}function yb(){function i(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(L){return b=L})},focusReset:"manual",scroll:"manual"})}function l(){b!==null&&(b(),b=null),m||setTimeout(h,20)}function h(){if(!m&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(h,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),b!==null&&(b(),b=null)}}}function dm(i){this._internalRoot=i}sf.prototype.render=dm.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,m=Ur();ub(h,m,i,l,null,null)},sf.prototype.unmount=dm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;ub(i.current,2,null,i,null,null),Fd(),l[ce]=null}};function sf(i){this._internalRoot=i}sf.prototype.unstable_scheduleHydration=function(i){if(i){var l=W();i={blockedOn:null,target:i,priority:l};for(var h=0;h<ei.length&&l!==0&&l<ei[h].priority;h++);ei.splice(h,0,i),h===0&&gb(i)}};var wb=t.version;if(wb!=="19.2.0")throw Error(r(527,wb,"19.2.0"));H.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(l),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var CA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{xt=af.inject(CA),rt=af}catch{}}return Oc.createRoot=function(i,l){if(!s(i))throw Error(r(299));var h=!1,m="",b=Cy,E=ky,L=jy;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(L=l.onRecoverableError)),l=lb(i,1,!1,null,null,h,m,null,b,E,L,yb),i[ce]=l.current,Wp(i),new dm(l)},Oc.hydrateRoot=function(i,l,h){if(!s(i))throw Error(r(299));var m=!1,b="",E=Cy,L=ky,Z=jy,de=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(L=h.onCaughtError),h.onRecoverableError!==void 0&&(Z=h.onRecoverableError),h.formState!==void 0&&(de=h.formState)),l=lb(i,1,!0,l,h??null,m,b,de,E,L,Z,yb),l.context=cb(null),h=l.current,m=Ur(),m=Oe(m),b=za(m),b.callback=null,Ba(h,b,m),h=m,l.current.lanes=h,fn(l,h),Us(l),i[ce]=l.current,Wp(i),new sf(l)},Oc.version="19.2.0",Oc}var Ab;function FA(){if(Ab)return pm.exports;Ab=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),pm.exports=PA(),pm.exports}var zA=FA();var Rb="popstate";function BA(e={}){function t(r,s){let{pathname:a,search:o,hash:u}=r.location;return vg("",{pathname:a,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:du(s)}return $A(t,n,null,e)}function mn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ps(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function UA(){return Math.random().toString(36).substring(2,10)}function Ob(e,t){return{usr:e.state,key:e.key,idx:t}}function vg(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Nl(t):t,state:n,key:t&&t.key||r||UA()}}function du({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Nl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function $A(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,u="POP",d=null,f=p();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function p(){return(o.state||{idx:null}).idx}function g(){u="POP";let _=p(),S=_==null?null:_-f;f=_,d&&d({action:u,location:y.location,delta:S})}function v(_,S){u="PUSH";let N=vg(y.location,_,S);f=p()+1;let T=Ob(N,f),C=y.createHref(N);try{o.pushState(T,"",C)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(C)}a&&d&&d({action:u,location:y.location,delta:1})}function x(_,S){u="REPLACE";let N=vg(y.location,_,S);f=p();let T=Ob(N,f),C=y.createHref(N);o.replaceState(T,"",C),a&&d&&d({action:u,location:y.location,delta:0})}function w(_){return HA(_)}let y={get action(){return u},get location(){return e(s,o)},listen(_){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Rb,g),d=_,()=>{s.removeEventListener(Rb,g),d=null}},createHref(_){return t(s,_)},createURL:w,encodeLocation(_){let S=w(_);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:x,go(_){return o.go(_)}};return y}function HA(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:du(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function kS(e,t,n="/"){return GA(e,t,n,!1)}function GA(e,t,n,r){let s=typeof t=="string"?Nl(t):t,a=Ta(s.pathname||"/",n);if(a==null)return null;let o=jS(e);VA(o);let u=null;for(let d=0;u==null&&d<o.length;++d){let f=n3(a);u=e3(o[d],f,r)}return u}function jS(e,t=[],n=[],r="",s=!1){let a=(o,u,d=s,f)=>{let p={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;mn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=_a([r,p.relativePath]),v=n.concat(p);o.children&&o.children.length>0&&(mn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),jS(o.children,t,v,g,d)),!(o.path==null&&!o.index)&&t.push({path:g,score:ZA(g,o.index),routesMeta:v})};return e.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))a(o,u);else for(let d of AS(o.path))a(o,u,!0,d)}),t}function AS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=AS(r.join("/")),u=[];return u.push(...o.map(d=>d===""?a:[a,d].join("/"))),s&&u.push(...o),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function VA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:QA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var WA=/^:[\w-]+$/,qA=3,KA=2,XA=1,YA=10,JA=-2,Mb=e=>e==="*";function ZA(e,t){let n=e.split("/"),r=n.length;return n.some(Mb)&&(r+=JA),t&&(r+=KA),n.filter(s=>!Mb(s)).reduce((s,a)=>s+(WA.test(a)?qA:a===""?XA:YA),r)}function QA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function e3(e,t,n=!1){let{routesMeta:r}=e,s={},a="/",o=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",g=Kf({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=Kf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:_a([a,g.pathname]),pathnameBase:i3(_a([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=_a([a,g.pathnameBase]))}return o}function Kf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=t3(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let w=u[v]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const x=u[v];return g&&!x?f[p]=void 0:f[p]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:e}}function t3(e,t=!1,n=!0){ps(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function n3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ps(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ta(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function r3(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Nl(e):e;return{pathname:n?n.startsWith("/")?n:s3(n,t):t,search:o3(r),hash:l3(s)}}function s3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vm(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function a3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function yx(e){let t=a3(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function wx(e,t,n,r=!1){let s;typeof e=="string"?s=Nl(e):(s={...e},mn(!s.pathname||!s.pathname.includes("?"),vm("?","pathname","search",s)),mn(!s.pathname||!s.pathname.includes("#"),vm("#","pathname","hash",s)),mn(!s.search||!s.search.includes("#"),vm("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,u;if(o==null)u=n;else{let g=t.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?t[g]:"/"}let d=r3(s,u),f=o&&o!=="/"&&o.endsWith("/"),p=(a||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var _a=e=>e.join("/").replace(/\/\/+/g,"/"),i3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),o3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,l3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function c3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RS=["POST","PUT","PATCH","DELETE"];new Set(RS);var u3=["GET",...RS];new Set(u3);var Tl=P.createContext(null);Tl.displayName="DataRouter";var Oh=P.createContext(null);Oh.displayName="DataRouterState";P.createContext(!1);var OS=P.createContext({isTransitioning:!1});OS.displayName="ViewTransition";var d3=P.createContext(new Map);d3.displayName="Fetchers";var f3=P.createContext(null);f3.displayName="Await";var Ds=P.createContext(null);Ds.displayName="Navigation";var Ou=P.createContext(null);Ou.displayName="Location";var Ks=P.createContext({outlet:null,matches:[],isDataRoute:!1});Ks.displayName="Route";var bx=P.createContext(null);bx.displayName="RouteError";function h3(e,{relative:t}={}){mn(Cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(Ds),{hash:s,pathname:a,search:o}=Mu(e,{relative:t}),u=a;return n!=="/"&&(u=a==="/"?n:_a([n,a])),r.createHref({pathname:u,search:o,hash:s})}function Cl(){return P.useContext(Ou)!=null}function Xs(){return mn(Cl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Ou).location}var MS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DS(e){P.useContext(Ds).static||P.useLayoutEffect(e)}function Mh(){let{isDataRoute:e}=P.useContext(Ks);return e?T3():p3()}function p3(){mn(Cl(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(Tl),{basename:t,navigator:n}=P.useContext(Ds),{matches:r}=P.useContext(Ks),{pathname:s}=Xs(),a=JSON.stringify(yx(r)),o=P.useRef(!1);return DS(()=>{o.current=!0}),P.useCallback((d,f={})=>{if(ps(o.current,MS),!o.current)return;if(typeof d=="number"){n.go(d);return}let p=wx(d,JSON.parse(a),s,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:_a([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,a,s,e])}P.createContext(null);function Mu(e,{relative:t}={}){let{matches:n}=P.useContext(Ks),{pathname:r}=Xs(),s=JSON.stringify(yx(n));return P.useMemo(()=>wx(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function m3(e,t){return IS(e,t)}function IS(e,t,n,r,s){mn(Cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(Ds),{matches:o}=P.useContext(Ks),u=o[o.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let N=g&&g.path||"";LS(f,!g||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let v=Xs(),x;if(t){let N=typeof t=="string"?Nl(t):t;mn(p==="/"||N.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=v;let w=x.pathname||"/",y=w;if(p!=="/"){let N=p.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=kS(e,{pathname:y});ps(g||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ps(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=w3(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:_a([p,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:_a([p,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,n,r,s);return t&&S?P.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},S):S}function g3(){let e=N3(),t=c3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:s},n):null,o)}var x3=P.createElement(g3,null),v3=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?P.createElement(Ks.Provider,{value:this.props.routeContext},P.createElement(bx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function y3({routeContext:e,match:t,children:n}){let r=P.useContext(Tl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Ks.Provider,{value:e},n)}function w3(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let f=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);mn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:v}=n,x=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,p,g)=>{let v,x=!1,w=null,y=null;n&&(v=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||x3,u&&(d<0&&g===0?(LS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,y=null):d===g&&(x=!0,y=p.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,g+1)),S=()=>{let N;return v?N=w:x?N=y:p.route.Component?N=P.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=f,P.createElement(y3,{match:p,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?P.createElement(v3,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:r}):S()},null)}function _x(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b3(e){let t=P.useContext(Tl);return mn(t,_x(e)),t}function _3(e){let t=P.useContext(Oh);return mn(t,_x(e)),t}function S3(e){let t=P.useContext(Ks);return mn(t,_x(e)),t}function Sx(e){let t=S3(e),n=t.matches[t.matches.length-1];return mn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function E3(){return Sx("useRouteId")}function N3(){let e=P.useContext(bx),t=_3("useRouteError"),n=Sx("useRouteError");return e!==void 0?e:t.errors?.[n]}function T3(){let{router:e}=b3("useNavigate"),t=Sx("useNavigate"),n=P.useRef(!1);return DS(()=>{n.current=!0}),P.useCallback(async(s,a={})=>{ps(n.current,MS),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var Db={};function LS(e,t,n){!t&&!Db[e]&&(Db[e]=!0,ps(!1,n))}P.memo(C3);function C3({routes:e,future:t,state:n,unstable_onError:r}){return IS(e,void 0,n,r,t)}function PS({to:e,replace:t,state:n,relative:r}){mn(Cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(Ds);ps(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=P.useContext(Ks),{pathname:o}=Xs(),u=Mh(),d=wx(e,yx(a),o,r==="path"),f=JSON.stringify(d);return P.useEffect(()=>{u(JSON.parse(f),{replace:t,state:n,relative:r})},[u,f,r,t,n]),null}function Vr(e){mn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function k3({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){mn(!Cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:o,navigator:s,static:a,future:{}}),[o,s,a]);typeof n=="string"&&(n=Nl(n));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:v="default"}=n,x=P.useMemo(()=>{let w=Ta(d,o);return w==null?null:{location:{pathname:w,search:f,hash:p,state:g,key:v},navigationType:r}},[o,d,f,p,g,v,r]);return ps(x!=null,`<Router basename="${o}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:P.createElement(Ds.Provider,{value:u},P.createElement(Ou.Provider,{children:t,value:x}))}function FS({children:e,location:t}){return m3(yg(e),t)}function yg(e,t=[]){let n=[];return P.Children.forEach(e,(r,s)=>{if(!P.isValidElement(r))return;let a=[...t,s];if(r.type===P.Fragment){n.push.apply(n,yg(r.props.children,a));return}mn(r.type===Vr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yg(r.props.children,a)),n.push(o)}),n}var Pf="get",Ff="application/x-www-form-urlencoded";function Dh(e){return e!=null&&typeof e.tagName=="string"}function j3(e){return Dh(e)&&e.tagName.toLowerCase()==="button"}function A3(e){return Dh(e)&&e.tagName.toLowerCase()==="form"}function R3(e){return Dh(e)&&e.tagName.toLowerCase()==="input"}function O3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function M3(e,t){return e.button===0&&(!t||t==="_self")&&!O3(e)}function wg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function D3(e,t){let n=wg(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}var of=null;function I3(){if(of===null)try{new FormData(document.createElement("form"),0),of=!1}catch{of=!0}return of}var L3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(e){return e!=null&&!L3.has(e)?(ps(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ff}"`),null):e}function P3(e,t){let n,r,s,a,o;if(A3(e)){let u=e.getAttribute("action");r=u?Ta(u,t):null,n=e.getAttribute("method")||Pf,s=ym(e.getAttribute("enctype"))||Ff,a=new FormData(e)}else if(j3(e)||R3(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?Ta(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Pf,s=ym(e.getAttribute("formenctype"))||ym(u.getAttribute("enctype"))||Ff,a=new FormData(u,e),!I3()){let{name:f,type:p,value:g}=e;if(p==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,g)}}else{if(Dh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pf,r=null,s=Ff,o=e}return a&&s==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ex(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function F3(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ta(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function z3(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function U3(e,t,n){let r=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let o=await z3(a,n);return o.links?o.links():[]}return[]}));return V3(r.flat(1).filter(B3).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ib(e,t,n,r,s,a){let o=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?t.filter((d,f)=>o(d,f)||u(d,f)):a==="data"?t.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(o(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function $3(e,t,{includeHydrateFallback:n}={}){return H3(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function H3(e){return[...new Set(e)]}function G3(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function V3(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let a=JSON.stringify(G3(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function zS(){let e=P.useContext(Tl);return Ex(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function W3(){let e=P.useContext(Oh);return Ex(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Nx=P.createContext(void 0);Nx.displayName="FrameworkContext";function BS(){let e=P.useContext(Nx);return Ex(e,"You must render this element inside a <HydratedRouter> element"),e}function q3(e,t){let n=P.useContext(Nx),[r,s]=P.useState(!1),[a,o]=P.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=t,v=P.useRef(null);P.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=S=>{S.forEach(N=>{o(N.isIntersecting)})},_=new IntersectionObserver(y,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[e]),P.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let x=()=>{s(!0)},w=()=>{s(!1),o(!1)};return n?e!=="intent"?[a,v,{}]:[a,v,{onFocus:Mc(u,x),onBlur:Mc(d,w),onMouseEnter:Mc(f,x),onMouseLeave:Mc(p,w),onTouchStart:Mc(g,x)}]:[!1,v,{}]}function Mc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function K3({page:e,...t}){let{router:n}=zS(),r=P.useMemo(()=>kS(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?P.createElement(Y3,{page:e,matches:r,...t}):null}function X3(e){let{manifest:t,routeModules:n}=BS(),[r,s]=P.useState([]);return P.useEffect(()=>{let a=!1;return U3(e,t,n).then(o=>{a||s(o)}),()=>{a=!0}},[e,t,n]),r}function Y3({page:e,matches:t,...n}){let r=Xs(),{manifest:s,routeModules:a}=BS(),{basename:o}=zS(),{loaderData:u,matches:d}=W3(),f=P.useMemo(()=>Ib(e,t,d,s,r,"data"),[e,t,d,s,r]),p=P.useMemo(()=>Ib(e,t,d,s,r,"assets"),[e,t,d,s,r]),g=P.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,y=!1;if(t.forEach(S=>{let N=s.routes[S.route.id];!N||!N.hasLoader||(!f.some(T=>T.route.id===S.route.id)&&S.route.id in u&&a[S.route.id]?.shouldRevalidate||N.hasClientLoader?y=!0:w.add(S.route.id))}),w.size===0)return[];let _=F3(e,o,"data");return y&&w.size>0&&_.searchParams.set("_routes",t.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[_.pathname+_.search]},[o,u,r,s,f,t,e,a]),v=P.useMemo(()=>$3(p,s),[p,s]),x=X3(p);return P.createElement(P.Fragment,null,g.map(w=>P.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>P.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),x.map(({key:w,link:y})=>P.createElement("link",{key:w,nonce:n.nonce,...y})))}function J3(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var US=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{US&&(window.__reactRouterVersion="7.9.5")}catch{}function Z3({basename:e,children:t,window:n}){let r=P.useRef();r.current==null&&(r.current=BA({window:n,v5Compat:!0}));let s=r.current,[a,o]=P.useState({action:s.action,location:s.location}),u=P.useCallback(d=>{P.startTransition(()=>o(d))},[o]);return P.useLayoutEffect(()=>s.listen(u),[s,u]),P.createElement(k3,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var $S=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,il=P.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:o,state:u,target:d,to:f,preventScrollReset:p,viewTransition:g,...v},x){let{basename:w}=P.useContext(Ds),y=typeof f=="string"&&$S.test(f),_,S=!1;if(typeof f=="string"&&y&&(_=f,US))try{let O=new URL(window.location.href),Y=f.startsWith("//")?new URL(O.protocol+f):new URL(f),J=Ta(Y.pathname,w);Y.origin===O.origin&&J!=null?f=J+Y.search+Y.hash:S=!0}catch{ps(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=h3(f,{relative:s}),[T,C,A]=q3(r,v),z=t4(f,{replace:o,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:g});function M(O){t&&t(O),O.defaultPrevented||z(O)}let j=P.createElement("a",{...v,...A,href:_||N,onClick:S||a?t:M,ref:J3(x,C),target:d,"data-discover":!y&&n==="render"?"true":void 0});return T&&!y?P.createElement(P.Fragment,null,j,P.createElement(K3,{page:N})):j});il.displayName="Link";var HS=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:o,viewTransition:u,children:d,...f},p){let g=Mu(o,{relative:f.relative}),v=Xs(),x=P.useContext(Oh),{navigator:w,basename:y}=P.useContext(Ds),_=x!=null&&o4(g)&&u===!0,S=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,N=v.pathname,T=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(N=N.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&y&&(T=Ta(T,y)||T);const C=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let A=N===S||!s&&N.startsWith(S)&&N.charAt(C)==="/",z=T!=null&&(T===S||!s&&T.startsWith(S)&&T.charAt(S.length)==="/"),M={isActive:A,isPending:z,isTransitioning:_},j=A?t:void 0,O;typeof r=="function"?O=r(M):O=[r,A?"active":null,z?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let Y=typeof a=="function"?a(M):a;return P.createElement(il,{...f,"aria-current":j,className:O,ref:p,style:Y,to:o,viewTransition:u},typeof d=="function"?d(M):d)});HS.displayName="NavLink";var Q3=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:a,method:o=Pf,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,...v},x)=>{let w=a4(),y=i4(u,{relative:f}),_=o.toLowerCase()==="get"?"get":"post",S=typeof u=="string"&&$S.test(u),N=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let C=T.nativeEvent.submitter,A=C?.getAttribute("formmethod")||o;w(C||T.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:s,state:a,relative:f,preventScrollReset:p,viewTransition:g})};return P.createElement("form",{ref:x,method:_,action:y,onSubmit:r?d:N,...v,"data-discover":!S&&e==="render"?"true":void 0})});Q3.displayName="Form";function e4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GS(e){let t=P.useContext(Tl);return mn(t,e4(e)),t}function t4(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:o}={}){let u=Mh(),d=Xs(),f=Mu(e,{relative:a});return P.useCallback(p=>{if(M3(p,t)){p.preventDefault();let g=n!==void 0?n:du(d)===du(f);u(e,{replace:g,state:r,preventScrollReset:s,relative:a,viewTransition:o})}},[d,u,f,n,r,t,e,s,a,o])}function n4(e){ps(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=P.useRef(wg(e)),n=P.useRef(!1),r=Xs(),s=P.useMemo(()=>D3(r.search,n.current?null:t.current),[r.search]),a=Mh(),o=P.useCallback((u,d)=>{const f=wg(typeof u=="function"?u(new URLSearchParams(s)):u);n.current=!0,a("?"+f,d)},[a,s]);return[s,o]}var r4=0,s4=()=>`__${String(++r4)}__`;function a4(){let{router:e}=GS("useSubmit"),{basename:t}=P.useContext(Ds),n=E3();return P.useCallback(async(r,s={})=>{let{action:a,method:o,encType:u,formData:d,body:f}=P3(r,t);if(s.navigate===!1){let p=s.fetcherKey||s4();await e.fetch(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function i4(e,{relative:t}={}){let{basename:n}=P.useContext(Ds),r=P.useContext(Ks);mn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Mu(e||".",{relative:t})},o=Xs();if(e==null){a.search=o.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:_a([n,a.pathname])),du(a)}function o4(e,{relative:t}={}){let n=P.useContext(OS);mn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GS("useViewTransitionState"),s=Mu(e,{relative:t});if(!n.isTransitioning)return!1;let a=Ta(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ta(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Kf(s.pathname,o)!=null||Kf(s.pathname,a)!=null}var Vc=CS();const wm="keyset-storage-version",lf="2025-11-11",VS="keyset-store",l4=[VS,"columnOrder","columnPinning","viewTemplates","phraseColors","groupColors","pinnedPhraseIds","markedPhraseIds","pinnedGroupIds"],bm=e=>{try{const t=[];for(const n of l4)localStorage.getItem(n)!==null&&(localStorage.removeItem(n),t.push(n));console.warn("[KeySet][startup] Cleared persisted UI state:",{reason:e,removed:t})}catch(t){console.error("[KeySet][startup] Failed to clear corrupted storage",t)}},c4=e=>{try{return JSON.parse(e),!0}catch{return!1}};(()=>{if(!(typeof window>"u"||!window.localStorage))try{const e=localStorage.getItem(wm);if(e&&e!==lf){bm(`version-mismatch ${e} -> ${lf}`),localStorage.setItem(wm,lf);return}const t=localStorage.getItem(VS);if(!t)return;if(!c4(t)){bm("invalid-json"),localStorage.setItem(wm,lf);return}}catch(e){console.error("[KeySet][startup] Storage guard failed",e),bm("guard-error")}})();const u4="modulepreload",d4=function(e){return"/"+e},Lb={},kl=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var o=f;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");s=f(n.map(p=>{if(p=d4(p),p in Lb)return;Lb[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":u4,g||(x.as="script"),x.crossOrigin="",x.href=p,d&&x.setAttribute("nonce",d),document.head.appendChild(x),g)return new Promise((w,y)=>{x.addEventListener("load",w),x.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return t().catch(a)})},f4=[{to:"/accounts",label:""},{to:"/masks",label:""},{to:"/data",label:""},{to:"/announcements",label:""},{to:"/analytics",label:""}];function h4({children:e}){const t=()=>{window.pywebview?.api&&window.pywebview.api.minimize().catch(console.error)},n=()=>{window.pywebview?.api&&window.pywebview.api.maximize().catch(console.error)},r=()=>{window.pywebview?.api&&window.pywebview.api.close().catch(console.error)};return c.jsxs("div",{className:"app-shell",children:[c.jsxs("header",{className:"app-shell__header",children:[c.jsx("nav",{className:"app-shell__tabs",children:f4.map(s=>c.jsx(HS,{to:s.to,className:({isActive:a})=>["app-shell__tab",a?"app-shell__tab--active":""].join(" ").trim(),children:s.label},s.to))}),c.jsxs("div",{className:"app-shell__window-controls","aria-hidden":!0,children:[c.jsx("button",{type:"button",className:"window-btn window-btn--flat","aria-label":"",onClick:t,children:c.jsx("i",{className:"fas fa-minus"})}),c.jsx("button",{type:"button",className:"window-btn window-btn--flat","aria-label":"",onClick:n,children:c.jsx("i",{className:"fas fa-up-right-and-down-left-from-center"})}),c.jsx("button",{type:"button",className:"window-btn window-btn--flat window-btn--danger","aria-label":"",onClick:r,children:c.jsx("i",{className:"fas fa-xmark"})})]})]}),c.jsx("main",{className:"app-shell__content",children:c.jsx("div",{className:"app-shell__inner",children:e})})]})}const p4=P.lazy(()=>kl(()=>Promise.resolve().then(()=>f6),[])),m4=P.lazy(()=>kl(()=>Promise.resolve().then(()=>MI),void 0)),g4=P.lazy(()=>kl(()=>Promise.resolve().then(()=>pW),void 0)),x4=P.lazy(()=>kl(()=>Promise.resolve().then(()=>jW),void 0)),v4=P.lazy(()=>kl(()=>Promise.resolve().then(()=>lX),void 0)),Dc=()=>c.jsx("div",{className:"app-route-fallback",children:c.jsx("span",{children:""})});function y4(){return c.jsx(h4,{children:c.jsxs(FS,{children:[c.jsx(Vr,{path:"/",element:c.jsx(PS,{to:"/accounts",replace:!0})}),c.jsx(Vr,{path:"/accounts",element:c.jsx(P.Suspense,{fallback:c.jsx(Dc,{}),children:c.jsx(p4,{})})}),c.jsx(Vr,{path:"/masks",element:c.jsx(P.Suspense,{fallback:c.jsx(Dc,{}),children:c.jsx(m4,{})})}),c.jsx(Vr,{path:"/data/*",element:c.jsx(P.Suspense,{fallback:c.jsx(Dc,{}),children:c.jsx(g4,{})})}),c.jsx(Vr,{path:"/announcements/*",element:c.jsx(P.Suspense,{fallback:c.jsx(Dc,{}),children:c.jsx(x4,{})})}),c.jsx(Vr,{path:"/analytics/*",element:c.jsx(P.Suspense,{fallback:c.jsx(Dc,{}),children:c.jsx(v4,{})})})]})})}zA.createRoot(document.getElementById("root")).render(c.jsx(P.StrictMode,{children:c.jsx(Z3,{children:c.jsx(y4,{})})}));const w4={active:{label:"., ",badgeClass:"status-active"},needs_login:{label:" ",badgeClass:"status-needs_login"},error:{label:" ",badgeClass:"status-error"},working:{label:" ",badgeClass:"status-working"}},b4={russia_standard:{label:" Russia Standard",badgeClass:"fp-russia"},kazakhstan_standard:{label:" Kazakhstan Standard",badgeClass:"fp-kz"},usa_standard:{label:" USA Standard",badgeClass:"fp-default"},usa:{label:" USA",badgeClass:"fp-default"},russia:{label:" Russia",badgeClass:"fp-russia"},kazakhstan:{label:" Kazakhstan",badgeClass:"fp-kz"},nigeria:{label:" Nigeria",badgeClass:"fp-default"},lithuania:{label:" Lithuania",badgeClass:"fp-default"},custom:{label:" Custom",badgeClass:"fp-default"},no_spoofing:{label:"  ",badgeClass:"fp-default"}},Pb={label:" ",badgeClass:"status-unknown"},Fb={label:" ",badgeClass:"fp-default"};function _4(e){return e?w4[e]??Pb:Pb}function S4(e){return e?b4[e]??Fb:Fb}function E4(e,t){const{search:n,status:r,onlyWithProxy:s}=t,a=n.trim().toLowerCase();return e.filter(o=>!(r&&o.status!==r||s&&!o.proxy||a&&![o.email,o.proxy,o.authStatus,o.fingerprint].filter(Boolean).map(d=>d.toLowerCase()).some(d=>d.includes(a))))}function N4(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T4(e,t){if(!t.trim())return[e];const n=N4(t.trim()),r=new RegExp(`(${n})`,"gi");return e.split(r).filter(Boolean)}function C4(e){const t=[];if(t.push(` : ${e.authStatus||""}`),t.push(` : ${e.lastLogin||""}`),t.push(` : ${e.profileSize||""}`),e.notesRaw){let n=[];try{const r=JSON.parse(e.notesRaw);if(r&&typeof r=="object"){const s=r;Array.isArray(s.logs)&&(n=n.concat(s.logs.map(a=>String(a??"").trimEnd()).filter(a=>a.length>0))),typeof s.userNotes=="string"&&(n=n.concat(s.userNotes.split(/\r?\n/).map(a=>a.trimEnd()).filter(a=>a.length>0)))}}catch{n=e.notesRaw.split(/\r?\n/).map(r=>r.trimEnd()).filter(r=>r.length>0)}n.length&&(t.push(""),t.push(...n.slice(-100)))}return t}function k4(e){if(!e.length)return"";const t=[];return e.forEach((n,r)=>{t.push(`=== ${n.email} ===`),t.push(...C4(n)),r<e.length-1&&t.push("")}),t.join(`
`)}function j4({onAction:e}){return c.jsxs("div",{className:"top-bar",children:[c.jsxs("div",{className:"top-bar-left",children:[c.jsxs("h1",{children:[c.jsx("i",{className:"fas fa-key"})," "]}),c.jsxs("div",{className:"new-functions",children:[c.jsx("button",{className:"btn btn-primary btn-icon-compact",type:"button",title:"  (5)",onClick:()=>e("mass-launch-5"),children:c.jsx("i",{className:"fas fa-rocket"})}),c.jsx("button",{className:"btn btn-warning btn-icon-compact",type:"button",title:" ",onClick:()=>e("launch-browser"),children:c.jsx("i",{className:"fas fa-rocket"})}),c.jsx("button",{className:"btn btn-info btn-icon-compact",type:"button",title:" ",onClick:()=>e("consistency-check"),children:c.jsx("i",{className:"fas fa-search"})}),c.jsx("button",{className:"btn btn-info btn-icon-compact",type:"button",title:" ",onClick:()=>e("check-auth"),children:c.jsx("i",{className:"fas fa-shield-alt"})}),c.jsx("button",{className:"btn btn-secondary btn-icon-compact",type:"button",title:" ",onClick:()=>e("export-accounts"),children:c.jsx("i",{className:"fas fa-download"})})]})]}),c.jsxs("div",{className:"top-bar-right",children:[c.jsxs("button",{className:"btn btn-primary",type:"button",onClick:()=>e("add"),children:[c.jsx("i",{className:"fas fa-plus"})," "]}),c.jsxs("button",{className:"btn btn-secondary",type:"button",onClick:()=>e("edit"),children:[c.jsx("i",{className:"fas fa-edit"})," "]}),c.jsxs("button",{className:"btn btn-secondary",type:"button",onClick:()=>e("delete"),children:[c.jsx("i",{className:"fas fa-trash"})," "]}),c.jsxs("button",{className:"btn btn-info",type:"button",onClick:()=>e("refresh"),children:[c.jsx("i",{className:"fas fa-sync-alt"})," "]})]})]})}function A4({search:e,status:t,filteredCount:n,totalCount:r,onSearchChange:s,onStatusChange:a}){return c.jsxs("div",{className:"search-filter-bar",children:[c.jsxs("label",{className:"search-box",children:[c.jsx("i",{className:"fas fa-search","aria-hidden":!0}),c.jsx("input",{type:"text",placeholder:"  email...",value:e,onChange:o=>s(o.target.value)})]}),c.jsx("div",{className:"filter-box",children:c.jsxs("select",{value:t,onChange:o=>a(o.target.value),children:[c.jsx("option",{value:"",children:" "}),c.jsx("option",{value:"active",children:" "}),c.jsx("option",{value:"needs_login",children:"  "}),c.jsx("option",{value:"error",children:" "}),c.jsx("option",{value:"working",children:"  "})]})}),c.jsxs("div",{className:"search-counter","aria-label":" ",children:[c.jsx("span",{className:"counter-current",children:n}),c.jsx("span",{className:"counter-separator",children:"/"}),c.jsx("span",{className:"counter-total",children:r})]})]})}function zb({text:e,term:t}){const n=T4(e,t);return n.length===1?e:n.map((r,s)=>t.trim().length>0&&r.toLowerCase()===t.trim().toLowerCase()?c.jsx("mark",{className:"search-highlight",children:r},`${r}-${s}`):c.jsx("span",{children:r},`${r}-${s}`))}function R4({accounts:e,searchTerm:t,selectedIds:n,isAllSelected:r,onToggleAll:s,onToggleRow:a,onSelectAccount:o,onLaunch:u,onOpenSettings:d}){return c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"accounts-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{style:{width:"50px"},children:c.jsx("input",{type:"checkbox",checked:r,onChange:f=>s(f.target.checked)})}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:" "}),c.jsx("th",{children:""})]})}),c.jsx("tbody",{id:"accountsTableBody",children:e.map(f=>{const p=_4(f.status),g=S4(f.fingerprint),v=n.has(f.id),x=!!f.proxy;return c.jsxs("tr",{className:"table-row-clickable",onClick:w=>{w.target instanceof HTMLInputElement||o(f)},children:[c.jsx("td",{children:c.jsx("input",{type:"checkbox",className:"account-checkbox",checked:v,onChange:w=>{a(f.id),w.stopPropagation()}})}),c.jsx("td",{className:"account-email",children:c.jsx(zb,{text:f.email,term:t})}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${p.badgeClass}`,children:p.label})}),c.jsx("td",{children:f.consistencyLabel?c.jsx("span",{className:f.consistencyWarning?"consistency-badge consistency-badge-warning":"consistency-badge consistency-badge-ok",children:f.consistencyLabel}):c.jsx("span",{className:"consistency-badge consistency-badge-unknown",children:""})}),c.jsx("td",{className:x?"proxy-info":"proxy-none",children:c.jsx(zb,{text:x?f.proxy:"",term:t})}),c.jsx("td",{children:c.jsx("span",{className:`fingerprint-badge ${g.badgeClass}`,children:g.label})}),c.jsx("td",{className:"last-run",children:f.lastLaunch}),c.jsxs("td",{className:"action-buttons-cell",children:[c.jsx("button",{className:"action-btn action-btn-play",type:"button",onClick:w=>{w.stopPropagation(),u(f)},"aria-label":" ",children:c.jsx("i",{className:"fas fa-play"})}),c.jsx("button",{className:"action-btn action-btn-settings",type:"button",onClick:w=>{w.stopPropagation(),d(f)},"aria-label":" ",children:c.jsx("i",{className:"fas fa-cog"})})]})]},f.id)})})]})})}const _m="".trim(),O4=_m.endsWith("/")?_m.slice(0,-1):_m,M4=typeof window<"u"&&window.location?.origin?window.location.origin:"",Bb=O4||M4||"";function D4(e){return e.startsWith("/")?e:`/${e}`}function Du(e){const t=D4(e);return Bb?`${Bb}${t}`:t}const Tx=Du("/api"),Is=`${Tx}/accounts`,jl=`${Tx}/proxies`,Iu=`${Tx}/proxy`;async function Cn(e,t){const n=await fetch(e,t);if(!n.ok){let s=n.statusText;try{const a=await n.json();s=a.detail||JSON.stringify(a)}catch{}throw new Error(s||" ")}if(n.status===204)return;const r=await n.text();if(r)return JSON.parse(r)}function I4(){return Cn(Is,{headers:{"Content-Type":"application/json"}})}function L4(e){return Cn(Is,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}function Ub(e,t){return Cn(`${Is}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}async function P4(e){await Cn(`${Is}/${e}`,{method:"DELETE"})}function F4(e){return Cn(`${Is}/${e}/launch`,{method:"POST"})}function $b(e){return Cn(`${Is}/launch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async function z4(e,t){const n=new FormData;n.append("file",t);const r=await fetch(`${Is}/${e}/cookies`,{method:"POST",body:n});if(!r.ok){const s=await r.text();throw new Error(s||"   ")}return await r.json()}function B4(e){return Cn(`${Is}/${e}/autologin`,{method:"POST"})}function U4(e){return Cn(`${Is}/${e}/cookies`,{method:"DELETE"})}function WS(e,t,n,r,s="http"){return Cn(`${jl}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:e,port:t,username:n,password:r,proxy_type:s})})}function $4(){return Cn(`${jl}`,{method:"GET"})}function Sm(e,t,n="fixed"){return Cn(`${jl}/assign`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({account_id:e,proxy_id:t,strategy:n})})}function H4(e){const t=e&&e.length?{ids:e}:void 0;return Cn(`${jl}/test-all`,{method:"POST",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0})}function G4(e){return Cn(`${Iu}/px6/account`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:e})})}function V4(e,t,n,r){return Cn(`${Iu}/px6/price`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:e,version:t,count:n,period:r})})}function W4(e,t){return Cn(`${Iu}/px6/buy`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:e,country:t.country,version:t.version,type:t.type,count:t.count,period:t.period,autoProlong:t.autoProlong,descr:t.descr})})}function q4(e,t,n){return Cn(`${Iu}/px6/prolong`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:e,proxyIds:t,period:n})})}function K4(e,t){return Cn(`${Iu}/px6/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:e,proxyIds:t})})}function X4(e){return Cn(`${jl}/px6/distribute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}function Y4(e){return{label:e.label,server:e.server,type:e.type??"http",username:e.username??void 0,password:e.password??void 0,geo:e.geo??void 0,sticky:e.sticky??!0,max_concurrent:e.maxConcurrent??10,enabled:e.enabled??!0,notes:e.notes??""}}function J4(e){return Cn(`${jl}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y4(e))})}function Z4(e){return Cn(`${Is}/${e}/profile/open`,{method:"POST"})}function Q4(e){return Cn(`${Is}/${e}/profile/ensure`,{method:"POST"})}const eR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tR=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Hb=e=>{const t=tR(e);return t.charAt(0).toUpperCase()+t.slice(1)},qS=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),nR=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var rR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sR=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...u},d)=>P.createElement("svg",{ref:d,...rR,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:qS("lucide",s),...!a&&!nR(u)&&{"aria-hidden":"true"},...u},[...o.map(([f,p])=>P.createElement(f,p)),...Array.isArray(a)?a:[a]]));const ct=(e,t)=>{const n=P.forwardRef(({className:r,...s},a)=>P.createElement(sR,{ref:a,iconNode:t,className:qS(`lucide-${eR(Hb(e))}`,`lucide-${e}`,r),...s}));return n.displayName=Hb(e),n};const aR=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],iR=ct("arrow-down",aR);const oR=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],lR=ct("arrow-right-left",oR);const cR=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],uR=ct("arrow-up",cR);const dR=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],fR=ct("bookmark",dR);const hR=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],pR=ct("camera",hR);const mR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],bg=ct("chart-column",mR);const gR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cx=ct("check",gR);const xR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gb=ct("chevron-down",xR);const vR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yR=ct("chevron-right",vR);const wR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ih=ct("circle-alert",wR);const bR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kx=ct("circle-check-big",bR);const _R=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_g=ct("circle-check",_R);const SR=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ER=ct("circle-play",SR);const NR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],KS=ct("circle-x",NR);const TR=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],CR=ct("clipboard",TR);const kR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XS=ct("clock",kR);const jR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],AR=ct("columns-2",jR);const RR=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Vb=ct("dollar-sign",RR);const OR=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cf=ct("earth",OR);const MR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],DR=ct("eye-off",MR);const IR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LR=ct("eye",IR);const PR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],YS=ct("file-down",PR);const FR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Sg=ct("file-spreadsheet",FR);const zR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],JS=ct("file-text",zR);const BR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],UR=ct("file-up",BR);const $R=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],Wb=ct("flask-conical",$R);const HR=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],GR=ct("folder-open",HR);const VR=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],ZS=ct("folder-plus",VR);const WR=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],QS=ct("folder",WR);const qR=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],KR=ct("git-merge",qR);const XR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],eE=ct("globe",XR);const YR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],JR=ct("house",YR);const ZR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],jx=ct("info",ZR);const QR=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],e5=ct("key",QR);const t5=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],qb=ct("lightbulb",t5);const n5=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Xf=ct("link-2",n5);const r5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yl=ct("loader-circle",r5);const s5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],a5=ct("lock",s5);const i5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],o5=ct("maximize-2",i5);const l5=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],c5=ct("mouse-pointer-click",l5);const u5=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],d5=ct("pause",u5);const f5=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],h5=ct("pin",f5);const p5=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],m5=ct("play",p5);const g5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ax=ct("plus",g5);const x5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Yf=ct("refresh-cw",x5);const v5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tE=ct("save",v5);const y5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Lh=ct("search",y5);const w5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nE=ct("settings",w5);const b5=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Kb=ct("shopping-bag",b5);const _5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],rE=ct("sparkles",_5);const S5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],E5=ct("star",S5);const N5=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],T5=ct("tag",N5);const C5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],sE=ct("target",C5);const k5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],wl=ct("trash-2",k5);const j5=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],A5=ct("trending-down",j5);const R5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Jf=ct("trending-up",R5);const O5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fu=ct("triangle-alert",O5);const M5=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],D5=ct("unlink",M5);const I5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],L5=ct("upload",I5);const P5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],F5=ct("users",P5);const z5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Al=ct("x",z5);const B5=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],aE=ct("zap",B5),Ic="rounded-xl border border-slate-200 bg-white shadow-sm mb-4 overflow-hidden",Lc="flex items-center gap-2 border-b border-slate-100 px-4 py-2.5 bg-slate-50",Pc="text-sm font-semibold text-slate-800 flex items-center gap-2",ys="block text-xs font-medium text-slate-600 mb-1",Wc="w-full rounded-md border border-slate-200 bg-white px-3 py-1.5 text-sm outline-none focus:border-sky-400 focus:ring-1 focus:ring-sky-300",ni=`${Wc} pr-8`,Xb="inline-flex items-center justify-center gap-1 rounded-md border border-slate-200 bg-white px-2.5 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50 active:translate-y-[1px]",Yb="inline-flex items-center justify-center gap-2 rounded-md bg-orange-500 px-3.5 py-1.5 text-xs font-semibold text-white shadow hover:bg-orange-600 active:translate-y-[1px] disabled:opacity-60 disabled:cursor-default",Jb="inline-flex items-center justify-center gap-2 rounded-md bg-sky-600 px-3.5 py-1.5 text-xs font-semibold text-white shadow hover:bg-sky-700 active:translate-y-[1px] disabled:opacity-60 disabled:cursor-default",Vo="inline-flex h-7 w-7 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-500 hover:bg-slate-50 hover:text-slate-800 active:translate-y-[1px]",U5=e=>{switch(e){case"active":case"ok":return c.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700 border border-emerald-100",children:""});case"expired":case"failed":return c.jsx("span",{className:"inline-flex items-center rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700 border border-rose-100",children:""});case"draft":default:return c.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-50 px-2 py-0.5 text-[11px] font-semibold text-slate-600 border border-slate-200",children:""})}},Zb=[{value:4,label:"IPv4"},{value:6,label:"IPv6"}],Em=[{value:"RU",label:"  (RU)"},{value:"UA",label:"  (UA)"},{value:"KZ",label:"  (KZ)"},{value:"BY",label:"  (BY)"},{value:"US",label:"  (US)"},{value:"GB",label:"  (GB)"},{value:"DE",label:"  (DE)"},{value:"FR",label:"  (FR)"},{value:"ES",label:"  (ES)"},{value:"IT",label:"  (IT)"},{value:"NL",label:"  (NL)"},{value:"PL",label:"  (PL)"},{value:"TR",label:"  (TR)"},{value:"CA",label:"  (CA)"},{value:"AU",label:"  (AU)"},{value:"JP",label:"  (JP)"},{value:"CN",label:"  (CN)"},{value:"IN",label:"  (IN)"},{value:"BR",label:"  (BR)"},{value:"MX",label:"  (MX)"},{value:"AR",label:"  (AR)"},{value:"CL",label:"  (CL)"},{value:"CO",label:"  (CO)"},{value:"PE",label:"  (PE)"},{value:"ZA",label:"  (ZA)"},{value:"EG",label:"  (EG)"},{value:"SA",label:"   (SA)"},{value:"AE",label:"  (AE)"},{value:"IL",label:"  (IL)"},{value:"SE",label:"  (SE)"},{value:"NO",label:"  (NO)"},{value:"FI",label:"  (FI)"},{value:"DK",label:"  (DK)"},{value:"BE",label:"  (BE)"},{value:"AT",label:"  (AT)"},{value:"CH",label:"  (CH)"},{value:"PT",label:"  (PT)"},{value:"GR",label:"  (GR)"},{value:"CZ",label:"  (CZ)"},{value:"HU",label:"  (HU)"},{value:"RO",label:"  (RO)"},{value:"BG",label:"  (BG)"},{value:"RS",label:"  (RS)"},{value:"HR",label:"  (HR)"},{value:"SK",label:"  (SK)"},{value:"SI",label:"  (SI)"},{value:"LT",label:"  (LT)"},{value:"LV",label:"  (LV)"},{value:"EE",label:"  (EE)"},{value:"IE",label:"  (IE)"},{value:"KR",label:"   (KR)"},{value:"TW",label:"  (TW)"},{value:"HK",label:"  (HK)"},{value:"SG",label:"  (SG)"},{value:"TH",label:"  (TH)"},{value:"VN",label:"  (VN)"},{value:"MY",label:"  (MY)"},{value:"ID",label:"  (ID)"},{value:"PH",label:"  (PH)"},{value:"NZ",label:"   (NZ)"},{value:"PK",label:"  (PK)"},{value:"BD",label:"  (BD)"},{value:"NG",label:"  (NG)"},{value:"KE",label:"  (KE)"}],$5=[7,30,60,90],H5=[1,2,3,5,10,15,20,25,30],G5=[{value:"http",label:"HTTP"},{value:"socks",label:"SOCKS5"}];function V5({account:e,onReloadAccounts:t,onLog:n,selectedAccountIds:r,onUpdateDraft:s,onUpdateAccount:a}){const[o,u]=P.useState([]),[d,f]=P.useState(!1),[p,g]=P.useState(null),[v,x]=P.useState(new Set),[w,y]=P.useState(e.proxyStrategy||"fixed"),[_,S]=P.useState(!1),[N,T]=P.useState(null),[C,A]=P.useState(null),[z,M]=P.useState(!1),[j,O]=P.useState(null),[Y,J]=P.useState(null),[F,re]=P.useState(()=>{if(typeof window>"u")return"";try{return window.localStorage.getItem("px6ApiKey")||""}catch{return""}}),[k,V]=P.useState(null),[K,H]=P.useState(!1),[Q,ee]=P.useState(null),[ae,D]=P.useState(null),[R,U]=P.useState(null),[B,G]=P.useState(!1),[ue,ge]=P.useState(30),[me,ve]=P.useState(4),[Re,Ue]=P.useState("RU"),[Ve,st]=P.useState("http"),[I,ye]=P.useState(10),[ne,q]=P.useState(30),[X,le]=P.useState(!1),[pe,be]=P.useState(null),[fe,Me]=P.useState(!1),[we,je]=P.useState("pool"),[He,et]=P.useState(""),[Ge,mt]=P.useState(""),[Gt,vt]=P.useState(""),[Mt,xt]=P.useState("http"),[rt,Dt]=P.useState(""),At=P.useMemo(()=>Array.from(v)[0]??null,[v]),ze=P.useMemo(()=>o.find(Oe=>Oe.id===At)??null,[o,At]);P.useMemo(()=>e.proxyId?o.find(Oe=>Oe.id===e.proxyId)??null:null,[o,e.proxyId]);const tt=P.useMemo(()=>o.filter(Oe=>v.has(Oe.id)&&Oe.provider==="px6").map(Oe=>Oe.id),[o,v]),ht=!!k,Tt=async()=>{f(!0),g(null);try{console.log("[ProxyManager]   ...");const Oe=await $4();console.log("[ProxyManager]   API:",Oe);const Je=Oe.items??[];console.log("[ProxyManager]  :",Je.length),u(Je),x(W=>{const ie=new Set;return Je.forEach(te=>{W.has(te.id)&&ie.add(te.id)}),ie}),n?.(` ${Je.length}   `)}catch(Oe){const Je=Oe instanceof Error?Oe.message:String(Oe);console.error("[ProxyManager]   :",Oe),g(Je||"    ."),u([]),n?.(`   : ${Je||" "}`)}finally{f(!1)}};P.useEffect(()=>{Tt()},[e.id]),P.useEffect(()=>{y(e.proxyStrategy||"fixed")},[e.id,e.proxyStrategy]),P.useEffect(()=>{e.proxyId?(je("pool"),et(""),mt(""),vt(""),xt("http"),Dt("")):e.proxy?(je("manual"),et(e.proxy||""),mt(e.proxyUsername||""),vt(e.proxyPassword||""),xt(e.proxyType||"http"),Dt("")):(je("pool"),et(""),mt(""),vt(""),xt("http"),Dt(""))},[e.id,e.proxy,e.proxyId,e.proxyUsername,e.proxyPassword,e.proxyType]);const yt=async()=>{const Oe=F.trim();if(!Oe){ee(" API key PX6."),V(null);return}H(!0),ee(null);try{const Je=await G4(Oe);if(V(Je),typeof window<"u")try{window.localStorage.setItem("px6ApiKey",Oe)}catch{}n?.(`PX6 account: user_id=${Je.user_id}, balance=${Je.balance} ${Je.currency}`)}catch(Je){const W=Je instanceof Error?Je.message:String(Je);ee(W||"    PX6"),V(null)}finally{H(!1)}},St=()=>{typeof window<"u"&&window.open("https://px6.me/?r=791365","_blank","noopener,noreferrer")},Ot=async()=>{const Oe=F.trim();if(!Oe){ee(" API key PX6   ");return}H(!0),ee(null);try{const Je=await V4(Oe,me,I,ne);be(Je.price),n?.(`PX6 getPrice: ${I}  (v${me}, ${ne}) = ${Je.price} ${Je.currency}`)}catch(Je){const W=Je instanceof Error?Je.message:String(Je);ee(W||"   "),be(null)}finally{H(!1)}},Bt=async()=>{const Oe=F.trim();if(!Oe){ee("  API key px6.me");return}if(I<1){U("    1 ");return}const Je=Em.find(oe=>oe.value===Re)?.label||Re,W=Zb.find(oe=>oe.value===me)?.label||`IPv${me}`,te=`  :

${I} ${Je}  (${W}, ${Ve==="http"?"HTTP":"SOCKS5"})
 ${ne} 
${pe?`
: ${pe} RUB`:""}

?`;if(window.confirm(te)){Me(!0),D(null),U(null);try{const oe=await W4(Oe,{version:me,country:Re,type:Ve,count:I,period:ne,autoProlong:X});D(` ${I} .   : ${oe.proxies.length} .`),n?.(`PX6 buy:   ${I} `),await Tt()}catch(oe){const ce=oe instanceof Error?oe.message:String(oe);U(ce||"   ")}finally{Me(!1)}}},vn=async()=>{const Oe=F.trim();if(!Oe){ee(" API key PX6.");return}if(!tt.length){U(" PX6-  .");return}G(!0),D(null),U(null);try{await q4(Oe,tt,ue),D(` PX6-: ${tt.length} .  ${ue} .`),n?.(`PX6 prolong:  ${tt.length}   ${ue} .`),await Tt()}catch(Je){const W=Je instanceof Error?Je.message:String(Je);U(W||"   PX6-")}finally{G(!1)}},kn=async()=>{const Oe=F.trim();if(!Oe){ee(" API key PX6.");return}if(!tt.length){U(" PX6-  .");return}if(window.confirm(`  PX6- (${tt.length})  PX6  ?`)){G(!0),D(null),U(null);try{await K4(Oe,tt),D(` PX6-: ${tt.length} .`),n?.(`PX6 delete:  ${tt.length} .`),await Tt()}catch(W){const ie=W instanceof Error?W.message:String(W);U(ie||"   PX6-")}finally{G(!1)}}},yn=async()=>{const Oe=r&&r.length?{accountIds:r}:{allWithoutProxy:!0};G(!0),D(null),U(null);try{const Je=await X4(Oe);D(Je.assigned?`PX6-   ${Je.assigned} .`:"       ."),n?.(`PX6 distribute:    ${Je.assigned}  (selected=${r?.length??0}).`),t&&await t()}catch(Je){const W=Je instanceof Error?Je.message:String(Je);U(W||"   PX6-  ")}finally{G(!1)}},jn=Oe=>{x(Je=>{const W=new Set(Je);return W.has(Oe)?W.delete(Oe):W.add(Oe),W})},fn=()=>{v.size===o.length?x(new Set):x(new Set(o.map(Oe=>Oe.id)))},gn=async()=>{M(!0),J(null),O(null);try{const Oe=v.size?Array.from(v):void 0,Je=await H4(Oe);O(` ${Je.tested}:  ${Je.ok},  ${Je.failed}.`),n?.(`  ()  ${e.email}: ${Je.ok}/${Je.tested} .`),await Tt()}catch(Oe){const Je=Oe instanceof Error?Oe.message:String(Oe);J(Je||" "),n?.(`  ()  ${e.email}: : ${Je||" "}`)}finally{M(!1)}},mr=async Oe=>{S(!0),A(null),T(null);const Je=o.find(W=>W.id===Oe)||null;try{await Sm(e.id,Oe,w),T("   ."),Je&&s&&s({proxyId:Je.id,proxy:Je.server,proxyUsername:Je.username||"",proxyPassword:Je.password||"",proxyType:Je.type==="socks"?"socks5":Je.type||"http"}),t&&await t()}catch(W){const ie=W instanceof Error?W.message:String(W);A(ie||"   .")}finally{S(!1)}},Fn=async()=>{if(!ze){A(" ."),T(null);return}S(!0),A(null),T(null);try{await Sm(e.id,ze.id,w),T("   ."),s&&s({proxyId:ze.id,proxy:ze.server,proxyUsername:ze.username||"",proxyPassword:ze.password||"",proxyType:ze.type==="socks"?"socks5":ze.type||"http"}),t&&await t()}catch(Oe){const Je=Oe instanceof Error?Oe.message:String(Oe);A(Je||"   .")}finally{S(!1)}},or=async()=>{S(!0),A(null),T(null);try{await Sm(e.id,null,w),T("   ."),s?.({proxyId:null,proxy:"",proxyUsername:"",proxyPassword:""}),t&&await t()}catch(Oe){const Je=Oe instanceof Error?Oe.message:String(Oe);A(Je||"     .")}finally{S(!1)}};return c.jsxs(c.Fragment,{children:[c.jsxs("section",{className:Ic,children:[c.jsx("header",{className:Lc,children:c.jsxs("div",{className:Pc,children:[c.jsx(Kb,{className:"h-4 w-4 text-orange-500"}),c.jsx("span",{children:"    px6.me"})]})}),c.jsxs("div",{className:"space-y-3 px-4 py-3",children:[c.jsxs("p",{className:"text-xs text-slate-700",children:[" ",c.jsx("span",{className:"font-semibold",children:"5%"}),"  "," ",c.jsx("span",{className:"font-mono font-semibold",children:"keyset"}),".    1 ."]}),c.jsxs("button",{className:`${Yb} w-full justify-center`,onClick:St,children:[c.jsx(Xf,{className:"h-4 w-4"}),"   30 "]}),c.jsx("p",{className:"mt-2 text-xs text-slate-700",children:" KeySet         API,   API key    (API)   px6.me."}),c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("label",{className:ys,children:"API key px6.me"}),k&&c.jsxs("span",{className:"text-[11px] font-semibold text-emerald-700",children:[": ",k.balance," ",k.currency]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx("input",{type:"password",className:`${Wc} pr-8`,placeholder:"f6d4d566ee-19c0ca63444-...",value:F,onChange:Oe=>re(Oe.target.value)}),c.jsx(e5,{className:"pointer-events-none absolute right-2 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-slate-300"})]}),c.jsx("button",{className:Jb,onClick:yt,disabled:K,children:"  / "})]}),Q&&c.jsxs("p",{className:"mt-1 text-xs text-rose-600",children:[c.jsx("span",{className:"font-semibold",children:":"})," ",Q]})]})]})]}),ht&&c.jsxs("section",{className:Ic,children:[c.jsx("header",{className:Lc,children:c.jsxs("div",{className:Pc,children:[c.jsx(cf,{className:"h-4 w-4 text-sky-500"}),c.jsx("span",{children:"   PX6 (API)"})]})}),c.jsxs("div",{className:"space-y-3 px-4 py-3",children:[c.jsx("p",{className:"text-xs text-slate-700",children:"KeySet    PX6          ."}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:ys,children:" IP"}),c.jsx("select",{className:ni,value:me,onChange:Oe=>ve(Number(Oe.target.value)),children:Zb.map(Oe=>c.jsx("option",{value:Oe.value,children:Oe.label},Oe.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:ys,children:""}),c.jsx("select",{className:ni,value:Re,onChange:Oe=>Ue(Oe.target.value),children:Em.map(Oe=>c.jsx("option",{value:Oe.value,children:Oe.label},Oe.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:ys,children:""}),c.jsx("select",{className:ni,value:Ve,onChange:Oe=>st(Oe.target.value),children:G5.map(Oe=>c.jsx("option",{value:Oe.value,children:Oe.label},Oe.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:ys,children:""}),c.jsx("select",{className:ni,value:I,onChange:Oe=>ye(Number(Oe.target.value)),children:H5.map(Oe=>c.jsx("option",{value:Oe,children:Oe},Oe))}),c.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:"   1 ."})]}),c.jsxs("div",{children:[c.jsx("label",{className:ys,children:" ()"}),c.jsx("select",{className:ni,value:ne,onChange:Oe=>q(Number(Oe.target.value)),children:$5.map(Oe=>c.jsx("option",{value:Oe,children:Oe},Oe))})]}),c.jsx("div",{className:"flex items-end",children:c.jsxs("label",{className:"inline-flex items-center gap-2 text-xs text-slate-700",children:[c.jsx("input",{type:"checkbox",className:"h-3.5 w-3.5 rounded border-slate-300 text-sky-600 focus:ring-sky-500",checked:X,onChange:Oe=>le(Oe.target.checked)}),""]})})]}),c.jsxs("div",{className:"flex items-center justify-between gap-2 pt-1",children:[c.jsx("button",{className:Xb,onClick:Ot,children:" "}),c.jsxs("div",{className:"text-xs text-slate-700",children:[":"," ",pe?c.jsxs("span",{className:"font-semibold",children:["~",pe,"  (",Math.round(pe/I),"  / )"]}):c.jsx("span",{className:"text-slate-400",children:""})]})]}),c.jsxs("button",{className:`${Yb} mt-1 w-full justify-center`,onClick:Bt,disabled:fe,children:[c.jsx(Kb,{className:"h-4 w-4"}),fe?"...":"    "]})]})]}),c.jsxs("section",{className:Ic,children:[c.jsx("header",{className:Lc,children:c.jsxs("div",{className:Pc,children:[c.jsx(cf,{className:"h-4 w-4 text-slate-700"}),c.jsx("span",{children:" "})]})}),c.jsxs("div",{className:"px-4 py-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:Jb,onClick:vn,disabled:B||!tt.length,children:" "}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-xs text-slate-600",children:" ():"}),c.jsxs("select",{className:ni,value:ue,onChange:Oe=>ge(Number(Oe.target.value)||30),style:{minWidth:80,maxWidth:100},children:[c.jsx("option",{value:7,children:"7"}),c.jsx("option",{value:30,children:"30"}),c.jsx("option",{value:60,children:"60"}),c.jsx("option",{value:90,children:"90"})]})]})]}),(ae||R)&&c.jsxs("div",{className:"mt-2",children:[ae&&c.jsxs("p",{className:"text-xs text-emerald-700",children:[c.jsx("i",{className:"fas fa-check-circle"})," ",ae]}),R&&c.jsxs("p",{className:"text-xs text-rose-600",children:[c.jsx("i",{className:"fas fa-exclamation-circle"})," ",R]})]})]})]}),c.jsxs("section",{className:Ic,children:[c.jsx("header",{className:Lc,children:c.jsxs("div",{className:"flex items-center justify-between w-full",children:[c.jsxs("div",{className:Pc,children:[c.jsx(cf,{className:"h-4 w-4 text-slate-500"}),c.jsx("span",{children:"  (PX6  )"})]}),c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx("button",{className:Vo,title:" ",onClick:gn,disabled:z,children:c.jsx(Wb,{className:"h-3.5 w-3.5"})}),c.jsx("button",{className:`${Vo} ${ze?"bg-sky-50 text-sky-700":""}`,title:"   ",onClick:Fn,disabled:_||!ze,children:c.jsx(lR,{className:"h-3.5 w-3.5"})}),c.jsx("button",{className:`${Vo} text-rose-600 hover:text-rose-700`,title:"   ",onClick:or,disabled:_||!e.proxyId,children:c.jsx(Xf,{className:"h-3.5 w-3.5 rotate-45"})}),c.jsx("button",{className:Vo,title:"  ",onClick:async()=>{const Oe=prompt(`   :
host:port:user:pass
 host:port`);if(!Oe)return;const Je=Oe.trim().split(":");if(Je.length<2){alert(" .  host:port  host:port:user:pass");return}const[W,ie,te,se]=Je;try{await J4({server:`${W}:${ie}`,username:te||void 0,password:se||void 0,type:"http",label:`${W}:${ie}`}),T("   "),await Tt()}catch(oe){const ce=oe instanceof Error?oe.message:String(oe);A(ce||"   ")}},children:c.jsx("i",{className:"fas fa-plus",style:{fontSize:"10px"}})}),c.jsx("button",{className:`${Vo} text-rose-600 hover:text-rose-700`,title:" PX6- + ",onClick:kn,disabled:B||!tt.length,children:c.jsx(wl,{className:"h-3.5 w-3.5"})}),c.jsx("button",{className:Vo,title:" PX6-  ",onClick:yn,disabled:B,children:c.jsx(F5,{className:"h-3.5 w-3.5"})})]})]})}),c.jsxs("div",{className:"px-3 py-2.5",children:[c.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200 bg-white",children:c.jsxs("table",{className:"min-w-full border-collapse text-[12px]",children:[c.jsx("thead",{className:"bg-slate-50",children:c.jsxs("tr",{className:"text-left text-[11px] uppercase tracking-wide text-slate-500",children:[c.jsx("th",{className:"w-7 px-2.5 py-1.5",children:c.jsx("input",{type:"checkbox",className:"h-3.5 w-3.5 rounded border-slate-300 text-sky-600 focus:ring-sky-500",checked:v.size===o.length&&o.length>0,onChange:fn})}),c.jsx("th",{className:"px-2.5 py-1.5",children:""}),c.jsx("th",{className:"px-2.5 py-1.5",children:""}),c.jsx("th",{className:"px-2.5 py-1.5",children:""})]})}),c.jsx("tbody",{children:d?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-2.5 py-3 text-center text-slate-500",children:"  ..."})}):o.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-2.5 py-3 text-center text-slate-500",children:"  ."})}):o.map(Oe=>{const Je=v.has(Oe.id),W=e.proxyId===Oe.id;return c.jsxs("tr",{className:`border-t border-slate-100 hover:bg-slate-50 cursor-pointer ${W?"bg-sky-50/40":"bg-white"}`,onClick:()=>{x(new Set([Oe.id])),mr(Oe.id)},children:[c.jsx("td",{className:"px-2.5 py-1.5",onClick:ie=>ie.stopPropagation(),children:c.jsx("input",{type:"checkbox",className:"h-3.5 w-3.5 rounded border-slate-300 text-sky-600 focus:ring-sky-500",checked:Je,onChange:()=>jn(Oe.id)})}),c.jsx("td",{className:"px-2.5 py-1.5 align-middle font-mono text-[11px] text-slate-800",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`inline-flex items-center rounded-full px-1.5 py-0.5 text-[10px] font-semibold ${Oe.provider==="px6"?"bg-amber-50 text-amber-800 border border-amber-100":"bg-slate-50 text-slate-600 border border-slate-200"}`,children:Oe.provider==="px6"?"PX6":""}),c.jsx("span",{children:Oe.server})]})}),c.jsx("td",{className:"px-2.5 py-1.5 align-middle text-[11px] text-slate-700",children:Oe.expires_at?new Date(Oe.expires_at>1e12?Oe.expires_at:Oe.expires_at*1e3).toLocaleDateString("ru-RU"):""}),c.jsx("td",{className:"px-2.5 py-1.5 align-middle",children:U5(Oe.enabled?"active":"draft")})]},Oe.id)})})]})}),(j||Y||N||C)&&c.jsxs("div",{className:"mt-2 space-y-1",children:[j&&c.jsxs("p",{className:"text-xs text-emerald-700",children:[c.jsx("i",{className:"fas fa-check-circle"})," ",j]}),Y&&c.jsxs("p",{className:"text-xs text-rose-600",children:[c.jsx("i",{className:"fas fa-exclamation-circle"})," ",Y]}),N&&c.jsxs("p",{className:"text-xs text-emerald-700",children:[c.jsx("i",{className:"fas fa-check-circle"})," ",N]}),C&&c.jsxs("p",{className:"text-xs text-rose-600",children:[c.jsx("i",{className:"fas fa-exclamation-circle"})," ",C]})]})]})]}),c.jsxs("section",{className:Ic,children:[c.jsx("header",{className:Lc,children:c.jsxs("div",{className:Pc,children:[c.jsx(cf,{className:"h-4 w-4 text-sky-600"}),c.jsx("span",{children:"  "})]})}),c.jsxs("div",{className:"space-y-3 px-4 py-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:ys,children:" "}),c.jsx("input",{className:Wc,placeholder:"ip:port  ://:@ip:port",value:He,onChange:Oe=>{et(Oe.target.value),s?.({proxy:Oe.target.value,proxyId:null})}})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:ys,children:""}),c.jsx("input",{className:Wc,placeholder:"user",value:Ge,onChange:Oe=>{mt(Oe.target.value),s?.({proxyUsername:Oe.target.value})}})]}),c.jsxs("div",{children:[c.jsx("label",{className:ys,children:""}),c.jsx("input",{type:"password",className:Wc,placeholder:"",value:Gt,onChange:Oe=>{vt(Oe.target.value),s?.({proxyPassword:Oe.target.value})}})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:ys,children:" "}),c.jsxs("select",{className:ni,value:Mt,onChange:Oe=>{const Je=Oe.target.value;xt(Je),s?.({proxyType:Je})},children:[c.jsx("option",{value:"http",children:"HTTP"}),c.jsx("option",{value:"https",children:"HTTPS"}),c.jsx("option",{value:"socks5",children:"SOCKS5"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:ys,children:"GEO ()"}),c.jsxs("select",{className:ni,value:rt,onChange:Oe=>Dt(Oe.target.value),children:[c.jsx("option",{value:"",children:" "}),Em.map(Oe=>c.jsx("option",{value:Oe.value,children:Oe.label},Oe.value))]})]})]}),c.jsxs("button",{className:`${Xb} mt-1`,onClick:async()=>{if(!He.trim()){alert("   ");return}const Oe=He.split(":");if(Oe.length<2){alert(" .    host:port");return}const Je=Oe[0],W=parseInt(Oe[1],10);if(!W||W<=0){alert(" .  ,  3128");return}M(!0);try{const ie=await WS(Je,W,Ge||void 0,Gt||void 0,Mt);ie.status==="ok"?alert(` ${ie.ip?` (IP: ${ie.ip})`:""}`):alert(`: ${ie.error||"  "}`)}catch(ie){alert(` : ${ie instanceof Error?ie.message:String(ie)}`)}finally{M(!1)}},disabled:z,children:[c.jsx(Wb,{className:"h-3.5 w-3.5"}),z?"...":" "]}),c.jsx("p",{className:"mt-2 text-[11px] text-slate-500",children:"    :             ."})]})]})]})}function W5({accountId:e,profilePath:t,onUpdated:n}){const[r,s]=P.useState([]),[a,o]=P.useState(!1),[u,d]=P.useState(null),[f,p]=P.useState(!1),[g,v]=P.useState("default"),x=P.useRef(null),w=P.useRef(null),y=async()=>{o(!0),d(null);try{const O=await(await fetch(`/api/accounts/${e}/slots`)).json();s(O.slots||[])}catch{d("   ")}finally{o(!1)}};P.useEffect(()=>{y()},[e]);const _=async()=>{await y(),n?.()},S=async j=>{try{await fetch(`/api/accounts/${e}/slots/${j}/activate`,{method:"POST"}),await _()}catch{d("  ")}},N=async j=>{try{const O=await fetch(`/api/accounts/${e}/slots/${j}/cookies/export`);if(!O.ok)throw new Error;const Y=await O.blob(),J=URL.createObjectURL(Y),F=document.createElement("a");F.href=J,F.download=`slot_${j}_cookies.json`,F.click(),URL.revokeObjectURL(J)}catch{d("  cookies")}},T=j=>{w.current=j,x.current?.click()},C=async j=>{const O=j.target.files?.[0];if(j.target.value="",!O||w.current===null)return;const Y=w.current;w.current=null;const J=new FormData;J.append("file",O);try{await fetch(`/api/accounts/${e}/slots/${Y}/cookies/import`,{method:"POST",body:J}),await _()}catch{d("  cookies")}},A=async j=>{if(window.confirm("    ?"))try{await fetch(`/api/accounts/${e}/slots/${j}`,{method:"DELETE"}),await _()}catch{d("  ")}},z=async()=>{if(g.trim()){p(!0),d(null);try{await fetch(`/api/accounts/${e}/slots`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:g.trim(),is_active:r.length===0})}),v("default"),await _()}catch{d("   ")}finally{p(!1)}}},M=async()=>{p(!0),d(null);try{await fetch(`/api/accounts/${e}/slots/convert-legacy`,{method:"POST"}),await _()}catch{d("   ")}finally{p(!1)}};return c.jsxs("div",{className:"profile-slots-card",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("h3",{children:[c.jsx("i",{className:"fas fa-id-card"}),"  "]}),c.jsxs("div",{className:"slot-actions-inline",children:[c.jsx("input",{type:"text",value:g,onChange:j=>v(j.target.value),placeholder:" "}),c.jsx("button",{className:"btn btn-primary btn-small",onClick:z,disabled:f,children:f?"...":" "})]})]}),t&&r.length===0&&c.jsxs("div",{className:"info-section compact",style:{marginBottom:8},children:[c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-label",children:"Legacy :"}),c.jsx("span",{className:"info-value",children:t})]}),c.jsx("button",{className:"btn btn-secondary btn-small",onClick:M,disabled:f,children:"  "})]}),u&&c.jsxs("p",{className:"action-hint",style:{color:"#b91c1c"},children:[c.jsx("i",{className:"fas fa-exclamation-circle"})," ",u]}),a?c.jsx("p",{children:" "}):r.length===0?c.jsx("p",{style:{color:"#6b7280"},children:" .  ."}):c.jsx("div",{className:"slots-list",children:r.map(j=>c.jsx("div",{className:`slot-card ${j.is_active?"active":""}`,children:c.jsxs("div",{className:"slot-header",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"slot-title",children:[j.name," ",j.is_active?"":""]}),c.jsxs("div",{className:"slot-meta",children:[j.profile_path,"  ",j.cookies_count," cookies "," ",j.last_updated?new Date(j.last_updated).toLocaleString():""]})]}),c.jsxs("div",{className:"slot-buttons",children:[!j.is_active&&c.jsx("button",{className:"btn btn-secondary btn-small",onClick:()=>S(j.id),children:""}),c.jsx("button",{className:"btn btn-secondary btn-small",onClick:()=>N(j.id),children:""}),c.jsx("button",{className:"btn btn-secondary btn-small",onClick:()=>T(j.id),children:""}),c.jsx("button",{className:"btn btn-danger btn-small",onClick:()=>A(j.id),children:""})]})]})},j.id))}),c.jsx("input",{ref:x,type:"file",accept:".json",style:{display:"none"},onChange:C})]})}const q5=[{id:"basic",label:"",icon:"fas fa-info-circle"},{id:"network",label:"",icon:"fas fa-globe"},{id:"fingerprint",label:"",icon:"fas fa-mask"},{id:"captcha",label:"",icon:"fas fa-shield-alt"},{id:"proxy",label:" ",icon:"fas fa-cogs"}];function K5({account:e,onClose:t,onUpdateAccount:n,onReloadAccounts:r,onLog:s,selectedAccountIds:a}){const[o,u]=P.useState("basic"),[d,f]=P.useState(e),[p,g]=P.useState(!1),[v,x]=P.useState(null),[w,y]=P.useState(null),[_,S]=P.useState(null),[N,T]=P.useState(null),[C,A]=P.useState(!1);P.useEffect(()=>{f(e),x(null),y(null),S(null),T(null),A(!1)},[e?.id]);const z=O=>{f(Y=>Y&&{...Y,...O})},M=async()=>{if(!(!d||!n)){g(!0),x(null),y(null);try{await n(d.id,d),x("  ")}catch(O){const Y=O instanceof Error?O.message:String(O);y(Y),s?.(`   ${d.email}: ${Y}`)}finally{g(!1)}}},j=async()=>{if(d){A(!0),S(null),T(null);try{const O=await B4(d.id);S(O.message||" ")}catch(O){const Y=O instanceof Error?O.message:String(O);T(Y),s?.(`   ${d.email}: ${Y}`)}finally{A(!1)}}};return c.jsxs("div",{className:"sidebar",id:"settingsSidebar",children:[d&&c.jsx("div",{className:"account-info",children:c.jsxs("div",{className:"account-email",children:[c.jsx("i",{className:"fas fa-user-circle"}),c.jsx("span",{children:d.email})]})}),c.jsxs("div",{className:"tabs-container",children:[c.jsx("div",{className:"tabs-nav",children:q5.map(O=>c.jsxs("button",{type:"button",className:`tab-btn ${o===O.id?"active":""}`,onClick:()=>u(O.id),children:[c.jsx("i",{className:O.icon}),c.jsx("span",{children:O.label})]},O.id))}),c.jsxs("div",{className:"tabs-content",children:[c.jsx("div",{className:"tab-content-scroll",children:X5(o,d,z,n,r,s,a)}),d&&c.jsxs("div",{className:"sidebar-floating-actions",children:[c.jsxs("div",{className:"action-buttons dual-buttons",children:[c.jsxs("button",{className:"btn btn-secondary btn-large",type:"button",onClick:j,disabled:C,children:[c.jsx("i",{className:"fas fa-sign-in-alt"}),C?"...":""]}),c.jsxs("button",{className:"btn btn-primary btn-large",type:"button",onClick:M,disabled:!n||p,children:[c.jsx("i",{className:"fas fa-save"})," ",p?"...":""]})]}),(_||N||v||w)&&c.jsxs("div",{className:"action-messages",children:[_&&c.jsxs("p",{className:"action-hint",style:{color:"#059669"},children:[c.jsx("i",{className:"fas fa-check-circle"})," ",_]}),N&&c.jsxs("p",{className:"action-hint",style:{color:"#b91c1c"},children:[c.jsx("i",{className:"fas fa-exclamation-circle"})," ",N]}),v&&c.jsxs("p",{className:"action-hint",style:{color:"#059669"},children:[c.jsx("i",{className:"fas fa-check-circle"})," ",v]}),w&&c.jsxs("p",{className:"action-hint",style:{color:"#b91c1c"},children:[c.jsx("i",{className:"fas fa-exclamation-circle"})," ",w]})]})]})]})]})]})}function X5(e,t,n,r,s,a,o){if(!t)return c.jsx("div",{className:"empty-state",children:c.jsx("p",{children:"   ,   ."})});switch(e){case"basic":return c.jsx(Z5,{account:t,onUpdateDraft:n});case"network":return c.jsx(Y5,{account:t,onUpdateDraft:n,onLog:a});case"fingerprint":return c.jsx(J5,{account:t,onUpdateDraft:n});case"captcha":return c.jsxs("div",{className:"tab-content active",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:""}),c.jsxs("select",{defaultValue:"none",children:[c.jsx("option",{value:"none",children:""}),c.jsx("option",{value:"rucaptcha",children:"RuCaptcha"}),c.jsx("option",{value:"2captcha",children:"2Captcha"}),c.jsx("option",{value:"anticaptcha",children:"AntiCaptcha"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"API "}),c.jsxs("div",{className:"password-field",children:[c.jsx("input",{type:"password",placeholder:"API "}),c.jsx("button",{type:"button",className:"password-toggle",children:c.jsx("i",{className:"fas fa-eye"})})]})]}),c.jsxs("div",{className:"captcha-info",children:[c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-label",children:":"}),c.jsx("span",{className:"info-value",children:"$0.00"})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-label",children:":"}),c.jsx("span",{className:"info-value",children:" "})]})]}),c.jsx("div",{className:"form-group",children:c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox"}),c.jsx("span",{className:"checkmark"}),"  "]})}),c.jsx("div",{className:"action-buttons",children:c.jsxs("button",{className:"btn btn-info btn-small",type:"button",children:[c.jsx("i",{className:"fas fa-flask"}),"  "]})})]});case"proxy":return c.jsx("div",{className:"tab-content active",children:c.jsx("div",{className:"proxy-manager-container",children:c.jsx(V5,{account:t,onReloadAccounts:s,onLog:a,selectedAccountIds:o,onUpdateDraft:n,onUpdateAccount:r})})});default:return c.jsx("div",{className:"tab-content active",children:c.jsx("p",{style:{color:"#6b7280"},children:"  ."})})}}function Y5({account:e,onUpdateDraft:t,onLog:n}){const[r,s]=P.useState(Qb(e.proxy)),[a,o]=P.useState(e.proxyUsername||""),[u,d]=P.useState(e.proxyPassword||""),[f,p]=P.useState(e.proxyType||"http"),[g,v]=P.useState(null),[x,w]=P.useState(null),[y,_]=P.useState(!1);P.useEffect(()=>{s(Qb(e.proxy)),o(e.proxyUsername||""),d(e.proxyPassword||""),p(e.proxyType||"http"),v(null),w(null),_(!1)},[e.id,e.proxy,e.proxyUsername,e.proxyPassword,e.proxyType]);const S=z=>{const M=(z.address??r).trim(),j=z.username??a,O=z.password??u,Y=z.protocol??f,J=e2(M,Y,j,O);t?.({proxy:J,proxyUsername:j,proxyPassword:O,proxyType:Y,proxyId:null})},N=z=>{s(z),S({address:z})},T=z=>{o(z),S({username:z})},C=z=>{d(z),S({password:z})},A=z=>{p(z),S({protocol:z})};return c.jsxs("div",{className:"tab-content active",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsx("input",{type:"text",value:r,onChange:z=>N(z.target.value),placeholder:"user:pass@host:port  host:port"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" ()"}),c.jsx("input",{type:"text",value:a,onChange:z=>T(z.target.value),placeholder:"user3"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" ()"}),c.jsx("input",{type:"password",value:u,onChange:z=>C(z.target.value),placeholder:""})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsxs("select",{value:f,onChange:z=>A(z.target.value),children:[c.jsx("option",{value:"http",children:"HTTP"}),c.jsx("option",{value:"https",children:"HTTPS"}),c.jsx("option",{value:"socks5",children:"SOCKS5"})]})]}),c.jsxs("div",{className:"proxy-test-section",style:{marginTop:"12px"},children:[c.jsxs("button",{type:"button",className:"btn btn-secondary btn-small",onClick:async()=>{const z=r.trim();if(!z){w("     host:port."),v(null);return}const M=e2(z,f,a,u);if(!M){w("   ."),v(null);return}let j;try{j=new URL(M)}catch{w("  .  host:port."),v(null);return}if(!j.hostname||!j.port){w("     ,  127.0.0.1:3128."),v(null);return}const O=Number(j.port);if(!Number.isFinite(O)||O<=0){w("  .  ,  3128."),v(null);return}_(!0),v(null),w(null);try{const Y=await WS(j.hostname,O,j.username||void 0,j.password||void 0,f);if(Y.status==="ok"){const J=[];typeof Y.response_time_ms=="number"&&J.push(`${Math.round(Y.response_time_ms)} `),Y.ip&&J.push(`IP: ${Y.ip}`);const F=J.length?` (${J.join(", ")})`:"";v(` ${F}`),w(null),n?.(`  ()  ${e.email}: OK${F} (${j.hostname}:${O}, ${f.toUpperCase()})`)}else w(Y.error||"     ."),v(null),n?.(`  ()  ${e.email}: : ${Y.error||"  "}`)}catch(Y){const J=Y instanceof Error?Y.message:String(Y);w(J||"   ."),v(null),n?.(`  ()  ${e.email}: : ${J||" "}`)}finally{_(!1)}},disabled:y||!r.trim(),children:[c.jsx("i",{className:"fas fa-plug"})," ",y?"...":" "]}),g&&c.jsxs("p",{className:"action-hint",style:{color:"#059669",marginTop:8},children:[c.jsx("i",{className:"fas fa-check-circle"})," ",g]}),x&&c.jsxs("p",{className:"action-hint",style:{color:"#b91c1c",marginTop:8},children:[c.jsx("i",{className:"fas fa-exclamation-circle"})," ",x]}),c.jsx("small",{style:{color:"#6b7280"},children:"       ."})]})]})}function Qb(e){if(!e)return"";const t=e.replace(/^\w+:\/\//,""),n=t.split("@");return n.length===2?n[1]:t}function e2(e,t,n,r){const s=e.replace(/^\w+:\/\//,"");return s?n||r?`${t}://${n||""}:${r||""}@${s}`:`${t}://${s}`:""}function J5({account:e,onUpdateDraft:t}){const n={usa:{geo:"usa",timezone:"America/New_York",locale:"en-US",languages:["en-US","en"],userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",userAgentRandom:!0,userAgentPool:["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36"],geolocation:{latitude:40.7128,longitude:-74.006,accuracy:100,jitter:.01},screen:{width:1920,height:1080,dpr:1,options:[{width:1920,height:1080,dpr:1},{width:1366,height:768,dpr:1},{width:1440,height:900,dpr:1.25}]},hardware:{cores:8,memory:8,platform:"Windows",deviceName:"Windows 11",coresOptions:[4,6,8],memoryOptions:[4,8,16],webglProfiles:[{vendor:"Intel Inc.",renderer:"Intel(R) UHD Graphics 620"},{vendor:"Intel Inc.",renderer:"Intel(R) Iris(R) Xe Graphics"},{vendor:"AMD",renderer:"Radeon RX 6600"}]},webrtc:"replace_ip",canvasNoise:"light",webglNoise:!0,audioNoise:!0,fontsSpoofing:!0,dnt:!1,dohEnabled:!0},russia:{geo:"russia",timezone:"Europe/Moscow",locale:"ru-RU",languages:["ru-RU","ru","en-US","en"],userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",userAgentRandom:!0,userAgentPool:["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36"],geolocation:{latitude:55.7558,longitude:37.6173,accuracy:100,jitter:.01},screen:{width:1920,height:1080,dpr:1,options:[{width:1920,height:1080,dpr:1},{width:1600,height:900,dpr:1.25},{width:1366,height:768,dpr:1}]},hardware:{cores:8,memory:8,platform:"Windows",deviceName:"Windows 11",coresOptions:[4,6,8],memoryOptions:[4,8],webglProfiles:[{vendor:"Intel Inc.",renderer:"Intel(R) HD Graphics 630"},{vendor:"Intel Inc.",renderer:"Intel(R) Iris(R) Graphics 6100"}]},webrtc:"disable",canvasNoise:"medium",webglNoise:!0,audioNoise:!1,fontsSpoofing:!0,dnt:!1,dohEnabled:!0},kazakhstan:{geo:"kazakhstan",timezone:"Asia/Almaty",locale:"ru-KZ",languages:["ru-KZ","ru","en-US","en"],userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",userAgentRandom:!0,userAgentPool:["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36"],geolocation:{latitude:51.1694,longitude:71.4491,accuracy:100,jitter:.01},screen:{width:1920,height:1080,dpr:1,options:[{width:1920,height:1080,dpr:1},{width:1366,height:768,dpr:1}]},hardware:{cores:6,memory:8,platform:"Windows",deviceName:"Windows 10",coresOptions:[4,6],memoryOptions:[4,8],webglProfiles:[{vendor:"Intel Inc.",renderer:"Intel(R) UHD Graphics 610"}]},webrtc:"disable",canvasNoise:"light",webglNoise:!1,audioNoise:!1,fontsSpoofing:!0,dnt:!1,dohEnabled:!0},nigeria:{geo:"nigeria",timezone:"Africa/Lagos",locale:"en-NG",languages:["en-NG","en"],userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",userAgentRandom:!0,userAgentPool:["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36"],geolocation:{latitude:6.5244,longitude:3.3792,accuracy:150,jitter:.01},screen:{width:1366,height:768,dpr:1,options:[{width:1366,height:768,dpr:1},{width:1920,height:1080,dpr:1}]},hardware:{cores:6,memory:8,platform:"Windows",deviceName:"Windows 10",coresOptions:[4,6],memoryOptions:[4,8],webglProfiles:[{vendor:"Intel Inc.",renderer:"Intel(R) UHD Graphics 620"},{vendor:"AMD",renderer:"Radeon RX 570"}]},webrtc:"replace_ip",canvasNoise:"medium",webglNoise:!0,audioNoise:!1,fontsSpoofing:!0,dnt:!1,dohEnabled:!0},lithuania:{geo:"lithuania",timezone:"Europe/Vilnius",locale:"lt-LT",languages:["lt-LT","lt","en-US","en"],userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",userAgentRandom:!0,userAgentPool:["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36"],geolocation:{latitude:54.6872,longitude:25.2797,accuracy:100,jitter:.01},screen:{width:1920,height:1080,dpr:1,options:[{width:1920,height:1080,dpr:1},{width:1366,height:768,dpr:1}]},hardware:{cores:8,memory:16,platform:"Windows",deviceName:"Windows 11",coresOptions:[6,8],memoryOptions:[8,16],webglProfiles:[{vendor:"Intel Inc.",renderer:"Intel(R) UHD Graphics 630"},{vendor:"AMD",renderer:"Radeon RX 5700"}]},webrtc:"replace_ip",canvasNoise:"light",webglNoise:!0,audioNoise:!0,fontsSpoofing:!0,dnt:!1,dohEnabled:!0},custom:{geo:"custom",timezone:"UTC",locale:"en-US",languages:["en-US","en"],userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",userAgentRandom:!0,userAgentPool:["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36"],geolocation:{latitude:0,longitude:0,accuracy:100,jitter:.01},screen:{width:1920,height:1080,dpr:1,options:[{width:1920,height:1080,dpr:1},{width:1366,height:768,dpr:1}]},hardware:{cores:4,memory:8,platform:"Windows",deviceName:"Desktop",coresOptions:[4,6],memoryOptions:[8,16],webglProfiles:[{vendor:"Intel Inc.",renderer:"Intel(R) UHD Graphics 620"}]},webrtc:"replace_ip",canvasNoise:"light",webglNoise:!0,audioNoise:!1,fontsSpoofing:!0,dnt:!1,dohEnabled:!0}},r=x=>{if(!(!x||!x.length))return x[Math.floor(Math.random()*x.length)]},s=(x,w)=>{const y=n[w]??n.russia;if(!x)return y;const _=(S,N)=>S===void 0?N:S;return{...y,...x,geo:x.geo??w,geolocation:{...y.geolocation,...x.geolocation??{}},screen:{...y.screen,...x.screen??{}},hardware:{...y.hardware,...x.hardware??{},platform:x.hardware?.platform??y.hardware.platform,deviceName:x.hardware?.deviceName??y.hardware.deviceName,coresOptions:x.hardware?.coresOptions??y.hardware.coresOptions,memoryOptions:x.hardware?.memoryOptions??y.hardware.memoryOptions,webglProfiles:x.hardware?.webglProfiles??y.hardware.webglProfiles},webrtc:x.webrtc??y.webrtc,canvasNoise:x.canvasNoise??y.canvasNoise,webglNoise:_(x.webglNoise,y.webglNoise),audioNoise:_(x.audioNoise,y.audioNoise),fontsSpoofing:_(x.fontsSpoofing,y.fontsSpoofing),dnt:_(x.dnt,y.dnt),dohEnabled:_(x.dohEnabled,y.dohEnabled),userAgentPool:x.userAgentPool??y.userAgentPool,userAgentRandom:x.userAgentRandom??y.userAgentRandom,clientHints:x.clientHints??y.clientHints}},a=x=>{const w=n[x]??n.russia,y=w.geolocation.jitter??0,_=r(w.screen.options)??w.screen,S=w.userAgentRandom?r(w.userAgentPool)??w.userAgent:w.userAgent,N=w.hardware.coresOptions?r(w.hardware.coresOptions)??w.hardware.cores:w.hardware.cores,T=w.hardware.memoryOptions?r(w.hardware.memoryOptions)??w.hardware.memory:w.hardware.memory,C=w.hardware.webglProfiles?r(w.hardware.webglProfiles):void 0,A={latitude:w.geolocation.latitude+(Math.random()*2-1)*y,longitude:w.geolocation.longitude+(Math.random()*2-1)*y,accuracy:w.geolocation.accuracy,jitter:y};return{...w,geolocation:y?A:w.geolocation,screen:{...w.screen,..._},hardware:{...w.hardware,cores:N,memory:T,webglProfiles:w.hardware.webglProfiles},userAgent:S,webglProfile:C}},o=x=>{if(!x)return"russia";const w=x.toLowerCase();return w.includes("usa")?"usa":w.includes("kz")||w.includes("kazakhstan")?"kazakhstan":w.includes("nigeria")||w.includes("ng")?"nigeria":w.includes("lithuania")||w.includes("lt")?"lithuania":(w.includes("russia"),"russia")},u=o(e.fingerprint),[d,f]=P.useState(e.antidetect?.geo??u),[p,g]=P.useState(s(e.antidetect,e.antidetect?.geo??u)),v=(x,w)=>{t?.({fingerprint:w==="usa"?"usa_standard":w==="kazakhstan"?"kazakhstan_standard":w==="russia"?"russia_standard":w,antidetect:x})};return P.useEffect(()=>{const x=e.antidetect?.geo??o(e.fingerprint);f(x),g(s(e.antidetect,x))},[e.id,e.fingerprint]),c.jsxs("div",{className:"tab-content active",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"-"}),c.jsxs("select",{value:d,onChange:x=>{const w=x.target.value;f(w);const y=s(w===p.geo?p:void 0,w);g(y),v(y,w)},children:[c.jsx("option",{value:"usa",children:" USA"}),c.jsx("option",{value:"russia",children:" "}),c.jsx("option",{value:"kazakhstan",children:" "}),c.jsx("option",{value:"nigeria",children:" "}),c.jsx("option",{value:"lithuania",children:" "}),c.jsx("option",{value:"custom",children:" Custom"})]}),c.jsx("div",{style:{marginTop:8},children:c.jsx("button",{type:"button",className:"btn btn-secondary btn-small",onClick:()=>{const x=a(d);g(x),v(x,d)},children:"  "})})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"WebRTC"}),c.jsxs("select",{value:p.webrtc,onChange:x=>{const w={...p,webrtc:x.target.value};g(w),v(w,d)},children:[c.jsx("option",{value:"disable",children:"Disable"}),c.jsx("option",{value:"replace_ip",children:"Replace IP"}),c.jsx("option",{value:"sync_with_proxy",children:"Sync with Proxy"}),c.jsx("option",{value:"manual",children:"Manual"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Canvas Noise"}),c.jsxs("select",{value:p.canvasNoise,onChange:x=>{const w={...p,canvasNoise:x.target.value};g(w),v(w,d)},children:[c.jsx("option",{value:"off",children:"Off"}),c.jsx("option",{value:"light",children:"Light"}),c.jsx("option",{value:"medium",children:"Medium"}),c.jsx("option",{value:"hard",children:"Hard"})]})]})]}),c.jsxs("div",{className:"form-group checkbox-group",children:[c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:p.webglNoise,onChange:x=>{const w={...p,webglNoise:x.target.checked};g(w),v(w,d)}}),c.jsx("span",{className:"checkmark"})," WebGL Spoofing"]}),c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:p.audioNoise,onChange:x=>{const w={...p,audioNoise:x.target.checked};g(w),v(w,d)}}),c.jsx("span",{className:"checkmark"})," Audio Noise"]}),c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:p.fontsSpoofing,onChange:x=>{const w={...p,fontsSpoofing:x.target.checked};g(w),v(w,d)}}),c.jsx("span",{className:"checkmark"})," Fonts Spoofing"]}),c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:p.dohEnabled,onChange:x=>{const w={...p,dohEnabled:x.target.checked};g(w),v(w,d)}}),c.jsx("span",{className:"checkmark"})," DoH  "]}),c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:p.dnt,onChange:x=>{const w={...p,dnt:x.target.checked};g(w),v(w,d)}}),c.jsx("span",{className:"checkmark"})," DNT Header"]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:""}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[c.jsx("input",{type:"number",value:p.screen.width,onChange:x=>{const w={...p,screen:{...p.screen,width:Number(x.target.value)||0}};g(w),v(w,d)},placeholder:"1920"}),c.jsx("input",{type:"number",value:p.screen.height,onChange:x=>{const w={...p,screen:{...p.screen,height:Number(x.target.value)||0}};g(w),v(w,d)},placeholder:"1080"})]}),c.jsxs("div",{style:{marginTop:8},children:[c.jsx("label",{children:"DPR"}),c.jsxs("select",{value:p.screen.dpr,onChange:x=>{const w={...p,screen:{...p.screen,dpr:Number(x.target.value)||1}};g(w),v(w,d)},children:[c.jsx("option",{value:1,children:"1.0"}),c.jsx("option",{value:1.25,children:"1.25"}),c.jsx("option",{value:1.5,children:"1.5"})]})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:""}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[c.jsxs("select",{value:p.hardware.cores,onChange:x=>{const w={...p,hardware:{...p.hardware,cores:Number(x.target.value)||p.hardware.cores}};g(w),v(w,d)},children:[c.jsx("option",{value:4,children:"4 cores"}),c.jsx("option",{value:6,children:"6 cores"}),c.jsx("option",{value:8,children:"8 cores"})]}),c.jsxs("select",{value:p.hardware.memory,onChange:x=>{const w={...p,hardware:{...p.hardware,memory:Number(x.target.value)||p.hardware.memory}};g(w),v(w,d)},children:[c.jsx("option",{value:4,children:"4 GB"}),c.jsx("option",{value:8,children:"8 GB"}),c.jsx("option",{value:16,children:"16 GB"})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[c.jsxs("select",{value:p.hardware.platform,onChange:x=>{const w={...p,hardware:{...p.hardware,platform:x.target.value}};g(w),v(w,d)},children:[c.jsx("option",{value:"Windows",children:"Windows"}),c.jsx("option",{value:"MacOS",children:"MacOS"}),c.jsx("option",{value:"Linux",children:"Linux"})]}),c.jsx("input",{type:"text",value:p.hardware.deviceName,onChange:x=>{const w={...p,hardware:{...p.hardware,deviceName:x.target.value}};g(w),v(w,d)},placeholder:"Device name"})]})]})]}),c.jsxs("div",{className:"info-section",children:[c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-label",children:"User-Agent:"}),c.jsx("span",{className:"info-value",children:p.userAgent})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-label",children:"Locale/Timezone:"}),c.jsxs("span",{className:"info-value",children:[p.locale,"  ",p.timezone]})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-label",children:"Accept-Language:"}),c.jsx("span",{className:"info-value",children:p.languages.join(", ")})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-label",children:":"}),c.jsxs("span",{className:"info-value",children:[p.geolocation.latitude,", ",p.geolocation.longitude," (",p.geolocation.accuracy,")"]})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" ( )"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[c.jsx("input",{type:"number",step:"0.0001",value:p.geolocation.latitude,onChange:x=>{const w={...p,geolocation:{...p.geolocation,latitude:Number(x.target.value)||0}};g(w),v(w,d)},placeholder:"Latitude"}),c.jsx("input",{type:"number",step:"0.0001",value:p.geolocation.longitude,onChange:x=>{const w={...p,geolocation:{...p.geolocation,longitude:Number(x.target.value)||0}};g(w),v(w,d)},placeholder:"Longitude"})]}),c.jsx("div",{style:{marginTop:8},children:c.jsx("input",{type:"number",value:p.geolocation.accuracy,onChange:x=>{const w={...p,geolocation:{...p.geolocation,accuracy:Number(x.target.value)||0}};g(w),v(w,d)},placeholder:"Accuracy ()"})})]}),c.jsx("div",{className:"form-group",children:c.jsx("small",{style:{color:"#6b7280"},children:"          ."})})]})}function Z5({account:e,onUpdateDraft:t}){const n=P.useRef(null),[r,s]=P.useState(null),[a,o]=P.useState(null),[u,d]=P.useState(!1),[f,p]=P.useState(!1),[g,v]=P.useState(!1),[x,w]=P.useState(!1),[y,_]=P.useState(null),[S,N]=P.useState(null);P.useEffect(()=>{s(null),o(null),_(null),N(null)},[e.id]);const T=J=>F=>{const{value:re}=F.target;t?.({[J]:re})},C=async()=>{v(!0),o(null),N(null);try{const J=await Z4(e.id);_(` : ${J.path}`)}catch(J){const F=J instanceof Error?J.message:String(J);N(F)}finally{v(!1)}},A=async()=>{w(!0),_(null),N(null);try{const J=await Q4(e.id);_(`  : ${J.path}`)}catch(J){const F=J instanceof Error?J.message:String(J);N(F)}finally{w(!1)}},z=()=>{t?.({profilePath:""}),_("  "),N(null)},M=()=>{n.current?.click()},j=async J=>{const F=J.target.files?.[0];if(F){d(!0),s(null),o(null);try{const re=await z4(e.id,F);s(` : ${re.path}`)}catch(re){const k=re instanceof Error?re.message:String(re);o(k)}finally{d(!1),J.target.value=""}}},O=async()=>{p(!0),s(null),o(null);try{const J=await U4(e.id);s(` cookies   ${J.path}`)}catch(J){const F=J instanceof Error?J.message:String(J);o(F)}finally{p(!1)}},Y=e.profilePath&&e.profilePath.trim().length?`${e.profilePath.replace(/\\\\/g,"\\")}\\storage_state.json`:"";return c.jsxs("div",{className:"tab-content active",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email"}),c.jsx("input",{type:"email",value:e.email,onChange:T("email"),placeholder:"login@yandex.ru"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:""}),c.jsx("div",{className:"password-field",children:c.jsx("input",{type:"password",value:e.password,onChange:T("password"),placeholder:""})})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsx("input",{type:"text",value:e.secretAnswer,onChange:T("secretAnswer"),placeholder:"   "})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" Chrome"}),c.jsxs("div",{className:"path-field",children:[c.jsx("input",{type:"text",value:e.profilePath,onChange:T("profilePath"),placeholder:"C:/AI/yandex/.profiles/..."}),c.jsxs("div",{className:"path-actions",children:[c.jsx("button",{type:"button",className:"btn btn-secondary btn-path btn-icon",onClick:C,disabled:g,"aria-label":" ",title:" ",children:c.jsx("i",{className:"fas fa-folder-open"})}),c.jsx("button",{type:"button",className:"btn btn-secondary btn-path btn-icon",onClick:A,disabled:x,"aria-label":" ",title:" ",children:c.jsx("i",{className:`fas ${x?"fa-spinner fa-spin":"fa-save"}`})}),c.jsx("button",{type:"button",className:"btn btn-danger btn-path btn-icon",onClick:z,"aria-label":" ",title:" ",children:c.jsx("i",{className:"fas fa-trash-alt"})})]})]}),y&&c.jsxs("p",{className:"action-hint",style:{color:"#059669"},children:[c.jsx("i",{className:"fas fa-info-circle"})," ",y]}),S&&c.jsxs("p",{className:"action-hint",style:{color:"#b91c1c"},children:[c.jsx("i",{className:"fas fa-exclamation-circle"})," ",S]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" cookies"}),c.jsxs("div",{className:"path-field",children:[c.jsx("input",{type:"text",readOnly:!0,value:Y,placeholder:" cookies     "}),c.jsxs("div",{className:"path-actions",children:[c.jsx("button",{type:"button",className:"btn btn-secondary btn-path btn-icon",onClick:C,disabled:g,"aria-label":"  cookies",title:"  cookies",children:c.jsx("i",{className:"fas fa-folder-open"})}),c.jsx("button",{type:"button",className:"btn btn-secondary btn-path btn-icon",onClick:M,disabled:u,"aria-label":" cookies",title:" cookies",children:c.jsx("i",{className:`fas ${u?"fa-spinner fa-spin":"fa-save"}`})}),c.jsx("button",{type:"button",className:"btn btn-danger btn-path btn-icon",onClick:O,disabled:f,"aria-label":" cookies",title:" cookies",children:c.jsx("i",{className:"fas fa-trash-alt"})})]}),c.jsx("input",{ref:n,type:"file",accept:".json,.txt",style:{display:"none"},onChange:j})]}),r&&c.jsxs("p",{className:"action-hint",style:{color:"#059669"},children:[c.jsx("i",{className:"fas fa-info-circle"})," ",r]}),a&&c.jsxs("p",{className:"action-hint",style:{color:"#b91c1c"},children:[c.jsx("i",{className:"fas fa-exclamation-circle"})," ",a]})]}),c.jsxs("div",{className:"info-section compact",children:[c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-label",children:" cookies:"}),c.jsx("span",{className:"info-value",children:e.cookiesStatus||""})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-label",children:" :"}),c.jsx("span",{className:"info-value",children:e.authStatus||""})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-label",children:" :"}),c.jsx("span",{className:"info-value",children:e.lastLogin||""})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-label",children:" :"}),c.jsx("span",{className:"info-value",children:e.profileSize||"0 "})]})]}),c.jsx(W5,{accountId:e.id,profilePath:e.profilePath})]})}function Q5({accounts:e,extraLogs:t=[]}){const n=P.useRef(null),r=P.useMemo(()=>{const s=k4(e);return t.length?[...s?[s,""]:[],"===   ===",...t].join(`
`):s},[e,t]);return P.useEffect(()=>{n.current&&(n.current.scrollTop=n.current.scrollHeight)},[r]),c.jsx("div",{className:"account-log-panel",children:c.jsx("pre",{ref:n,className:"account-log-body",tabIndex:0,children:r||" .    ,   ."})})}const t2={usa:{geo:"usa",timezone:"America/New_York",locale:"en-US",languages:["en-US","en"],userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",userAgentRandom:!0,userAgentPool:["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36"],clientHints:{brands:[{brand:"Chromium",version:"131"},{brand:"Not:A-Brand",version:"24"},{brand:"Google Chrome",version:"131"}],platform:"Windows",platformVersion:"10.0.0",architecture:"x86",bitness:"64",fullVersion:"131.0.0.0",mobile:!1},geolocation:{latitude:40.7128,longitude:-74.006,accuracy:100,jitter:.01},screen:{width:1920,height:1080,dpr:1,options:[{width:1920,height:1080,dpr:1},{width:1366,height:768,dpr:1},{width:1440,height:900,dpr:1.25}]},hardware:{cores:8,memory:8,platform:"Windows",deviceName:"Windows 11",coresOptions:[4,6,8],memoryOptions:[4,8,16],webglProfiles:[{vendor:"Intel Inc.",renderer:"Intel(R) UHD Graphics 620"},{vendor:"Intel Inc.",renderer:"Intel(R) Iris(R) Xe Graphics"},{vendor:"AMD",renderer:"Radeon RX 6600"}]},webrtc:"replace_ip",canvasNoise:"light",webglNoise:!0,audioNoise:!0,fontsSpoofing:!0,dnt:!1,dohEnabled:!0},russia:{geo:"russia",timezone:"Europe/Moscow",locale:"ru-RU",languages:["ru-RU","ru","en-US","en"],userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",userAgentRandom:!0,userAgentPool:["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36"],geolocation:{latitude:55.7558,longitude:37.6173,accuracy:100,jitter:.01},screen:{width:1920,height:1080,dpr:1,options:[{width:1920,height:1080,dpr:1},{width:1600,height:900,dpr:1.25},{width:1366,height:768,dpr:1}]},hardware:{cores:8,memory:8,platform:"Windows",deviceName:"Windows 11",coresOptions:[4,6,8],memoryOptions:[4,8],webglProfiles:[{vendor:"Intel Inc.",renderer:"Intel(R) HD Graphics 630"},{vendor:"Intel Inc.",renderer:"Intel(R) Iris(R) Graphics 6100"}]},webrtc:"disable",canvasNoise:"medium",webglNoise:!0,audioNoise:!1,fontsSpoofing:!0,dnt:!1,dohEnabled:!0},kazakhstan:{geo:"kazakhstan",timezone:"Asia/Almaty",locale:"ru-KZ",languages:["ru-KZ","ru","en-US","en"],userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",userAgentRandom:!0,userAgentPool:["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36"],geolocation:{latitude:51.1694,longitude:71.4491,accuracy:100,jitter:.01},screen:{width:1920,height:1080,dpr:1,options:[{width:1920,height:1080,dpr:1},{width:1366,height:768,dpr:1}]},hardware:{cores:6,memory:8,platform:"Windows",deviceName:"Windows 10",coresOptions:[4,6],memoryOptions:[4,8],webglProfiles:[{vendor:"Intel Inc.",renderer:"Intel(R) UHD Graphics 610"}]},webrtc:"disable",canvasNoise:"light",webglNoise:!1,audioNoise:!1,fontsSpoofing:!0,dnt:!1,dohEnabled:!0},nigeria:{geo:"nigeria",timezone:"Africa/Lagos",locale:"en-NG",languages:["en-NG","en"],userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",userAgentRandom:!0,userAgentPool:["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36"],geolocation:{latitude:6.5244,longitude:3.3792,accuracy:150,jitter:.01},screen:{width:1366,height:768,dpr:1,options:[{width:1366,height:768,dpr:1},{width:1920,height:1080,dpr:1}]},hardware:{cores:6,memory:8,platform:"Windows",deviceName:"Windows 10",coresOptions:[4,6],memoryOptions:[4,8],webglProfiles:[{vendor:"Intel Inc.",renderer:"Intel(R) UHD Graphics 620"},{vendor:"AMD",renderer:"Radeon RX 570"}]},webrtc:"replace_ip",canvasNoise:"medium",webglNoise:!0,audioNoise:!1,fontsSpoofing:!0,dnt:!1,dohEnabled:!0},lithuania:{geo:"lithuania",timezone:"Europe/Vilnius",locale:"lt-LT",languages:["lt-LT","lt","en-US","en"],userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",userAgentRandom:!0,userAgentPool:["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36"],geolocation:{latitude:54.6872,longitude:25.2797,accuracy:100,jitter:.01},screen:{width:1920,height:1080,dpr:1,options:[{width:1920,height:1080,dpr:1},{width:1366,height:768,dpr:1}]},hardware:{cores:8,memory:16,platform:"Windows",deviceName:"Windows 11",coresOptions:[6,8],memoryOptions:[8,16],webglProfiles:[{vendor:"Intel Inc.",renderer:"Intel(R) UHD Graphics 630"},{vendor:"AMD",renderer:"Radeon RX 5700"}]},webrtc:"replace_ip",canvasNoise:"light",webglNoise:!0,audioNoise:!0,fontsSpoofing:!0,dnt:!1,dohEnabled:!0},custom:{geo:"custom",timezone:"UTC",locale:"en-US",languages:["en-US","en"],userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",userAgentRandom:!0,userAgentPool:["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36"],geolocation:{latitude:0,longitude:0,accuracy:100,jitter:.01},screen:{width:1920,height:1080,dpr:1,options:[{width:1920,height:1080,dpr:1},{width:1366,height:768,dpr:1}]},hardware:{cores:4,memory:8,platform:"Windows",deviceName:"Desktop",coresOptions:[4,6],memoryOptions:[8,16],webglProfiles:[{vendor:"Intel Inc.",renderer:"Intel(R) UHD Graphics 620"}]},webrtc:"replace_ip",canvasNoise:"light",webglNoise:!0,audioNoise:!1,fontsSpoofing:!0,dnt:!1,dohEnabled:!0}};function e6(e){if(!e)return"russia";const t=e.toLowerCase();return t.includes("usa")?"usa":t.includes("kz")||t.includes("kazakhstan")?"kazakhstan":t.includes("ng")||t.includes("nigeria")?"nigeria":t.includes("lt")||t.includes("lithuania")?"lithuania":(t.includes("russia"),"russia")}function t6(e,t){const n=e?.geo??t,r=t2[n]??t2[t],s=(u,d)=>u??d,a=(u,d)=>u??d,o=(u,d)=>u??d;return{...r,...e,geo:n,geolocation:{...r.geolocation,...e?.geolocation??{}},screen:{...r.screen,...e?.screen??{}},hardware:{...r.hardware,...e?.hardware??{},platform:o(e?.hardware?.platform,r.hardware.platform),deviceName:e?.hardware?.deviceName??r.hardware.deviceName},webrtc:a(e?.webrtc,r.webrtc),canvasNoise:s(e?.canvasNoise,r.canvasNoise),webglNoise:e?.webglNoise??r.webglNoise,audioNoise:e?.audioNoise??r.audioNoise,fontsSpoofing:e?.fontsSpoofing??r.fontsSpoofing,dnt:e?.dnt??r.dnt,dohEnabled:e?.dohEnabled??r.dohEnabled}}function Rx(e){if(!e)return{};try{const t=JSON.parse(e);if(t&&typeof t=="object")return t}catch{}return{}}function n6(e){switch(e){case"usa":return"usa_standard";case"kazakhstan":return"kazakhstan_standard";case"russia":return"russia_standard";default:return e}}function r6(e){const t=Rx(e.notes),n=e6(t.fingerprint),r=t6(t.antidetect,n);return{id:e.id,email:e.name,password:t.password??"",secretAnswer:t.secretAnswer??"",profilePath:e.profile_path??"",status:o6(e.status),proxy:e.proxy??"",proxyUsername:t.proxyUsername??"",proxyPassword:t.proxyPassword??"",proxyType:t.proxyType??"http",proxyId:e.proxy_id??null,proxyStrategy:c6(e.proxy_strategy),fingerprint:t.fingerprint??n6(r.geo),antidetect:r,captchaService:t.captchaService??"none",captchaAutoSolve:t.captchaAutoSolve??!1,lastLaunch:t.lastLaunch??a6(e.last_used_at),authStatus:t.authStatus??"",lastLogin:t.lastLogin??i6(e.last_used_at),profileSize:t.profileSize??"0 ",notesRaw:e.notes??""}}function s6(e){const t={...Rx(e.notesRaw),password:e.password,secretAnswer:e.secretAnswer,proxyUsername:e.proxyUsername,proxyPassword:e.proxyPassword,proxyType:e.proxyType,fingerprint:e.fingerprint,antidetect:e.antidetect,lastLaunch:e.lastLaunch,authStatus:e.authStatus,lastLogin:e.lastLogin,profileSize:e.profileSize,captchaService:e.captchaService,captchaAutoSolve:e.captchaAutoSolve};return{name:e.email||"",profile_path:e.profilePath||"",proxy:e.proxy,proxy_id:e.proxyId??null,proxy_strategy:e.proxyStrategy??"fixed",notes:JSON.stringify(t)}}function n2(e){const n={...Rx(e.notesRaw)};e.password!==void 0&&(n.password=e.password),e.secretAnswer!==void 0&&(n.secretAnswer=e.secretAnswer),e.proxyUsername!==void 0&&(n.proxyUsername=e.proxyUsername),e.proxyPassword!==void 0&&(n.proxyPassword=e.proxyPassword),e.proxyType!==void 0&&(n.proxyType=e.proxyType),e.fingerprint!==void 0&&(n.fingerprint=e.fingerprint),e.antidetect!==void 0&&(n.antidetect=e.antidetect),e.lastLaunch!==void 0&&(n.lastLaunch=e.lastLaunch),e.authStatus!==void 0&&(n.authStatus=e.authStatus),e.lastLogin!==void 0&&(n.lastLogin=e.lastLogin),e.profileSize!==void 0&&(n.profileSize=e.profileSize),e.captchaService!==void 0&&(n.captchaService=e.captchaService),e.captchaAutoSolve!==void 0&&(n.captchaAutoSolve=e.captchaAutoSolve);const r={};return e.email!==void 0&&(r.name=e.email),e.profilePath!==void 0&&(r.profile_path=e.profilePath),e.proxy!==void 0&&(r.proxy=e.proxy),e.proxyId!==void 0&&(r.proxy_id=e.proxyId),e.proxyStrategy!==void 0&&(r.proxy_strategy=e.proxyStrategy),e.status!==void 0&&(r.status=l6(e.status)),Object.keys(n).length>0&&(r.notes=JSON.stringify(n)),r}function a6(e){if(!e)return"";const t=new Date(e),r=new Date().getTime()-t.getTime(),s=Math.floor(r/6e4),a=Math.floor(r/36e5),o=Math.floor(r/864e5);return s<1?" ":s<60?`${s} ${Nm(s,"","","")} `:a<24?`${a} ${Nm(a,"","","")} `:o===1?"":o<7?`${o} ${Nm(o,"","","")} `:t.toLocaleDateString("ru-RU")}function i6(e){return e?new Date(e).toLocaleString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):""}function Nm(e,t,n,r){const s=e%10,a=e%100;return s===1&&a!==11?t:s>=2&&s<=4&&(a<10||a>=20)?n:r}function o6(e){switch((e||"").toLowerCase()){case"ok":case"active":return"active";case"cooldown":case"working":return"working";case"captcha":case"needs_login":return"needs_login";case"banned":case"disabled":case"error":return"error";default:return"needs_login"}}function l6(e){switch(e){case"active":return"ok";case"working":return"cooldown";case"needs_login":return"captcha";case"error":default:return"error"}}function r2(e){const t=r6(e),n=e.cookies_status??"",r=!!t.proxy,s=!!t.profilePath;n&&!n.toLowerCase().includes("")&&n.toLowerCase().includes("expired");let a="",o=!1;return s?r?n?n.toLowerCase().includes(" ")?(a=" cookies",o=!0):n.toLowerCase().includes("expired")?(a=" cookies",o=!0):n.toLowerCase().includes("stale")?(a=" cookies",o=!1):(a="",o=!1):(a="  cookies",o=!1):(a=" ",o=!0):(a=" ",o=!0),{...t,cookiesStatus:n,consistencyLabel:a,consistencyWarning:o}}function c6(e){switch((e||"").toLowerCase()){case"rotate":return"rotate";default:return"fixed"}}const u6=e=>Math.min(.6,Math.max(.2,e));function d6(){const[e,t]=P.useState([]),[n,r]=P.useState(!0),[s,a]=P.useState(null),[o,u]=P.useState({search:"",status:"",onlyWithProxy:!1}),[d,f]=P.useState([]),[p,g]=P.useState(new Set),[v,x]=P.useState(null),[w,y]=P.useState(.3),[_,S]=P.useState(!1),N=P.useRef(null),T=P.useRef(!1),C=P.useCallback(V=>{const H=`[${new Date().toLocaleString("ru-RU")}] ${V}`;f(Q=>[...Q,H].slice(-200))},[]),A=P.useCallback(async()=>{r(!0),a(null);try{const K=(await I4()).map(r2);t(K)}catch(V){t([]),a(V.message||"   .  backend."),C(`  : ${V.message||"backend "}`)}finally{r(!1)}},[C]);P.useEffect(()=>{A()},[A]),P.useEffect(()=>{g(V=>{if(V.size===0)return V;const K=new Set;return e.forEach(H=>{V.has(H.id)&&K.add(H.id)}),K.size===V.size?V:K})},[e]),P.useEffect(()=>{x(V=>V&&e.some(K=>K.id===V.id)?V:e[0]??null)},[e]);const z=P.useMemo(()=>E4(e,o),[e,o]),M=z.length>0&&z.every(V=>p.has(V.id)),j=V=>{const K=new Set(p);V?z.forEach(H=>K.add(H.id)):z.forEach(H=>K.delete(H.id)),g(K)},O=V=>{const K=new Set(p);K.has(V)?K.delete(V):K.add(V),g(K)},Y=V=>{x(V)},J=async V=>{const K=Array.from(p),H=()=>{if(K.length!==1)return alert("  "),null;const Q=e.find(ee=>ee.id===K[0])??null;return Q||alert("  "),Q};try{if(V.startsWith("launch-")){const Q=Number(V.split("-")[1]);if(!Number.isNaN(Q)){const ee=await F4(Q);alert(ee.message)}return}switch(V){case"mass-launch-5":{const Q=K.length>0?K.slice(0,5):e.slice(0,5).map(ee=>ee.id);if(Q.length===0){alert("   ");return}await $b({ids:Q});break}case"check-auth":{const Q=K.length?e.filter(ae=>K.includes(ae.id)):e.slice(0,5);if(Q.length===0){alert("   ");return}const ee=Q.map(ae=>`${ae.email}: ${ae.authStatus||""} (.  ${ae.lastLogin||""})`);alert(ee.join(`
`));break}case"export-accounts":{if(e.length===0){alert("  ");return}const Q=["email","status","proxy","fingerprint","lastLaunch","authStatus","lastLogin","profileSize"],ee=e.map(B=>[B.email,B.status,B.proxy,B.fingerprint,B.lastLaunch,B.authStatus,B.lastLogin,B.profileSize].map(G=>`"${String(G??"").replace(/"/g,'""')}"`).join(",")),ae=[Q.join(","),...ee].join(`
`),D=new Blob([ae],{type:"text/csv;charset=utf-8;"}),R=URL.createObjectURL(D),U=document.createElement("a");U.href=R,U.download="accounts_export.csv",U.click(),URL.revokeObjectURL(R);break}case"show-history":{const Q=e.slice().sort((ee,ae)=>ae.lastLaunch.localeCompare(ee.lastLaunch)).slice(0,5).map(ee=>`${ee.email}: ${ee.lastLaunch||""} (${ee.status})`);alert(Q.join(`
`)||" ");break}case"add":{const Q=window.prompt("Email  Yandex");if(!Q)return;const ee=window.prompt("   Chrome",`C:\\profiles\\${Q}`);if(!ee)return;const ae=window.prompt(" (user:pass@host:port)",""),D=s6({email:Q,profilePath:ee,proxy:ae||void 0});await L4(D),await A();break}case"edit":{const Q=H();if(!Q)return;const ee=window.prompt("   ",Q.profilePath)??Q.profilePath,ae=window.prompt("",Q.proxy)??Q.proxy,D=n2({profilePath:ee,proxy:ae});await Ub(Q.id,D),await A();break}case"delete":{if(K.length===0){alert("   ");return}if(!window.confirm(`   (${K.length})?   .`))return;for(const ee of K)await P4(ee);await A(),g(new Set);break}case"refresh":await A();break;case"launch":case"launch-browser":{if(K.length===0){alert("   ");return}await $b({ids:K});break}case"consistency-check":alert("    .");break;default:console.warn(`Unknown action: ${V}`)}}catch(Q){const ee=Q instanceof Error?Q.message:String(Q);alert(ee),C(`  "${V}": ${ee}`)}},F=P.useCallback(V=>{if(!T.current||!N.current)return;const K=N.current.getBoundingClientRect(),H=K.bottom-V.clientY,Q=u6(H/K.height);y(Q)},[]),re=P.useCallback(()=>{T.current&&(T.current=!1,S(!1),window.removeEventListener("mousemove",F),window.removeEventListener("mouseup",re))},[F]),k=P.useCallback(V=>{V.preventDefault(),T.current=!0,S(!0),window.addEventListener("mousemove",F),window.addEventListener("mouseup",re)},[F,re]);return P.useEffect(()=>()=>{window.removeEventListener("mousemove",F),window.removeEventListener("mouseup",re)},[F,re]),c.jsxs("div",{className:"app-container",children:[c.jsx(j4,{onAction:J}),c.jsxs("div",{className:"main-content",children:[c.jsxs("div",{className:"table-section",children:[c.jsx(A4,{search:o.search,status:o.status,filteredCount:z.length,totalCount:e.length,onSearchChange:V=>u(K=>({...K,search:V})),onStatusChange:V=>u(K=>({...K,status:V}))}),n?c.jsx("div",{style:{padding:"24px",border:"1px dashed #d1d5db",borderRadius:"12px",textAlign:"center",color:"#4b5563",marginTop:"16px"},children:" "}):s?c.jsxs("div",{style:{padding:"20px",border:"1px solid #fecaca",borderRadius:"12px",background:"#fef2f2",color:"#b91c1c",marginTop:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px"},children:[c.jsx("span",{children:s}),c.jsx("button",{type:"button",className:"action-btn",onClick:A,style:{minWidth:"140px"},children:""})]}):c.jsxs("div",{className:"table-log-container",ref:N,children:[c.jsx("div",{className:"accounts-table-wrapper",style:{flex:Math.max(.3,1-w)},children:c.jsx("div",{className:"accounts-table-scroll",children:c.jsx(R4,{accounts:z,searchTerm:o.search,selectedIds:p,isAllSelected:M,onToggleAll:j,onToggleRow:O,onSelectAccount:Y,onLaunch:V=>J(`launch-${V.id}`),onOpenSettings:Y})})}),c.jsx("div",{className:`log-resizer ${_?"dragging":""}`,onMouseDown:k,role:"presentation",children:c.jsx("span",{})}),c.jsx("div",{className:"account-log-panel-wrapper",style:{flex:w,minHeight:200},children:c.jsx(Q5,{accounts:e,extraLogs:d})})]})]}),c.jsx(K5,{account:v,onClose:()=>{},onLog:C,onReloadAccounts:A,selectedAccountIds:Array.from(p),onUpdateAccount:async(V,K)=>{const H=n2(K),Q=await Ub(V,H),ee=r2(Q);t(ae=>ae.map(D=>D.id===V?ee:D)),x(ae=>ae&&ae.id===V?ee:ae)}})]})]})}const f6=Object.freeze(Object.defineProperty({__proto__:null,default:d6},Symbol.toStringTag,{value:"Module"})),h6=e=>e instanceof Error?e.message+`
`+e.stack:JSON.stringify(e,null,2);let p6=class extends Te.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?c.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[c.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),c.jsx("pre",{className:"mt-2 text-sm",children:h6(this.state.error)})]}):this.props.children}};var m6={value:()=>{}};function Ox(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new zf(n)}function zf(e){this._=e}function g6(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}zf.prototype=Ox.prototype={constructor:zf,on:function(e,t){var n=this._,r=g6(e+"",n),s,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((s=(e=r[a]).type)&&(s=x6(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(s=(e=r[a]).type)n[s]=s2(n[s],e.name,t);else if(t==null)for(s in n)n[s]=s2(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new zf(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,a;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,s=a.length;r<s;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,a=r.length;s<a;++s)r[s].value.apply(t,n)}};function x6(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function s2(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=m6,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Eg="http://www.w3.org/1999/xhtml";const a2={svg:"http://www.w3.org/2000/svg",xhtml:Eg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ph(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),a2.hasOwnProperty(t)?{space:a2[t],local:e}:e}function v6(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Eg&&t.documentElement.namespaceURI===Eg?t.createElement(e):t.createElementNS(n,e)}}function y6(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function iE(e){var t=Ph(e);return(t.local?y6:v6)(t)}function w6(){}function Mx(e){return e==null?w6:function(){return this.querySelector(e)}}function b6(e){typeof e!="function"&&(e=Mx(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,u=r[s]=new Array(o),d,f,p=0;p<o;++p)(d=a[p])&&(f=e.call(d,d.__data__,p,a))&&("__data__"in d&&(f.__data__=d.__data__),u[p]=f);return new Yr(r,this._parents)}function _6(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function S6(){return[]}function oE(e){return e==null?S6:function(){return this.querySelectorAll(e)}}function E6(e){return function(){return _6(e.apply(this,arguments))}}function N6(e){typeof e=="function"?e=E6(e):e=oE(e);for(var t=this._groups,n=t.length,r=[],s=[],a=0;a<n;++a)for(var o=t[a],u=o.length,d,f=0;f<u;++f)(d=o[f])&&(r.push(e.call(d,d.__data__,f,o)),s.push(d));return new Yr(r,s)}function lE(e){return function(){return this.matches(e)}}function cE(e){return function(t){return t.matches(e)}}var T6=Array.prototype.find;function C6(e){return function(){return T6.call(this.children,e)}}function k6(){return this.firstElementChild}function j6(e){return this.select(e==null?k6:C6(typeof e=="function"?e:cE(e)))}var A6=Array.prototype.filter;function R6(){return Array.from(this.children)}function O6(e){return function(){return A6.call(this.children,e)}}function M6(e){return this.selectAll(e==null?R6:O6(typeof e=="function"?e:cE(e)))}function D6(e){typeof e!="function"&&(e=lE(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,u=r[s]=[],d,f=0;f<o;++f)(d=a[f])&&e.call(d,d.__data__,f,a)&&u.push(d);return new Yr(r,this._parents)}function uE(e){return new Array(e.length)}function I6(){return new Yr(this._enter||this._groups.map(uE),this._parents)}function Zf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Zf.prototype={constructor:Zf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function L6(e){return function(){return e}}function P6(e,t,n,r,s,a){for(var o=0,u,d=t.length,f=a.length;o<f;++o)(u=t[o])?(u.__data__=a[o],r[o]=u):n[o]=new Zf(e,a[o]);for(;o<d;++o)(u=t[o])&&(s[o]=u)}function F6(e,t,n,r,s,a,o){var u,d,f=new Map,p=t.length,g=a.length,v=new Array(p),x;for(u=0;u<p;++u)(d=t[u])&&(v[u]=x=o.call(d,d.__data__,u,t)+"",f.has(x)?s[u]=d:f.set(x,d));for(u=0;u<g;++u)x=o.call(e,a[u],u,a)+"",(d=f.get(x))?(r[u]=d,d.__data__=a[u],f.delete(x)):n[u]=new Zf(e,a[u]);for(u=0;u<p;++u)(d=t[u])&&f.get(v[u])===d&&(s[u]=d)}function z6(e){return e.__data__}function B6(e,t){if(!arguments.length)return Array.from(this,z6);var n=t?F6:P6,r=this._parents,s=this._groups;typeof e!="function"&&(e=L6(e));for(var a=s.length,o=new Array(a),u=new Array(a),d=new Array(a),f=0;f<a;++f){var p=r[f],g=s[f],v=g.length,x=U6(e.call(p,p&&p.__data__,f,r)),w=x.length,y=u[f]=new Array(w),_=o[f]=new Array(w),S=d[f]=new Array(v);n(p,g,y,_,S,x,t);for(var N=0,T=0,C,A;N<w;++N)if(C=y[N]){for(N>=T&&(T=N+1);!(A=_[T])&&++T<w;);C._next=A||null}}return o=new Yr(o,r),o._enter=u,o._exit=d,o}function U6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $6(){return new Yr(this._exit||this._groups.map(uE),this._parents)}function H6(e,t,n){var r=this.enter(),s=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?a.remove():n(a),r&&s?r.merge(s).order():s}function G6(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,a=r.length,o=Math.min(s,a),u=new Array(s),d=0;d<o;++d)for(var f=n[d],p=r[d],g=f.length,v=u[d]=new Array(g),x,w=0;w<g;++w)(x=f[w]||p[w])&&(v[w]=x);for(;d<s;++d)u[d]=n[d];return new Yr(u,this._parents)}function V6(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,a=r[s],o;--s>=0;)(o=r[s])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function W6(e){e||(e=q6);function t(g,v){return g&&v?e(g.__data__,v.__data__):!g-!v}for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a){for(var o=n[a],u=o.length,d=s[a]=new Array(u),f,p=0;p<u;++p)(f=o[p])&&(d[p]=f);d.sort(t)}return new Yr(s,this._parents).order()}function q6(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function K6(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function X6(){return Array.from(this)}function Y6(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,a=r.length;s<a;++s){var o=r[s];if(o)return o}return null}function J6(){let e=0;for(const t of this)++e;return e}function Z6(){return!this.node()}function Q6(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],a=0,o=s.length,u;a<o;++a)(u=s[a])&&e.call(u,u.__data__,a,s);return this}function eO(e){return function(){this.removeAttribute(e)}}function tO(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nO(e,t){return function(){this.setAttribute(e,t)}}function rO(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function sO(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function aO(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function iO(e,t){var n=Ph(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?tO:eO:typeof t=="function"?n.local?aO:sO:n.local?rO:nO)(n,t))}function dE(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function oO(e){return function(){this.style.removeProperty(e)}}function lO(e,t,n){return function(){this.style.setProperty(e,t,n)}}function cO(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function uO(e,t,n){return arguments.length>1?this.each((t==null?oO:typeof t=="function"?cO:lO)(e,t,n??"")):bl(this.node(),e)}function bl(e,t){return e.style.getPropertyValue(t)||dE(e).getComputedStyle(e,null).getPropertyValue(t)}function dO(e){return function(){delete this[e]}}function fO(e,t){return function(){this[e]=t}}function hO(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function pO(e,t){return arguments.length>1?this.each((t==null?dO:typeof t=="function"?hO:fO)(e,t)):this.node()[e]}function fE(e){return e.trim().split(/^|\s+/)}function Dx(e){return e.classList||new hE(e)}function hE(e){this._node=e,this._names=fE(e.getAttribute("class")||"")}hE.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function pE(e,t){for(var n=Dx(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function mE(e,t){for(var n=Dx(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function mO(e){return function(){pE(this,e)}}function gO(e){return function(){mE(this,e)}}function xO(e,t){return function(){(t.apply(this,arguments)?pE:mE)(this,e)}}function vO(e,t){var n=fE(e+"");if(arguments.length<2){for(var r=Dx(this.node()),s=-1,a=n.length;++s<a;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?xO:t?mO:gO)(n,t))}function yO(){this.textContent=""}function wO(e){return function(){this.textContent=e}}function bO(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function _O(e){return arguments.length?this.each(e==null?yO:(typeof e=="function"?bO:wO)(e)):this.node().textContent}function SO(){this.innerHTML=""}function EO(e){return function(){this.innerHTML=e}}function NO(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function TO(e){return arguments.length?this.each(e==null?SO:(typeof e=="function"?NO:EO)(e)):this.node().innerHTML}function CO(){this.nextSibling&&this.parentNode.appendChild(this)}function kO(){return this.each(CO)}function jO(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function AO(){return this.each(jO)}function RO(e){var t=typeof e=="function"?e:iE(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function OO(){return null}function MO(e,t){var n=typeof e=="function"?e:iE(e),r=t==null?OO:typeof t=="function"?t:Mx(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function DO(){var e=this.parentNode;e&&e.removeChild(this)}function IO(){return this.each(DO)}function LO(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function PO(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function FO(e){return this.select(e?PO:LO)}function zO(e){return arguments.length?this.property("__data__",e):this.node().__data__}function BO(e){return function(t){e.call(this,t,this.__data__)}}function UO(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function $O(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,a;n<s;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function HO(e,t,n){return function(){var r=this.__on,s,a=BO(t);if(r){for(var o=0,u=r.length;o<u;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(s):this.__on=[s]}}function GO(e,t,n){var r=UO(e+""),s,a=r.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var d=0,f=u.length,p;d<f;++d)for(s=0,p=u[d];s<a;++s)if((o=r[s]).type===p.type&&o.name===p.name)return p.value}return}for(u=t?HO:$O,s=0;s<a;++s)this.each(u(r[s],t,n));return this}function gE(e,t,n){var r=dE(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function VO(e,t){return function(){return gE(this,e,t)}}function WO(e,t){return function(){return gE(this,e,t.apply(this,arguments))}}function qO(e,t){return this.each((typeof t=="function"?WO:VO)(e,t))}function*KO(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,a=r.length,o;s<a;++s)(o=r[s])&&(yield o)}var xE=[null];function Yr(e,t){this._groups=e,this._parents=t}function Lu(){return new Yr([[document.documentElement]],xE)}function XO(){return this}Yr.prototype=Lu.prototype={constructor:Yr,select:b6,selectAll:N6,selectChild:j6,selectChildren:M6,filter:D6,data:B6,enter:I6,exit:$6,join:H6,merge:G6,selection:XO,order:V6,sort:W6,call:K6,nodes:X6,node:Y6,size:J6,empty:Z6,each:Q6,attr:iO,style:uO,property:pO,classed:vO,text:_O,html:TO,raise:kO,lower:AO,append:RO,insert:MO,remove:IO,clone:FO,datum:zO,on:GO,dispatch:qO,[Symbol.iterator]:KO};function ya(e){return typeof e=="string"?new Yr([[document.querySelector(e)]],[document.documentElement]):new Yr([[e]],xE)}function YO(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Fi(e,t){if(e=YO(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const Ng={capture:!0,passive:!1};function Tg(e){e.preventDefault(),e.stopImmediatePropagation()}function JO(e){var t=e.document.documentElement,n=ya(e).on("dragstart.drag",Tg,Ng);"onselectstart"in t?n.on("selectstart.drag",Tg,Ng):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ZO(e,t){var n=e.document.documentElement,r=ya(e).on("dragstart.drag",null);t&&(r.on("click.drag",Tg,Ng),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ix(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function vE(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Pu(){}var hu=.7,Qf=1/hu,cl="\\s*([+-]?\\d+)\\s*",pu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QO=/^#([0-9a-f]{3,8})$/,e8=new RegExp(`^rgb\\(${cl},${cl},${cl}\\)$`),t8=new RegExp(`^rgb\\(${Vs},${Vs},${Vs}\\)$`),n8=new RegExp(`^rgba\\(${cl},${cl},${cl},${pu}\\)$`),r8=new RegExp(`^rgba\\(${Vs},${Vs},${Vs},${pu}\\)$`),s8=new RegExp(`^hsl\\(${pu},${Vs},${Vs}\\)$`),a8=new RegExp(`^hsla\\(${pu},${Vs},${Vs},${pu}\\)$`),i2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ix(Pu,mu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:o2,formatHex:o2,formatHex8:i8,formatHsl:o8,formatRgb:l2,toString:l2});function o2(){return this.rgb().formatHex()}function i8(){return this.rgb().formatHex8()}function o8(){return yE(this).formatHsl()}function l2(){return this.rgb().formatRgb()}function mu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=QO.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?c2(t):n===3?new Ar(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?uf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?uf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=e8.exec(e))?new Ar(t[1],t[2],t[3],1):(t=t8.exec(e))?new Ar(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=n8.exec(e))?uf(t[1],t[2],t[3],t[4]):(t=r8.exec(e))?uf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=s8.exec(e))?f2(t[1],t[2]/100,t[3]/100,1):(t=a8.exec(e))?f2(t[1],t[2]/100,t[3]/100,t[4]):i2.hasOwnProperty(e)?c2(i2[e]):e==="transparent"?new Ar(NaN,NaN,NaN,0):null}function c2(e){return new Ar(e>>16&255,e>>8&255,e&255,1)}function uf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ar(e,t,n,r)}function l8(e){return e instanceof Pu||(e=mu(e)),e?(e=e.rgb(),new Ar(e.r,e.g,e.b,e.opacity)):new Ar}function Cg(e,t,n,r){return arguments.length===1?l8(e):new Ar(e,t,n,r??1)}function Ar(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ix(Ar,Cg,vE(Pu,{brighter(e){return e=e==null?Qf:Math.pow(Qf,e),new Ar(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hu:Math.pow(hu,e),new Ar(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ar(Qi(this.r),Qi(this.g),Qi(this.b),eh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:u2,formatHex:u2,formatHex8:c8,formatRgb:d2,toString:d2}));function u2(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}`}function c8(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}${Xi((isNaN(this.opacity)?1:this.opacity)*255)}`}function d2(){const e=eh(this.opacity);return`${e===1?"rgb(":"rgba("}${Qi(this.r)}, ${Qi(this.g)}, ${Qi(this.b)}${e===1?")":`, ${e})`}`}function eh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xi(e){return e=Qi(e),(e<16?"0":"")+e.toString(16)}function f2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ks(e,t,n,r)}function yE(e){if(e instanceof ks)return new ks(e.h,e.s,e.l,e.opacity);if(e instanceof Pu||(e=mu(e)),!e)return new ks;if(e instanceof ks)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,u=a-s,d=(a+s)/2;return u?(t===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-t)/u+2:o=(t-n)/u+4,u/=d<.5?a+s:2-a-s,o*=60):u=d>0&&d<1?0:o,new ks(o,u,d,e.opacity)}function u8(e,t,n,r){return arguments.length===1?yE(e):new ks(e,t,n,r??1)}function ks(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ix(ks,u8,vE(Pu,{brighter(e){return e=e==null?Qf:Math.pow(Qf,e),new ks(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hu:Math.pow(hu,e),new ks(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Ar(Tm(e>=240?e-240:e+120,s,r),Tm(e,s,r),Tm(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new ks(h2(this.h),df(this.s),df(this.l),eh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=eh(this.opacity);return`${e===1?"hsl(":"hsla("}${h2(this.h)}, ${df(this.s)*100}%, ${df(this.l)*100}%${e===1?")":`, ${e})`}`}}));function h2(e){return e=(e||0)%360,e<0?e+360:e}function df(e){return Math.max(0,Math.min(1,e||0))}function Tm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wE=e=>()=>e;function d8(e,t){return function(n){return e+n*t}}function f8(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function h8(e){return(e=+e)==1?bE:function(t,n){return n-t?f8(t,n,e):wE(isNaN(t)?n:t)}}function bE(e,t){var n=t-e;return n?d8(e,n):wE(isNaN(e)?t:e)}const p2=(function e(t){var n=h8(t);function r(s,a){var o=n((s=Cg(s)).r,(a=Cg(a)).r),u=n(s.g,a.g),d=n(s.b,a.b),f=bE(s.opacity,a.opacity);return function(p){return s.r=o(p),s.g=u(p),s.b=d(p),s.opacity=f(p),s+""}}return r.gamma=e,r})(1);function ii(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var kg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cm=new RegExp(kg.source,"g");function p8(e){return function(){return e}}function m8(e){return function(t){return e(t)+""}}function g8(e,t){var n=kg.lastIndex=Cm.lastIndex=0,r,s,a,o=-1,u=[],d=[];for(e=e+"",t=t+"";(r=kg.exec(e))&&(s=Cm.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(s=s[0])?u[o]?u[o]+=s:u[++o]=s:(u[++o]=null,d.push({i:o,x:ii(r,s)})),n=Cm.lastIndex;return n<t.length&&(a=t.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?d[0]?m8(d[0].x):p8(t):(t=d.length,function(f){for(var p=0,g;p<t;++p)u[(g=d[p]).i]=g.x(f);return u.join("")})}var m2=180/Math.PI,jg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _E(e,t,n,r,s,a){var o,u,d;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(d=e*n+t*r)&&(n-=e*d,r-=t*d),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,d/=u),e*r<t*n&&(e=-e,t=-t,d=-d,o=-o),{translateX:s,translateY:a,rotate:Math.atan2(t,e)*m2,skewX:Math.atan(d)*m2,scaleX:o,scaleY:u}}var ff;function x8(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?jg:_E(t.a,t.b,t.c,t.d,t.e,t.f)}function v8(e){return e==null||(ff||(ff=document.createElementNS("http://www.w3.org/2000/svg","g")),ff.setAttribute("transform",e),!(e=ff.transform.baseVal.consolidate()))?jg:(e=e.matrix,_E(e.a,e.b,e.c,e.d,e.e,e.f))}function SE(e,t,n,r){function s(f){return f.length?f.pop()+" ":""}function a(f,p,g,v,x,w){if(f!==g||p!==v){var y=x.push("translate(",null,t,null,n);w.push({i:y-4,x:ii(f,g)},{i:y-2,x:ii(p,v)})}else(g||v)&&x.push("translate("+g+t+v+n)}function o(f,p,g,v){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),v.push({i:g.push(s(g)+"rotate(",null,r)-2,x:ii(f,p)})):p&&g.push(s(g)+"rotate("+p+r)}function u(f,p,g,v){f!==p?v.push({i:g.push(s(g)+"skewX(",null,r)-2,x:ii(f,p)}):p&&g.push(s(g)+"skewX("+p+r)}function d(f,p,g,v,x,w){if(f!==g||p!==v){var y=x.push(s(x)+"scale(",null,",",null,")");w.push({i:y-4,x:ii(f,g)},{i:y-2,x:ii(p,v)})}else(g!==1||v!==1)&&x.push(s(x)+"scale("+g+","+v+")")}return function(f,p){var g=[],v=[];return f=e(f),p=e(p),a(f.translateX,f.translateY,p.translateX,p.translateY,g,v),o(f.rotate,p.rotate,g,v),u(f.skewX,p.skewX,g,v),d(f.scaleX,f.scaleY,p.scaleX,p.scaleY,g,v),f=p=null,function(x){for(var w=-1,y=v.length,_;++w<y;)g[(_=v[w]).i]=_.x(x);return g.join("")}}}var y8=SE(x8,"px, ","px)","deg)"),w8=SE(v8,", ",")",")"),b8=1e-12;function g2(e){return((e=Math.exp(e))+1/e)/2}function _8(e){return((e=Math.exp(e))-1/e)/2}function S8(e){return((e=Math.exp(2*e))-1)/(e+1)}const E8=(function e(t,n,r){function s(a,o){var u=a[0],d=a[1],f=a[2],p=o[0],g=o[1],v=o[2],x=p-u,w=g-d,y=x*x+w*w,_,S;if(y<b8)S=Math.log(v/f)/t,_=function(M){return[u+M*x,d+M*w,f*Math.exp(t*M*S)]};else{var N=Math.sqrt(y),T=(v*v-f*f+r*y)/(2*f*n*N),C=(v*v-f*f-r*y)/(2*v*n*N),A=Math.log(Math.sqrt(T*T+1)-T),z=Math.log(Math.sqrt(C*C+1)-C);S=(z-A)/t,_=function(M){var j=M*S,O=g2(A),Y=f/(n*N)*(O*S8(t*j+A)-_8(A));return[u+Y*x,d+Y*w,f*O/g2(t*j+A)]}}return _.duration=S*1e3*t/Math.SQRT2,_}return s.rho=function(a){var o=Math.max(.001,+a),u=o*o,d=u*u;return e(o,u,d)},s})(Math.SQRT2,2,4);var _l=0,qc=0,Fc=0,EE=1e3,th,Kc,nh=0,no=0,Fh=0,gu=typeof performance=="object"&&performance.now?performance:Date,NE=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Lx(){return no||(NE(N8),no=gu.now()+Fh)}function N8(){no=0}function rh(){this._call=this._time=this._next=null}rh.prototype=TE.prototype={constructor:rh,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Lx():+n)+(t==null?0:+t),!this._next&&Kc!==this&&(Kc?Kc._next=this:th=this,Kc=this),this._call=e,this._time=n,Ag()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ag())}};function TE(e,t,n){var r=new rh;return r.restart(e,t,n),r}function T8(){Lx(),++_l;for(var e=th,t;e;)(t=no-e._time)>=0&&e._call.call(void 0,t),e=e._next;--_l}function x2(){no=(nh=gu.now())+Fh,_l=qc=0;try{T8()}finally{_l=0,k8(),no=0}}function C8(){var e=gu.now(),t=e-nh;t>EE&&(Fh-=t,nh=e)}function k8(){for(var e,t=th,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:th=n);Kc=e,Ag(r)}function Ag(e){if(!_l){qc&&(qc=clearTimeout(qc));var t=e-no;t>24?(e<1/0&&(qc=setTimeout(x2,e-gu.now()-Fh)),Fc&&(Fc=clearInterval(Fc))):(Fc||(nh=gu.now(),Fc=setInterval(C8,EE)),_l=1,NE(x2))}}function v2(e,t,n){var r=new rh;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var j8=Ox("start","end","cancel","interrupt"),A8=[],CE=0,y2=1,Rg=2,Bf=3,w2=4,Og=5,Uf=6;function zh(e,t,n,r,s,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;R8(e,n,{name:t,index:r,group:s,on:j8,tween:A8,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:CE})}function Px(e,t){var n=Ls(e,t);if(n.state>CE)throw new Error("too late; already scheduled");return n}function Ys(e,t){var n=Ls(e,t);if(n.state>Bf)throw new Error("too late; already running");return n}function Ls(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function R8(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=TE(a,0,n.time);function a(f){n.state=y2,n.timer.restart(o,n.delay,n.time),n.delay<=f&&o(f-n.delay)}function o(f){var p,g,v,x;if(n.state!==y2)return d();for(p in r)if(x=r[p],x.name===n.name){if(x.state===Bf)return v2(o);x.state===w2?(x.state=Uf,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete r[p]):+p<t&&(x.state=Uf,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete r[p])}if(v2(function(){n.state===Bf&&(n.state=w2,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=Rg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Rg){for(n.state=Bf,s=new Array(v=n.tween.length),p=0,g=-1;p<v;++p)(x=n.tween[p].value.call(e,e.__data__,n.index,n.group))&&(s[++g]=x);s.length=g+1}}function u(f){for(var p=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=Og,1),g=-1,v=s.length;++g<v;)s[g].call(e,p);n.state===Og&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=Uf,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function $f(e,t){var n=e.__transition,r,s,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}s=r.state>Rg&&r.state<Og,r.state=Uf,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function O8(e){return this.each(function(){$f(this,e)})}function M8(e,t){var n,r;return function(){var s=Ys(this,e),a=s.tween;if(a!==n){r=n=a;for(var o=0,u=r.length;o<u;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function D8(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var a=Ys(this,e),o=a.tween;if(o!==r){s=(r=o).slice();for(var u={name:t,value:n},d=0,f=s.length;d<f;++d)if(s[d].name===t){s[d]=u;break}d===f&&s.push(u)}a.tween=s}}function I8(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ls(this.node(),n).tween,s=0,a=r.length,o;s<a;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?M8:D8)(n,e,t))}function Fx(e,t,n){var r=e._id;return e.each(function(){var s=Ys(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Ls(s,r).value[t]}}function kE(e,t){var n;return(typeof t=="number"?ii:t instanceof mu?p2:(n=mu(t))?(t=n,p2):g8)(e,t)}function L8(e){return function(){this.removeAttribute(e)}}function P8(e){return function(){this.removeAttributeNS(e.space,e.local)}}function F8(e,t,n){var r,s=n+"",a;return function(){var o=this.getAttribute(e);return o===s?null:o===r?a:a=t(r=o,n)}}function z8(e,t,n){var r,s=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?a:a=t(r=o,n)}}function B8(e,t,n){var r,s,a;return function(){var o,u=n(this),d;return u==null?void this.removeAttribute(e):(o=this.getAttribute(e),d=u+"",o===d?null:o===r&&d===s?a:(s=d,a=t(r=o,u)))}}function U8(e,t,n){var r,s,a;return function(){var o,u=n(this),d;return u==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),d=u+"",o===d?null:o===r&&d===s?a:(s=d,a=t(r=o,u)))}}function $8(e,t){var n=Ph(e),r=n==="transform"?w8:kE;return this.attrTween(e,typeof t=="function"?(n.local?U8:B8)(n,r,Fx(this,"attr."+e,t)):t==null?(n.local?P8:L8)(n):(n.local?z8:F8)(n,r,t))}function H8(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function G8(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function V8(e,t){var n,r;function s(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&G8(e,a)),n}return s._value=t,s}function W8(e,t){var n,r;function s(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&H8(e,a)),n}return s._value=t,s}function q8(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ph(e);return this.tween(n,(r.local?V8:W8)(r,t))}function K8(e,t){return function(){Px(this,e).delay=+t.apply(this,arguments)}}function X8(e,t){return t=+t,function(){Px(this,e).delay=t}}function Y8(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?K8:X8)(t,e)):Ls(this.node(),t).delay}function J8(e,t){return function(){Ys(this,e).duration=+t.apply(this,arguments)}}function Z8(e,t){return t=+t,function(){Ys(this,e).duration=t}}function Q8(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?J8:Z8)(t,e)):Ls(this.node(),t).duration}function eM(e,t){if(typeof t!="function")throw new Error;return function(){Ys(this,e).ease=t}}function tM(e){var t=this._id;return arguments.length?this.each(eM(t,e)):Ls(this.node(),t).ease}function nM(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ys(this,e).ease=n}}function rM(e){if(typeof e!="function")throw new Error;return this.each(nM(this._id,e))}function sM(e){typeof e!="function"&&(e=lE(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,u=r[s]=[],d,f=0;f<o;++f)(d=a[f])&&e.call(d,d.__data__,f,a)&&u.push(d);return new Ca(r,this._parents,this._name,this._id)}function aM(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,a=Math.min(r,s),o=new Array(r),u=0;u<a;++u)for(var d=t[u],f=n[u],p=d.length,g=o[u]=new Array(p),v,x=0;x<p;++x)(v=d[x]||f[x])&&(g[x]=v);for(;u<r;++u)o[u]=t[u];return new Ca(o,this._parents,this._name,this._id)}function iM(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function oM(e,t,n){var r,s,a=iM(t)?Px:Ys;return function(){var o=a(this,e),u=o.on;u!==r&&(s=(r=u).copy()).on(t,n),o.on=s}}function lM(e,t){var n=this._id;return arguments.length<2?Ls(this.node(),n).on.on(e):this.each(oM(n,e,t))}function cM(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function uM(){return this.on("end.remove",cM(this._id))}function dM(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Mx(e));for(var r=this._groups,s=r.length,a=new Array(s),o=0;o<s;++o)for(var u=r[o],d=u.length,f=a[o]=new Array(d),p,g,v=0;v<d;++v)(p=u[v])&&(g=e.call(p,p.__data__,v,u))&&("__data__"in p&&(g.__data__=p.__data__),f[v]=g,zh(f[v],t,n,v,f,Ls(p,n)));return new Ca(a,this._parents,t,n)}function fM(e){var t=this._name,n=this._id;typeof e!="function"&&(e=oE(e));for(var r=this._groups,s=r.length,a=[],o=[],u=0;u<s;++u)for(var d=r[u],f=d.length,p,g=0;g<f;++g)if(p=d[g]){for(var v=e.call(p,p.__data__,g,d),x,w=Ls(p,n),y=0,_=v.length;y<_;++y)(x=v[y])&&zh(x,t,n,y,v,w);a.push(v),o.push(p)}return new Ca(a,o,t,n)}var hM=Lu.prototype.constructor;function pM(){return new hM(this._groups,this._parents)}function mM(e,t){var n,r,s;return function(){var a=bl(this,e),o=(this.style.removeProperty(e),bl(this,e));return a===o?null:a===n&&o===r?s:s=t(n=a,r=o)}}function jE(e){return function(){this.style.removeProperty(e)}}function gM(e,t,n){var r,s=n+"",a;return function(){var o=bl(this,e);return o===s?null:o===r?a:a=t(r=o,n)}}function xM(e,t,n){var r,s,a;return function(){var o=bl(this,e),u=n(this),d=u+"";return u==null&&(d=u=(this.style.removeProperty(e),bl(this,e))),o===d?null:o===r&&d===s?a:(s=d,a=t(r=o,u))}}function vM(e,t){var n,r,s,a="style."+t,o="end."+a,u;return function(){var d=Ys(this,e),f=d.on,p=d.value[a]==null?u||(u=jE(t)):void 0;(f!==n||s!==p)&&(r=(n=f).copy()).on(o,s=p),d.on=r}}function yM(e,t,n){var r=(e+="")=="transform"?y8:kE;return t==null?this.styleTween(e,mM(e,r)).on("end.style."+e,jE(e)):typeof t=="function"?this.styleTween(e,xM(e,r,Fx(this,"style."+e,t))).each(vM(this._id,e)):this.styleTween(e,gM(e,r,t),n).on("end.style."+e,null)}function wM(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function bM(e,t,n){var r,s;function a(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&wM(e,o,n)),r}return a._value=t,a}function _M(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,bM(e,t,n??""))}function SM(e){return function(){this.textContent=e}}function EM(e){return function(){var t=e(this);this.textContent=t??""}}function NM(e){return this.tween("text",typeof e=="function"?EM(Fx(this,"text",e)):SM(e==null?"":e+""))}function TM(e){return function(t){this.textContent=e.call(this,t)}}function CM(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&TM(s)),t}return r._value=e,r}function kM(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,CM(e))}function jM(){for(var e=this._name,t=this._id,n=AE(),r=this._groups,s=r.length,a=0;a<s;++a)for(var o=r[a],u=o.length,d,f=0;f<u;++f)if(d=o[f]){var p=Ls(d,t);zh(d,e,n,f,o,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Ca(r,this._parents,e,n)}function AM(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(a,o){var u={value:o},d={value:function(){--s===0&&a()}};n.each(function(){var f=Ys(this,r),p=f.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(d)),f.on=t}),s===0&&a()})}var RM=0;function Ca(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function AE(){return++RM}var ma=Lu.prototype;Ca.prototype={constructor:Ca,select:dM,selectAll:fM,selectChild:ma.selectChild,selectChildren:ma.selectChildren,filter:sM,merge:aM,selection:pM,transition:jM,call:ma.call,nodes:ma.nodes,node:ma.node,size:ma.size,empty:ma.empty,each:ma.each,on:lM,attr:$8,attrTween:q8,style:yM,styleTween:_M,text:NM,textTween:kM,remove:uM,tween:I8,delay:Y8,duration:Q8,ease:tM,easeVarying:rM,end:AM,[Symbol.iterator]:ma[Symbol.iterator]};function OM(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var MM={time:null,delay:0,duration:250,ease:OM};function DM(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function IM(e){var t,n;e instanceof Ca?(t=e._id,e=e._name):(t=AE(),(n=MM).time=Lx(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,a=0;a<s;++a)for(var o=r[a],u=o.length,d,f=0;f<u;++f)(d=o[f])&&zh(d,e,t,f,o,n||DM(d,t));return new Ca(r,this._parents,e,t)}Lu.prototype.interrupt=O8;Lu.prototype.transition=IM;function LM(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function PM(){return this.eachAfter(LM)}function FM(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function zM(e,t){for(var n=this,r=[n],s,a,o=-1;n=r.pop();)if(e.call(t,n,++o,this),s=n.children)for(a=s.length-1;a>=0;--a)r.push(s[a]);return this}function BM(e,t){for(var n=this,r=[n],s=[],a,o,u,d=-1;n=r.pop();)if(s.push(n),a=n.children)for(o=0,u=a.length;o<u;++o)r.push(a[o]);for(;n=s.pop();)e.call(t,n,++d,this);return this}function UM(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function $M(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,s=r&&r.length;--s>=0;)n+=r[s].value;t.value=n})}function HM(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function GM(e){for(var t=this,n=VM(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var s=r.length;e!==n;)r.splice(s,0,e),e=e.parent;return r}function VM(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),s=null;for(e=n.pop(),t=r.pop();e===t;)s=e,e=n.pop(),t=r.pop();return s}function WM(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function qM(){return Array.from(this)}function KM(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function XM(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*YM(){var e=this,t,n=[e],r,s,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(s=0,a=r.length;s<a;++s)n.push(r[s]);while(n.length)}function zx(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=QM)):t===void 0&&(t=ZM);for(var n=new xu(e),r,s=[n],a,o,u,d;r=s.pop();)if((o=t(r.data))&&(d=(o=Array.from(o)).length))for(r.children=o,u=d-1;u>=0;--u)s.push(a=o[u]=new xu(o[u])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(tD)}function JM(){return zx(this).eachBefore(eD)}function ZM(e){return e.children}function QM(e){return Array.isArray(e)?e[1]:null}function eD(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function tD(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function xu(e){this.data=e,this.depth=this.height=0,this.parent=null}xu.prototype=zx.prototype={constructor:xu,count:PM,each:FM,eachAfter:BM,eachBefore:zM,find:UM,sum:$M,sort:HM,path:GM,ancestors:WM,descendants:qM,leaves:KM,links:XM,copy:JM,[Symbol.iterator]:YM};function nD(e,t){return e.parent===t.parent?1:2}function km(e){var t=e.children;return t?t[0]:e.t}function jm(e){var t=e.children;return t?t[t.length-1]:e.t}function rD(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function sD(e){for(var t=0,n=0,r=e.children,s=r.length,a;--s>=0;)a=r[s],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function aD(e,t,n){return e.a.parent===t.parent?e.a:n}function Hf(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Hf.prototype=Object.create(xu.prototype);function iD(e){for(var t=new Hf(e,0),n,r=[t],s,a,o,u;n=r.pop();)if(a=n._.children)for(n.children=new Array(u=a.length),o=u-1;o>=0;--o)r.push(s=n.children[o]=new Hf(a[o],o)),s.parent=n;return(t.parent=new Hf(null,0)).children=[t],t}function oD(){var e=nD,t=1,n=1,r=null;function s(f){var p=iD(f);if(p.eachAfter(a),p.parent.m=-p.z,p.eachBefore(o),r)f.eachBefore(d);else{var g=f,v=f,x=f;f.eachBefore(function(N){N.x<g.x&&(g=N),N.x>v.x&&(v=N),N.depth>x.depth&&(x=N)});var w=g===v?1:e(g,v)/2,y=w-g.x,_=t/(v.x+w+y),S=n/(x.depth||1);f.eachBefore(function(N){N.x=(N.x+y)*_,N.y=N.depth*S})}return f}function a(f){var p=f.children,g=f.parent.children,v=f.i?g[f.i-1]:null;if(p){sD(f);var x=(p[0].z+p[p.length-1].z)/2;v?(f.z=v.z+e(f._,v._),f.m=f.z-x):f.z=x}else v&&(f.z=v.z+e(f._,v._));f.parent.A=u(f,v,f.parent.A||g[0])}function o(f){f._.x=f.z+f.parent.m,f.m+=f.parent.m}function u(f,p,g){if(p){for(var v=f,x=f,w=p,y=v.parent.children[0],_=v.m,S=x.m,N=w.m,T=y.m,C;w=jm(w),v=km(v),w&&v;)y=km(y),x=jm(x),x.a=f,C=w.z+N-v.z-_+e(w._,v._),C>0&&(rD(aD(w,f,g),f,C),_+=C,S+=C),N+=w.m,_+=v.m,T+=y.m,S+=x.m;w&&!jm(x)&&(x.t=w,x.m+=N-S),v&&!km(y)&&(y.t=v,y.m+=_-T,g=f)}return g}function d(f){f.x*=t,f.y=f.depth*n}return s.separation=function(f){return arguments.length?(e=f,s):e},s.size=function(f){return arguments.length?(r=!1,t=+f[0],n=+f[1],s):r?null:[t,n]},s.nodeSize=function(f){return arguments.length?(r=!0,t=+f[0],n=+f[1],s):r?[t,n]:null},s}const hf=e=>()=>e;function lD(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function wa(e,t,n){this.k=e,this.x=t,this.y=n}wa.prototype={constructor:wa,scale:function(e){return e===1?this:new wa(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new wa(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ol=new wa(1,0,0);wa.prototype;function Am(e){e.stopImmediatePropagation()}function zc(e){e.preventDefault(),e.stopImmediatePropagation()}function cD(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function uD(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function b2(){return this.__zoom||ol}function dD(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function fD(){return navigator.maxTouchPoints||"ontouchstart"in this}function hD(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function pD(){var e=cD,t=uD,n=hD,r=dD,s=fD,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],u=250,d=E8,f=Ox("start","zoom","end"),p,g,v,x=500,w=150,y=0,_=10;function S(k){k.property("__zoom",b2).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",Y).filter(s).on("touchstart.zoom",J).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",re).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(k,V,K,H){var Q=k.selection?k.selection():k;Q.property("__zoom",b2),k!==Q?A(k,V,K,H):Q.interrupt().each(function(){z(this,arguments).event(H).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},S.scaleBy=function(k,V,K,H){S.scaleTo(k,function(){var Q=this.__zoom.k,ee=typeof V=="function"?V.apply(this,arguments):V;return Q*ee},K,H)},S.scaleTo=function(k,V,K,H){S.transform(k,function(){var Q=t.apply(this,arguments),ee=this.__zoom,ae=K==null?C(Q):typeof K=="function"?K.apply(this,arguments):K,D=ee.invert(ae),R=typeof V=="function"?V.apply(this,arguments):V;return n(T(N(ee,R),ae,D),Q,o)},K,H)},S.translateBy=function(k,V,K,H){S.transform(k,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof K=="function"?K.apply(this,arguments):K),t.apply(this,arguments),o)},null,H)},S.translateTo=function(k,V,K,H,Q){S.transform(k,function(){var ee=t.apply(this,arguments),ae=this.__zoom,D=H==null?C(ee):typeof H=="function"?H.apply(this,arguments):H;return n(ol.translate(D[0],D[1]).scale(ae.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof K=="function"?-K.apply(this,arguments):-K),ee,o)},H,Q)};function N(k,V){return V=Math.max(a[0],Math.min(a[1],V)),V===k.k?k:new wa(V,k.x,k.y)}function T(k,V,K){var H=V[0]-K[0]*k.k,Q=V[1]-K[1]*k.k;return H===k.x&&Q===k.y?k:new wa(k.k,H,Q)}function C(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function A(k,V,K,H){k.on("start.zoom",function(){z(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){z(this,arguments).event(H).end()}).tween("zoom",function(){var Q=this,ee=arguments,ae=z(Q,ee).event(H),D=t.apply(Q,ee),R=K==null?C(D):typeof K=="function"?K.apply(Q,ee):K,U=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),B=Q.__zoom,G=typeof V=="function"?V.apply(Q,ee):V,ue=d(B.invert(R).concat(U/B.k),G.invert(R).concat(U/G.k));return function(ge){if(ge===1)ge=G;else{var me=ue(ge),ve=U/me[2];ge=new wa(ve,R[0]-me[0]*ve,R[1]-me[1]*ve)}ae.zoom(null,ge)}})}function z(k,V,K){return!K&&k.__zooming||new M(k,V)}function M(k,V){this.that=k,this.args=V,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,V),this.taps=0}M.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,V){return this.mouse&&k!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var V=ya(this.that).datum();f.call(k,this.that,new lD(k,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:f}),V)}};function j(k,...V){if(!e.apply(this,arguments))return;var K=z(this,V).event(k),H=this.__zoom,Q=Math.max(a[0],Math.min(a[1],H.k*Math.pow(2,r.apply(this,arguments)))),ee=Fi(k);if(K.wheel)(K.mouse[0][0]!==ee[0]||K.mouse[0][1]!==ee[1])&&(K.mouse[1]=H.invert(K.mouse[0]=ee)),clearTimeout(K.wheel);else{if(H.k===Q)return;K.mouse=[ee,H.invert(ee)],$f(this),K.start()}zc(k),K.wheel=setTimeout(ae,w),K.zoom("mouse",n(T(N(H,Q),K.mouse[0],K.mouse[1]),K.extent,o));function ae(){K.wheel=null,K.end()}}function O(k,...V){if(v||!e.apply(this,arguments))return;var K=k.currentTarget,H=z(this,V,!0).event(k),Q=ya(k.view).on("mousemove.zoom",R,!0).on("mouseup.zoom",U,!0),ee=Fi(k,K),ae=k.clientX,D=k.clientY;JO(k.view),Am(k),H.mouse=[ee,this.__zoom.invert(ee)],$f(this),H.start();function R(B){if(zc(B),!H.moved){var G=B.clientX-ae,ue=B.clientY-D;H.moved=G*G+ue*ue>y}H.event(B).zoom("mouse",n(T(H.that.__zoom,H.mouse[0]=Fi(B,K),H.mouse[1]),H.extent,o))}function U(B){Q.on("mousemove.zoom mouseup.zoom",null),ZO(B.view,H.moved),zc(B),H.event(B).end()}}function Y(k,...V){if(e.apply(this,arguments)){var K=this.__zoom,H=Fi(k.changedTouches?k.changedTouches[0]:k,this),Q=K.invert(H),ee=K.k*(k.shiftKey?.5:2),ae=n(T(N(K,ee),H,Q),t.apply(this,V),o);zc(k),u>0?ya(this).transition().duration(u).call(A,ae,H,k):ya(this).call(S.transform,ae,H,k)}}function J(k,...V){if(e.apply(this,arguments)){var K=k.touches,H=K.length,Q=z(this,V,k.changedTouches.length===H).event(k),ee,ae,D,R;for(Am(k),ae=0;ae<H;++ae)D=K[ae],R=Fi(D,this),R=[R,this.__zoom.invert(R),D.identifier],Q.touch0?!Q.touch1&&Q.touch0[2]!==R[2]&&(Q.touch1=R,Q.taps=0):(Q.touch0=R,ee=!0,Q.taps=1+!!p);p&&(p=clearTimeout(p)),ee&&(Q.taps<2&&(g=R[0],p=setTimeout(function(){p=null},x)),$f(this),Q.start())}}function F(k,...V){if(this.__zooming){var K=z(this,V).event(k),H=k.changedTouches,Q=H.length,ee,ae,D,R;for(zc(k),ee=0;ee<Q;++ee)ae=H[ee],D=Fi(ae,this),K.touch0&&K.touch0[2]===ae.identifier?K.touch0[0]=D:K.touch1&&K.touch1[2]===ae.identifier&&(K.touch1[0]=D);if(ae=K.that.__zoom,K.touch1){var U=K.touch0[0],B=K.touch0[1],G=K.touch1[0],ue=K.touch1[1],ge=(ge=G[0]-U[0])*ge+(ge=G[1]-U[1])*ge,me=(me=ue[0]-B[0])*me+(me=ue[1]-B[1])*me;ae=N(ae,Math.sqrt(ge/me)),D=[(U[0]+G[0])/2,(U[1]+G[1])/2],R=[(B[0]+ue[0])/2,(B[1]+ue[1])/2]}else if(K.touch0)D=K.touch0[0],R=K.touch0[1];else return;K.zoom("touch",n(T(ae,D,R),K.extent,o))}}function re(k,...V){if(this.__zooming){var K=z(this,V).event(k),H=k.changedTouches,Q=H.length,ee,ae;for(Am(k),v&&clearTimeout(v),v=setTimeout(function(){v=null},x),ee=0;ee<Q;++ee)ae=H[ee],K.touch0&&K.touch0[2]===ae.identifier?delete K.touch0:K.touch1&&K.touch1[2]===ae.identifier&&delete K.touch1;if(K.touch1&&!K.touch0&&(K.touch0=K.touch1,delete K.touch1),K.touch0)K.touch0[1]=this.__zoom.invert(K.touch0[0]);else if(K.end(),K.taps===2&&(ae=Fi(ae,this),Math.hypot(g[0]-ae[0],g[1]-ae[1])<_)){var D=ya(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return S.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:hf(+k),S):r},S.filter=function(k){return arguments.length?(e=typeof k=="function"?k:hf(!!k),S):e},S.touchable=function(k){return arguments.length?(s=typeof k=="function"?k:hf(!!k),S):s},S.extent=function(k){return arguments.length?(t=typeof k=="function"?k:hf([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),S):t},S.scaleExtent=function(k){return arguments.length?(a[0]=+k[0],a[1]=+k[1],S):[a[0],a[1]]},S.translateExtent=function(k){return arguments.length?(o[0][0]=+k[0][0],o[1][0]=+k[1][0],o[0][1]=+k[0][1],o[1][1]=+k[1][1],S):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},S.constrain=function(k){return arguments.length?(n=k,S):n},S.duration=function(k){return arguments.length?(u=+k,S):u},S.interpolate=function(k){return arguments.length?(d=k,S):d},S.on=function(){var k=f.on.apply(f,arguments);return k===f?S:k},S.clickDistance=function(k){return arguments.length?(y=(k=+k)*k,S):Math.sqrt(y)},S.tapDistance=function(k){return arguments.length?(_=+k,S):_},S}function pf(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Rm={exports:{}};var _2;function mD(){return _2||(_2=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,s,a){function o(f,p){if(!s[f]){if(!r[f]){var g=typeof pf=="function"&&pf;if(!p&&g)return g(f,!0);if(u)return u(f,!0);var v=new Error("Cannot find module '"+f+"'");throw v.code="MODULE_NOT_FOUND",v}var x=s[f]={exports:{}};r[f][0].call(x.exports,function(w){var y=r[f][1][w];return o(y||w)},x,x.exports,n,r,s,a)}return s[f].exports}for(var u=typeof pf=="function"&&pf,d=0;d<a.length;d++)o(a[d]);return o})({1:[function(n,r,s){var a=n("./utils"),o=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(d){for(var f,p,g,v,x,w,y,_=[],S=0,N=d.length,T=N,C=a.getTypeOf(d)!=="string";S<d.length;)T=N-S,g=C?(f=d[S++],p=S<N?d[S++]:0,S<N?d[S++]:0):(f=d.charCodeAt(S++),p=S<N?d.charCodeAt(S++):0,S<N?d.charCodeAt(S++):0),v=f>>2,x=(3&f)<<4|p>>4,w=1<T?(15&p)<<2|g>>6:64,y=2<T?63&g:64,_.push(u.charAt(v)+u.charAt(x)+u.charAt(w)+u.charAt(y));return _.join("")},s.decode=function(d){var f,p,g,v,x,w,y=0,_=0,S="data:";if(d.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var N,T=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===u.charAt(64)&&T--,d.charAt(d.length-2)===u.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=o.uint8array?new Uint8Array(0|T):new Array(0|T);y<d.length;)f=u.indexOf(d.charAt(y++))<<2|(v=u.indexOf(d.charAt(y++)))>>4,p=(15&v)<<4|(x=u.indexOf(d.charAt(y++)))>>2,g=(3&x)<<6|(w=u.indexOf(d.charAt(y++))),N[_++]=f,x!==64&&(N[_++]=p),w!==64&&(N[_++]=g);return N}},{"./support":30,"./utils":32}],2:[function(n,r,s){var a=n("./external"),o=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function f(p,g,v,x,w){this.compressedSize=p,this.uncompressedSize=g,this.crc32=v,this.compression=x,this.compressedContent=w}f.prototype={getContentWorker:function(){var p=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),g=this;return p.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(p,g,v){return p.pipe(new u).pipe(new d("uncompressedSize")).pipe(g.compressWorker(v)).pipe(new d("compressedSize")).withStreamInfo("compression",g)},r.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var a=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var a=n("./utils"),o=(function(){for(var u,d=[],f=0;f<256;f++){u=f;for(var p=0;p<8;p++)u=1&u?3988292384^u>>>1:u>>>1;d[f]=u}return d})();r.exports=function(u,d){return u!==void 0&&u.length?a.getTypeOf(u)!=="string"?(function(f,p,g,v){var x=o,w=v+g;f^=-1;for(var y=v;y<w;y++)f=f>>>8^x[255&(f^p[y])];return-1^f})(0|d,u,u.length,0):(function(f,p,g,v){var x=o,w=v+g;f^=-1;for(var y=v;y<w;y++)f=f>>>8^x[255&(f^p.charCodeAt(y))];return-1^f})(0|d,u,u.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,s){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),u=n("./utils"),d=n("./stream/GenericWorker"),f=a?"uint8array":"array";function p(g,v){d.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=v,this.meta={}}s.magic="\b\0",u.inherits(p,d),p.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(f,g.data),!1)},p.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(v){g.push({data:v,meta:g.meta})}},s.compressWorker=function(g){return new p("Deflate",g)},s.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function a(x,w){var y,_="";for(y=0;y<w;y++)_+=String.fromCharCode(255&x),x>>>=8;return _}function o(x,w,y,_,S,N){var T,C,A=x.file,z=x.compression,M=N!==f.utf8encode,j=u.transformTo("string",N(A.name)),O=u.transformTo("string",f.utf8encode(A.name)),Y=A.comment,J=u.transformTo("string",N(Y)),F=u.transformTo("string",f.utf8encode(Y)),re=O.length!==A.name.length,k=F.length!==Y.length,V="",K="",H="",Q=A.dir,ee=A.date,ae={crc32:0,compressedSize:0,uncompressedSize:0};w&&!y||(ae.crc32=x.crc32,ae.compressedSize=x.compressedSize,ae.uncompressedSize=x.uncompressedSize);var D=0;w&&(D|=8),M||!re&&!k||(D|=2048);var R=0,U=0;Q&&(R|=16),S==="UNIX"?(U=798,R|=(function(G,ue){var ge=G;return G||(ge=ue?16893:33204),(65535&ge)<<16})(A.unixPermissions,Q)):(U=20,R|=(function(G){return 63&(G||0)})(A.dosPermissions)),T=ee.getUTCHours(),T<<=6,T|=ee.getUTCMinutes(),T<<=5,T|=ee.getUTCSeconds()/2,C=ee.getUTCFullYear()-1980,C<<=4,C|=ee.getUTCMonth()+1,C<<=5,C|=ee.getUTCDate(),re&&(K=a(1,1)+a(p(j),4)+O,V+="up"+a(K.length,2)+K),k&&(H=a(1,1)+a(p(J),4)+F,V+="uc"+a(H.length,2)+H);var B="";return B+=`
\0`,B+=a(D,2),B+=z.magic,B+=a(T,2),B+=a(C,2),B+=a(ae.crc32,4),B+=a(ae.compressedSize,4),B+=a(ae.uncompressedSize,4),B+=a(j.length,2),B+=a(V.length,2),{fileRecord:g.LOCAL_FILE_HEADER+B+j+V,dirRecord:g.CENTRAL_FILE_HEADER+a(U,2)+B+a(J.length,2)+"\0\0\0\0"+a(R,4)+a(_,4)+j+V+J}}var u=n("../utils"),d=n("../stream/GenericWorker"),f=n("../utf8"),p=n("../crc32"),g=n("../signature");function v(x,w,y,_){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=y,this.encodeFileName=_,this.streamFiles=x,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(v,d),v.prototype.push=function(x){var w=x.meta.percent||0,y=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(x):(this.bytesWritten+=x.data.length,d.prototype.push.call(this,{data:x.data,meta:{currentFile:this.currentFile,percent:y?(w+100*(y-_-1))/y:100}}))},v.prototype.openedSource=function(x){this.currentSourceOffset=this.bytesWritten,this.currentFile=x.file.name;var w=this.streamFiles&&!x.file.dir;if(w){var y=o(x,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(x){this.accumulate=!1;var w=this.streamFiles&&!x.file.dir,y=o(x,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),w)this.push({data:(function(_){return g.DATA_DESCRIPTOR+a(_.crc32,4)+a(_.compressedSize,4)+a(_.uncompressedSize,4)})(x),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var x=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var y=this.bytesWritten-x,_=(function(S,N,T,C,A){var z=u.transformTo("string",A(C));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(S,2)+a(S,2)+a(N,4)+a(T,4)+a(z.length,2)+z})(this.dirRecords.length,y,x,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(x){this._sources.push(x);var w=this;return x.on("data",function(y){w.processChunk(y)}),x.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),x.on("error",function(y){w.error(y)}),this},v.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(x){var w=this._sources;if(!d.prototype.error.call(this,x))return!1;for(var y=0;y<w.length;y++)try{w[y].error(x)}catch{}return!0},v.prototype.lock=function(){d.prototype.lock.call(this);for(var x=this._sources,w=0;w<x.length;w++)x[w].lock()},r.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var a=n("../compressions"),o=n("./ZipFileWorker");s.generateWorker=function(u,d,f){var p=new o(d.streamFiles,f,d.platform,d.encodeFileName),g=0;try{u.forEach(function(v,x){g++;var w=(function(N,T){var C=N||T,A=a[C];if(!A)throw new Error(C+" is not a valid compression method !");return A})(x.options.compression,d.compression),y=x.options.compressionOptions||d.compressionOptions||{},_=x.dir,S=x.date;x._compressWorker(w,y).withStreamInfo("file",{name:v,dir:_,date:S,comment:x.comment||"",unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions}).pipe(p)}),p.entriesCount=g}catch(v){p.error(v)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var u in this)typeof this[u]!="function"&&(o[u]=this[u]);return o}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(o,u){return new a().loadAsync(o,u)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var a=n("./utils"),o=n("./external"),u=n("./utf8"),d=n("./zipEntries"),f=n("./stream/Crc32Probe"),p=n("./nodejsUtils");function g(v){return new o.Promise(function(x,w){var y=v.decompressed.getContentWorker().pipe(new f);y.on("error",function(_){w(_)}).on("end",function(){y.streamInfo.crc32!==v.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):x()}).resume()})}r.exports=function(v,x){var w=this;return x=a.extend(x||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),p.isNode&&p.isStream(v)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",v,!0,x.optimizedBinaryString,x.base64).then(function(y){var _=new d(x);return _.load(y),_}).then(function(y){var _=[o.Promise.resolve(y)],S=y.files;if(x.checkCRC32)for(var N=0;N<S.length;N++)_.push(g(S[N]));return o.Promise.all(_)}).then(function(y){for(var _=y.shift(),S=_.files,N=0;N<S.length;N++){var T=S[N],C=T.fileNameStr,A=a.resolve(T.fileNameStr);w.file(A,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:x.createFolders}),T.dir||(w.file(A).unsafeOriginalName=C)}return _.zipComment.length&&(w.comment=_.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var a=n("../utils"),o=n("../stream/GenericWorker");function u(d,f){o.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(f)}a.inherits(u,o),u.prototype._bindStream=function(d){var f=this;(this._stream=d).pause(),d.on("data",function(p){f.push({data:p,meta:{percent:0}})}).on("error",function(p){f.isPaused?this.generatedError=p:f.error(p)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},u.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var a=n("readable-stream").Readable;function o(u,d,f){a.call(this,d),this._helper=u;var p=this;u.on("data",function(g,v){p.push(g)||p._helper.pause(),f&&f(v)}).on("error",function(g){p.emit("error",g)}).on("end",function(){p.push(null)})}n("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,s){function a(A,z,M){var j,O=u.getTypeOf(z),Y=u.extend(M||{},p);Y.date=Y.date||new Date,Y.compression!==null&&(Y.compression=Y.compression.toUpperCase()),typeof Y.unixPermissions=="string"&&(Y.unixPermissions=parseInt(Y.unixPermissions,8)),Y.unixPermissions&&16384&Y.unixPermissions&&(Y.dir=!0),Y.dosPermissions&&16&Y.dosPermissions&&(Y.dir=!0),Y.dir&&(A=S(A)),Y.createFolders&&(j=_(A))&&N.call(this,j,!0);var J=O==="string"&&Y.binary===!1&&Y.base64===!1;M&&M.binary!==void 0||(Y.binary=!J),(z instanceof g&&z.uncompressedSize===0||Y.dir||!z||z.length===0)&&(Y.base64=!1,Y.binary=!0,z="",Y.compression="STORE",O="string");var F=null;F=z instanceof g||z instanceof d?z:w.isNode&&w.isStream(z)?new y(A,z):u.prepareContent(A,z,Y.binary,Y.optimizedBinaryString,Y.base64);var re=new v(A,F,Y);this.files[A]=re}var o=n("./utf8"),u=n("./utils"),d=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),p=n("./defaults"),g=n("./compressedObject"),v=n("./zipObject"),x=n("./generate"),w=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),_=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var z=A.lastIndexOf("/");return 0<z?A.substring(0,z):""},S=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},N=function(A,z){return z=z!==void 0?z:p.createFolders,A=S(A),this.files[A]||a.call(this,A,null,{dir:!0,createFolders:z}),this.files[A]};function T(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var z,M,j;for(z in this.files)j=this.files[z],(M=z.slice(this.root.length,z.length))&&z.slice(0,this.root.length)===this.root&&A(M,j)},filter:function(A){var z=[];return this.forEach(function(M,j){A(M,j)&&z.push(j)}),z},file:function(A,z,M){if(arguments.length!==1)return A=this.root+A,a.call(this,A,z,M),this;if(T(A)){var j=A;return this.filter(function(Y,J){return!J.dir&&j.test(Y)})}var O=this.files[this.root+A];return O&&!O.dir?O:null},folder:function(A){if(!A)return this;if(T(A))return this.filter(function(O,Y){return Y.dir&&A.test(O)});var z=this.root+A,M=N.call(this,z),j=this.clone();return j.root=M.name,j},remove:function(A){A=this.root+A;var z=this.files[A];if(z||(A.slice(-1)!=="/"&&(A+="/"),z=this.files[A]),z&&!z.dir)delete this.files[A];else for(var M=this.filter(function(O,Y){return Y.name.slice(0,A.length)===A}),j=0;j<M.length;j++)delete this.files[M[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var z,M={};try{if((M=u.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");u.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var j=M.comment||this.comment||"";z=x.generateWorker(this,M,j)}catch(O){(z=new d("error")).error(O)}return new f(z,M.type||"string",M.mimeType)},generateAsync:function(A,z){return this.generateInternalStream(A).accumulate(z)},generateNodeStream:function(A,z){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(z)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var a=n("./DataReader");function o(u){a.call(this,u);for(var d=0;d<this.data.length;d++)u[d]=255&u[d]}n("../utils").inherits(o,a),o.prototype.byteAt=function(u){return this.data[this.zero+u]},o.prototype.lastIndexOfSignature=function(u){for(var d=u.charCodeAt(0),f=u.charCodeAt(1),p=u.charCodeAt(2),g=u.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===d&&this.data[v+1]===f&&this.data[v+2]===p&&this.data[v+3]===g)return v-this.zero;return-1},o.prototype.readAndCheckSignature=function(u){var d=u.charCodeAt(0),f=u.charCodeAt(1),p=u.charCodeAt(2),g=u.charCodeAt(3),v=this.readData(4);return d===v[0]&&f===v[1]&&p===v[2]&&g===v[3]},o.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var a=n("../utils");function o(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var d,f=0;for(this.checkOffset(u),d=this.index+u-1;d>=this.index;d--)f=(f<<8)+this.byteAt(d);return this.index+=u,f},readString:function(u){return a.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,s){var a=n("./Uint8ArrayReader");function o(u){a.call(this,u)}n("../utils").inherits(o,a),o.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var a=n("./DataReader");function o(u){a.call(this,u)}n("../utils").inherits(o,a),o.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},o.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},o.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},o.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var a=n("./ArrayReader");function o(u){a.call(this,u)}n("../utils").inherits(o,a),o.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var a=n("../utils"),o=n("../support"),u=n("./ArrayReader"),d=n("./StringReader"),f=n("./NodeBufferReader"),p=n("./Uint8ArrayReader");r.exports=function(g){var v=a.getTypeOf(g);return a.checkSupport(v),v!=="string"||o.uint8array?v==="nodebuffer"?new f(g):o.uint8array?new p(a.transformTo("uint8array",g)):new u(a.transformTo("array",g)):new d(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var a=n("./GenericWorker"),o=n("../utils");function u(d){a.call(this,"ConvertWorker to "+d),this.destType=d}o.inherits(u,a),u.prototype.processChunk=function(d){this.push({data:o.transformTo(this.destType,d.data),meta:d.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var a=n("./GenericWorker"),o=n("../crc32");function u(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,a),u.prototype.processChunk=function(d){this.streamInfo.crc32=o(d.data,this.streamInfo.crc32||0),this.push(d)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var a=n("../utils"),o=n("./GenericWorker");function u(d){o.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}a.inherits(u,o),u.prototype.processChunk=function(d){if(d){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+d.data.length}o.prototype.processChunk.call(this,d)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var a=n("../utils"),o=n("./GenericWorker");function u(d){o.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(p){f.dataIsReady=!0,f.data=p,f.max=p&&p.length||0,f.type=a.getTypeOf(p),f.isPaused||f._tickAndRepeat()},function(p){f.error(p)})}a.inherits(u,o),u.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,f);break;case"uint8array":d=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":d=this.data.slice(this.index,f)}return this.index=f,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,u){return this._listeners[o].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,u){if(this._listeners[o])for(var d=0;d<this._listeners[o].length;d++)this._listeners[o][d].call(this,u)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var u=this;return o.on("data",function(d){u.processChunk(d)}),o.on("end",function(){u.end()}),o.on("error",function(d){u.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,u){return this.extraStreamInfo[o]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=a},{}],29:[function(n,r,s){var a=n("../utils"),o=n("./ConvertWorker"),u=n("./GenericWorker"),d=n("../base64"),f=n("../support"),p=n("../external"),g=null;if(f.nodestream)try{g=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(w,y){return new p.Promise(function(_,S){var N=[],T=w._internalType,C=w._outputType,A=w._mimeType;w.on("data",function(z,M){N.push(z),y&&y(M)}).on("error",function(z){N=[],S(z)}).on("end",function(){try{var z=(function(M,j,O){switch(M){case"blob":return a.newBlob(a.transformTo("arraybuffer",j),O);case"base64":return d.encode(j);default:return a.transformTo(M,j)}})(C,(function(M,j){var O,Y=0,J=null,F=0;for(O=0;O<j.length;O++)F+=j[O].length;switch(M){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(J=new Uint8Array(F),O=0;O<j.length;O++)J.set(j[O],Y),Y+=j[O].length;return J;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+M+"'")}})(T,N),A);_(z)}catch(M){S(M)}N=[]}).resume()})}function x(w,y,_){var S=y;switch(y){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=y,this._mimeType=_,a.checkSupport(S),this._worker=w.pipe(new o(S)),w.lock()}catch(N){this._worker=new u("error"),this._worker.error(N)}}x.prototype={accumulate:function(w){return v(this,w)},on:function(w,y){var _=this;return w==="data"?this._worker.on(w,function(S){y.call(_,S.data,S.meta)}):this._worker.on(w,function(){a.delay(y,arguments,_)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},w)}},r.exports=x},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var a=new ArrayBuffer(0);try{s.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var a=n("./utils"),o=n("./support"),u=n("./nodejsUtils"),d=n("./stream/GenericWorker"),f=new Array(256),p=0;p<256;p++)f[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;f[254]=f[254]=1;function g(){d.call(this,"utf-8 decode"),this.leftOver=null}function v(){d.call(this,"utf-8 encode")}s.utf8encode=function(x){return o.nodebuffer?u.newBufferFrom(x,"utf-8"):(function(w){var y,_,S,N,T,C=w.length,A=0;for(N=0;N<C;N++)(64512&(_=w.charCodeAt(N)))==55296&&N+1<C&&(64512&(S=w.charCodeAt(N+1)))==56320&&(_=65536+(_-55296<<10)+(S-56320),N++),A+=_<128?1:_<2048?2:_<65536?3:4;for(y=o.uint8array?new Uint8Array(A):new Array(A),N=T=0;T<A;N++)(64512&(_=w.charCodeAt(N)))==55296&&N+1<C&&(64512&(S=w.charCodeAt(N+1)))==56320&&(_=65536+(_-55296<<10)+(S-56320),N++),_<128?y[T++]=_:(_<2048?y[T++]=192|_>>>6:(_<65536?y[T++]=224|_>>>12:(y[T++]=240|_>>>18,y[T++]=128|_>>>12&63),y[T++]=128|_>>>6&63),y[T++]=128|63&_);return y})(x)},s.utf8decode=function(x){return o.nodebuffer?a.transformTo("nodebuffer",x).toString("utf-8"):(function(w){var y,_,S,N,T=w.length,C=new Array(2*T);for(y=_=0;y<T;)if((S=w[y++])<128)C[_++]=S;else if(4<(N=f[S]))C[_++]=65533,y+=N-1;else{for(S&=N===2?31:N===3?15:7;1<N&&y<T;)S=S<<6|63&w[y++],N--;1<N?C[_++]=65533:S<65536?C[_++]=S:(S-=65536,C[_++]=55296|S>>10&1023,C[_++]=56320|1023&S)}return C.length!==_&&(C.subarray?C=C.subarray(0,_):C.length=_),a.applyFromCharCode(C)})(x=a.transformTo(o.uint8array?"uint8array":"array",x))},a.inherits(g,d),g.prototype.processChunk=function(x){var w=a.transformTo(o.uint8array?"uint8array":"array",x.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=w;(w=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),w.set(y,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var _=(function(N,T){var C;for((T=T||N.length)>N.length&&(T=N.length),C=T-1;0<=C&&(192&N[C])==128;)C--;return C<0||C===0?T:C+f[N[C]]>T?C:T})(w),S=w;_!==w.length&&(o.uint8array?(S=w.subarray(0,_),this.leftOver=w.subarray(_,w.length)):(S=w.slice(0,_),this.leftOver=w.slice(_,w.length))),this.push({data:s.utf8decode(S),meta:x.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=g,a.inherits(v,d),v.prototype.processChunk=function(x){this.push({data:s.utf8encode(x.data),meta:x.meta})},s.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var a=n("./support"),o=n("./base64"),u=n("./nodejsUtils"),d=n("./external");function f(y){return y}function p(y,_){for(var S=0;S<y.length;++S)_[S]=255&y.charCodeAt(S);return _}n("setimmediate"),s.newBlob=function(y,_){s.checkSupport("blob");try{return new Blob([y],{type:_})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(y),S.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(y,_,S){var N=[],T=0,C=y.length;if(C<=S)return String.fromCharCode.apply(null,y);for(;T<C;)_==="array"||_==="nodebuffer"?N.push(String.fromCharCode.apply(null,y.slice(T,Math.min(T+S,C)))):N.push(String.fromCharCode.apply(null,y.subarray(T,Math.min(T+S,C)))),T+=S;return N.join("")},stringifyByChar:function(y){for(var _="",S=0;S<y.length;S++)_+=String.fromCharCode(y[S]);return _},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}})()}};function v(y){var _=65536,S=s.getTypeOf(y),N=!0;if(S==="uint8array"?N=g.applyCanBeUsed.uint8array:S==="nodebuffer"&&(N=g.applyCanBeUsed.nodebuffer),N)for(;1<_;)try{return g.stringifyByChunk(y,S,_)}catch{_=Math.floor(_/2)}return g.stringifyByChar(y)}function x(y,_){for(var S=0;S<y.length;S++)_[S]=y[S];return _}s.applyFromCharCode=v;var w={};w.string={string:f,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return w.string.uint8array(y).buffer},uint8array:function(y){return p(y,new Uint8Array(y.length))},nodebuffer:function(y){return p(y,u.allocBuffer(y.length))}},w.array={string:v,array:f,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return u.newBufferFrom(y)}},w.arraybuffer={string:function(y){return v(new Uint8Array(y))},array:function(y){return x(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:f,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return u.newBufferFrom(new Uint8Array(y))}},w.uint8array={string:v,array:function(y){return x(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:f,nodebuffer:function(y){return u.newBufferFrom(y)}},w.nodebuffer={string:v,array:function(y){return x(y,new Array(y.length))},arraybuffer:function(y){return w.nodebuffer.uint8array(y).buffer},uint8array:function(y){return x(y,new Uint8Array(y.length))},nodebuffer:f},s.transformTo=function(y,_){if(_=_||"",!y)return _;s.checkSupport(y);var S=s.getTypeOf(_);return w[S][y](_)},s.resolve=function(y){for(var _=y.split("/"),S=[],N=0;N<_.length;N++){var T=_[N];T==="."||T===""&&N!==0&&N!==_.length-1||(T===".."?S.pop():S.push(T))}return S.join("/")},s.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":a.nodebuffer&&u.isBuffer(y)?"nodebuffer":a.uint8array&&y instanceof Uint8Array?"uint8array":a.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(y){if(!a[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(y){var _,S,N="";for(S=0;S<(y||"").length;S++)N+="\\x"+((_=y.charCodeAt(S))<16?"0":"")+_.toString(16).toUpperCase();return N},s.delay=function(y,_,S){setImmediate(function(){y.apply(S||null,_||[])})},s.inherits=function(y,_){function S(){}S.prototype=_.prototype,y.prototype=new S},s.extend=function(){var y,_,S={};for(y=0;y<arguments.length;y++)for(_ in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],_)&&S[_]===void 0&&(S[_]=arguments[y][_]);return S},s.prepareContent=function(y,_,S,N,T){return d.Promise.resolve(_).then(function(C){return a.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new d.Promise(function(A,z){var M=new FileReader;M.onload=function(j){A(j.target.result)},M.onerror=function(j){z(j.target.error)},M.readAsArrayBuffer(C)}):C}).then(function(C){var A=s.getTypeOf(C);return A?(A==="arraybuffer"?C=s.transformTo("uint8array",C):A==="string"&&(T?C=o.decode(C):S&&N!==!0&&(C=(function(z){return p(z,a.uint8array?new Uint8Array(z.length):new Array(z.length))})(C))),C):d.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var a=n("./reader/readerFor"),o=n("./utils"),u=n("./signature"),d=n("./zipEntry"),f=n("./support");function p(g){this.files=[],this.loadOptions=g}p.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(v)+", expected "+o.pretty(g)+")")}},isSignature:function(g,v){var x=this.reader.index;this.reader.setIndex(g);var w=this.reader.readString(4)===v;return this.reader.setIndex(x),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),v=f.uint8array?"uint8array":"array",x=o.transformTo(v,g);this.zipComment=this.loadOptions.decodeFileName(x)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,v,x,w=this.zip64EndOfCentralSize-44;0<w;)g=this.reader.readInt(2),v=this.reader.readInt(4),x=this.reader.readData(v),this.zip64ExtensibleData[g]={id:g,length:v,value:x}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,v;for(g=0;g<this.files.length;g++)v=this.files[g],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(g=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var v=g;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var x=this.centralDirOffset+this.centralDirSize;this.zip64&&(x+=20,x+=12+this.zip64EndOfCentralSize);var w=v-x;if(0<w)this.isSignature(v,u.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(g){this.reader=a(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var a=n("./reader/readerFor"),o=n("./utils"),u=n("./compressedObject"),d=n("./crc32"),f=n("./utf8"),p=n("./compressions"),g=n("./support");function v(x,w){this.options=x,this.loadOptions=w}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(x){var w,y;if(x.skip(22),this.fileNameLength=x.readInt(2),y=x.readInt(2),this.fileName=x.readData(this.fileNameLength),x.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=(function(_){for(var S in p)if(Object.prototype.hasOwnProperty.call(p,S)&&p[S].magic===_)return p[S];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,w,x.readData(this.compressedSize))},readCentralPart:function(x){this.versionMadeBy=x.readInt(2),x.skip(2),this.bitFlag=x.readInt(2),this.compressionMethod=x.readString(2),this.date=x.readDate(),this.crc32=x.readInt(4),this.compressedSize=x.readInt(4),this.uncompressedSize=x.readInt(4);var w=x.readInt(2);if(this.extraFieldsLength=x.readInt(2),this.fileCommentLength=x.readInt(2),this.diskNumberStart=x.readInt(2),this.internalFileAttributes=x.readInt(2),this.externalFileAttributes=x.readInt(4),this.localHeaderOffset=x.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");x.skip(w),this.readExtraFields(x),this.parseZIP64ExtraField(x),this.fileComment=x.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var x=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),x==0&&(this.dosPermissions=63&this.externalFileAttributes),x==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var x=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=x.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=x.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=x.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=x.readInt(4))}},readExtraFields:function(x){var w,y,_,S=x.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});x.index+4<S;)w=x.readInt(2),y=x.readInt(2),_=x.readData(y),this.extraFields[w]={id:w,length:y,value:_};x.setIndex(S)},handleUTF8:function(){var x=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var y=o.transformTo(x,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var S=o.transformTo(x,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var x=this.extraFields[28789];if(x){var w=a(x.value);return w.readInt(1)!==1||d(this.fileName)!==w.readInt(4)?null:f.utf8decode(w.readData(x.length-5))}return null},findExtraFieldUnicodeComment:function(){var x=this.extraFields[25461];if(x){var w=a(x.value);return w.readInt(1)!==1||d(this.fileComment)!==w.readInt(4)?null:f.utf8decode(w.readData(x.length-5))}return null}},r.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function a(w,y,_){this.name=w,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=y,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var o=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),d=n("./utf8"),f=n("./compressedObject"),p=n("./stream/GenericWorker");a.prototype={internalStream:function(w){var y=null,_="string";try{if(!w)throw new Error("No output type specified.");var S=(_=w.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),y=this._decompressWorker();var N=!this._dataBinary;N&&!S&&(y=y.pipe(new d.Utf8EncodeWorker)),!N&&S&&(y=y.pipe(new d.Utf8DecodeWorker))}catch(T){(y=new p("error")).error(T)}return new o(y,_,"")},async:function(w,y){return this.internalStream(w).accumulate(y)},nodeStream:function(w,y){return this.internalStream(w||"nodebuffer").toNodejsStream(y)},_compressWorker:function(w,y){if(this._data instanceof f&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new d.Utf8EncodeWorker)),f.createWorkerFrom(_,w,y)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof p?this._data:new u(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},x=0;x<g.length;x++)a.prototype[g[x]]=v;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(a){var o,u,d=a.MutationObserver||a.WebKitMutationObserver;if(d){var f=0,p=new d(w),g=a.document.createTextNode("");p.observe(g,{characterData:!0}),o=function(){g.data=f=++f%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var y=a.document.createElement("script");y.onreadystatechange=function(){w(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},a.document.documentElement.appendChild(y)}:function(){setTimeout(w,0)};else{var v=new a.MessageChannel;v.port1.onmessage=w,o=function(){v.port2.postMessage(0)}}var x=[];function w(){var y,_;u=!0;for(var S=x.length;S;){for(_=x,x=[],y=-1;++y<S;)_[y]();S=x.length}u=!1}r.exports=function(y){x.push(y)!==1||u||o()}}).call(this,typeof ci<"u"?ci:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var a=n("immediate");function o(){}var u={},d=["REJECTED"],f=["FULFILLED"],p=["PENDING"];function g(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,S!==o&&y(this,S)}function v(S,N,T){this.promise=S,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function x(S,N,T){a(function(){var C;try{C=N(T)}catch(A){return u.reject(S,A)}C===S?u.reject(S,new TypeError("Cannot resolve promise with itself")):u.resolve(S,C)})}function w(S){var N=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof N=="function")return function(){N.apply(S,arguments)}}function y(S,N){var T=!1;function C(M){T||(T=!0,u.reject(S,M))}function A(M){T||(T=!0,u.resolve(S,M))}var z=_(function(){N(A,C)});z.status==="error"&&C(z.value)}function _(S,N){var T={};try{T.value=S(N),T.status="success"}catch(C){T.status="error",T.value=C}return T}(r.exports=g).prototype.finally=function(S){if(typeof S!="function")return this;var N=this.constructor;return this.then(function(T){return N.resolve(S()).then(function(){return T})},function(T){return N.resolve(S()).then(function(){throw T})})},g.prototype.catch=function(S){return this.then(null,S)},g.prototype.then=function(S,N){if(typeof S!="function"&&this.state===f||typeof N!="function"&&this.state===d)return this;var T=new this.constructor(o);return this.state!==p?x(T,this.state===f?S:N,this.outcome):this.queue.push(new v(T,S,N)),T},v.prototype.callFulfilled=function(S){u.resolve(this.promise,S)},v.prototype.otherCallFulfilled=function(S){x(this.promise,this.onFulfilled,S)},v.prototype.callRejected=function(S){u.reject(this.promise,S)},v.prototype.otherCallRejected=function(S){x(this.promise,this.onRejected,S)},u.resolve=function(S,N){var T=_(w,N);if(T.status==="error")return u.reject(S,T.value);var C=T.value;if(C)y(S,C);else{S.state=f,S.outcome=N;for(var A=-1,z=S.queue.length;++A<z;)S.queue[A].callFulfilled(N)}return S},u.reject=function(S,N){S.state=d,S.outcome=N;for(var T=-1,C=S.queue.length;++T<C;)S.queue[T].callRejected(N);return S},g.resolve=function(S){return S instanceof this?S:u.resolve(new this(o),S)},g.reject=function(S){var N=new this(o);return u.reject(N,S)},g.all=function(S){var N=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=S.length,C=!1;if(!T)return this.resolve([]);for(var A=new Array(T),z=0,M=-1,j=new this(o);++M<T;)O(S[M],M);return j;function O(Y,J){N.resolve(Y).then(function(F){A[J]=F,++z!==T||C||(C=!0,u.resolve(j,A))},function(F){C||(C=!0,u.reject(j,F))})}},g.race=function(S){var N=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=S.length,C=!1;if(!T)return this.resolve([]);for(var A=-1,z=new this(o);++A<T;)M=S[A],N.resolve(M).then(function(j){C||(C=!0,u.resolve(z,j))},function(j){C||(C=!0,u.reject(z,j))});var M;return z}},{immediate:36}],38:[function(n,r,s){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var a=n("./zlib/deflate"),o=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/messages"),f=n("./zlib/zstream"),p=Object.prototype.toString,g=0,v=-1,x=0,w=8;function y(S){if(!(this instanceof y))return new y(S);this.options=o.assign({level:v,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},S||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var T=a.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(T!==g)throw new Error(d[T]);if(N.header&&a.deflateSetHeader(this.strm,N.header),N.dictionary){var C;if(C=typeof N.dictionary=="string"?u.string2buf(N.dictionary):p.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(T=a.deflateSetDictionary(this.strm,C))!==g)throw new Error(d[T]);this._dict_set=!0}}function _(S,N){var T=new y(N);if(T.push(S,!0),T.err)throw T.msg||d[T.err];return T.result}y.prototype.push=function(S,N){var T,C,A=this.strm,z=this.options.chunkSize;if(this.ended)return!1;C=N===~~N?N:N===!0?4:0,typeof S=="string"?A.input=u.string2buf(S):p.call(S)==="[object ArrayBuffer]"?A.input=new Uint8Array(S):A.input=S,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new o.Buf8(z),A.next_out=0,A.avail_out=z),(T=a.deflate(A,C))!==1&&T!==g)return this.onEnd(T),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(o.shrinkBuf(A.output,A.next_out))):this.onData(o.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&T!==1);return C===4?(T=a.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===g):C!==2||(this.onEnd(g),!(A.avail_out=0))},y.prototype.onData=function(S){this.chunks.push(S)},y.prototype.onEnd=function(S){S===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},s.Deflate=y,s.deflate=_,s.deflateRaw=function(S,N){return(N=N||{}).raw=!0,_(S,N)},s.gzip=function(S,N){return(N=N||{}).gzip=!0,_(S,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var a=n("./zlib/inflate"),o=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/constants"),f=n("./zlib/messages"),p=n("./zlib/zstream"),g=n("./zlib/gzheader"),v=Object.prototype.toString;function x(y){if(!(this instanceof x))return new x(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||y&&y.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var S=a.inflateInit2(this.strm,_.windowBits);if(S!==d.Z_OK)throw new Error(f[S]);this.header=new g,a.inflateGetHeader(this.strm,this.header)}function w(y,_){var S=new x(_);if(S.push(y,!0),S.err)throw S.msg||f[S.err];return S.result}x.prototype.push=function(y,_){var S,N,T,C,A,z,M=this.strm,j=this.options.chunkSize,O=this.options.dictionary,Y=!1;if(this.ended)return!1;N=_===~~_?_:_===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof y=="string"?M.input=u.binstring2buf(y):v.call(y)==="[object ArrayBuffer]"?M.input=new Uint8Array(y):M.input=y,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new o.Buf8(j),M.next_out=0,M.avail_out=j),(S=a.inflate(M,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&O&&(z=typeof O=="string"?u.string2buf(O):v.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,S=a.inflateSetDictionary(this.strm,z)),S===d.Z_BUF_ERROR&&Y===!0&&(S=d.Z_OK,Y=!1),S!==d.Z_STREAM_END&&S!==d.Z_OK)return this.onEnd(S),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&S!==d.Z_STREAM_END&&(M.avail_in!==0||N!==d.Z_FINISH&&N!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=u.utf8border(M.output,M.next_out),C=M.next_out-T,A=u.buf2string(M.output,T),M.next_out=C,M.avail_out=j-C,C&&o.arraySet(M.output,M.output,T,C,0),this.onData(A)):this.onData(o.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(Y=!0)}while((0<M.avail_in||M.avail_out===0)&&S!==d.Z_STREAM_END);return S===d.Z_STREAM_END&&(N=d.Z_FINISH),N===d.Z_FINISH?(S=a.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===d.Z_OK):N!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(M.avail_out=0))},x.prototype.onData=function(y){this.chunks.push(y)},x.prototype.onEnd=function(y){y===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},s.Inflate=x,s.inflate=w,s.inflateRaw=function(y,_){return(_=_||{}).raw=!0,w(y,_)},s.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(d){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var p=f.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var g in p)p.hasOwnProperty(g)&&(d[g]=p[g])}}return d},s.shrinkBuf=function(d,f){return d.length===f?d:d.subarray?d.subarray(0,f):(d.length=f,d)};var o={arraySet:function(d,f,p,g,v){if(f.subarray&&d.subarray)d.set(f.subarray(p,p+g),v);else for(var x=0;x<g;x++)d[v+x]=f[p+x]},flattenChunks:function(d){var f,p,g,v,x,w;for(f=g=0,p=d.length;f<p;f++)g+=d[f].length;for(w=new Uint8Array(g),f=v=0,p=d.length;f<p;f++)x=d[f],w.set(x,v),v+=x.length;return w}},u={arraySet:function(d,f,p,g,v){for(var x=0;x<g;x++)d[v+x]=f[p+x]},flattenChunks:function(d){return[].concat.apply([],d)}};s.setTyped=function(d){d?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,u))},s.setTyped(a)},{}],42:[function(n,r,s){var a=n("./common"),o=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var d=new a.Buf8(256),f=0;f<256;f++)d[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function p(g,v){if(v<65537&&(g.subarray&&u||!g.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(g,v));for(var x="",w=0;w<v;w++)x+=String.fromCharCode(g[w]);return x}d[254]=d[254]=1,s.string2buf=function(g){var v,x,w,y,_,S=g.length,N=0;for(y=0;y<S;y++)(64512&(x=g.charCodeAt(y)))==55296&&y+1<S&&(64512&(w=g.charCodeAt(y+1)))==56320&&(x=65536+(x-55296<<10)+(w-56320),y++),N+=x<128?1:x<2048?2:x<65536?3:4;for(v=new a.Buf8(N),y=_=0;_<N;y++)(64512&(x=g.charCodeAt(y)))==55296&&y+1<S&&(64512&(w=g.charCodeAt(y+1)))==56320&&(x=65536+(x-55296<<10)+(w-56320),y++),x<128?v[_++]=x:(x<2048?v[_++]=192|x>>>6:(x<65536?v[_++]=224|x>>>12:(v[_++]=240|x>>>18,v[_++]=128|x>>>12&63),v[_++]=128|x>>>6&63),v[_++]=128|63&x);return v},s.buf2binstring=function(g){return p(g,g.length)},s.binstring2buf=function(g){for(var v=new a.Buf8(g.length),x=0,w=v.length;x<w;x++)v[x]=g.charCodeAt(x);return v},s.buf2string=function(g,v){var x,w,y,_,S=v||g.length,N=new Array(2*S);for(x=w=0;x<S;)if((y=g[x++])<128)N[w++]=y;else if(4<(_=d[y]))N[w++]=65533,x+=_-1;else{for(y&=_===2?31:_===3?15:7;1<_&&x<S;)y=y<<6|63&g[x++],_--;1<_?N[w++]=65533:y<65536?N[w++]=y:(y-=65536,N[w++]=55296|y>>10&1023,N[w++]=56320|1023&y)}return p(N,w)},s.utf8border=function(g,v){var x;for((v=v||g.length)>g.length&&(v=g.length),x=v-1;0<=x&&(192&g[x])==128;)x--;return x<0||x===0?v:x+d[g[x]]>v?x:v}},{"./common":41}],43:[function(n,r,s){r.exports=function(a,o,u,d){for(var f=65535&a|0,p=a>>>16&65535|0,g=0;u!==0;){for(u-=g=2e3<u?2e3:u;p=p+(f=f+o[d++]|0)|0,--g;);f%=65521,p%=65521}return f|p<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var a=(function(){for(var o,u=[],d=0;d<256;d++){o=d;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;u[d]=o}return u})();r.exports=function(o,u,d,f){var p=a,g=f+d;o^=-1;for(var v=f;v<g;v++)o=o>>>8^p[255&(o^u[v])];return-1^o}},{}],46:[function(n,r,s){var a,o=n("../utils/common"),u=n("./trees"),d=n("./adler32"),f=n("./crc32"),p=n("./messages"),g=0,v=4,x=0,w=-2,y=-1,_=4,S=2,N=8,T=9,C=286,A=30,z=19,M=2*C+1,j=15,O=3,Y=258,J=Y+O+1,F=42,re=113,k=1,V=2,K=3,H=4;function Q(I,ye){return I.msg=p[ye],ye}function ee(I){return(I<<1)-(4<I?9:0)}function ae(I){for(var ye=I.length;0<=--ye;)I[ye]=0}function D(I){var ye=I.state,ne=ye.pending;ne>I.avail_out&&(ne=I.avail_out),ne!==0&&(o.arraySet(I.output,ye.pending_buf,ye.pending_out,ne,I.next_out),I.next_out+=ne,ye.pending_out+=ne,I.total_out+=ne,I.avail_out-=ne,ye.pending-=ne,ye.pending===0&&(ye.pending_out=0))}function R(I,ye){u._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,ye),I.block_start=I.strstart,D(I.strm)}function U(I,ye){I.pending_buf[I.pending++]=ye}function B(I,ye){I.pending_buf[I.pending++]=ye>>>8&255,I.pending_buf[I.pending++]=255&ye}function G(I,ye){var ne,q,X=I.max_chain_length,le=I.strstart,pe=I.prev_length,be=I.nice_match,fe=I.strstart>I.w_size-J?I.strstart-(I.w_size-J):0,Me=I.window,we=I.w_mask,je=I.prev,He=I.strstart+Y,et=Me[le+pe-1],Ge=Me[le+pe];I.prev_length>=I.good_match&&(X>>=2),be>I.lookahead&&(be=I.lookahead);do if(Me[(ne=ye)+pe]===Ge&&Me[ne+pe-1]===et&&Me[ne]===Me[le]&&Me[++ne]===Me[le+1]){le+=2,ne++;do;while(Me[++le]===Me[++ne]&&Me[++le]===Me[++ne]&&Me[++le]===Me[++ne]&&Me[++le]===Me[++ne]&&Me[++le]===Me[++ne]&&Me[++le]===Me[++ne]&&Me[++le]===Me[++ne]&&Me[++le]===Me[++ne]&&le<He);if(q=Y-(He-le),le=He-Y,pe<q){if(I.match_start=ye,be<=(pe=q))break;et=Me[le+pe-1],Ge=Me[le+pe]}}while((ye=je[ye&we])>fe&&--X!=0);return pe<=I.lookahead?pe:I.lookahead}function ue(I){var ye,ne,q,X,le,pe,be,fe,Me,we,je=I.w_size;do{if(X=I.window_size-I.lookahead-I.strstart,I.strstart>=je+(je-J)){for(o.arraySet(I.window,I.window,je,je,0),I.match_start-=je,I.strstart-=je,I.block_start-=je,ye=ne=I.hash_size;q=I.head[--ye],I.head[ye]=je<=q?q-je:0,--ne;);for(ye=ne=je;q=I.prev[--ye],I.prev[ye]=je<=q?q-je:0,--ne;);X+=je}if(I.strm.avail_in===0)break;if(pe=I.strm,be=I.window,fe=I.strstart+I.lookahead,Me=X,we=void 0,we=pe.avail_in,Me<we&&(we=Me),ne=we===0?0:(pe.avail_in-=we,o.arraySet(be,pe.input,pe.next_in,we,fe),pe.state.wrap===1?pe.adler=d(pe.adler,be,we,fe):pe.state.wrap===2&&(pe.adler=f(pe.adler,be,we,fe)),pe.next_in+=we,pe.total_in+=we,we),I.lookahead+=ne,I.lookahead+I.insert>=O)for(le=I.strstart-I.insert,I.ins_h=I.window[le],I.ins_h=(I.ins_h<<I.hash_shift^I.window[le+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[le+O-1])&I.hash_mask,I.prev[le&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=le,le++,I.insert--,!(I.lookahead+I.insert<O)););}while(I.lookahead<J&&I.strm.avail_in!==0)}function ge(I,ye){for(var ne,q;;){if(I.lookahead<J){if(ue(I),I.lookahead<J&&ye===g)return k;if(I.lookahead===0)break}if(ne=0,I.lookahead>=O&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+O-1])&I.hash_mask,ne=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),ne!==0&&I.strstart-ne<=I.w_size-J&&(I.match_length=G(I,ne)),I.match_length>=O)if(q=u._tr_tally(I,I.strstart-I.match_start,I.match_length-O),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=O){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+O-1])&I.hash_mask,ne=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else q=u._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(q&&(R(I,!1),I.strm.avail_out===0))return k}return I.insert=I.strstart<O-1?I.strstart:O-1,ye===v?(R(I,!0),I.strm.avail_out===0?K:H):I.last_lit&&(R(I,!1),I.strm.avail_out===0)?k:V}function me(I,ye){for(var ne,q,X;;){if(I.lookahead<J){if(ue(I),I.lookahead<J&&ye===g)return k;if(I.lookahead===0)break}if(ne=0,I.lookahead>=O&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+O-1])&I.hash_mask,ne=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=O-1,ne!==0&&I.prev_length<I.max_lazy_match&&I.strstart-ne<=I.w_size-J&&(I.match_length=G(I,ne),I.match_length<=5&&(I.strategy===1||I.match_length===O&&4096<I.strstart-I.match_start)&&(I.match_length=O-1)),I.prev_length>=O&&I.match_length<=I.prev_length){for(X=I.strstart+I.lookahead-O,q=u._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-O),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=X&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+O-1])&I.hash_mask,ne=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=O-1,I.strstart++,q&&(R(I,!1),I.strm.avail_out===0))return k}else if(I.match_available){if((q=u._tr_tally(I,0,I.window[I.strstart-1]))&&R(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return k}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(q=u._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<O-1?I.strstart:O-1,ye===v?(R(I,!0),I.strm.avail_out===0?K:H):I.last_lit&&(R(I,!1),I.strm.avail_out===0)?k:V}function ve(I,ye,ne,q,X){this.good_length=I,this.max_lazy=ye,this.nice_length=ne,this.max_chain=q,this.func=X}function Re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*M),this.dyn_dtree=new o.Buf16(2*(2*A+1)),this.bl_tree=new o.Buf16(2*(2*z+1)),ae(this.dyn_ltree),ae(this.dyn_dtree),ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(j+1),this.heap=new o.Buf16(2*C+1),ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*C+1),ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ue(I){var ye;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=S,(ye=I.state).pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?F:re,I.adler=ye.wrap===2?0:1,ye.last_flush=g,u._tr_init(ye),x):Q(I,w)}function Ve(I){var ye=Ue(I);return ye===x&&(function(ne){ne.window_size=2*ne.w_size,ae(ne.head),ne.max_lazy_match=a[ne.level].max_lazy,ne.good_match=a[ne.level].good_length,ne.nice_match=a[ne.level].nice_length,ne.max_chain_length=a[ne.level].max_chain,ne.strstart=0,ne.block_start=0,ne.lookahead=0,ne.insert=0,ne.match_length=ne.prev_length=O-1,ne.match_available=0,ne.ins_h=0})(I.state),ye}function st(I,ye,ne,q,X,le){if(!I)return w;var pe=1;if(ye===y&&(ye=6),q<0?(pe=0,q=-q):15<q&&(pe=2,q-=16),X<1||T<X||ne!==N||q<8||15<q||ye<0||9<ye||le<0||_<le)return Q(I,w);q===8&&(q=9);var be=new Re;return(I.state=be).strm=I,be.wrap=pe,be.gzhead=null,be.w_bits=q,be.w_size=1<<be.w_bits,be.w_mask=be.w_size-1,be.hash_bits=X+7,be.hash_size=1<<be.hash_bits,be.hash_mask=be.hash_size-1,be.hash_shift=~~((be.hash_bits+O-1)/O),be.window=new o.Buf8(2*be.w_size),be.head=new o.Buf16(be.hash_size),be.prev=new o.Buf16(be.w_size),be.lit_bufsize=1<<X+6,be.pending_buf_size=4*be.lit_bufsize,be.pending_buf=new o.Buf8(be.pending_buf_size),be.d_buf=1*be.lit_bufsize,be.l_buf=3*be.lit_bufsize,be.level=ye,be.strategy=le,be.method=ne,Ve(I)}a=[new ve(0,0,0,0,function(I,ye){var ne=65535;for(ne>I.pending_buf_size-5&&(ne=I.pending_buf_size-5);;){if(I.lookahead<=1){if(ue(I),I.lookahead===0&&ye===g)return k;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var q=I.block_start+ne;if((I.strstart===0||I.strstart>=q)&&(I.lookahead=I.strstart-q,I.strstart=q,R(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-J&&(R(I,!1),I.strm.avail_out===0))return k}return I.insert=0,ye===v?(R(I,!0),I.strm.avail_out===0?K:H):(I.strstart>I.block_start&&(R(I,!1),I.strm.avail_out),k)}),new ve(4,4,8,4,ge),new ve(4,5,16,8,ge),new ve(4,6,32,32,ge),new ve(4,4,16,16,me),new ve(8,16,32,32,me),new ve(8,16,128,128,me),new ve(8,32,128,256,me),new ve(32,128,258,1024,me),new ve(32,258,258,4096,me)],s.deflateInit=function(I,ye){return st(I,ye,N,15,8,0)},s.deflateInit2=st,s.deflateReset=Ve,s.deflateResetKeep=Ue,s.deflateSetHeader=function(I,ye){return I&&I.state?I.state.wrap!==2?w:(I.state.gzhead=ye,x):w},s.deflate=function(I,ye){var ne,q,X,le;if(!I||!I.state||5<ye||ye<0)return I?Q(I,w):w;if(q=I.state,!I.output||!I.input&&I.avail_in!==0||q.status===666&&ye!==v)return Q(I,I.avail_out===0?-5:w);if(q.strm=I,ne=q.last_flush,q.last_flush=ye,q.status===F)if(q.wrap===2)I.adler=0,U(q,31),U(q,139),U(q,8),q.gzhead?(U(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),U(q,255&q.gzhead.time),U(q,q.gzhead.time>>8&255),U(q,q.gzhead.time>>16&255),U(q,q.gzhead.time>>24&255),U(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),U(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&(U(q,255&q.gzhead.extra.length),U(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(I.adler=f(I.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):(U(q,0),U(q,0),U(q,0),U(q,0),U(q,0),U(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),U(q,3),q.status=re);else{var pe=N+(q.w_bits-8<<4)<<8;pe|=(2<=q.strategy||q.level<2?0:q.level<6?1:q.level===6?2:3)<<6,q.strstart!==0&&(pe|=32),pe+=31-pe%31,q.status=re,B(q,pe),q.strstart!==0&&(B(q,I.adler>>>16),B(q,65535&I.adler)),I.adler=1}if(q.status===69)if(q.gzhead.extra){for(X=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>X&&(I.adler=f(I.adler,q.pending_buf,q.pending-X,X)),D(I),X=q.pending,q.pending!==q.pending_buf_size));)U(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>X&&(I.adler=f(I.adler,q.pending_buf,q.pending-X,X)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(q.status===73)if(q.gzhead.name){X=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>X&&(I.adler=f(I.adler,q.pending_buf,q.pending-X,X)),D(I),X=q.pending,q.pending===q.pending_buf_size)){le=1;break}le=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,U(q,le)}while(le!==0);q.gzhead.hcrc&&q.pending>X&&(I.adler=f(I.adler,q.pending_buf,q.pending-X,X)),le===0&&(q.gzindex=0,q.status=91)}else q.status=91;if(q.status===91)if(q.gzhead.comment){X=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>X&&(I.adler=f(I.adler,q.pending_buf,q.pending-X,X)),D(I),X=q.pending,q.pending===q.pending_buf_size)){le=1;break}le=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,U(q,le)}while(le!==0);q.gzhead.hcrc&&q.pending>X&&(I.adler=f(I.adler,q.pending_buf,q.pending-X,X)),le===0&&(q.status=103)}else q.status=103;if(q.status===103&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&D(I),q.pending+2<=q.pending_buf_size&&(U(q,255&I.adler),U(q,I.adler>>8&255),I.adler=0,q.status=re)):q.status=re),q.pending!==0){if(D(I),I.avail_out===0)return q.last_flush=-1,x}else if(I.avail_in===0&&ee(ye)<=ee(ne)&&ye!==v)return Q(I,-5);if(q.status===666&&I.avail_in!==0)return Q(I,-5);if(I.avail_in!==0||q.lookahead!==0||ye!==g&&q.status!==666){var be=q.strategy===2?(function(fe,Me){for(var we;;){if(fe.lookahead===0&&(ue(fe),fe.lookahead===0)){if(Me===g)return k;break}if(fe.match_length=0,we=u._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++,we&&(R(fe,!1),fe.strm.avail_out===0))return k}return fe.insert=0,Me===v?(R(fe,!0),fe.strm.avail_out===0?K:H):fe.last_lit&&(R(fe,!1),fe.strm.avail_out===0)?k:V})(q,ye):q.strategy===3?(function(fe,Me){for(var we,je,He,et,Ge=fe.window;;){if(fe.lookahead<=Y){if(ue(fe),fe.lookahead<=Y&&Me===g)return k;if(fe.lookahead===0)break}if(fe.match_length=0,fe.lookahead>=O&&0<fe.strstart&&(je=Ge[He=fe.strstart-1])===Ge[++He]&&je===Ge[++He]&&je===Ge[++He]){et=fe.strstart+Y;do;while(je===Ge[++He]&&je===Ge[++He]&&je===Ge[++He]&&je===Ge[++He]&&je===Ge[++He]&&je===Ge[++He]&&je===Ge[++He]&&je===Ge[++He]&&He<et);fe.match_length=Y-(et-He),fe.match_length>fe.lookahead&&(fe.match_length=fe.lookahead)}if(fe.match_length>=O?(we=u._tr_tally(fe,1,fe.match_length-O),fe.lookahead-=fe.match_length,fe.strstart+=fe.match_length,fe.match_length=0):(we=u._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++),we&&(R(fe,!1),fe.strm.avail_out===0))return k}return fe.insert=0,Me===v?(R(fe,!0),fe.strm.avail_out===0?K:H):fe.last_lit&&(R(fe,!1),fe.strm.avail_out===0)?k:V})(q,ye):a[q.level].func(q,ye);if(be!==K&&be!==H||(q.status=666),be===k||be===K)return I.avail_out===0&&(q.last_flush=-1),x;if(be===V&&(ye===1?u._tr_align(q):ye!==5&&(u._tr_stored_block(q,0,0,!1),ye===3&&(ae(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),D(I),I.avail_out===0))return q.last_flush=-1,x}return ye!==v?x:q.wrap<=0?1:(q.wrap===2?(U(q,255&I.adler),U(q,I.adler>>8&255),U(q,I.adler>>16&255),U(q,I.adler>>24&255),U(q,255&I.total_in),U(q,I.total_in>>8&255),U(q,I.total_in>>16&255),U(q,I.total_in>>24&255)):(B(q,I.adler>>>16),B(q,65535&I.adler)),D(I),0<q.wrap&&(q.wrap=-q.wrap),q.pending!==0?x:1)},s.deflateEnd=function(I){var ye;return I&&I.state?(ye=I.state.status)!==F&&ye!==69&&ye!==73&&ye!==91&&ye!==103&&ye!==re&&ye!==666?Q(I,w):(I.state=null,ye===re?Q(I,-3):x):w},s.deflateSetDictionary=function(I,ye){var ne,q,X,le,pe,be,fe,Me,we=ye.length;if(!I||!I.state||(le=(ne=I.state).wrap)===2||le===1&&ne.status!==F||ne.lookahead)return w;for(le===1&&(I.adler=d(I.adler,ye,we,0)),ne.wrap=0,we>=ne.w_size&&(le===0&&(ae(ne.head),ne.strstart=0,ne.block_start=0,ne.insert=0),Me=new o.Buf8(ne.w_size),o.arraySet(Me,ye,we-ne.w_size,ne.w_size,0),ye=Me,we=ne.w_size),pe=I.avail_in,be=I.next_in,fe=I.input,I.avail_in=we,I.next_in=0,I.input=ye,ue(ne);ne.lookahead>=O;){for(q=ne.strstart,X=ne.lookahead-(O-1);ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[q+O-1])&ne.hash_mask,ne.prev[q&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=q,q++,--X;);ne.strstart=q,ne.lookahead=O-1,ue(ne)}return ne.strstart+=ne.lookahead,ne.block_start=ne.strstart,ne.insert=ne.lookahead,ne.lookahead=0,ne.match_length=ne.prev_length=O-1,ne.match_available=0,I.next_in=be,I.input=fe,I.avail_in=pe,ne.wrap=le,x},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(a,o){var u,d,f,p,g,v,x,w,y,_,S,N,T,C,A,z,M,j,O,Y,J,F,re,k,V;u=a.state,d=a.next_in,k=a.input,f=d+(a.avail_in-5),p=a.next_out,V=a.output,g=p-(o-a.avail_out),v=p+(a.avail_out-257),x=u.dmax,w=u.wsize,y=u.whave,_=u.wnext,S=u.window,N=u.hold,T=u.bits,C=u.lencode,A=u.distcode,z=(1<<u.lenbits)-1,M=(1<<u.distbits)-1;e:do{T<15&&(N+=k[d++]<<T,T+=8,N+=k[d++]<<T,T+=8),j=C[N&z];t:for(;;){if(N>>>=O=j>>>24,T-=O,(O=j>>>16&255)===0)V[p++]=65535&j;else{if(!(16&O)){if((64&O)==0){j=C[(65535&j)+(N&(1<<O)-1)];continue t}if(32&O){u.mode=12;break e}a.msg="invalid literal/length code",u.mode=30;break e}Y=65535&j,(O&=15)&&(T<O&&(N+=k[d++]<<T,T+=8),Y+=N&(1<<O)-1,N>>>=O,T-=O),T<15&&(N+=k[d++]<<T,T+=8,N+=k[d++]<<T,T+=8),j=A[N&M];n:for(;;){if(N>>>=O=j>>>24,T-=O,!(16&(O=j>>>16&255))){if((64&O)==0){j=A[(65535&j)+(N&(1<<O)-1)];continue n}a.msg="invalid distance code",u.mode=30;break e}if(J=65535&j,T<(O&=15)&&(N+=k[d++]<<T,(T+=8)<O&&(N+=k[d++]<<T,T+=8)),x<(J+=N&(1<<O)-1)){a.msg="invalid distance too far back",u.mode=30;break e}if(N>>>=O,T-=O,(O=p-g)<J){if(y<(O=J-O)&&u.sane){a.msg="invalid distance too far back",u.mode=30;break e}if(re=S,(F=0)===_){if(F+=w-O,O<Y){for(Y-=O;V[p++]=S[F++],--O;);F=p-J,re=V}}else if(_<O){if(F+=w+_-O,(O-=_)<Y){for(Y-=O;V[p++]=S[F++],--O;);if(F=0,_<Y){for(Y-=O=_;V[p++]=S[F++],--O;);F=p-J,re=V}}}else if(F+=_-O,O<Y){for(Y-=O;V[p++]=S[F++],--O;);F=p-J,re=V}for(;2<Y;)V[p++]=re[F++],V[p++]=re[F++],V[p++]=re[F++],Y-=3;Y&&(V[p++]=re[F++],1<Y&&(V[p++]=re[F++]))}else{for(F=p-J;V[p++]=V[F++],V[p++]=V[F++],V[p++]=V[F++],2<(Y-=3););Y&&(V[p++]=V[F++],1<Y&&(V[p++]=V[F++]))}break}}break}}while(d<f&&p<v);d-=Y=T>>3,N&=(1<<(T-=Y<<3))-1,a.next_in=d,a.next_out=p,a.avail_in=d<f?f-d+5:5-(d-f),a.avail_out=p<v?v-p+257:257-(p-v),u.hold=N,u.bits=T}},{}],49:[function(n,r,s){var a=n("../utils/common"),o=n("./adler32"),u=n("./crc32"),d=n("./inffast"),f=n("./inftrees"),p=1,g=2,v=0,x=-2,w=1,y=852,_=592;function S(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(F){var re;return F&&F.state?(re=F.state,F.total_in=F.total_out=re.total=0,F.msg="",re.wrap&&(F.adler=1&re.wrap),re.mode=w,re.last=0,re.havedict=0,re.dmax=32768,re.head=null,re.hold=0,re.bits=0,re.lencode=re.lendyn=new a.Buf32(y),re.distcode=re.distdyn=new a.Buf32(_),re.sane=1,re.back=-1,v):x}function C(F){var re;return F&&F.state?((re=F.state).wsize=0,re.whave=0,re.wnext=0,T(F)):x}function A(F,re){var k,V;return F&&F.state?(V=F.state,re<0?(k=0,re=-re):(k=1+(re>>4),re<48&&(re&=15)),re&&(re<8||15<re)?x:(V.window!==null&&V.wbits!==re&&(V.window=null),V.wrap=k,V.wbits=re,C(F))):x}function z(F,re){var k,V;return F?(V=new N,(F.state=V).window=null,(k=A(F,re))!==v&&(F.state=null),k):x}var M,j,O=!0;function Y(F){if(O){var re;for(M=new a.Buf32(512),j=new a.Buf32(32),re=0;re<144;)F.lens[re++]=8;for(;re<256;)F.lens[re++]=9;for(;re<280;)F.lens[re++]=7;for(;re<288;)F.lens[re++]=8;for(f(p,F.lens,0,288,M,0,F.work,{bits:9}),re=0;re<32;)F.lens[re++]=5;f(g,F.lens,0,32,j,0,F.work,{bits:5}),O=!1}F.lencode=M,F.lenbits=9,F.distcode=j,F.distbits=5}function J(F,re,k,V){var K,H=F.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new a.Buf8(H.wsize)),V>=H.wsize?(a.arraySet(H.window,re,k-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(V<(K=H.wsize-H.wnext)&&(K=V),a.arraySet(H.window,re,k-V,K,H.wnext),(V-=K)?(a.arraySet(H.window,re,k-V,V,0),H.wnext=V,H.whave=H.wsize):(H.wnext+=K,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=K))),0}s.inflateReset=C,s.inflateReset2=A,s.inflateResetKeep=T,s.inflateInit=function(F){return z(F,15)},s.inflateInit2=z,s.inflate=function(F,re){var k,V,K,H,Q,ee,ae,D,R,U,B,G,ue,ge,me,ve,Re,Ue,Ve,st,I,ye,ne,q,X=0,le=new a.Buf8(4),pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return x;(k=F.state).mode===12&&(k.mode=13),Q=F.next_out,K=F.output,ae=F.avail_out,H=F.next_in,V=F.input,ee=F.avail_in,D=k.hold,R=k.bits,U=ee,B=ae,ye=v;e:for(;;)switch(k.mode){case w:if(k.wrap===0){k.mode=13;break}for(;R<16;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}if(2&k.wrap&&D===35615){le[k.check=0]=255&D,le[1]=D>>>8&255,k.check=u(k.check,le,2,0),R=D=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&D)<<8)+(D>>8))%31){F.msg="incorrect header check",k.mode=30;break}if((15&D)!=8){F.msg="unknown compression method",k.mode=30;break}if(R-=4,I=8+(15&(D>>>=4)),k.wbits===0)k.wbits=I;else if(I>k.wbits){F.msg="invalid window size",k.mode=30;break}k.dmax=1<<I,F.adler=k.check=1,k.mode=512&D?10:12,R=D=0;break;case 2:for(;R<16;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}if(k.flags=D,(255&k.flags)!=8){F.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){F.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=D>>8&1),512&k.flags&&(le[0]=255&D,le[1]=D>>>8&255,k.check=u(k.check,le,2,0)),R=D=0,k.mode=3;case 3:for(;R<32;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}k.head&&(k.head.time=D),512&k.flags&&(le[0]=255&D,le[1]=D>>>8&255,le[2]=D>>>16&255,le[3]=D>>>24&255,k.check=u(k.check,le,4,0)),R=D=0,k.mode=4;case 4:for(;R<16;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}k.head&&(k.head.xflags=255&D,k.head.os=D>>8),512&k.flags&&(le[0]=255&D,le[1]=D>>>8&255,k.check=u(k.check,le,2,0)),R=D=0,k.mode=5;case 5:if(1024&k.flags){for(;R<16;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}k.length=D,k.head&&(k.head.extra_len=D),512&k.flags&&(le[0]=255&D,le[1]=D>>>8&255,k.check=u(k.check,le,2,0)),R=D=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(ee<(G=k.length)&&(G=ee),G&&(k.head&&(I=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),a.arraySet(k.head.extra,V,H,G,I)),512&k.flags&&(k.check=u(k.check,V,G,H)),ee-=G,H+=G,k.length-=G),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(ee===0)break e;for(G=0;I=V[H+G++],k.head&&I&&k.length<65536&&(k.head.name+=String.fromCharCode(I)),I&&G<ee;);if(512&k.flags&&(k.check=u(k.check,V,G,H)),ee-=G,H+=G,I)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(ee===0)break e;for(G=0;I=V[H+G++],k.head&&I&&k.length<65536&&(k.head.comment+=String.fromCharCode(I)),I&&G<ee;);if(512&k.flags&&(k.check=u(k.check,V,G,H)),ee-=G,H+=G,I)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;R<16;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}if(D!==(65535&k.check)){F.msg="header crc mismatch",k.mode=30;break}R=D=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),F.adler=k.check=0,k.mode=12;break;case 10:for(;R<32;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}F.adler=k.check=S(D),R=D=0,k.mode=11;case 11:if(k.havedict===0)return F.next_out=Q,F.avail_out=ae,F.next_in=H,F.avail_in=ee,k.hold=D,k.bits=R,2;F.adler=k.check=1,k.mode=12;case 12:if(re===5||re===6)break e;case 13:if(k.last){D>>>=7&R,R-=7&R,k.mode=27;break}for(;R<3;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}switch(k.last=1&D,R-=1,3&(D>>>=1)){case 0:k.mode=14;break;case 1:if(Y(k),k.mode=20,re!==6)break;D>>>=2,R-=2;break e;case 2:k.mode=17;break;case 3:F.msg="invalid block type",k.mode=30}D>>>=2,R-=2;break;case 14:for(D>>>=7&R,R-=7&R;R<32;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}if((65535&D)!=(D>>>16^65535)){F.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&D,R=D=0,k.mode=15,re===6)break e;case 15:k.mode=16;case 16:if(G=k.length){if(ee<G&&(G=ee),ae<G&&(G=ae),G===0)break e;a.arraySet(K,V,H,G,Q),ee-=G,H+=G,ae-=G,Q+=G,k.length-=G;break}k.mode=12;break;case 17:for(;R<14;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}if(k.nlen=257+(31&D),D>>>=5,R-=5,k.ndist=1+(31&D),D>>>=5,R-=5,k.ncode=4+(15&D),D>>>=4,R-=4,286<k.nlen||30<k.ndist){F.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;R<3;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}k.lens[pe[k.have++]]=7&D,D>>>=3,R-=3}for(;k.have<19;)k.lens[pe[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,ne={bits:k.lenbits},ye=f(0,k.lens,0,19,k.lencode,0,k.work,ne),k.lenbits=ne.bits,ye){F.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;ve=(X=k.lencode[D&(1<<k.lenbits)-1])>>>16&255,Re=65535&X,!((me=X>>>24)<=R);){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}if(Re<16)D>>>=me,R-=me,k.lens[k.have++]=Re;else{if(Re===16){for(q=me+2;R<q;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}if(D>>>=me,R-=me,k.have===0){F.msg="invalid bit length repeat",k.mode=30;break}I=k.lens[k.have-1],G=3+(3&D),D>>>=2,R-=2}else if(Re===17){for(q=me+3;R<q;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}R-=me,I=0,G=3+(7&(D>>>=me)),D>>>=3,R-=3}else{for(q=me+7;R<q;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}R-=me,I=0,G=11+(127&(D>>>=me)),D>>>=7,R-=7}if(k.have+G>k.nlen+k.ndist){F.msg="invalid bit length repeat",k.mode=30;break}for(;G--;)k.lens[k.have++]=I}}if(k.mode===30)break;if(k.lens[256]===0){F.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,ne={bits:k.lenbits},ye=f(p,k.lens,0,k.nlen,k.lencode,0,k.work,ne),k.lenbits=ne.bits,ye){F.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,ne={bits:k.distbits},ye=f(g,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,ne),k.distbits=ne.bits,ye){F.msg="invalid distances set",k.mode=30;break}if(k.mode=20,re===6)break e;case 20:k.mode=21;case 21:if(6<=ee&&258<=ae){F.next_out=Q,F.avail_out=ae,F.next_in=H,F.avail_in=ee,k.hold=D,k.bits=R,d(F,B),Q=F.next_out,K=F.output,ae=F.avail_out,H=F.next_in,V=F.input,ee=F.avail_in,D=k.hold,R=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;ve=(X=k.lencode[D&(1<<k.lenbits)-1])>>>16&255,Re=65535&X,!((me=X>>>24)<=R);){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}if(ve&&(240&ve)==0){for(Ue=me,Ve=ve,st=Re;ve=(X=k.lencode[st+((D&(1<<Ue+Ve)-1)>>Ue)])>>>16&255,Re=65535&X,!(Ue+(me=X>>>24)<=R);){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}D>>>=Ue,R-=Ue,k.back+=Ue}if(D>>>=me,R-=me,k.back+=me,k.length=Re,ve===0){k.mode=26;break}if(32&ve){k.back=-1,k.mode=12;break}if(64&ve){F.msg="invalid literal/length code",k.mode=30;break}k.extra=15&ve,k.mode=22;case 22:if(k.extra){for(q=k.extra;R<q;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}k.length+=D&(1<<k.extra)-1,D>>>=k.extra,R-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;ve=(X=k.distcode[D&(1<<k.distbits)-1])>>>16&255,Re=65535&X,!((me=X>>>24)<=R);){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}if((240&ve)==0){for(Ue=me,Ve=ve,st=Re;ve=(X=k.distcode[st+((D&(1<<Ue+Ve)-1)>>Ue)])>>>16&255,Re=65535&X,!(Ue+(me=X>>>24)<=R);){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}D>>>=Ue,R-=Ue,k.back+=Ue}if(D>>>=me,R-=me,k.back+=me,64&ve){F.msg="invalid distance code",k.mode=30;break}k.offset=Re,k.extra=15&ve,k.mode=24;case 24:if(k.extra){for(q=k.extra;R<q;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}k.offset+=D&(1<<k.extra)-1,D>>>=k.extra,R-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){F.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(ae===0)break e;if(G=B-ae,k.offset>G){if((G=k.offset-G)>k.whave&&k.sane){F.msg="invalid distance too far back",k.mode=30;break}ue=G>k.wnext?(G-=k.wnext,k.wsize-G):k.wnext-G,G>k.length&&(G=k.length),ge=k.window}else ge=K,ue=Q-k.offset,G=k.length;for(ae<G&&(G=ae),ae-=G,k.length-=G;K[Q++]=ge[ue++],--G;);k.length===0&&(k.mode=21);break;case 26:if(ae===0)break e;K[Q++]=k.length,ae--,k.mode=21;break;case 27:if(k.wrap){for(;R<32;){if(ee===0)break e;ee--,D|=V[H++]<<R,R+=8}if(B-=ae,F.total_out+=B,k.total+=B,B&&(F.adler=k.check=k.flags?u(k.check,K,B,Q-B):o(k.check,K,B,Q-B)),B=ae,(k.flags?D:S(D))!==k.check){F.msg="incorrect data check",k.mode=30;break}R=D=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;R<32;){if(ee===0)break e;ee--,D+=V[H++]<<R,R+=8}if(D!==(4294967295&k.total)){F.msg="incorrect length check",k.mode=30;break}R=D=0}k.mode=29;case 29:ye=1;break e;case 30:ye=-3;break e;case 31:return-4;case 32:default:return x}return F.next_out=Q,F.avail_out=ae,F.next_in=H,F.avail_in=ee,k.hold=D,k.bits=R,(k.wsize||B!==F.avail_out&&k.mode<30&&(k.mode<27||re!==4))&&J(F,F.output,F.next_out,B-F.avail_out)?(k.mode=31,-4):(U-=F.avail_in,B-=F.avail_out,F.total_in+=U,F.total_out+=B,k.total+=B,k.wrap&&B&&(F.adler=k.check=k.flags?u(k.check,K,B,F.next_out-B):o(k.check,K,B,F.next_out-B)),F.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(U==0&&B===0||re===4)&&ye===v&&(ye=-5),ye)},s.inflateEnd=function(F){if(!F||!F.state)return x;var re=F.state;return re.window&&(re.window=null),F.state=null,v},s.inflateGetHeader=function(F,re){var k;return F&&F.state?(2&(k=F.state).wrap)==0?x:((k.head=re).done=!1,v):x},s.inflateSetDictionary=function(F,re){var k,V=re.length;return F&&F.state?(k=F.state).wrap!==0&&k.mode!==11?x:k.mode===11&&o(1,re,V,0)!==k.check?-3:J(F,re,V,V)?(k.mode=31,-4):(k.havedict=1,v):x},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var a=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(p,g,v,x,w,y,_,S){var N,T,C,A,z,M,j,O,Y,J=S.bits,F=0,re=0,k=0,V=0,K=0,H=0,Q=0,ee=0,ae=0,D=0,R=null,U=0,B=new a.Buf16(16),G=new a.Buf16(16),ue=null,ge=0;for(F=0;F<=15;F++)B[F]=0;for(re=0;re<x;re++)B[g[v+re]]++;for(K=J,V=15;1<=V&&B[V]===0;V--);if(V<K&&(K=V),V===0)return w[y++]=20971520,w[y++]=20971520,S.bits=1,0;for(k=1;k<V&&B[k]===0;k++);for(K<k&&(K=k),F=ee=1;F<=15;F++)if(ee<<=1,(ee-=B[F])<0)return-1;if(0<ee&&(p===0||V!==1))return-1;for(G[1]=0,F=1;F<15;F++)G[F+1]=G[F]+B[F];for(re=0;re<x;re++)g[v+re]!==0&&(_[G[g[v+re]]++]=re);if(M=p===0?(R=ue=_,19):p===1?(R=o,U-=257,ue=u,ge-=257,256):(R=d,ue=f,-1),F=k,z=y,Q=re=D=0,C=-1,A=(ae=1<<(H=K))-1,p===1&&852<ae||p===2&&592<ae)return 1;for(;;){for(j=F-Q,Y=_[re]<M?(O=0,_[re]):_[re]>M?(O=ue[ge+_[re]],R[U+_[re]]):(O=96,0),N=1<<F-Q,k=T=1<<H;w[z+(D>>Q)+(T-=N)]=j<<24|O<<16|Y|0,T!==0;);for(N=1<<F-1;D&N;)N>>=1;if(N!==0?(D&=N-1,D+=N):D=0,re++,--B[F]==0){if(F===V)break;F=g[v+_[re]]}if(K<F&&(D&A)!==C){for(Q===0&&(Q=K),z+=k,ee=1<<(H=F-Q);H+Q<V&&!((ee-=B[H+Q])<=0);)H++,ee<<=1;if(ae+=1<<H,p===1&&852<ae||p===2&&592<ae)return 1;w[C=D&A]=K<<24|H<<16|z-y|0}}return D!==0&&(w[z+D]=F-Q<<24|64<<16|0),S.bits=K,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var a=n("../utils/common"),o=0,u=1;function d(X){for(var le=X.length;0<=--le;)X[le]=0}var f=0,p=29,g=256,v=g+1+p,x=30,w=19,y=2*v+1,_=15,S=16,N=7,T=256,C=16,A=17,z=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(v+2));d(J);var F=new Array(2*x);d(F);var re=new Array(512);d(re);var k=new Array(256);d(k);var V=new Array(p);d(V);var K,H,Q,ee=new Array(x);function ae(X,le,pe,be,fe){this.static_tree=X,this.extra_bits=le,this.extra_base=pe,this.elems=be,this.max_length=fe,this.has_stree=X&&X.length}function D(X,le){this.dyn_tree=X,this.max_code=0,this.stat_desc=le}function R(X){return X<256?re[X]:re[256+(X>>>7)]}function U(X,le){X.pending_buf[X.pending++]=255&le,X.pending_buf[X.pending++]=le>>>8&255}function B(X,le,pe){X.bi_valid>S-pe?(X.bi_buf|=le<<X.bi_valid&65535,U(X,X.bi_buf),X.bi_buf=le>>S-X.bi_valid,X.bi_valid+=pe-S):(X.bi_buf|=le<<X.bi_valid&65535,X.bi_valid+=pe)}function G(X,le,pe){B(X,pe[2*le],pe[2*le+1])}function ue(X,le){for(var pe=0;pe|=1&X,X>>>=1,pe<<=1,0<--le;);return pe>>>1}function ge(X,le,pe){var be,fe,Me=new Array(_+1),we=0;for(be=1;be<=_;be++)Me[be]=we=we+pe[be-1]<<1;for(fe=0;fe<=le;fe++){var je=X[2*fe+1];je!==0&&(X[2*fe]=ue(Me[je]++,je))}}function me(X){var le;for(le=0;le<v;le++)X.dyn_ltree[2*le]=0;for(le=0;le<x;le++)X.dyn_dtree[2*le]=0;for(le=0;le<w;le++)X.bl_tree[2*le]=0;X.dyn_ltree[2*T]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function ve(X){8<X.bi_valid?U(X,X.bi_buf):0<X.bi_valid&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function Re(X,le,pe,be){var fe=2*le,Me=2*pe;return X[fe]<X[Me]||X[fe]===X[Me]&&be[le]<=be[pe]}function Ue(X,le,pe){for(var be=X.heap[pe],fe=pe<<1;fe<=X.heap_len&&(fe<X.heap_len&&Re(le,X.heap[fe+1],X.heap[fe],X.depth)&&fe++,!Re(le,be,X.heap[fe],X.depth));)X.heap[pe]=X.heap[fe],pe=fe,fe<<=1;X.heap[pe]=be}function Ve(X,le,pe){var be,fe,Me,we,je=0;if(X.last_lit!==0)for(;be=X.pending_buf[X.d_buf+2*je]<<8|X.pending_buf[X.d_buf+2*je+1],fe=X.pending_buf[X.l_buf+je],je++,be===0?G(X,fe,le):(G(X,(Me=k[fe])+g+1,le),(we=M[Me])!==0&&B(X,fe-=V[Me],we),G(X,Me=R(--be),pe),(we=j[Me])!==0&&B(X,be-=ee[Me],we)),je<X.last_lit;);G(X,T,le)}function st(X,le){var pe,be,fe,Me=le.dyn_tree,we=le.stat_desc.static_tree,je=le.stat_desc.has_stree,He=le.stat_desc.elems,et=-1;for(X.heap_len=0,X.heap_max=y,pe=0;pe<He;pe++)Me[2*pe]!==0?(X.heap[++X.heap_len]=et=pe,X.depth[pe]=0):Me[2*pe+1]=0;for(;X.heap_len<2;)Me[2*(fe=X.heap[++X.heap_len]=et<2?++et:0)]=1,X.depth[fe]=0,X.opt_len--,je&&(X.static_len-=we[2*fe+1]);for(le.max_code=et,pe=X.heap_len>>1;1<=pe;pe--)Ue(X,Me,pe);for(fe=He;pe=X.heap[1],X.heap[1]=X.heap[X.heap_len--],Ue(X,Me,1),be=X.heap[1],X.heap[--X.heap_max]=pe,X.heap[--X.heap_max]=be,Me[2*fe]=Me[2*pe]+Me[2*be],X.depth[fe]=(X.depth[pe]>=X.depth[be]?X.depth[pe]:X.depth[be])+1,Me[2*pe+1]=Me[2*be+1]=fe,X.heap[1]=fe++,Ue(X,Me,1),2<=X.heap_len;);X.heap[--X.heap_max]=X.heap[1],(function(Ge,mt){var Gt,vt,Mt,xt,rt,Dt,At=mt.dyn_tree,ze=mt.max_code,tt=mt.stat_desc.static_tree,ht=mt.stat_desc.has_stree,Tt=mt.stat_desc.extra_bits,yt=mt.stat_desc.extra_base,St=mt.stat_desc.max_length,Ot=0;for(xt=0;xt<=_;xt++)Ge.bl_count[xt]=0;for(At[2*Ge.heap[Ge.heap_max]+1]=0,Gt=Ge.heap_max+1;Gt<y;Gt++)St<(xt=At[2*At[2*(vt=Ge.heap[Gt])+1]+1]+1)&&(xt=St,Ot++),At[2*vt+1]=xt,ze<vt||(Ge.bl_count[xt]++,rt=0,yt<=vt&&(rt=Tt[vt-yt]),Dt=At[2*vt],Ge.opt_len+=Dt*(xt+rt),ht&&(Ge.static_len+=Dt*(tt[2*vt+1]+rt)));if(Ot!==0){do{for(xt=St-1;Ge.bl_count[xt]===0;)xt--;Ge.bl_count[xt]--,Ge.bl_count[xt+1]+=2,Ge.bl_count[St]--,Ot-=2}while(0<Ot);for(xt=St;xt!==0;xt--)for(vt=Ge.bl_count[xt];vt!==0;)ze<(Mt=Ge.heap[--Gt])||(At[2*Mt+1]!==xt&&(Ge.opt_len+=(xt-At[2*Mt+1])*At[2*Mt],At[2*Mt+1]=xt),vt--)}})(X,le),ge(Me,et,X.bl_count)}function I(X,le,pe){var be,fe,Me=-1,we=le[1],je=0,He=7,et=4;for(we===0&&(He=138,et=3),le[2*(pe+1)+1]=65535,be=0;be<=pe;be++)fe=we,we=le[2*(be+1)+1],++je<He&&fe===we||(je<et?X.bl_tree[2*fe]+=je:fe!==0?(fe!==Me&&X.bl_tree[2*fe]++,X.bl_tree[2*C]++):je<=10?X.bl_tree[2*A]++:X.bl_tree[2*z]++,Me=fe,et=(je=0)===we?(He=138,3):fe===we?(He=6,3):(He=7,4))}function ye(X,le,pe){var be,fe,Me=-1,we=le[1],je=0,He=7,et=4;for(we===0&&(He=138,et=3),be=0;be<=pe;be++)if(fe=we,we=le[2*(be+1)+1],!(++je<He&&fe===we)){if(je<et)for(;G(X,fe,X.bl_tree),--je!=0;);else fe!==0?(fe!==Me&&(G(X,fe,X.bl_tree),je--),G(X,C,X.bl_tree),B(X,je-3,2)):je<=10?(G(X,A,X.bl_tree),B(X,je-3,3)):(G(X,z,X.bl_tree),B(X,je-11,7));Me=fe,et=(je=0)===we?(He=138,3):fe===we?(He=6,3):(He=7,4)}}d(ee);var ne=!1;function q(X,le,pe,be){B(X,(f<<1)+(be?1:0),3),(function(fe,Me,we,je){ve(fe),U(fe,we),U(fe,~we),a.arraySet(fe.pending_buf,fe.window,Me,we,fe.pending),fe.pending+=we})(X,le,pe)}s._tr_init=function(X){ne||((function(){var le,pe,be,fe,Me,we=new Array(_+1);for(fe=be=0;fe<p-1;fe++)for(V[fe]=be,le=0;le<1<<M[fe];le++)k[be++]=fe;for(k[be-1]=fe,fe=Me=0;fe<16;fe++)for(ee[fe]=Me,le=0;le<1<<j[fe];le++)re[Me++]=fe;for(Me>>=7;fe<x;fe++)for(ee[fe]=Me<<7,le=0;le<1<<j[fe]-7;le++)re[256+Me++]=fe;for(pe=0;pe<=_;pe++)we[pe]=0;for(le=0;le<=143;)J[2*le+1]=8,le++,we[8]++;for(;le<=255;)J[2*le+1]=9,le++,we[9]++;for(;le<=279;)J[2*le+1]=7,le++,we[7]++;for(;le<=287;)J[2*le+1]=8,le++,we[8]++;for(ge(J,v+1,we),le=0;le<x;le++)F[2*le+1]=5,F[2*le]=ue(le,5);K=new ae(J,M,g+1,v,_),H=new ae(F,j,0,x,_),Q=new ae(new Array(0),O,0,w,N)})(),ne=!0),X.l_desc=new D(X.dyn_ltree,K),X.d_desc=new D(X.dyn_dtree,H),X.bl_desc=new D(X.bl_tree,Q),X.bi_buf=0,X.bi_valid=0,me(X)},s._tr_stored_block=q,s._tr_flush_block=function(X,le,pe,be){var fe,Me,we=0;0<X.level?(X.strm.data_type===2&&(X.strm.data_type=(function(je){var He,et=4093624447;for(He=0;He<=31;He++,et>>>=1)if(1&et&&je.dyn_ltree[2*He]!==0)return o;if(je.dyn_ltree[18]!==0||je.dyn_ltree[20]!==0||je.dyn_ltree[26]!==0)return u;for(He=32;He<g;He++)if(je.dyn_ltree[2*He]!==0)return u;return o})(X)),st(X,X.l_desc),st(X,X.d_desc),we=(function(je){var He;for(I(je,je.dyn_ltree,je.l_desc.max_code),I(je,je.dyn_dtree,je.d_desc.max_code),st(je,je.bl_desc),He=w-1;3<=He&&je.bl_tree[2*Y[He]+1]===0;He--);return je.opt_len+=3*(He+1)+5+5+4,He})(X),fe=X.opt_len+3+7>>>3,(Me=X.static_len+3+7>>>3)<=fe&&(fe=Me)):fe=Me=pe+5,pe+4<=fe&&le!==-1?q(X,le,pe,be):X.strategy===4||Me===fe?(B(X,2+(be?1:0),3),Ve(X,J,F)):(B(X,4+(be?1:0),3),(function(je,He,et,Ge){var mt;for(B(je,He-257,5),B(je,et-1,5),B(je,Ge-4,4),mt=0;mt<Ge;mt++)B(je,je.bl_tree[2*Y[mt]+1],3);ye(je,je.dyn_ltree,He-1),ye(je,je.dyn_dtree,et-1)})(X,X.l_desc.max_code+1,X.d_desc.max_code+1,we+1),Ve(X,X.dyn_ltree,X.dyn_dtree)),me(X),be&&ve(X)},s._tr_tally=function(X,le,pe){return X.pending_buf[X.d_buf+2*X.last_lit]=le>>>8&255,X.pending_buf[X.d_buf+2*X.last_lit+1]=255&le,X.pending_buf[X.l_buf+X.last_lit]=255&pe,X.last_lit++,le===0?X.dyn_ltree[2*pe]++:(X.matches++,le--,X.dyn_ltree[2*(k[pe]+g+1)]++,X.dyn_dtree[2*R(le)]++),X.last_lit===X.lit_bufsize-1},s._tr_align=function(X){B(X,2,3),G(X,T,J),(function(le){le.bi_valid===16?(U(le,le.bi_buf),le.bi_buf=0,le.bi_valid=0):8<=le.bi_valid&&(le.pending_buf[le.pending++]=255&le.bi_buf,le.bi_buf>>=8,le.bi_valid-=8)})(X)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(a){(function(o,u){if(!o.setImmediate){var d,f,p,g,v=1,x={},w=!1,y=o.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(o);_=_&&_.setTimeout?_:o,d={}.toString.call(o.process)==="[object process]"?function(C){process.nextTick(function(){N(C)})}:(function(){if(o.postMessage&&!o.importScripts){var C=!0,A=o.onmessage;return o.onmessage=function(){C=!1},o.postMessage("","*"),o.onmessage=A,C}})()?(g="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",T,!1):o.attachEvent("onmessage",T),function(C){o.postMessage(g+C,"*")}):o.MessageChannel?((p=new MessageChannel).port1.onmessage=function(C){N(C.data)},function(C){p.port2.postMessage(C)}):y&&"onreadystatechange"in y.createElement("script")?(f=y.documentElement,function(C){var A=y.createElement("script");A.onreadystatechange=function(){N(C),A.onreadystatechange=null,f.removeChild(A),A=null},f.appendChild(A)}):function(C){setTimeout(N,0,C)},_.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var A=new Array(arguments.length-1),z=0;z<A.length;z++)A[z]=arguments[z+1];var M={callback:C,args:A};return x[v]=M,d(v),v++},_.clearImmediate=S}function S(C){delete x[C]}function N(C){if(w)setTimeout(N,0,C);else{var A=x[C];if(A){w=!0;try{(function(z){var M=z.callback,j=z.args;switch(j.length){case 0:M();break;case 1:M(j[0]);break;case 2:M(j[0],j[1]);break;case 3:M(j[0],j[1],j[2]);break;default:M.apply(u,j)}})(A)}finally{S(C),w=!1}}}}function T(C){C.source===o&&typeof C.data=="string"&&C.data.indexOf(g)===0&&N(+C.data.slice(g.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof ci<"u"?ci:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Rm)),Rm.exports}var gD=mD();const xD=Rh(gD),RE=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",vD=RE+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",yD="["+RE+"]["+vD+"]*",wD=new RegExp("^"+yD+"$");function OE(e,t){const n=[];let r=t.exec(e);for(;r;){const s=[];s.startIndex=t.lastIndex-r[0].length;const a=r.length;for(let o=0;o<a;o++)s.push(r[o]);n.push(s),r=t.exec(e)}return n}const Bh=function(e){const t=wD.exec(e);return!(t===null||typeof t>"u")};function bD(e){return typeof e<"u"}const _D={allowBooleanAttributes:!1,unpairedTags:[]};function SD(e,t){t=Object.assign({},_D,t);const n=[];let r=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let a=0;a<e.length;a++)if(e[a]==="<"&&e[a+1]==="?"){if(a+=2,a=E2(e,a),a.err)return a}else if(e[a]==="<"){let o=a;if(a++,e[a]==="!"){a=N2(e,a);continue}else{let u=!1;e[a]==="/"&&(u=!0,a++);let d="";for(;a<e.length&&e[a]!==">"&&e[a]!==" "&&e[a]!=="	"&&e[a]!==`
`&&e[a]!=="\r";a++)d+=e[a];if(d=d.trim(),d[d.length-1]==="/"&&(d=d.substring(0,d.length-1),a--),!RD(d)){let g;return d.trim().length===0?g="Invalid space after '<'.":g="Tag '"+d+"' is an invalid name.",Tn("InvalidTag",g,xr(e,a))}const f=TD(e,a);if(f===!1)return Tn("InvalidAttr","Attributes for '"+d+"' have open quote.",xr(e,a));let p=f.value;if(a=f.index,p[p.length-1]==="/"){const g=a-p.length;p=p.substring(0,p.length-1);const v=T2(p,t);if(v===!0)r=!0;else return Tn(v.err.code,v.err.msg,xr(e,g+v.err.line))}else if(u)if(f.tagClosed){if(p.trim().length>0)return Tn("InvalidTag","Closing tag '"+d+"' can't have attributes or invalid starting.",xr(e,o));if(n.length===0)return Tn("InvalidTag","Closing tag '"+d+"' has not been opened.",xr(e,o));{const g=n.pop();if(d!==g.tagName){let v=xr(e,g.tagStartPos);return Tn("InvalidTag","Expected closing tag '"+g.tagName+"' (opened in line "+v.line+", col "+v.col+") instead of closing tag '"+d+"'.",xr(e,o))}n.length==0&&(s=!0)}}else return Tn("InvalidTag","Closing tag '"+d+"' doesn't have proper closing.",xr(e,a));else{const g=T2(p,t);if(g!==!0)return Tn(g.err.code,g.err.msg,xr(e,a-p.length+g.err.line));if(s===!0)return Tn("InvalidXml","Multiple possible root nodes found.",xr(e,a));t.unpairedTags.indexOf(d)!==-1||n.push({tagName:d,tagStartPos:o}),r=!0}for(a++;a<e.length;a++)if(e[a]==="<")if(e[a+1]==="!"){a++,a=N2(e,a);continue}else if(e[a+1]==="?"){if(a=E2(e,++a),a.err)return a}else break;else if(e[a]==="&"){const g=jD(e,a);if(g==-1)return Tn("InvalidChar","char '&' is not expected.",xr(e,a));a=g}else if(s===!0&&!S2(e[a]))return Tn("InvalidXml","Extra text at the end",xr(e,a));e[a]==="<"&&a--}}else{if(S2(e[a]))continue;return Tn("InvalidChar","char '"+e[a]+"' is not expected.",xr(e,a))}if(r){if(n.length==1)return Tn("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",xr(e,n[0].tagStartPos));if(n.length>0)return Tn("InvalidXml","Invalid '"+JSON.stringify(n.map(a=>a.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Tn("InvalidXml","Start tag expected.",1);return!0}function S2(e){return e===" "||e==="	"||e===`
`||e==="\r"}function E2(e,t){const n=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const r=e.substr(n,t-n);if(t>5&&r==="xml")return Tn("InvalidXml","XML declaration allowed only at the start of the document.",xr(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function N2(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let n=1;for(t+=8;t<e.length;t++)if(e[t]==="<")n++;else if(e[t]===">"&&(n--,n===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const ED='"',ND="'";function TD(e,t){let n="",r="",s=!1;for(;t<e.length;t++){if(e[t]===ED||e[t]===ND)r===""?r=e[t]:r!==e[t]||(r="");else if(e[t]===">"&&r===""){s=!0;break}n+=e[t]}return r!==""?!1:{value:n,index:t,tagClosed:s}}const CD=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function T2(e,t){const n=OE(e,CD),r={};for(let s=0;s<n.length;s++){if(n[s][1].length===0)return Tn("InvalidAttr","Attribute '"+n[s][2]+"' has no space in starting.",Bc(n[s]));if(n[s][3]!==void 0&&n[s][4]===void 0)return Tn("InvalidAttr","Attribute '"+n[s][2]+"' is without value.",Bc(n[s]));if(n[s][3]===void 0&&!t.allowBooleanAttributes)return Tn("InvalidAttr","boolean attribute '"+n[s][2]+"' is not allowed.",Bc(n[s]));const a=n[s][2];if(!AD(a))return Tn("InvalidAttr","Attribute '"+a+"' is an invalid name.",Bc(n[s]));if(!r.hasOwnProperty(a))r[a]=1;else return Tn("InvalidAttr","Attribute '"+a+"' is repeated.",Bc(n[s]))}return!0}function kD(e,t){let n=/\d/;for(e[t]==="x"&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(n))break}return-1}function jD(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,kD(e,t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(e[t]===";")break;return-1}return t}function Tn(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function AD(e){return Bh(e)}function RD(e){return Bh(e)}function xr(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function Bc(e){return e.startIndex+e[1].length}const OD={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e},captureMetaData:!1},MD=function(e){return Object.assign({},OD,e)};let sh;typeof Symbol!="function"?sh="@@xmlMetadata":sh=Symbol("XML Node Metadata");class Vi{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:n})}addChild(t,n){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),n!==void 0&&(this.child[this.child.length-1][sh]={startIndex:n})}static getMetaDataSymbol(){return sh}}class DD{constructor(t){this.suppressValidationErr=!t}readDocType(t,n){const r={};if(t[n+3]==="O"&&t[n+4]==="C"&&t[n+5]==="T"&&t[n+6]==="Y"&&t[n+7]==="P"&&t[n+8]==="E"){n=n+9;let s=1,a=!1,o=!1,u="";for(;n<t.length;n++)if(t[n]==="<"&&!o){if(a&&zi(t,"!ENTITY",n)){n+=7;let d,f;[d,f,n]=this.readEntityExp(t,n+1,this.suppressValidationErr),f.indexOf("&")===-1&&(r[d]={regx:RegExp(`&${d};`,"g"),val:f})}else if(a&&zi(t,"!ELEMENT",n)){n+=8;const{index:d}=this.readElementExp(t,n+1);n=d}else if(a&&zi(t,"!ATTLIST",n))n+=8;else if(a&&zi(t,"!NOTATION",n)){n+=9;const{index:d}=this.readNotationExp(t,n+1,this.suppressValidationErr);n=d}else if(zi(t,"!--",n))o=!0;else throw new Error("Invalid DOCTYPE");s++,u=""}else if(t[n]===">"){if(o?t[n-1]==="-"&&t[n-2]==="-"&&(o=!1,s--):s--,s===0)break}else t[n]==="["?a=!0:u+=t[n];if(s!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:n}}readEntityExp(t,n){n=kr(t,n);let r="";for(;n<t.length&&!/\s/.test(t[n])&&t[n]!=='"'&&t[n]!=="'";)r+=t[n],n++;if(Uc(r),n=kr(t,n),!this.suppressValidationErr){if(t.substring(n,n+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(t[n]==="%")throw new Error("Parameter entities are not supported")}let s="";return[n,s]=this.readIdentifierVal(t,n,"entity"),n--,[r,s,n]}readNotationExp(t,n){n=kr(t,n);let r="";for(;n<t.length&&!/\s/.test(t[n]);)r+=t[n],n++;!this.suppressValidationErr&&Uc(r),n=kr(t,n);const s=t.substring(n,n+6).toUpperCase();if(!this.suppressValidationErr&&s!=="SYSTEM"&&s!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${s}"`);n+=s.length,n=kr(t,n);let a=null,o=null;if(s==="PUBLIC")[n,a]=this.readIdentifierVal(t,n,"publicIdentifier"),n=kr(t,n),(t[n]==='"'||t[n]==="'")&&([n,o]=this.readIdentifierVal(t,n,"systemIdentifier"));else if(s==="SYSTEM"&&([n,o]=this.readIdentifierVal(t,n,"systemIdentifier"),!this.suppressValidationErr&&!o))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:a,systemIdentifier:o,index:--n}}readIdentifierVal(t,n,r){let s="";const a=t[n];if(a!=='"'&&a!=="'")throw new Error(`Expected quoted string, found "${a}"`);for(n++;n<t.length&&t[n]!==a;)s+=t[n],n++;if(t[n]!==a)throw new Error(`Unterminated ${r} value`);return n++,[n,s]}readElementExp(t,n){n=kr(t,n);let r="";for(;n<t.length&&!/\s/.test(t[n]);)r+=t[n],n++;if(!this.suppressValidationErr&&!Bh(r))throw new Error(`Invalid element name: "${r}"`);n=kr(t,n);let s="";if(t[n]==="E"&&zi(t,"MPTY",n))n+=4;else if(t[n]==="A"&&zi(t,"NY",n))n+=2;else if(t[n]==="("){for(n++;n<t.length&&t[n]!==")";)s+=t[n],n++;if(t[n]!==")")throw new Error("Unterminated content model")}else if(!this.suppressValidationErr)throw new Error(`Invalid Element Expression, found "${t[n]}"`);return{elementName:r,contentModel:s.trim(),index:n}}readAttlistExp(t,n){n=kr(t,n);let r="";for(;n<t.length&&!/\s/.test(t[n]);)r+=t[n],n++;Uc(r),n=kr(t,n);let s="";for(;n<t.length&&!/\s/.test(t[n]);)s+=t[n],n++;if(!Uc(s))throw new Error(`Invalid attribute name: "${s}"`);n=kr(t,n);let a="";if(t.substring(n,n+8).toUpperCase()==="NOTATION"){if(a="NOTATION",n+=8,n=kr(t,n),t[n]!=="(")throw new Error(`Expected '(', found "${t[n]}"`);n++;let u=[];for(;n<t.length&&t[n]!==")";){let d="";for(;n<t.length&&t[n]!=="|"&&t[n]!==")";)d+=t[n],n++;if(d=d.trim(),!Uc(d))throw new Error(`Invalid notation name: "${d}"`);u.push(d),t[n]==="|"&&(n++,n=kr(t,n))}if(t[n]!==")")throw new Error("Unterminated list of notations");n++,a+=" ("+u.join("|")+")"}else{for(;n<t.length&&!/\s/.test(t[n]);)a+=t[n],n++;const u=["CDATA","ID","IDREF","IDREFS","ENTITY","ENTITIES","NMTOKEN","NMTOKENS"];if(!this.suppressValidationErr&&!u.includes(a.toUpperCase()))throw new Error(`Invalid attribute type: "${a}"`)}n=kr(t,n);let o="";return t.substring(n,n+8).toUpperCase()==="#REQUIRED"?(o="#REQUIRED",n+=8):t.substring(n,n+7).toUpperCase()==="#IMPLIED"?(o="#IMPLIED",n+=7):[n,o]=this.readIdentifierVal(t,n,"ATTLIST"),{elementName:r,attributeName:s,attributeType:a,defaultValue:o,index:n}}}const kr=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t};function zi(e,t,n){for(let r=0;r<t.length;r++)if(t[r]!==e[n+r+1])return!1;return!0}function Uc(e){if(Bh(e))return e;throw new Error(`Invalid entity name ${e}`)}const ID=/^[-+]?0x[a-fA-F0-9]+$/,LD=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,PD={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function FD(e,t={}){if(t=Object.assign({},PD,t),!e||typeof e!="string")return e;let n=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(n))return e;if(e==="0")return 0;if(t.hex&&ID.test(n))return $D(n,16);if(n.search(/.+[eE].+/)!==-1)return BD(e,n,t);{const r=LD.exec(n);if(r){const s=r[1]||"",a=r[2];let o=UD(r[3]);const u=s?e[a.length+1]===".":e[a.length]===".";if(!t.leadingZeros&&(a.length>1||a.length===1&&!u))return e;{const d=Number(n),f=String(d);if(d===0)return d;if(f.search(/[eE]/)!==-1)return t.eNotation?d:e;if(n.indexOf(".")!==-1)return f==="0"||f===o||f===`${s}${o}`?d:e;let p=a?o:n;return a?p===f||s+p===f?d:e:p===f||p===s+f?d:e}}else return e}}const zD=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function BD(e,t,n){if(!n.eNotation)return e;const r=t.match(zD);if(r){let s=r[1]||"";const a=r[3].indexOf("e")===-1?"E":"e",o=r[2],u=s?e[o.length+1]===a:e[o.length]===a;return o.length>1&&u?e:o.length===1&&(r[3].startsWith(`.${a}`)||r[3][0]===a)?Number(t):n.leadingZeros&&!u?(t=(r[1]||"")+r[3],Number(t)):e}else return e}function UD(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function $D(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}function HD(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(const n of e)if(typeof n=="string"&&t===n||n instanceof RegExp&&n.test(t))return!0}:()=>!1}class GD{constructor(t){if(this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCodePoint(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCodePoint(Number.parseInt(r,16))}},this.addExternalEntities=VD,this.parseXml=YD,this.parseTextData=WD,this.resolveNameSpace=qD,this.buildAttributesMap=XD,this.isItStopNode=eI,this.replaceEntitiesValue=ZD,this.readStopNodeData=nI,this.saveTextToParentTag=QD,this.addChild=JD,this.ignoreAttributesFn=HD(this.options.ignoreAttributes),this.options.stopNodes&&this.options.stopNodes.length>0){this.stopNodesExact=new Set,this.stopNodesWildcard=new Set;for(let n=0;n<this.options.stopNodes.length;n++){const r=this.options.stopNodes[n];typeof r=="string"&&(r.startsWith("*.")?this.stopNodesWildcard.add(r.substring(2)):this.stopNodesExact.add(r))}}}}function VD(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function WD(e,t,n,r,s,a,o){if(e!==void 0&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));const u=this.options.tagValueProcessor(t,e,n,s,a);return u==null?e:typeof u!=typeof e||u!==e?u:this.options.trimValues?Dg(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Dg(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function qD(e){if(this.options.removeNSPrefix){const t=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=n+t[1])}return e}const KD=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function XD(e,t,n){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){const r=OE(e,KD),s=r.length,a={};for(let o=0;o<s;o++){const u=this.resolveNameSpace(r[o][1]);if(this.ignoreAttributesFn(u,t))continue;let d=r[o][4],f=this.options.attributeNamePrefix+u;if(u.length)if(this.options.transformAttributeName&&(f=this.options.transformAttributeName(f)),f==="__proto__"&&(f="#__proto__"),d!==void 0){this.options.trimValues&&(d=d.trim()),d=this.replaceEntitiesValue(d);const p=this.options.attributeValueProcessor(u,d,t);p==null?a[f]=d:typeof p!=typeof d||p!==d?a[f]=p:a[f]=Dg(d,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(a[f]=!0)}if(!Object.keys(a).length)return;if(this.options.attributesGroupName){const o={};return o[this.options.attributesGroupName]=a,o}return a}}const YD=function(e){e=e.replace(/\r\n?/g,`
`);const t=new Vi("!xml");let n=t,r="",s="";const a=new DD(this.options.processEntities);for(let o=0;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){const d=Yi(e,">",o,"Closing Tag is not closed.");let f=e.substring(o+2,d).trim();if(this.options.removeNSPrefix){const v=f.indexOf(":");v!==-1&&(f=f.substr(v+1))}this.options.transformTagName&&(f=this.options.transformTagName(f)),n&&(r=this.saveTextToParentTag(r,n,s));const p=s.substring(s.lastIndexOf(".")+1);if(f&&this.options.unpairedTags.indexOf(f)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${f}>`);let g=0;p&&this.options.unpairedTags.indexOf(p)!==-1?(g=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):g=s.lastIndexOf("."),s=s.substring(0,g),n=this.tagsNodeStack.pop(),r="",o=d}else if(e[o+1]==="?"){let d=Mg(e,o,!1,"?>");if(!d)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,s),!(this.options.ignoreDeclaration&&d.tagName==="?xml"||this.options.ignorePiTags)){const f=new Vi(d.tagName);f.add(this.options.textNodeName,""),d.tagName!==d.tagExp&&d.attrExpPresent&&(f[":@"]=this.buildAttributesMap(d.tagExp,s,d.tagName)),this.addChild(n,f,s,o)}o=d.closeIndex+1}else if(e.substr(o+1,3)==="!--"){const d=Yi(e,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){const f=e.substring(o+4,d-2);r=this.saveTextToParentTag(r,n,s),n.add(this.options.commentPropName,[{[this.options.textNodeName]:f}])}o=d}else if(e.substr(o+1,2)==="!D"){const d=a.readDocType(e,o);this.docTypeEntities=d.entities,o=d.i}else if(e.substr(o+1,2)==="!["){const d=Yi(e,"]]>",o,"CDATA is not closed.")-2,f=e.substring(o+9,d);r=this.saveTextToParentTag(r,n,s);let p=this.parseTextData(f,n.tagname,s,!0,!1,!0,!0);p==null&&(p=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:f}]):n.add(this.options.textNodeName,p),o=d+2}else{let d=Mg(e,o,this.options.removeNSPrefix),f=d.tagName;const p=d.rawTagName;let g=d.tagExp,v=d.attrExpPresent,x=d.closeIndex;this.options.transformTagName&&(f=this.options.transformTagName(f)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,s,!1));const w=n;w&&this.options.unpairedTags.indexOf(w.tagname)!==-1&&(n=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),f!==t.tagname&&(s+=s?"."+f:f);const y=o;if(this.isItStopNode(this.stopNodesExact,this.stopNodesWildcard,s,f)){let _="";if(g.length>0&&g.lastIndexOf("/")===g.length-1)f[f.length-1]==="/"?(f=f.substr(0,f.length-1),s=s.substr(0,s.length-1),g=f):g=g.substr(0,g.length-1),o=d.closeIndex;else if(this.options.unpairedTags.indexOf(f)!==-1)o=d.closeIndex;else{const N=this.readStopNodeData(e,p,x+1);if(!N)throw new Error(`Unexpected end of ${p}`);o=N.i,_=N.tagContent}const S=new Vi(f);f!==g&&v&&(S[":@"]=this.buildAttributesMap(g,s,f)),_&&(_=this.parseTextData(_,f,s,!0,v,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),S.add(this.options.textNodeName,_),this.addChild(n,S,s,y)}else{if(g.length>0&&g.lastIndexOf("/")===g.length-1){f[f.length-1]==="/"?(f=f.substr(0,f.length-1),s=s.substr(0,s.length-1),g=f):g=g.substr(0,g.length-1),this.options.transformTagName&&(f=this.options.transformTagName(f));const _=new Vi(f);f!==g&&v&&(_[":@"]=this.buildAttributesMap(g,s,f)),this.addChild(n,_,s,y),s=s.substr(0,s.lastIndexOf("."))}else{const _=new Vi(f);this.tagsNodeStack.push(n),f!==g&&v&&(_[":@"]=this.buildAttributesMap(g,s,f)),this.addChild(n,_,s,y),n=_}r="",o=x}}else r+=e[o];return t.child};function JD(e,t,n,r){this.options.captureMetaData||(r=void 0);const s=this.options.updateTag(t.tagname,n,t[":@"]);s===!1||(typeof s=="string"&&(t.tagname=s),e.addChild(t,r))}const ZD=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function QD(e,t,n,r){return e&&(r===void 0&&(r=t.child.length===0),e=this.parseTextData(e,t.tagname,n,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,r),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function eI(e,t,n,r){return!!(t&&t.has(r)||e&&e.has(n))}function tI(e,t,n=">"){let r,s="";for(let a=t;a<e.length;a++){let o=e[a];if(r)o===r&&(r="");else if(o==='"'||o==="'")r=o;else if(o===n[0])if(n[1]){if(e[a+1]===n[1])return{data:s,index:a}}else return{data:s,index:a};else o==="	"&&(o=" ");s+=o}}function Yi(e,t,n,r){const s=e.indexOf(t,n);if(s===-1)throw new Error(r);return s+t.length-1}function Mg(e,t,n,r=">"){const s=tI(e,t+1,r);if(!s)return;let a=s.data;const o=s.index,u=a.search(/\s/);let d=a,f=!0;u!==-1&&(d=a.substring(0,u),a=a.substring(u+1).trimStart());const p=d;if(n){const g=d.indexOf(":");g!==-1&&(d=d.substr(g+1),f=d!==s.data.substr(g+1))}return{tagName:d,tagExp:a,closeIndex:o,attrExpPresent:f,rawTagName:p}}function nI(e,t,n){const r=n;let s=1;for(;n<e.length;n++)if(e[n]==="<")if(e[n+1]==="/"){const a=Yi(e,">",n,`${t} is not closed`);if(e.substring(n+2,a).trim()===t&&(s--,s===0))return{tagContent:e.substring(r,n),i:a};n=a}else if(e[n+1]==="?")n=Yi(e,"?>",n+1,"StopNode is not closed.");else if(e.substr(n+1,3)==="!--")n=Yi(e,"-->",n+3,"StopNode is not closed.");else if(e.substr(n+1,2)==="![")n=Yi(e,"]]>",n,"StopNode is not closed.")-2;else{const a=Mg(e,n,">");a&&((a&&a.tagName)===t&&a.tagExp[a.tagExp.length-1]!=="/"&&s++,n=a.closeIndex)}}function Dg(e,t,n){if(t&&typeof e=="string"){const r=e.trim();return r==="true"?!0:r==="false"?!1:FD(e,n)}else return bD(e)?e:""}const Om=Vi.getMetaDataSymbol();function rI(e,t){return ME(e,t)}function ME(e,t,n){let r;const s={};for(let a=0;a<e.length;a++){const o=e[a],u=sI(o);let d="";if(n===void 0?d=u:d=n+"."+u,u===t.textNodeName)r===void 0?r=o[u]:r+=""+o[u];else{if(u===void 0)continue;if(o[u]){let f=ME(o[u],t,d);const p=iI(f,t);o[Om]!==void 0&&(f[Om]=o[Om]),o[":@"]?aI(f,o[":@"],d,t):Object.keys(f).length===1&&f[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?f=f[t.textNodeName]:Object.keys(f).length===0&&(t.alwaysCreateTextNode?f[t.textNodeName]="":f=""),s[u]!==void 0&&s.hasOwnProperty(u)?(Array.isArray(s[u])||(s[u]=[s[u]]),s[u].push(f)):t.isArray(u,d,p)?s[u]=[f]:s[u]=f}}}return typeof r=="string"?r.length>0&&(s[t.textNodeName]=r):r!==void 0&&(s[t.textNodeName]=r),s}function sI(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(r!==":@")return r}}function aI(e,t,n,r){if(t){const s=Object.keys(t),a=s.length;for(let o=0;o<a;o++){const u=s[o];r.isArray(u,n+"."+u,!0,!0)?e[u]=[t[u]]:e[u]=t[u]}}}function iI(e,t){const{textNodeName:n}=t,r=Object.keys(e).length;return!!(r===0||r===1&&(e[n]||typeof e[n]=="boolean"||e[n]===0))}class oI{constructor(t){this.externalEntities={},this.options=MD(t)}parse(t,n){if(typeof t!="string"&&t.toString)t=t.toString();else if(typeof t!="string")throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const a=SD(t,n);if(a!==!0)throw Error(`${a.err.msg}:${a.err.line}:${a.err.col}`)}const r=new GD(this.options);r.addExternalEntities(this.externalEntities);const s=r.parseXml(t);return this.options.preserveOrder||s===void 0?s:rI(s,this.options)}addEntity(t,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=n}static getMetaDataSymbol(){return Vi.getMetaDataSymbol()}}const Rl=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`id_${Math.random().toString(36).slice(2)}`,eo=(e,t)=>{if(e.id===t)return e;for(const n of e.children||[]){const r=eo(n,t);if(r)return r}return null},Fu=(e,t)=>{const n=r=>{const s=t({...r,children:r.children?[...r.children]:[]});return s.children=(s.children||[]).map(n),s};return n(e)},lI=(e,t)=>{if(t.has(e.id))return e;const n=r=>{const s=(r.children||[]).filter(a=>!t.has(a.id)).map(n);return{...r,children:s}};return n(e)},DE=(e,t,n)=>{const r=eo(e,t);if(!r)return!1;const s=a=>{if(a.id===n)return!0;for(const o of a.children||[])if(s(o))return!0;return!1};return s(r)},IE=(e,t)=>{if(e.id===t)return[e,null,null];const n=r=>{let s=null,a=null;const o=[];for(const u of r.children||[])if(u.id===t)s=u,a=r.id;else{const[d,f,p]=n(u);o.push(d),f&&(s=f,a=p)}return[{...r,children:o},s,a]};return n(e)},LE=(e,t,n)=>Fu(e,r=>r.id===t?{...r,children:[...r.children||[],n]}:r),cI=(e,t,n)=>{if(t===n||DE(e,t,n))return e;const[r,s]=IE(e,t);return s?LE(r,n,s):e},uI=(e,t,n)=>{if(t===n||DE(e,t,n))return e;const[r,s,a]=IE(e,t);if(!s||!a)return e;const o=Fu(r,d=>d.id===a?{...d,children:[...d.children||[],...s.children||[]]}:d),u={...s,children:[]};return LE(o,n,u)},PE=(e,t)=>Bx(e,t,{collapsed:!eo(e,t)?.collapsed}),dI=(e,t,n=" ")=>Fu(e,r=>{if(r.id!==t)return r;const s={id:Rl(),title:n,labels:[],children:[]},a=[...r.children||[],s];return{...r,children:a}}),Bx=(e,t,n)=>Fu(e,r=>r.id===t?{...r,...n}:r),FE=["brand","","","company"],zE=["model","","","product","product_name"],BE=["geo","city","","","","",""],UE=["action","","","","","",""],$E=["price","",""," "," "],fI=["","","","","","","","",""];class ul{formula;position=0;tokens=[];constructor(t){this.formula=t.trim(),this.tokenize()}tokenize(){for(this.tokens=[],this.position=0;this.position<this.formula.length;){const t=this.formula[this.position];if(t===" "){this.position++;continue}if(t==="["){this.tokens.push({type:"REQUIRED",value:"[",position:this.position}),this.position++;continue}if(t==="]"){this.tokens.push({type:"REQUIRED",value:"]",position:this.position}),this.position++;continue}if(t==="("){this.tokens.push({type:"OPTIONAL",value:"(",position:this.position}),this.position++;continue}if(t===")"){this.tokens.push({type:"OPTIONAL",value:")",position:this.position}),this.position++;continue}if(t==="?"){this.tokens.push({type:"QUANTIFIER",value:"?",position:this.position}),this.position++;continue}if(t==="*"){this.tokens.push({type:"QUANTIFIER",value:"*",position:this.position}),this.position++;continue}if(t==="|"){this.tokens.push({type:"ALTERNATIVE",value:"|",position:this.position}),this.position++;continue}if(t!==" "&&!"[]()?|*".includes(t)){let n="";for(;this.position<this.formula.length&&!"[]()?|* ".includes(this.formula[this.position]);)n+=this.formula[this.position],this.position++;this.tokens.push({type:"WORD",value:n.trim(),position:this.position-n.length});continue}this.position++}this.tokens.push({type:"EOF",value:"",position:this.position})}parse(){try{const t=[];for(this.position=0;!this.eof();){const s=this.parseSlot();s&&t.push(s)}const n=this.validateSlots(t),r=this.calculateCombinations(t);return{slots:t,rawFormula:this.formula,valid:n.length===0,errors:n,totalCombinations:r}}catch(t){return{slots:[],rawFormula:this.formula,valid:!1,errors:[` : ${t instanceof Error?t.message:" "}`],totalCombinations:0}}}parseSlot(){if(this.eof())return null;const t=this.current();let n=!0,r="1-1";if(t.type==="REQUIRED"&&t.value==="[")n=!0,this.next();else if(t.type==="OPTIONAL"&&t.value==="(")n=!1,this.next();else return this.parseWordSlot(n);const s=this.parseSlotName();if(!s)return this.raiseError("  "),null;const a=this.current();a.type==="QUANTIFIER"?(a.value==="?"?r="0-1":a.value==="*"&&(r="0-N"),this.next()):r=n?"1-1":"0-1";const o=this.current();return n&&o.type==="REQUIRED"&&o.value==="]"?(this.next(),{name:s,required:n,quantifier:r,position:t.position}):!n&&o.type==="OPTIONAL"&&o.value===")"?(this.next(),{name:s,required:n,quantifier:r,position:t.position}):(this.raiseError(` ${n?"]":")"}   ${s}`),null)}parseSlotName(){const t=[],n=this.parseWord();if(!n)return"";for(t.push(n);this.current().type==="ALTERNATIVE";){this.next();const r=this.parseWord();if(!r){this.raiseError("   |");break}t.push(r)}return t.join("|")}parseWord(){const t=this.current();return t.type==="WORD"?(this.next(),t.value):null}parseWordSlot(t){const n=this.parseWord();return n?{name:n,required:t,quantifier:t?"1-1":"0-1",position:this.position}:null}validateSlots(t){const n=[];t.filter(o=>o.required).length===0&&n.push("        []");const s=new Set;for(const o of t)s.has(o.name)&&n.push(`  : ${o.name}`),s.add(o.name);const a=t.filter(o=>!this.isKnownSlotType(o.name));if(a.length>0){const o=a.map(u=>u.name).join(", ");n.push(`  : ${o}. : BRAND, MODEL, GEO, ACTION, PRICE`)}return n}isKnownSlotType(t){const n=t.toLowerCase();return FE.some(r=>n.includes(r))||zE.some(r=>n.includes(r))||BE.some(r=>n.includes(r))||UE.some(r=>n.includes(r))||$E.some(r=>n.includes(r))}calculateCombinations(t){return t.reduce((n,r)=>{switch(r.quantifier){case"0-1":return n*2;case"0-N":return n*100;case"1-1":return n*1;default:return n}},1)}current(){return this.tokens[this.position]||{type:"EOF",value:"",position:this.position}}next(){return this.position++,this.current()}eof(){return this.current().type==="EOF"}raiseError(t){const n=this.current().position;throw new Error(`    ${n}: ${t}`)}getExamples(){const t=[];return t.push("[BRAND] [MODEL] (GEO?) (ACTION|PRICE)?"),t.push("[SERVICE] [CITY] [ACTION] *"),t.push("[PRODUCT] (COLOR|SIZE) [BRAND] (GEO?)"),t.push("[BRAND] [MODEL] [ACTION] (GEO) (PRICE)?"),t.push("[CATEGORY] [BRAND] (MODIFIER)* [ACTION] (GEO?)"),t.push("[SERVICE] (AREA) [ACTION] [PRICE_RANGE] (GUARANTEE)?"),t}static validateFormula(t){try{const r=new ul(t).parse();return{valid:r.valid,errors:r.errors}}catch(n){return{valid:!1,errors:[n instanceof Error?n.message:"  "]}}}}const Ig={getSlotType(e){const t=e.toLowerCase();return FE.some(n=>t.includes(n))?"BRAND":zE.some(n=>t.includes(n))?"MODEL":BE.some(n=>t.includes(n))?"GEO":UE.some(n=>t.includes(n))?"ACTION":$E.some(n=>t.includes(n))?"PRICE":"UNKNOWN"},hasInfoTriggers(e){const t=e.toLowerCase();return fI.some(n=>t.includes(n))},generatePreview(e){if(!e.valid||e.slots.length===0)return[" "];const t=[];for(let n=0;n<5&&n<e.totalCombinations;n++){const r=[];for(const s of e.slots){const a=Ig.getSlotType(s.name),o=Ig.getSampleValue(a);o&&(s.required||Math.random()>.3)&&r.push(o)}r.length>0&&t.push(r.join(" "))}return t},getSampleValue(e){return{BRAND:"apple",MODEL:"iphone 15",GEO:"",ACTION:"",PRICE:""}[e]||null}},ws={STRICT:"!",PHRASE:'"',PLUS:"+"},C2=["","","","","","","","","","-","-","","","","","","","","","","","","","","","","","","","","","","","",""],k2=["","","","","","","","","","","","","","","","","","","","","",""],j2=["","","","","","","","","","","","",""];class Lg{policy;constructor(t="mix"){this.policy=t}apply(t){try{const n=[],r=[],s={strict:0,phrase:0,plus:0,mix:0};return t.forEach((a,o)=>{try{const u=this.applyToMask(a);n.push(u),s[u.selectedPolicy]++}catch(u){r.push(` ${o+1}: ${u instanceof Error?u.message:" "}`)}}),{success:r.length===0,results:n,errors:r,totalGenerated:n.length,policyDistribution:s}}catch(n){return{success:!1,results:[],errors:[n instanceof Error?n.message:"  "],totalGenerated:0,policyDistribution:{strict:0,phrase:0,plus:0,mix:0}}}}applyToMask(t){const n=this.tokenizeMask(t),r=this.detectServiceWords(n),s=this.generateStrictVersion(n,r),a=this.generatePhraseVersion(n),o=this.generatePlusVersion(n,r),u=this.generateMixVersions(n,r);let d=this.policy;return this.policy==="mix"&&(d=this.selectBestPolicy(n,r)),{original:t,strict:s,phrase:a,plus:o,mix:u,selectedPolicy:d}}tokenizeMask(t){return t.toLowerCase().split(/\s+/).filter(n=>n.trim().length>0).map(n=>n.replace(/[^\w-]/gi,""))}detectServiceWords(t){const n=[],r=[],s=[],a=[];return t.forEach(o=>{C2.includes(o)?n.push(o):k2.includes(o)?r.push(o):j2.includes(o)?s.push(o):a.push(o)}),{prepositions:n,functionWords:r,infoTriggers:s,contentWords:a}}generateStrictVersion(t,n){return t.map(s=>`${ws.STRICT}${s}`).join(" ")}generatePhraseVersion(t){const n=t.join(" ");return`${ws.PHRASE}${n}${ws.PHRASE}`}generatePlusVersion(t,n){return t.map(r=>n.prepositions.includes(r)||n.functionWords.includes(r)?`${ws.PLUS}${r}`:r).join(" ")}generateMixVersions(t,n){const r=[],s=t.map(u=>n.contentWords.includes(u)?`${ws.STRICT}${u}`:n.prepositions.includes(u)?`${ws.PLUS}${u}`:u).join(" ");r.push(s);const a=n.contentWords;if(a.length>=2){const u=t.map(d=>a.includes(d)?`${ws.STRICT}${d}`:d).join(" ");r.push(u)}const o=t.map(u=>`${ws.STRICT}${u}`).join(" ");return r.push(o),r}selectBestPolicy(t,n){const{contentWords:r,prepositions:s,infoTriggers:a}=n;return a.length>0?"strict":s.length>1?"plus":r.length>=3?"strict":"phrase"}setPolicy(t){this.policy=t}getPolicy(){return this.policy}static getAvailablePolicies(){return[{name:"strict",description:"    ",symbol:ws.STRICT,example:" !iphone !15 !",priority:1,applicable:!0},{name:"phrase",description:"   ",symbol:ws.PHRASE,example:'" iphone 15 "',priority:2,applicable:!0},{name:"plus",description:"   ",symbol:ws.PLUS,example:" + + iphone 15 ",priority:3,applicable:!0},{name:"mix",description:"   ",symbol:"",example:"    ",priority:4,applicable:!0}]}static analyzeMask(t){let n=0,r=0,s=0;t.forEach(f=>{const p=f.toLowerCase().split(/\s+/).filter(v=>v.length>0),g=this.detectServiceWordsSimple(p);n+=p.length,r+=g.serviceCount,s+=g.contentCount});const a=n>0?r/n:0,o=n>0?s/n:0;let u,d;return a>.4?(u="plus",d=`    (${(a*100).toFixed(1)}%).   .`):o>.6?(u="strict",d=`    (${(o*100).toFixed(1)}%).   .`):(u="phrase",d=" .   ."),{totalMasks:t.length,avgWords:n/t.length,serviceWordsRatio:a,contentWordsRatio:o,recommendedPolicy:u,reasoning:d}}static detectServiceWordsSimple(t){let n=0,r=0;return t.forEach(s=>{C2.includes(s)||k2.includes(s)||j2.includes(s)?n++:r++}),{serviceCount:n,contentCount:r}}static exportMasks(t,n="csv"){if(n==="csv"){const r=[""," ",""," "," "],s=t.map(o=>[o.original,o.strict,o.phrase,o.plus,o.selectedPolicy]);return[r,...s].map(o=>o.map(u=>`"${u.replace(/"/g,'""')}"`).join(",")).join(`
`)}else return t.map(r=>[`: ${r.original}`,` : ${r.strict}`,`: ${r.phrase}`,` : ${r.plus}`,`: ${r.selectedPolicy}`,""].join(`
`)).join(`
`)}}const hI={theta1:.4,theta2:.3,theta3:.2,theta4:.1,infoPenalty:.2},pI=["","","","","",""," ","","","","",""," "," "," "," "," "],A2=["","","","","","","","","","",""," "," "," ","","","","","",""," "],mI=["apple","samsung","xiaomi","huawei","oneplus","asus","acer","lenovo","hp","dell","canon","nikon","sony","lg","bosch","siemens","samsung","apple","google","microsoft","intel","amd","nvidia","amd"],gI=["iphone","galaxy","note","pro","plus","max","ultra","mini","air","macbook","ipad","watch","airpods","smartwatch","tablet","smartphone","","","","","","",""],xI=["","","-","","","","",""," ","","","","","","","","",""],vI=["","","","","","","","","","","","","","","","","",""," "];class Uh{weights;constructor(t){this.weights={...hI,...t}}scoreMasks(t,n=.6){const r=t.map(o=>this.scoreSingleMask(o));r.sort((o,u)=>u.score-o.score);const s=this.calculateStatistics(r),a=this.generateRecommendations(r,n);return{masks:r,statistics:s,threshold:n,recommendations:a}}scoreSingleMask(t){const n=this.tokenize(t),r=this.analyzeMask(t,n),s=this.calculateActionScore(n,r),a=this.calculateBrandModelScore(n,r),o=this.calculateLengthScore(n),u=this.calculateGeoScore(n,r),d=this.calculateInfoPenalty(n,r),f=Math.max(0,this.weights.theta1*s+this.weights.theta2*a+this.weights.theta3*o+this.weights.theta4*u-this.weights.infoPenalty*d),p=this.classifyMask(f,r),g=this.calculateConfidence(r);return{original:t,score:Math.round(f*1e3)/1e3,components:{actionScore:s,brandModelScore:a,lengthScore:o,geoScore:u,infoPenalty:d},breakdown:r,classification:p,confidence:g}}tokenize(t){return t.toLowerCase().split(/\s+/).map(n=>n.replace(/[^\w-]/gi,"")).filter(n=>n.length>0)}analyzeMask(t,n){t.toLowerCase();const r=n.filter(p=>pI.some(g=>p.includes(g)||g.includes(p))),s=n.filter(p=>A2.some(g=>p.includes(g)||g.includes(p))),a=n.filter(p=>mI.some(g=>p.includes(g)||g.includes(p))),o=n.filter(p=>gI.some(g=>p.includes(g)||g.includes(p))),u=n.filter(p=>xI.some(g=>p.includes(g)||g.includes(p))),d=n.filter(p=>vI.some(g=>p.includes(g)||g.includes(p))),f=[...r,...s,...a,...o].filter((p,g,v)=>v.indexOf(p)===g);return{actionTokens:[...new Set([...r,...s])],brandModelTokens:[...new Set([...a,...o])],geoTokens:u,infoTriggers:d,length:n.length,commercialIndicators:f}}calculateActionScore(t,n){if(n.actionTokens.length===0)return 0;let r=.7;return r+=Math.min(n.actionTokens.length*.1,.3),n.actionTokens.some(a=>A2.some(o=>a.includes(o)))&&(r+=.2),Math.min(r,1)}calculateBrandModelScore(t,n){if(n.brandModelTokens.length===0)return 0;const r=n.brandModelTokens.length/n.length;let s=r;return r<.3?s=r/.3:r>.7&&(s=(1-r)/.3),Math.max(0,Math.min(s,1))}calculateLengthScore(t){const n=t.length;return n<=5?1:n<=8?.8:n<=12?.5:.2}calculateGeoScore(t,n){if(n.geoTokens.length===0)return 0;let r=.6;return n.geoTokens.some(s=>["","","-"].includes(s))&&(r+=.4),Math.min(r,1)}calculateInfoPenalty(t,n){return n.infoTriggers.length===0?0:Math.min(n.infoTriggers.length*.3,1)}classifyMask(t,n){return n.infoTriggers.length>0&&t<.4?"INFO_QUERY":t>=.7?"HIGH_COMMERCIAL":t>=.5?"MEDIUM_COMMERCIAL":"LOW_COMMERCIAL"}calculateConfidence(t){let n=.5;return t.commercialIndicators.length>0&&(n+=.2),t.brandModelTokens.length>0&&(n+=.1),t.geoTokens.length>0&&(n+=.1),t.infoTriggers.length>0&&(n-=.2),Math.max(.1,Math.min(n,1))}calculateStatistics(t){const n=t.length,r=t.reduce((f,p)=>f+p.score,0)/n,s={high:t.filter(f=>f.classification==="HIGH_COMMERCIAL").length,medium:t.filter(f=>f.classification==="MEDIUM_COMMERCIAL").length,low:t.filter(f=>f.classification==="LOW_COMMERCIAL").length,info:t.filter(f=>f.classification==="INFO_QUERY").length},a=t.filter(f=>f.classification==="HIGH_COMMERCIAL").slice(0,10),o=t.reduce((f,p)=>f+p.breakdown.actionTokens.length,0),u=t.reduce((f,p)=>f+p.breakdown.brandModelTokens.length,0),d=t.reduce((f,p)=>f+p.breakdown.geoTokens.length,0);return{totalMasks:n,averageScore:Math.round(r*1e3)/1e3,distribution:s,topCommercialMasks:a,totalActionTokens:o,totalBrandModelTokens:u,totalGeoTokens:d}}generateRecommendations(t,n){const r=[],s=t.filter(p=>p.classification==="HIGH_COMMERCIAL").length,a=t.length,o=s/a;o>.3?r.push(`  : ${Math.round(o*100)}% `):o>.1?r.push(`  : ${Math.round(o*100)}% `):r.push(`  :  ${Math.round(o*100)}% `);const u=t.filter(p=>p.classification==="INFO_QUERY").length;u>a*.2&&r.push(`   (${u}) - ,     `);const d=t.reduce((p,g)=>p+g.breakdown.length,0)/a;d>8&&r.push(`   (${d.toFixed(1)}   ) -  `);const f=t.slice(0,5);return r.push(` : ${f.map(p=>p.original).join(", ")}`),r}filterByThreshold(t,n){return t.filter(r=>r.score>=n)}exportScoringResult(t,n="csv"){if(n==="json")return JSON.stringify(t,null,2);const r=["","","","ACTION_","BRAND_MODEL_","GEO_","INFO_","","ACTION_","BRAND_MODEL_","_","GEO_","INFO_",""],s=t.masks.map(a=>[`"${a.original.replace(/"/g,'""')}"`,a.score.toString(),a.classification,`"${a.breakdown.actionTokens.join(", ")}"`,`"${a.breakdown.brandModelTokens.join(", ")}"`,`"${a.breakdown.geoTokens.join(", ")}"`,`"${a.breakdown.infoTriggers.join(", ")}"`,a.breakdown.length.toString(),a.components.actionScore.toString(),a.components.brandModelScore.toString(),a.components.lengthScore.toString(),a.components.geoScore.toString(),a.components.infoPenalty.toString(),a.confidence.toString()]);return[r.join(","),...s.map(a=>a.join(","))].join(`
`)}setWeights(t){this.weights={...this.weights,...t}}getWeights(){return{...this.weights}}analyzeWeightsEffectiveness(t,n){const r=this.scoreMasks(t),s={theta1:.3,theta2:.3,theta3:.2,theta4:.2,infoPenalty:.15},o=new Uh(s).scoreMasks(t),u=r.statistics.distribution.high/r.statistics.totalMasks,d=o.statistics.distribution.high/o.statistics.totalMasks;let f="";return d>u*1.1?f="         ":u>d*1.1?f="       ":f="   ,    ",{currentResult:r,alternativeResult:o,recommendation:f}}}class R2{profiles=new Map;customWords=new Set;constructor(){this.loadIndustryProfiles()}async loadIndustryProfiles(){try{const t=await this.loadProfile("ecommerce"),n=await this.loadProfile("services"),r=await this.loadProfile("medical");this.profiles.set("ecommerce",t),this.profiles.set("services",n),this.profiles.set("medical",r)}catch(t){console.error("  :",t)}}async loadProfile(t){return{ecommerce:{industry:"ecommerce",name:"E-commerce",description:"-  -",global:{category:["","","","",""],commercial:["","","/",""],competitors:["aliexpress","wb","ozon","avito"],irrelevant:[" ","  "]},thematic:{electronics:["","","",""],clothing:["","","",""],home:["","","",""]},contexts:{price_queries:["","","",""],comparison:["","","",""],location:["","",""]},auto_detection:{keywords:["","-","",""],brands:["samsung","apple","xiaomi","huawei"],categories:["","","",""]}},services:{industry:"services",name:"",description:",  ",global:{category:["",""," ",""],commercial:["",""," "],competitors:["olx","avito","youdo"],irrelevant:["",""," "]},thematic:{construction:["","",""],repair:["","",""],cleaning:[""," ",""]},contexts:{urgency:["","",""],comparison:[" "," ",""],location:[""," "," "]},auto_detection:{keywords:["","","",""],service_types:["","","",""],locations:["  ","","",""]}},medical:{industry:"medical",name:"",description:"   ",global:{category:["","","",""],commercial:["","",""],competitors:["","",""],irrelevant:[""," "]},thematic:{medications:["","",""],equipment:["","",""],diagnostics:["","","",""]},contexts:{urgency:["",""," "],quality:[" "," "],accessibility:[" "," ",""]},auto_detection:{keywords:["","","",""],specialties:["","",""],locations:["","",""]}}}[t]}analyzeXMind(t){if(!t)return{detectedIndustry:null,confidence:0,keywords:[],brands:[],categories:[],relevantBranches:[],reasoning:"XMind  "};const n=this.extractAllText(t),r=this.extractKeywords(n),s=this.extractBrands(n),a=this.extractCategories(n),o=this.findRelevantBranches(t,r),u=this.calculateIndustryScores(r,s,a),d=u.length>0?u[0].industry:null,f=d?u[0].score:0,p=d?`   : ${o.join(", ")}`:"   -  ";return{detectedIndustry:d,confidence:f,keywords:r,brands:s,categories:a,relevantBranches:o,reasoning:p}}extractAllText(t){const n=[t.title.toLowerCase()];return(t.labels||[]).forEach(r=>n.push(r.toLowerCase())),t.children&&t.children.forEach(r=>{n.push(...this.extractAllText(r))}),n}extractKeywords(t){const n=/\b(|-||||||||||)\b/g,r=new Set;return t.forEach(s=>{const a=s.match(n);a&&a.forEach(o=>r.add(o))}),Array.from(r)}extractBrands(t){const n=["samsung","apple","xiaomi","huawei","oneplus","asus","acer","lenovo"],r=new Set;return t.forEach(s=>{n.forEach(a=>{s.includes(a)&&r.add(a)})}),Array.from(r)}extractCategories(t){const n=["","","","","",""," ","",""],r=new Set;return t.forEach(s=>{n.forEach(a=>{s.includes(a)&&r.add(a)})}),Array.from(r)}findRelevantBranches(t,n){const r=[],s=a=>{const o=a.title.toLowerCase();n.some(u=>o.includes(u))&&r.push(a.title),a.children?.forEach(s)};return s(t),r}calculateIndustryScores(t,n,r){const s=[];for(const[a,o]of this.profiles){let u=0;t.forEach(d=>{o.auto_detection.keywords.some(f=>d.includes(f)||f.includes(d))&&(u+=1)}),n.forEach(d=>{o.auto_detection.brands?.some(f=>d.includes(f))&&(u+=.5)}),r.forEach(d=>{o.auto_detection.categories?.some(f=>d.includes(f)||f.includes(d))&&(u+=.3)}),u>0&&s.push({industry:a,score:u})}return s.sort((a,o)=>o.score-a.score)}generateNegativeWords(t,n=[]){const r=this.analyzeXMind(t),s={global:[],thematic:[],contextual:[],totalWords:0,analysis:r,recommendations:[]};if(r.detectedIndustry){const a=this.profiles.get(r.detectedIndustry);a&&(s.global=this.buildGlobalNegatives(a,r),s.thematic=this.buildThematicNegatives(a,r),s.contextual=this.buildContextualNegatives(a,r))}return this.addCustomNegatives(s,n),s.totalWords=[...s.global,...s.thematic,...s.contextual].reduce((a,o)=>a+o.words.length,0),s.recommendations=this.generateRecommendations(r,s),s}buildGlobalNegatives(t,n){const r=[];for(const[s,a]of Object.entries(t.global))r.push({type:"global",industry:t.industry,words:this.normalizeWords(a),description:` -  : ${s}`,confidence:.9,autoGenerated:!0,source:"profile"});return r}buildThematicNegatives(t,n){const r=[];for(const[s,a]of Object.entries(t.thematic)){const o=this.calculateThemeRelevance(s,n);o>.3&&r.push({type:"thematic",industry:t.industry,words:this.normalizeWords(a),description:` - : ${s}`,confidence:o,autoGenerated:!0,source:"profile"})}return r}buildContextualNegatives(t,n){const r=[];for(const[s,a]of Object.entries(t.contexts))r.push({type:"contextual",industry:t.industry,words:this.normalizeWords(a),description:` - : ${s}`,confidence:.7,autoGenerated:!0,source:"profile"});return r}addCustomNegatives(t,n){if(n.length===0)return;const r=this.normalizeWords(n);t.global.push({type:"global",industry:"ecommerce",words:r,description:" -",confidence:1,autoGenerated:!1,source:"manual"})}calculateThemeRelevance(t,n){const s={electronics:["","","",""],clothing:["","","",""],home:["","","",""],construction:["","",""],repair:["","",""],medications:["","",""],equipment:["","",""]}[t]||[],a=n.keywords.filter(o=>s.some(u=>o.includes(u)||u.includes(o))).length;return Math.min(a/s.length,1)}normalizeWords(t){return t.map(n=>n.trim().toLowerCase()).filter(n=>n.length>0).filter((n,r,s)=>s.indexOf(n)===r)}generateRecommendations(t,n){const r=[];return t.detectedIndustry?r.push(` : ${this.profiles.get(t.detectedIndustry)?.name}`):r.push("   -   -"),t.confidence<.5&&r.push("     -   "),n.totalWords<10&&r.push(" - - ,     "),r.push(`  -: ${n.totalWords}`),r}exportNegativeWords(t,n="csv"){const r=[...t.global,...t.thematic,...t.contextual].flatMap(a=>a.words),s=Array.from(new Set(r));return n==="csv"?`negative_word
${s.map(a=>`"${a.replace(/"/g,'""')}"`).join(`
`)}`:s.join(`
`)}}class yI{geoRules=new Map;brandRules=new Map;constructor(){this.initializeNormalizationRules()}initializeNormalizationRules(){this.addGeoRule("",["","","."],1,{synonym:[".","."," ",""],transliteration:[],abbreviation:[""],full:[""]}),this.addGeoRule("",["","-","",""],1,{synonym:["","",""],transliteration:[],abbreviation:["",""],full:["-"]}),this.addGeoRule("",["",""],1,{synonym:["",""],transliteration:[],abbreviation:[""],full:[""]}),this.addGeoRule("",["",""],.9,{synonym:["","",""],transliteration:[],abbreviation:["",""],full:[""]}),this.addGeoRule("",["",""],1,{synonym:["",""],transliteration:[],abbreviation:[],full:[""]}),this.addGeoRule(" ",[" ",""],.9,{synonym:[" ","",""],transliteration:[],abbreviation:[""],full:[" "]}),this.addBrandRule("xiaomi",["xiaomi","","",""],1,{synonym:[],transliteration:["","",""],abbreviation:["xiaomi"],full:["xiaomi"]}),this.addBrandRule("samsung",["samsung","samsung"],1,{synonym:[],transliteration:[""],abbreviation:[],full:["samsung"]}),this.addBrandRule("apple",["apple","apple"],1,{synonym:[],transliteration:[""],abbreviation:[],full:["apple"]}),this.addBrandRule("huawei",["huawei","",""],1,{synonym:[],transliteration:[""],abbreviation:[],full:["huawei"]}),this.addBrandRule("asus",["asus",""],1,{synonym:[],transliteration:[""],abbreviation:[],full:["asus"]}),this.addBrandRule("acer",["acer",""],1,{synonym:[],transliteration:[""],abbreviation:[],full:["acer"]}),this.addBrandRule("lenovo",["lenovo",""],1,{synonym:[],transliteration:[""],abbreviation:[],full:["lenovo"]})}addGeoRule(t,n,r,s){const a={original:t,normalized:n,confidence:r,category:"geo",variants:s};this.geoRules.set(t.toLowerCase(),a)}addBrandRule(t,n,r,s){const a={original:t,normalized:n,confidence:r,category:"brand",variants:s};this.brandRules.set(t.toLowerCase(),a)}normalize(t){const n=this.tokenize(t),r=[...n],s=[],a=[];for(let f=0;f<n.length;f++){const p=n[f].toLowerCase(),g=this.findGeoRule(p);g&&(s.push(g),r[f]=g.normalized[0]);const v=this.findBrandRule(p);v&&(a.push(v),r[f]=v.normalized[0])}const o=this.generateVariants(s,a),u=this.calculateConfidence(s,a);return{original:t,normalized:r,rules:[...s,...a],categories:{geo:s,brand:a},variants:o,confidence:u,recommendations:this.generateRecommendations(s,a)}}bulkNormalize(t){const n=t.map(u=>this.normalize(u)),r={totalMasks:t.length,withGeoNormalization:n.filter(u=>u.categories.geo.length>0).length,withBrandNormalization:n.filter(u=>u.categories.brand.length>0).length,withTransliteration:n.filter(u=>u.variants.transliterations.length>0).length,averageVariants:0,totalUniqueVariants:0},s=new Set;let a=0;n.forEach(u=>{a+=u.variants.geographic.length+u.variants.brandVariants.length,u.variants.geographic.forEach(d=>s.add(d)),u.variants.brandVariants.forEach(d=>s.add(d)),u.variants.transliterations.forEach(d=>s.add(d))}),r.averageVariants=a/t.length,r.totalUniqueVariants=s.size;const o=this.calculateStatistics(n);return{results:n,summary:r,statistics:o}}tokenize(t){return t.toLowerCase().split(/\s+/).map(n=>n.replace(/[^\w-]/gi,"")).filter(n=>n.length>0)}findGeoRule(t){if(this.geoRules.has(t))return this.geoRules.get(t);for(const[n,r]of this.geoRules)if(t.includes(n)||n.includes(t))return r;return null}findBrandRule(t){if(this.brandRules.has(t))return this.brandRules.get(t);for(const[n,r]of this.brandRules)if(t.includes(n)||n.includes(t))return r;return null}generateVariants(t,n){const r=[],s=[],a=[];t.forEach(f=>{r.push(...f.variants.synonym,...f.variants.abbreviation,...f.variants.full),a.push(...f.variants.transliteration)}),n.forEach(f=>{s.push(...f.variants.synonym,...f.variants.abbreviation,...f.variants.full),a.push(...f.variants.transliteration)});const o=[...new Set(r)],u=[...new Set(s)],d=[...new Set(a)];return{geographic:o,brandVariants:u,transliterations:d}}calculateConfidence(t,n){let r=.5;const s=[...t,...n];if(s.length===0)return 0;r+=s.length*.2;const a=s.reduce((f,p)=>f+p.confidence,0)/s.length;r+=a*.3;const o=new Set(t.map(f=>f.original)),u=new Set(n.map(f=>f.original));let d=0;return o.forEach(f=>{u.has(f)&&d++}),r-=d*.1,Math.max(0,Math.min(r,1))}generateRecommendations(t,n){const r=[];if(t.length>0){const s=t.map(a=>a.original).join(", ");r.push(`  : ${s}`)}if(n.length>0){const s=n.map(a=>a.original).join(", ");r.push(`  : ${s}`)}return t.length===0&&n.length===0&&r.push("     "),r}calculateStatistics(t){const n=new Map,r=new Map,s=new Map;t.forEach(d=>{d.categories.geo.forEach(f=>{n.set(f.original,(n.get(f.original)||0)+1)}),d.categories.brand.forEach(f=>{r.set(f.original,(r.get(f.original)||0)+1)}),d.variants.transliterations.forEach(f=>{const p=s.get(f)||[];p.push(f),s.set(f,p)})});const a=Array.from(n.entries()).map(([d,f])=>({name:d,variants:f})).sort((d,f)=>f.variants-d.variants).slice(0,10),o=Array.from(r.entries()).map(([d,f])=>({name:d,variants:f})).sort((d,f)=>f.variants-d.variants).slice(0,10),u=Array.from(s.entries()).map(([d,f])=>({original:d,variants:f})).sort((d,f)=>f.variants.length-d.variants.length).slice(0,10);return{mostCommonGeo:a,mostCommonBrands:o,topTransliterations:u}}addCustomRule(t,n,r,s=.8){const o={original:n,normalized:r,confidence:s,category:t,variants:{synonym:[],transliteration:[],abbreviation:[],full:r}};t==="geo"?this.geoRules.set(n.toLowerCase(),o):this.brandRules.set(n.toLowerCase(),o)}removeRule(t,n){const r=n.toLowerCase();return t==="geo"?this.geoRules.delete(r):this.brandRules.delete(r)}exportRules(t="json"){if(t==="json"){const s={geo:Object.fromEntries(this.geoRules),brand:Object.fromEntries(this.brandRules)};return JSON.stringify(s,null,2)}const n=["","","",""],r=[];return this.geoRules.forEach(s=>{r.push(["geo",s.original,s.normalized.join("|"),s.confidence.toString()].join(","))}),this.brandRules.forEach(s=>{r.push(["brand",s.original,s.normalized.join("|"),s.confidence.toString()].join(","))}),[n.join(","),...r].join(`
`)}analyzeEffectiveness(t){const n=this.bulkNormalize(t),r=n.results.map(a=>({mask:a.original,variants:a.variants.geographic.length+a.variants.brandVariants.length+a.variants.transliterations.length}));r.sort((a,o)=>o.variants-a.variants);const s=[`  : ${n.summary.totalMasks}`,`  : ${n.summary.averageVariants.toFixed(1)}`,` : ${n.summary.totalUniqueVariants}`,`   : ${n.summary.withGeoNormalization}`,`   : ${n.summary.withBrandNormalization}`];return{originalCount:t.length,normalizedCount:n.summary.totalUniqueVariants,expansionRatio:n.summary.totalUniqueVariants/t.length,topImprovements:r.slice(0,10),recommendations:s}}}class wI{config;progress;isPaused=!1;isCancelled=!1;pausePromise;pauseResolve;dbPath="masks_generation.db";parser;scorer;normalizer;operatorPolicy;maskCache=new Set;scoreCache=new Map;normalizationCache=new Map;constructor(t){this.config=t,this.progress={total:0,generated:0,scored:0,normalized:0,operated:0,deduplicated:0,currentBatch:0,totalBatches:0,isPaused:!1,isCompleted:!1,speed:0},this.parser=new ul(t.formula),this.scorer=new Uh,this.normalizer=new yI,this.operatorPolicy=new Lg(t.operatorPolicy),this.validateConfig()}validateConfig(){const t=this.parser.parse();if(!t.valid)throw new Error(` : ${t.errors.join(", ")}`);if(this.config.batchSize>1e4||this.config.batchSize<100)throw new Error("     100  10000");if(this.config.maxMasks>1e6)throw new Error("      1,000,000")}async initDatabase(){if("indexedDB"in window){const t=indexedDB.open("masksGenerator",1);t.onupgradeneeded=n=>{const r=n.target.result;r.objectStoreNames.contains("masks")||r.createObjectStore("masks",{keyPath:"id"}),r.objectStoreNames.contains("meta")||r.createObjectStore("meta",{keyPath:"key"})}}}async generate(){try{await this.initDatabase();const t=this.parser.parse();if(!t.valid)throw new Error(`  : ${t.errors.join(", ")}`);const n=this.calculateTotalMasks(t);this.progress.total=Math.min(n,this.config.maxMasks),this.progress.totalBatches=Math.ceil(this.progress.total/this.config.batchSize);const r=Date.now(),s=[],a=[];let o=0,u=r;for(let f=0;f<this.progress.totalBatches;f++){if(this.isCancelled)throw new Error("  ");this.progress.currentBatch=f+1;const p=await this.generateBatch(t,f);for(const g of p){if(this.isPaused&&await this.waitForResume(),this.config.enableDeduplication&&this.maskCache.has(g.mask)){this.progress.deduplicated++;continue}if(this.config.enableDeduplication&&this.maskCache.add(g.mask),this.config.enableScoring&&this.config.scoringThreshold>0){const x=this.scorer.scoreMasks([g.mask],this.config.scoringThreshold);if(x.masks.length>0&&x.masks[0].score>=this.config.scoringThreshold)g.score=x.masks[0].score,g.classification=x.masks[0].classification,this.progress.scored++;else continue}if(this.config.enableNormalization){const x=this.normalizer.normalize(g.mask);(x.variants.geographic.length>0||x.variants.brandVariants.length>0)&&(g.normalized=x.normalized,g.variants=[...x.variants.geographic,...x.variants.brandVariants,...x.variants.transliterations],this.progress.normalized++)}if(this.config.enableOperators){const x=this.operatorPolicy.apply([g.mask]);x.results.length>0&&(g.operators={strict:x.results[0].strict,phrase:x.results[0].phrase,plus:x.results[0].plus,mix:x.results[0].mix},this.progress.operated++)}s.push(g),this.progress.generated++,a.length<1e4&&a.push(g),o++;const v=Date.now();if(v-u>=1e3){this.progress.speed=o,o=0,u=v;const x=v-r,w=this.progress.generated/this.progress.total,y=x/w;this.progress.estimatedTimeRemaining=y-x}this.progress.generated%1e3===0&&await new Promise(x=>setTimeout(x,0))}}return this.progress.isCompleted=!0,{masks:s,totalGenerated:this.progress.generated,totalScored:this.progress.scored,totalNormalized:this.progress.normalized,totalWithOperators:this.progress.operated,totalDeduplicated:this.progress.deduplicated,progress:{...this.progress},statistics:this.calculateStatistics(s),preview:a,databaseInfo:{fileSize:this.estimateDatabaseSize(),recordCount:s.length,lastUpdate:Date.now()}}}catch(t){throw this.progress.error=t instanceof Error?t.message:" ",this.progress.isCompleted=!0,t}}async generateBatch(t,n){const r=[],s=n*this.config.batchSize,a=Math.min(s+this.config.batchSize,this.progress.total),o=this.generateCombinations(t,s,a-s);for(let u=0;u<o.length;u++){const d=o[u],f=this.combineMask(d);r.push({id:`${n}_${u}_${Date.now()}`,mask:f,timestamp:Date.now(),source:"generated"})}return r}calculateTotalMasks(t){let n=1;for(const r of t.slots){const a=this.getSlotData(r.name).length||1;switch(r.quantifier){case"0-1":n*=a+1;break;case"0-N":n*=Math.min(a*10,100);break;case"1-1":n*=a;break}}return n}getSlotData(t){const n=t.toLowerCase();for(const[r,s]of Object.entries(this.config.data))if(n.includes(r.toLowerCase())||r.toLowerCase().includes(n))return s;if(this.config.data[t])return this.config.data[t];for(const[r,s]of Object.entries(this.config.data))if(r.toLowerCase().includes(n))return s;return[]}generateCombinations(t,n,r){const s=[];for(let a=0;a<r;a++){const o={};for(const u of t.slots){const d=this.getSlotData(u.name);if(d.length>0){const f=Math.floor(Math.random()*d.length);o[u.name]=d[f]}else o[u.name]=null}s.push(o)}return s}combineMask(t){const n=[];for(const[r,s]of Object.entries(t))s&&s.trim().length>0&&n.push(s);return n.join(" ").trim()}waitForResume(){return this.progress.isPaused=!0,this.pausePromise||(this.pausePromise=new Promise(t=>{this.pauseResolve=t})),this.pausePromise}pause(){this.isPaused=!0,this.progress.isPaused=!0}resume(){this.isPaused=!1,this.progress.isPaused=!1,this.pauseResolve&&(this.pauseResolve(),this.pausePromise=void 0,this.pauseResolve=void 0)}cancel(){this.isCancelled=!0,this.isPaused=!1}getProgress(){return{...this.progress}}calculateStatistics(t){const n=t.filter(p=>p.score!==void 0).map(p=>p.score)||[],r=n.length>0?n.reduce((p,g)=>p+g,0)/n.length:0,s=t.filter(p=>p.score!==void 0).sort((p,g)=>(g.score||0)-(p.score||0)).slice(0,10),a={};t.forEach(p=>{p.classification&&(a[p.classification]=(a[p.classification]||0)+1)});const o={strict:0,phrase:0,plus:0,mix:0};t.forEach(p=>{p.operators&&o[this.config.operatorPolicy]++});let u=0,d=0,f=0;return t.forEach(p=>{p.variants&&p.variants.forEach(g=>{g.includes("")||g.includes("")?u++:g.includes("apple")||g.includes("samsung")?d++:f++})}),{averageScore:r,topScoringMasks:s,distributionByClassification:a,operatorDistribution:o,normalizationStats:{geoVariants:u,brandVariants:d,transliterations:f}}}estimateDatabaseSize(){return this.progress.generated*100}exportResult(t,n="csv"){if(n==="json")return JSON.stringify(t,null,2);if(n==="txt")return t.masks.map(a=>a.mask).join(`
`);const r=["ID","","","","_","","_","","",""],s=t.masks.map(a=>[a.id,`"${a.mask.replace(/"/g,'""')}"`,a.score?.toString()||"",a.classification||"",`"${a.operators?.strict||""}"`,`"${a.operators?.phrase||""}"`,`"${a.operators?.plus||""}"`,`"${a.normalized?.join(" ")||""}"`,`"${a.variants?.join("|")||""}"`,a.source]);return[r.join(","),...s.map(a=>a.join(","))].join(`
`)}getPerformanceStats(){const t=Date.now()-this.startTime||1e3,n=this.progress.generated/(t/1e3);return{masksPerSecond:Math.round(n),memoryUsage:performance.memory?.usedJSHeapSize||0,cacheHitRate:.8,averageProcessingTime:.1}}}const bI=({formula:e,onChange:t,onValidation:n})=>{const[r,s]=P.useState({isValid:!0,errors:[],preview:[]}),a=Te.useMemo(()=>ul.prototype.getExamples.call(new ul("")),[]);return P.useEffect(()=>{const o=ul.validateFormula(e),u=Ig.generatePreview({valid:o.valid,errors:o.errors,slots:[],rawFormula:e,totalCombinations:0});s({isValid:o.valid,errors:o.errors,preview:u}),n(o.valid,o.errors,u)},[e,n]),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:" "}),c.jsx("textarea",{className:"w-full p-3 border rounded-lg font-mono text-sm",rows:2,value:e,onChange:o=>t(o.target.value),placeholder:"[BRAND] [MODEL] (GEO?) (ACTION|PRICE)?"}),r.errors.length>0&&c.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:[c.jsx("b",{children:":"}),c.jsx("ul",{className:"list-disc list-inside",children:r.errors.map((o,u)=>c.jsx("li",{children:o},u))})]}),c.jsxs("div",{className:"mt-3",children:[c.jsx("label",{className:"block text-xs font-medium mb-2",children:" :"}),c.jsx("div",{className:"space-y-1",children:a.map((o,u)=>c.jsx("button",{onClick:()=>t(o),className:"block w-full text-left p-2 text-xs bg-gray-50 hover:bg-gray-100 rounded border",children:o},u))})]}),r.preview.length>0&&r.isValid&&c.jsxs("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded",children:[c.jsx("label",{className:"block text-xs font-medium mb-2",children:" :"}),c.jsx("div",{className:"text-xs space-y-1",children:r.preview.map((o,u)=>c.jsx("div",{className:"text-green-700",children:o},u))})]})]})},_I=({policy:e,onChange:t,masks:n})=>{const[r,s]=P.useState(null);P.useEffect(()=>{if(n.length>0){const o=Lg.analyzeMask(n);s(o)}},[n]);const a=Lg.getAvailablePolicies();return c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium mb-3",children:" "}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.map(o=>c.jsxs("label",{className:"flex items-start space-x-2 p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"operators",value:o.name,checked:e===o.name,onChange:u=>t(u.target.value),className:"mt-1"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-sm",children:o.name}),c.jsx("div",{className:"text-xs text-gray-600",children:o.description}),c.jsx("div",{className:"text-xs font-mono text-blue-600 mt-1",children:o.example})]})]},o.name))}),r&&c.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded",children:[c.jsxs("div",{className:"text-sm font-medium mb-2",children:[": ",r.recommendedPolicy]}),c.jsx("div",{className:"text-xs text-gray-600",children:r.reasoning})]})]})},SI=({threshold:e,onChange:t,weights:n,onWeightsChange:r})=>{const[s]=P.useState(()=>new Uh),a={high:[" iphone 15  "," samsung galaxy s24 "," xiaomi redmi note 13 "],medium:[" apple "," samsung "," xiaomi  "],low:["iphone",""," "],info:["  iphone","  "," samsung galaxy"]};return c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium mb-3",children:"  "}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("label",{className:"block text-xs font-medium mb-2",children:[" : ",e.toFixed(2)]}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:e,onChange:o=>t(parseFloat(o.target.value)),className:"w-full"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-2",children:"ACTION/PRICE (1)"}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n.theta1,onChange:o=>r({...n,theta1:parseFloat(o.target.value)}),className:"w-full"}),c.jsx("div",{className:"text-xs text-gray-600",children:n.theta1})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-2",children:"BRAND/MODEL (2)"}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n.theta2,onChange:o=>r({...n,theta2:parseFloat(o.target.value)}),className:"w-full"}),c.jsx("div",{className:"text-xs text-gray-600",children:n.theta2})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-2",children:" (3)"}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n.theta3,onChange:o=>r({...n,theta3:parseFloat(o.target.value)}),className:"w-full"}),c.jsx("div",{className:"text-xs text-gray-600",children:n.theta3})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-2",children:"GEO (4)"}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n.theta4,onChange:o=>r({...n,theta4:parseFloat(o.target.value)}),className:"w-full"}),c.jsx("div",{className:"text-xs text-gray-600",children:n.theta4})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"block text-xs font-medium mb-2",children:"   "}),c.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:Object.entries(a).map(([o,u])=>c.jsxs("div",{className:"text-xs",children:[c.jsxs("div",{className:"font-medium text-gray-700",children:[o,":"]}),u.slice(0,2).map((d,f)=>c.jsx("div",{className:"ml-2 text-gray-600",children:d},f))]},o))})]})]})},EI=({xmindData:e,onExport:t})=>{const[n,r]=P.useState("[BRAND] [MODEL] (GEO?) (ACTION|PRICE)?"),[s,a]=P.useState("mix"),[o,u]=P.useState(.6),[d,f]=P.useState({theta1:.4,theta2:.3,theta3:.2,theta4:.1}),[p,g]=P.useState(!0),[v,x]=P.useState([]),[w,y]=P.useState([]),_=P.useCallback((R,U,B)=>{g(R),x(U),y(B)},[]),[S,N]=P.useState({BRAND:["apple","samsung","xiaomi"],MODEL:["iphone 15","galaxy s24","redmi note 13"],GEO:["","",""],ACTION:["",""],PRICE:["",""]}),[T,C]=P.useState(!1),[A,z]=P.useState(null),[M,j]=P.useState(null),[O,Y]=P.useState(null),[J,F]=P.useState([]),[re,k]=P.useState("ecommerce");P.useEffect(()=>{if(e){const U=new R2().analyzeXMind(e);if(U.detectedIndustry){k(U.detectedIndustry);const B=V(e);N(G=>({...G,...B}))}}},[e]);const V=P.useCallback(R=>{const U=ge=>{const me=[ge.title];return ge.children?.forEach(ve=>{me.push(...U(ve))}),me},B=U(R),G=B.filter(ge=>["apple","samsung","xiaomi","huawei"].some(me=>ge.toLowerCase().includes(me))),ue=B.filter(ge=>["","","",""].some(me=>ge.toLowerCase().includes(me)));return{BRAND:G.length>0?G:["apple","samsung"],GEO:ue.length>0?ue:["",""]}},[]),K=async()=>{if(!p)return;const R={formula:n,data:S,operatorPolicy:s,scoringThreshold:o,enableNormalization:!0,enableScoring:!0,enableOperators:!0,maxMasks:5e4,batchSize:1e3,enableDeduplication:!0},U=new wI(R);z(U),C(!0);try{const B=await U.generate();Y(B),j(U.getProgress()),t(B)}catch(B){console.error(" :",B)}finally{C(!1)}},H=()=>{A&&A.pause()},Q=()=>{A&&A.resume()},ee=()=>{A&&A.cancel(),C(!1)},ae=()=>{const U=new R2().generateNegativeWords(e),B=[...U.global,...U.thematic,...U.contextual].flatMap(G=>G.words);F(B)},D=(R,U)=>{const B=U.split(`
`).map(G=>G.trim()).filter(G=>G.length>0);N(G=>({...G,[R]:B}))};return c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-6",children:"   "}),c.jsx(bI,{formula:n,onChange:r,onValidation:_}),c.jsx(_I,{policy:s,onChange:a,masks:[]}),c.jsx(SI,{threshold:o,onChange:u,weights:d,onWeightsChange:f}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium mb-3",children:"   "}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(S).map(([R,U])=>c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1",children:R}),c.jsx("textarea",{className:"w-full p-2 border rounded text-sm",rows:3,value:U.join(`
`),onChange:B=>D(R,B.target.value),placeholder:`  ${R} (   )`})]},R))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium mb-3",children:" -"}),c.jsx("button",{onClick:ae,className:"px-3 py-1.5 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:" -"}),J.length>0&&c.jsxs("div",{className:"mt-3 p-3 bg-gray-50 border rounded max-h-32 overflow-y-auto",children:[c.jsxs("div",{className:"text-sm font-medium mb-2",children:[" -: ",J.length]}),c.jsxs("div",{className:"text-xs text-gray-600",children:[J.slice(0,20).join(", "),J.length>20&&` ...   ${J.length-20}`]})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex gap-3 items-center",children:[c.jsx("button",{onClick:K,disabled:!p||T,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:T?"...":" "}),T&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:H,className:"px-3 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700",children:""}),c.jsx("button",{onClick:Q,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""}),c.jsx("button",{onClick:ee,className:"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:""})]})]}),M&&c.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border rounded",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium",children:" "}),c.jsxs("span",{className:"text-sm",children:[M.generated," / ",M.total]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${M.generated/M.total*100}%`}})}),c.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[": ",M.speed," /",M.estimatedTimeRemaining&&c.jsxs(c.Fragment,{children:["  : ",Math.ceil(M.estimatedTimeRemaining/1e3)," "]})]})]})]}),O&&c.jsxs("div",{className:"mt-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:" "}),c.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{className:"p-3 bg-green-50 border rounded",children:[c.jsx("div",{className:"text-lg font-bold text-green-700",children:O.totalGenerated}),c.jsx("div",{className:"text-xs text-green-600",children:" "})]}),c.jsxs("div",{className:"p-3 bg-blue-50 border rounded",children:[c.jsx("div",{className:"text-lg font-bold text-blue-700",children:O.totalScored}),c.jsx("div",{className:"text-xs text-blue-600",children:" "})]}),c.jsxs("div",{className:"p-3 bg-purple-50 border rounded",children:[c.jsx("div",{className:"text-lg font-bold text-purple-700",children:O.totalNormalized}),c.jsx("div",{className:"text-xs text-purple-600",children:""})]}),c.jsxs("div",{className:"p-3 bg-orange-50 border rounded",children:[c.jsx("div",{className:"text-lg font-bold text-orange-700",children:O.totalWithOperators}),c.jsx("div",{className:"text-xs text-orange-600",children:" "})]})]}),c.jsxs("div",{className:"border rounded",children:[c.jsx("div",{className:"p-3 bg-gray-50 border-b",children:c.jsx("h4",{className:"font-medium",children:" ( 100 )"})}),c.jsx("div",{className:"p-3 max-h-64 overflow-y-auto",children:O.preview.slice(0,100).map((R,U)=>c.jsx("div",{className:"py-1 border-b last:border-b-0 text-sm",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:R.mask}),R.score&&c.jsxs("span",{className:"text-xs text-gray-500",children:[R.score.toFixed(2)," ",R.classification]})]})},U))})]}),c.jsx("div",{className:"mt-4 flex gap-2",children:c.jsx("button",{onClick:()=>{const R=O.masks.map(ue=>[ue.mask,ue.score,ue.classification].join(",")).join(`
`),U=new Blob([R],{type:"text/csv"}),B=URL.createObjectURL(U),G=document.createElement("a");G.href=B,G.download="masks_generated.csv",G.click(),URL.revokeObjectURL(B)},className:"px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:" CSV"})})]})]})};async function Pg(e){try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(e),!0}catch{}try{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="fixed",t.style.left="-9999px",t.style.top="-9999px",document.body.appendChild(t),t.focus(),t.select();const n=document.execCommand("copy");return document.body.removeChild(t),n}catch{return!1}}function Mm(e){if(!e)return null;const t=n=>({id:n.id||Rl(),title:n.title,labels:n.labels||[],collapsed:!!n.collapsed,children:(n.children||[]).map(t)});return t(e)}function HE(e,t,n=" "){const r=Rl();return[Fu(e,a=>a.id===t?{...a,children:[...a.children||[],{id:r,title:n,children:[]}]}:a),r]}function GE(e,t,n=" "){const r=Rl(),s=o=>{if((o.children||[]).findIndex(d=>d.id===t)!==-1){const d={id:r,title:n,children:[]};return{...o,children:[...o.children||[],d]}}return{...o,children:(o.children||[]).map(s)}};return[e.id===t?dI(e,t,n):s(e),r]}function NI(e,t){if(e.id===t)return e;const n=r=>{const s=(r.children||[]).filter(a=>a.id!==t).map(n);return{...r,children:s}};return n(e)}async function TI(e){const t=await e.arrayBuffer(),n=await xD.loadAsync(t),r=Object.values(n.files).find(o=>/content\.json$/i.test(o.name));if(r){const o=await r.async("string");try{const u=JSON.parse(o),d=Fg(u);if(d)return Mm(d)}catch(u){console.warn("JSON parse error",u)}}const s=Object.values(n.files).find(o=>/content\.xml$/i.test(o.name));if(s){const o=await s.async("string");try{const d=new oI({ignoreAttributes:!1,attributeNamePrefix:"@"}).parse(o),f=WE(d);if(f)return Mm(f)}catch(u){console.warn("XML parse error",u)}}const a=Object.values(n.files).find(o=>/\.json$/i.test(o.name));if(a){const o=await a.async("string");try{const u=JSON.parse(o),d=Fg(u);if(d)return Mm(d)}catch{}}return null}function Ux(e){return e?e.title??e.TopicName??e.text??e.caption??e["@title"]??e["@TEXT"]??"( )":""}function dl(e){return e?Array.isArray(e)?e:[e]:[]}function Fg(e){const t=ah(e);return t?VE(t):null}function ah(e){if(!e||typeof e!="object")return null;if(e.topic||e.rootTopic||CI(e))return e.topic??e.rootTopic??e;for(const t of Object.keys(e)){const n=e[t];if(Array.isArray(n))for(const r of n){const s=ah(r);if(s)return s}else if(typeof n=="object"){const r=ah(n);if(r)return r}}return null}function CI(e){if(!e||typeof e!="object")return!1;const t="title"in e||"@title"in e||"text"in e||"TopicName"in e,n="topics"in e||"children"in e||"subTopics"in e;return!!(t&&n)}function VE(e){const t=Ux(e),n=dl(e.labels||e.label||e.markers).map(o=>typeof o=="string"?o:o?.label?o.label:o?.title?o.title:String(o??"")),r=e.topics??e.subTopics??e.children?.topics??e.children?.attached??e.children??[],s=dl(r).flat(),a=[];for(const o of s){if(!o)continue;const u=o.topic?[o.topic]:o.topics?dl(o.topics):[o];for(const d of u)a.push(VE(d))}return{id:Rl(),title:t,labels:n,children:a}}function WE(e){const t=e["xmap-content"]||e.xmap||e,r=dl(t?.sheet)[0],s=r?.topic||r?.rootTopic||ah(r);return s?qE(s):null}function qE(e){const t=e.title??e["@title"]??e["@TEXT"]??e.plain,n=typeof t=="string"?t:Ux(t??e),r=dl(e.labels?.label).map(u=>typeof u=="string"?u:u?.["@text"]||u?.["@TITLE"]||String(u)),s=e.children?.topics||e.topics,o=dl(s?.topic??s).map(u=>qE(u));return{id:Rl(),title:n||"( )",labels:r,children:o}}function kI({data:e,selectedIds:t,onSelect:n,onToggle:r,onAddChild:s,onAddSibling:a,onDeleteIds:o,onRename:u,onReparent:d,controlsRef:f,onContextMenu:p}){const g=P.useRef(null),v=P.useRef(null),x=P.useRef(null),w=P.useRef(null),y=P.useRef(ol),[_,S]=P.useState({w:1100,h:680}),[N,T]=P.useState(null),[C,A]=P.useState(null),z=P.useRef([]),[M,j]=P.useState(null),O=P.useRef(null),[Y,J]=P.useState(!1);P.useEffect(()=>{const ne=X=>{X.code==="Space"&&J(!0)},q=X=>{X.code==="Space"&&J(!1)};return window.addEventListener("keydown",ne),window.addEventListener("keyup",q),()=>{window.removeEventListener("keydown",ne),window.removeEventListener("keyup",q)}},[]),P.useEffect(()=>{const ne=ya(g.current),q=ya(x.current),X=pD().scaleExtent([.2,6]).on("zoom",fe=>{y.current=fe.transform,q.attr("transform",fe.transform)});ne.call(X),ne.on("dblclick.zoom",null),w.current=X;const le=(fe,Me,we)=>{const je=ne,He=w.current,et=typeof Me=="number"?Me:y.current.k,Ge=fe===e?.id?{x:0,y:0}:z.current.find(Mt=>Mt.id===fe)||null;if(!Ge){we?.();return}const mt=Ge.x,Gt=Ge.y,vt=ol.translate(-et*mt,-et*Gt).scale(et);je.transition().duration(240).call(He.transform,vt).on("end",we||null)};f.current={zoomIn:()=>ne.transition().call(X.scaleBy,1.2),zoomOut:()=>ne.transition().call(X.scaleBy,1/1.2),reset:()=>ne.transition().call(X.transform,ol),fit:()=>{try{const fe=x.current,Me=g.current,we=fe.getBBox(),je=24,He=Math.min((Me.clientWidth-je*2)/we.width,(Me.clientHeight-je*2)/we.height,6),et=(Me.clientWidth-He*(we.x+we.width))/2+He*we.x*-1,Ge=(Me.clientHeight-He*(we.y+we.height))/2+He*we.y*-1,mt=ol.translate(et,Ge).scale(He);ne.transition().call(X.transform,mt)}catch{}},focusNode:(fe,Me)=>le(fe,Me)};const be=requestAnimationFrame(()=>{const fe=O.current;fe&&(O.current=null,le(fe,void 0,()=>T({id:fe,value:""})))});return()=>{f.current=null,ne.on("zoom",null),cancelAnimationFrame(be)}},[f,e]),P.useEffect(()=>{const ne=()=>{const q=g.current?.parentElement;if(!q)return;const X=q.getBoundingClientRect();S({w:Math.max(800,X.width),h:Math.max(520,X.height)})};return ne(),window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]);const F=ne=>Math.max(64,Math.min(320,10*ne.length+28)),re=28,k=P.useMemo(()=>{if(!e)return{nodes:[],links:[],rootLayout:null};const q=(Ge=>Ge.collapsed?[]:Ge.children||[])(e),X=[],le=[];q.forEach((Ge,mt)=>(mt%2?X:le).push(Ge));const pe=[],be=(Ge,mt)=>{const Gt={id:"__root__"+mt,title:"",children:Ge},vt=zx(Gt,rt=>rt.collapsed?[]:rt.children||[]);oD().nodeSize([36,140])(vt);const xt=[];return vt.each(rt=>{rt.data.id.startsWith("__root__")||(xt.push({x:rt.x,y:mt*rt.y,d:rt,w:F(rt.data.title),h:re}),rt.parent&&!rt.parent.data.id.startsWith("__root__")?pe.push({s:rt.parent.data.id,t:rt.data.id}):rt.parent&&pe.push({s:e.id,t:rt.data.id}))}),{nodes:xt}},fe=be(X,-1),Me=be(le,1),we=[...fe.nodes,...Me.nodes],je=new Map(we.map(Ge=>[Ge.d.data.id,Ge])),He={x:0,y:0,d:{data:e},w:F(e.title),h:40};je.set(e.id,He);const et=pe.map(({s:Ge,t:mt})=>({s:je.get(Ge||e.id),t:je.get(mt)}));return z.current=we.map(Ge=>({id:Ge.d.data.id,x:Ge.y,y:Ge.x,w:Ge.w,h:Ge.h})),{nodes:we,links:et,rootLayout:He}},[e]),V=_.w/2,K=_.h/2;P.useEffect(()=>{const ne=q=>{if(!e)return;const X=Array.from(t)[0]||e.id;if(N){if(q.key==="Escape")T(null);else if(q.key==="Enter")q.preventDefault(),u(N.id,N.value.trim()||""),T(null);else if(q.key==="Tab"){q.preventDefault();const le=a(N.id);le&&(O.current=le)}return}if(q.key==="Tab"){q.preventDefault();const le=s(X);le&&(O.current=le)}if(q.key==="Enter"){q.preventDefault();const le=a(X);le&&(O.current=le)}if(q.key==="Delete"&&t.size>0&&o(t),(q.ctrlKey||q.metaKey)&&q.key.toLowerCase()==="c"){const le=[];t.forEach(be=>{const fe=e&&eo(e,be);fe&&le.push(fe.title)});const pe=Array.from(new Set(le)).join(`
`);Pg(pe)}if(q.key==="F2"){const le=eo(e,X);le&&T({id:X,value:le.title})}};return window.addEventListener("keydown",ne),()=>window.removeEventListener("keydown",ne)},[e,t,N,s,a,o,u]);const H=(ne,q)=>{const le=g.current.getBoundingClientRect(),pe=ne-le.left-V,be=q-le.top-K,fe=y.current.invert([pe,be]);return{x:fe[0],y:fe[1]}},Q=ne=>{if(Y||ne.target.closest('[data-node="1"]'))return;ne.preventDefault();const q=H(ne.clientX,ne.clientY);A({x1:q.x,y1:q.y,x2:q.x,y2:q.y}),n(new Set)},ee=ne=>{if(!C)return;const q=H(ne.clientX,ne.clientY),X={...C,x2:q.x,y2:q.y};A(X);const le=Math.min(X.x1,X.x2),pe=Math.max(X.x1,X.x2),be=Math.min(X.y1,X.y2),fe=Math.max(X.y1,X.y2),Me=new Set;for(const we of z.current)we.x>=le&&we.x<=pe&&we.y>=be&&we.y<=fe&&Me.add(we.id);n(Me)},ae=()=>A(null),D=(ne,q)=>{ne.stopPropagation();const X=new Set(t);ne.shiftKey?X.has(q)?X.delete(q):X.add(q):(X.clear(),X.add(q)),n(X)},R=(ne,q)=>{ne.stopPropagation();const X=e?eo(e,q):null;X&&T({id:q,value:X.title})},U=(ne,q,X)=>{ne.stopPropagation(),T({id:q,value:X})},B=(ne,q)=>{ne.preventDefault(),ne.stopPropagation(),t.has(q)||n(new Set([q])),p?.("node",ne.clientX,ne.clientY,q)},G=ne=>{ne.target.closest('[data-node="1"]')||(ne.preventDefault(),p?.("bg",ne.clientX,ne.clientY))},ue=P.useRef(null),[ge,me]=P.useState(null),ve=P.useRef(!1),Re=(ne,q,X)=>{for(const pe of z.current){if(X&&pe.id===X)continue;const be=pe.x-pe.w/2-6,fe=pe.x+pe.w/2+6,Me=pe.y-pe.h/2-6,we=pe.y+pe.h/2+6;if(ne>=be&&ne<=fe&&q>=Me&&q<=we)return pe.id}if(e){const pe=Math.max(64,Math.min(320,10*e.title.length+28)),be=40,fe=-pe/2-6,Me=pe/2+6,we=-be/2-6,je=be/2+6;if(ne>=fe&&ne<=Me&&q>=we&&q<=je)return e.id}return null},Ue=(ne,q)=>{if(ne.button!==0)return;ne.stopPropagation();const X=H(ne.clientX,ne.clientY);ue.current={id:q,x0:X.x,y0:X.y,mode:ne.shiftKey?"single":"subtree",started:!1},ve.current=!1;const le=be=>{if(!ue.current)return;const fe=H(be.clientX,be.clientY),Me=fe.x-ue.current.x0,we=fe.y-ue.current.y0;!ue.current.started&&Math.hypot(Me,we)>6&&(ue.current.started=!0),ue.current.started&&(ve.current=!0,me(Re(fe.x,fe.y,ue.current.id)))},pe=be=>{window.removeEventListener("mousemove",le),window.removeEventListener("mouseup",pe);const fe=ue.current;if(ue.current=null,!fe||!fe.started){me(null);return}const Me=ge;me(null),Me&&Me!==fe.id&&d(fe.id,Me,fe.mode)};window.addEventListener("mousemove",le),window.addEventListener("mouseup",pe)},Ve=ne=>!!(ne&&(ne.children?.length||0)>0),st=ne=>({x:ne.y,y:ne.x,w:ne.w,h:ne.h}),I=(ne,q)=>{const X=st(ne),le=st(q),pe=Math.sign(le.x-X.x)||1,be=X.x+pe*(X.w/2),fe=X.y,Me=le.x-pe*(le.w/2),we=le.y,je=(be+Me)/2;return`M ${be},${fe} C ${je},${fe} ${je},${we} ${Me},${we}`},ye=({id:ne,w:q,x:X,y:le,parentX:pe,parentY:be,collapsed:fe})=>{const we=(X<0?1:-1)*(q/2+12),je=0,He=9,et=Ge=>{Ge.stopPropagation(),r(ne)};return c.jsxs("g",{className:"cursor-pointer",onClick:et,children:[c.jsx("circle",{cx:we,cy:je,r:He,className:"fill-white stroke-[#C8D1DC] hover:stroke-black"}),c.jsx("line",{x1:we-4,y1:je,x2:we+4,y2:je,stroke:"#111",strokeWidth:1.5}),fe&&c.jsx("line",{x1:we,y1:je-4,x2:we,y2:je+4,stroke:"#111",strokeWidth:1.5})]})};return c.jsx("svg",{ref:g,width:_.w,height:_.h,className:"bg-white rounded-2xl shadow-inner select-none",onMouseDown:Q,onMouseMove:ee,onMouseUp:ae,onMouseLeave:ae,onContextMenu:G,style:{cursor:Y?"grab":"default"},children:c.jsx("g",{ref:v,transform:`translate(${V},${K})`,children:c.jsxs("g",{ref:x,children:[c.jsx("g",{stroke:"#D9DEE5",fill:"none",children:k.links.map((ne,q)=>c.jsx("path",{d:I(ne.s,ne.t)},q))}),e&&c.jsxs("g",{transform:"translate(0,0)","data-node":"1",onDoubleClick:ne=>R(ne,e.id),onClick:ne=>{ve.current||D(ne,e.id)},onContextMenu:ne=>B(ne,e.id),onMouseDown:ne=>Ue(ne,e.id),onMouseEnter:()=>j(e.id),onMouseLeave:()=>j(ne=>ne===e.id?null:ne),children:[c.jsx("rect",{x:-F(e.title)/2,y:-20,rx:10,ry:10,width:F(e.title),height:40,className:t.has(e.id)?"fill-[#EAF2FF] stroke-black":"fill-[#EAF2FF] stroke-[#7EA9FF]"}),ge===e.id&&c.jsx("rect",{x:-F(e.title)/2,y:-20,width:F(e.title),height:40,rx:10,ry:10,className:"fill-transparent stroke-amber-500",strokeWidth:2}),c.jsx("text",{textAnchor:"middle",y:5,className:"text-sm font-semibold",onDoubleClick:ne=>U(ne,e.id,e.title),children:e.title}),M===e.id&&Ve(e)&&c.jsx(ye,{id:e.id,w:F(e.title),x:0,y:0,parentX:0,parentY:0,collapsed:!!e.collapsed})]}),c.jsx("g",{children:k.nodes.map((ne,q)=>{const X=ne.d.data,le=t.has(X.id),pe=ne.w,be=ne.h,fe=ne.y,Me=ne.x;let we=k.rootLayout;if(ne.d.parent&&!ne.d.parent.data.id.startsWith("__root__")){const je=ne.d.parent.data.id,He=k.nodes.find(et=>et.d.data.id===je);He&&(we={x:He.y,y:He.x})}return c.jsxs("g",{transform:`translate(${fe},${Me})`,className:"cursor-pointer","data-node":"1",onDoubleClick:je=>R(je,X.id),onClick:je=>{ve.current||D(je,X.id)},onContextMenu:je=>B(je,X.id),onMouseDown:je=>Ue(je,X.id),onMouseEnter:()=>j(X.id),onMouseLeave:()=>j(je=>je===X.id?null:je),children:[c.jsx("rect",{x:-pe/2,y:-be/2,width:pe,height:be,rx:8,ry:8,className:le?"fill-white stroke-black":"fill-white stroke-[#C8D1DC]"}),ge===X.id&&c.jsx("rect",{x:-pe/2,y:-be/2,width:pe,height:be,rx:8,ry:8,className:"fill-transparent stroke-amber-500",strokeWidth:2}),c.jsx("text",{textAnchor:"middle",y:4,className:"text-xs",onDoubleClick:je=>U(je,X.id,X.title),children:X.title}),M===X.id&&Ve(X)&&c.jsx(ye,{id:X.id,w:pe,x:fe,y:Me,parentX:we?.x||0,parentY:we?.y||0,collapsed:!!X.collapsed})]},q)})}),N&&(()=>{const ne=z.current.find(q=>q.id===N.id)||{x:0,y:0,w:300};return c.jsx("foreignObject",{x:ne.x-Math.min(300,ne.w),y:ne.y-16,width:Math.min(300,ne.w*1.2),height:32,children:c.jsx("input",{autoFocus:!0,value:N.value,onChange:q=>T({id:N.id,value:q.target.value}),onBlur:()=>{u(N.id,N.value.trim()||""),T(null)},className:"w-full h-full border rounded px-2 text-sm bg-white"})})})(),C&&c.jsx("rect",{x:Math.min(C.x1,C.x2),y:Math.min(C.y1,C.y2),width:Math.abs(C.x2-C.x1),height:Math.abs(C.y2-C.y1),className:"fill-blue-500/10 stroke-blue-500",strokeDasharray:"4 4"})]})})})}const KE=["core","products","mods","attrs","geo","brands"];function zg(e,t=5){const n=KE.map(a=>XE(e[a]));let r=[];const s=(a,o)=>{if(a===n.length){const u=o.filter(Boolean).join(" ").trim();if(!u)return;u.split(/\s+/).length<=t&&r.push(u.toLowerCase());return}for(const u of n[a])s(a+1,[...o,u])};return s(0,[]),r=Array.from(new Set(r)),r.sort((a,o)=>a.localeCompare(o)),r}function XE(e){return(e||"").split(/\r?\n/).map(t=>t.trim()).filter(Boolean)}function jI(){const e=[];e.push({name:"pickTitle priority",run:()=>Ux({TopicName:"TN",text:"TXT",caption:"CAP","@title":"AT","@TEXT":"AX",title:"T"})==="T"}),e.push({name:"normalizeFromJSON basic tree",run:()=>{const a=Fg({rootTopic:{title:"Root",topics:[{topic:{title:"A",topics:[{topic:{title:"A1"}}]}},{topic:{title:"B"}}]}});return a?a.title==="Root"&&(a.children?.length??0)===2&&(a.children?.[0].children?.length??0)===1:"null root"}}),e.push({name:"normalizeFromXML minimal",run:()=>{const a=WE({"xmap-content":{sheet:{topic:{title:"R",children:{topics:{topic:[{title:"L1"},{title:"L2",children:{topics:{topic:[{title:"L2-1"}]}}}]}}}}}});return a?a.title==="R"&&(a.children?.length??0)===2&&(a.children?.[1].children?.length??0)===1:"null root"}}),e.push({name:"tree ops add/rename/delete/toggle",run:()=>{let s={id:"r",title:"R",children:[{id:"a",title:"A"}]};return s=HE(s,"a","A1")[0],s=Bx(s,"a",{title:"A*"}),s=PE(s,"a"),s=NI(s,"a"),s=GE(s,"r","S")[0],(s.children?.length??0)===1?!0:JSON.stringify(s)}}),e.push({name:"generateMasks respects maxWords",run:()=>zg({core:"",products:"iphone 15",mods:" ",attrs:"128 ",geo:"",brands:"apple"},3).every(o=>o.split(/\s+/).length<=3)}),e.push({name:"splitLines trims and filters",run:()=>{const s=XE(` a 
 
 b 
`);return s.length===2&&s[0]==="a"&&s[1]==="b"}}),e.push({name:"generateMasks handles empties",run:()=>{const a=zg({core:"",products:"",mods:`A
`,attrs:"",geo:"",brands:"B"},5);return Array.isArray(a)&&a.every(o=>typeof o=="string")}});const t=e.map(s=>({name:s.name,result:s.run()})),n=t.filter(s=>s.result===!0).length,r=t.filter(s=>s.result!==!0);return{results:t,passed:n,failed:r}}function AI(){const[e,t]=P.useState(null);return c.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow border border-zinc-200",children:[c.jsx("h3",{className:"font-semibold mb-3",children:" "}),c.jsx("button",{className:"px-3 py-1.5 rounded-lg bg-zinc-900 text-white text-sm",onClick:()=>t(jI()),children:" "}),e&&c.jsxs("div",{className:"mt-3 text-sm",children:[c.jsxs("div",{className:"mb-2",children:[": ",c.jsx("b",{children:e.passed})," / ",e.results.length]}),c.jsx("div",{className:"grid gap-1",children:e.results.map((n,r)=>c.jsxs("div",{className:`px-2 py-1 rounded ${n.result===!0?"bg-green-50":"bg-red-50"}`,children:[c.jsx("b",{children:n.name}),": ",n.result===!0?"OK":String(n.result)]},r))})]})]})}function RI(){const[e,t]=P.useState("map"),[n,r]=P.useState(null),[s,a]=P.useState(""),[o,u]=P.useState(new Set),d=P.useRef(null),f=P.useRef(null),[p,g]=P.useState(null),[v,x]=P.useState(""),w=H=>{x(H),setTimeout(()=>x(""),1200)},[y,_]=P.useState({core:"",products:"",mods:"",attrs:"",geo:"",brands:""}),S=P.useMemo(()=>zg(y,5),[y]),N=P.useCallback(async H=>{a(H.name);const Q=await TI(H);r(Q),u(new Set(Q?.id?[Q.id]:[]))},[]),T=P.useCallback(async H=>{H.preventDefault();const Q=H.dataTransfer.files?.[0];Q&&N(Q)},[N]),C=P.useCallback(async H=>{const Q=H.target.files?.[0];Q&&N(Q)},[N]),A=H=>u(new Set(H)),z=H=>r(Q=>Q&&PE(Q,H)),M=H=>{if(!n)return null;const[Q,ee]=HE(n,H," ");return r(Q),u(new Set([ee])),ee},j=H=>{if(!n)return null;const[Q,ee]=GE(n,H," ");return r(Q),u(new Set([ee])),ee},O=H=>r(Q=>Q&&lI(Q,H)),Y=(H,Q)=>r(ee=>ee&&Bx(ee,H,{title:Q})),J=(H,Q,ee)=>{n&&(r(ee==="subtree"?cI(n,H,Q):uI(n,H,Q)),u(new Set([H])))},F=(H,Q,ee,ae)=>{const R=f.current.getBoundingClientRect();g({x:Q-R.left,y:ee-R.top,id:ae})},re=async()=>{if(!n)return;const H=[];o.forEach(ee=>{const ae=eo(n,ee);ae&&H.push(ae.title)}),await Pg(Array.from(new Set(H)).join(`
`))&&w(""),g(null)},k=()=>{p?.id&&z(p.id),g(null)},V=()=>{o.size&&O(o),g(null)},K=()=>{const H=document.querySelector("svg");if(!H)return;const Q=new XMLSerializer().serializeToString(H),ee=new Blob([Q],{type:"image/svg+xml;charset=utf-8"}),ae=URL.createObjectURL(ee),D=document.createElement("a");D.href=ae,D.download=(s?.replace(/\.[^.]+$/,"")||"mindmap")+".svg",D.click(),URL.revokeObjectURL(ae)};return c.jsx("div",{className:"p-4 bg-zinc-100 min-h-[540px]",onClick:()=>g(null),children:c.jsxs("div",{className:"mx-auto max-w-[1200px]",children:[c.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"KeySet   + XMind ()"}),c.jsxs("nav",{className:"flex items-center gap-2 rounded-xl bg-white p-1 shadow",children:[c.jsx("button",{onClick:()=>t("map"),className:`px-3 py-1.5 rounded-lg text-sm ${e==="map"?"bg-black text-white":"hover:bg-zinc-100"}`,children:" "}),c.jsx("button",{onClick:()=>t("gen"),className:`px-3 py-1.5 rounded-lg text-sm ${e==="gen"?"bg-black text-white":"hover:bg-zinc-100"}`,children:"  "}),c.jsx("button",{onClick:()=>t("prof"),className:`px-3 py-1.5 rounded-lg text-sm ${e==="prof"?"bg-black text-white":"hover:bg-zinc-100"}`,children:" . "}),c.jsx("button",{onClick:()=>t("tests"),className:`px-3 py-1.5 rounded-lg text-sm ${e==="tests"?"bg-black text-white":"hover:bg-zinc-100"}`,children:" "})]})]}),e==="map"?c.jsx("section",{children:c.jsxs("div",{onDrop:T,onDragOver:H=>H.preventDefault(),ref:f,className:"relative rounded-2xl bg-white p-4 shadow border border-zinc-200",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-black text-white cursor-pointer",children:[c.jsx("input",{type:"file",accept:".xmind",className:"hidden",onChange:C}),c.jsx("span",{children:" .xmind"})]}),c.jsx("span",{className:"text-xs text-zinc-500",children:"   "})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>d.current&&d.current.zoomOut?.(),className:"px-2 py-1.5 rounded-lg bg-zinc-900 text-white text-sm",children:""}),c.jsx("button",{onClick:()=>d.current&&d.current.reset?.(),className:"px-2 py-1.5 rounded-lg bg-zinc-900 text-white text-sm",children:"1:1"}),c.jsx("button",{onClick:()=>d.current&&d.current.zoomIn?.(),className:"px-2 py-1.5 rounded-lg bg-zinc-900 text-white text-sm",children:""}),c.jsx("button",{onClick:()=>d.current&&d.current.fit?.(),className:"px-2 py-1.5 rounded-lg bg-zinc-900 text-white text-sm",children:"Fit"}),c.jsx("button",{onClick:K,className:"px-3 py-1.5 rounded-lg bg-zinc-900 text-white text-sm",children:" SVG"})]})]}),c.jsx("div",{className:"text-sm text-zinc-600 mb-2",children:s?`: ${s}`:"  "}),c.jsx(kI,{data:n,selectedIds:o,onSelect:A,onToggle:z,onAddChild:M,onAddSibling:j,onDeleteIds:O,onRename:Y,onReparent:J,controlsRef:d,onContextMenu:F}),p&&c.jsxs("div",{style:{left:p.x,top:p.y},className:"absolute z-50 min-w-[160px] rounded-xl border bg-white shadow-lg text-sm overflow-hidden",children:[c.jsx("button",{className:"w-full text-left px-3 py-2 hover:bg-zinc-100",onClick:re,children:""}),p.id&&c.jsx("button",{className:"w-full text-left px-3 py-2 hover:bg-zinc-100",onClick:k,children:"/"}),c.jsx("button",{className:"w-full text-left px-3 py-2 hover:bg-zinc-100 text-red-600",onClick:V,children:""})]}),!!v&&c.jsx("div",{className:"absolute right-4 bottom-4 bg-black text-white text-xs px-3 py-2 rounded-lg shadow",children:v}),c.jsxs("p",{className:"text-xs text-zinc-500 mt-3",children:[": 1   ; ",c.jsx("b",{children:"Tab/Enter"}),"        ;    .       /+    .         . Ctrl+C    . Space  ,   ."]})]})}):e==="prof"?c.jsx("section",{className:"mt-4",children:c.jsx(EI,{xmindData:n,onExport:H=>{console.log(" :",H)}})}):e==="gen"?c.jsxs("section",{className:"rounded-2xl bg-white p-4 shadow border border-zinc-200 mt-4",children:[c.jsx("h3",{className:"font-semibold mb-3",children:"   (MVP)"}),c.jsx("div",{className:"grid lg:grid-cols-6 gap-3 mb-4",children:KE.map(H=>c.jsxs("div",{className:"flex flex-col",children:[c.jsx("label",{className:"text-xs font-medium mb-1 uppercase tracking-wide text-zinc-600",children:H}),c.jsx("textarea",{className:"min-h-[110px] rounded-xl border p-2 text-sm focus:outline-none focus:ring-2 focus:ring-black/10",placeholder:H==="core"?`

`:H==="products"?`iphone 15

xiaomi 8 pro`:H==="mods"?`
 
 `:H==="attrs"?`
128 
`:H==="geo"?`

`:`apple
xiaomi
samsung`,value:y[H],onChange:Q=>_(ee=>({...ee,[H]:Q.target.value}))})]},H))}),c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"text-sm text-zinc-600",children:[" : ",c.jsx("b",{children:S.length})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:async()=>{await Pg(S.join(`
`))&&w("")},className:"px-3 py-1.5 rounded-lg bg-zinc-900 text-white text-sm",children:" "}),c.jsx("button",{onClick:()=>{const H=`mask
`+S.join(`
`),Q=new Blob([H],{type:"text/csv;charset=utf-8"}),ee=URL.createObjectURL(Q),ae=document.createElement("a");ae.href=ee,ae.download="masks.csv",ae.click(),URL.revokeObjectURL(ee)},className:"px-3 py-1.5 rounded-lg bg-zinc-900 text-white text-sm",children:" CSV"})]})]}),c.jsx("div",{className:"h-[320px] overflow-auto border rounded-xl p-3 text-sm bg-zinc-50",children:S.map((H,Q)=>c.jsx("div",{className:"py-1 border-b last:border-b-0 border-zinc-200",children:H},Q))})]}):c.jsx(AI,{})]})})}function OI(){return c.jsx(p6,{children:c.jsx(RI,{})})}const MI=Object.freeze(Object.defineProperty({__proto__:null,default:OI},Symbol.toStringTag,{value:"Module"})),O2=e=>e instanceof Error?{message:e.message,stack:e.stack,name:e.name}:{message:"Unknown error",details:JSON.stringify(e,null,2)};let DI=class extends Te.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("KeySet Error Boundary caught an error:",t,n);try{const a={path:window.location.pathname,userAgent:navigator.userAgent,error:O2(t),info:n,timestamp:Date.now()};fetch(Du("/api/debug/react-error"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).catch(()=>{})}catch{}const r=t?.message??"";if(r.includes("JSON")||r.includes("parse")||r.includes("Invalid hook call")||r.includes("#185"))try{const a=[];Object.keys(localStorage).forEach(o=>{(o.includes("keyset")||o.includes("column")||o.includes("phrase"))&&(localStorage.removeItem(o),a.push(o))}),console.warn("[KeySet][store] Cleared potentially corrupted localStorage entries:",a),setTimeout(()=>{window.location.reload()},1500)}catch(a){console.error("[KeySet][store] Failed to clear localStorage after crash:",a)}this.setState({errorInfo:n})}render(){if(this.state.hasError){const t=O2(this.state.error);return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsx("div",{className:"max-w-2xl w-full mx-4",children:c.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 border border-red-200",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:c.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-red-800",children:" KeySet"}),c.jsx("p",{className:"text-red-600",children:"    "})]})]}),c.jsxs("div",{className:"bg-red-50 rounded p-4 mb-4",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800 mb-2",children:" :"}),c.jsx("pre",{className:"text-xs text-red-700 overflow-auto",children:JSON.stringify(t,null,2)})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:" "}),c.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"w-full bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"   "})]}),t.stack&&c.jsxs("details",{className:"mt-4",children:[c.jsx("summary",{className:"text-sm text-gray-600 cursor-pointer",children:" "}),c.jsx("pre",{className:"text-xs text-gray-500 mt-2 p-2 bg-gray-100 rounded overflow-auto max-h-32",children:t.stack})]})]})})})}return this.props.children}};const YE=["shift","alt","meta","mod","ctrl","control"],II={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function hi(e){return(II[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function JE(e){return YE.includes(e)}function Dm(e,t=","){return e.toLowerCase().split(t)}function Im(e,t="+",n=">",r=!1,s){let a=[],o=!1;e=e.trim(),e.includes(n)?(o=!0,a=e.toLocaleLowerCase().split(n).map(f=>hi(f))):a=e.toLocaleLowerCase().split(t).map(f=>hi(f));const u={alt:a.includes("alt"),ctrl:a.includes("ctrl")||a.includes("control"),shift:a.includes("shift"),meta:a.includes("meta"),mod:a.includes("mod"),useKey:r},d=a.filter(f=>!YE.includes(f));return{...u,keys:d,description:s,isSequence:o,hotkey:e}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&ZE([hi(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&QE([hi(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{ba.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{ba.clear()},0)}));const ba=new Set;function $x(e){return Array.isArray(e)}function LI(e,t=","){return($x(e)?e:e.split(t)).every(n=>ba.has(n.trim().toLowerCase()))}function ZE(e){const t=Array.isArray(e)?e:[e];ba.has("meta")&&ba.forEach(n=>!JE(n)&&ba.delete(n.toLowerCase())),t.forEach(n=>ba.add(n.toLowerCase()))}function QE(e){const t=Array.isArray(e)?e:[e];e==="meta"?ba.clear():t.forEach(n=>ba.delete(n.toLowerCase()))}function PI(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function FI(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}const zI=["input","textarea","select","searchbox","slider","spinbutton","menuitem","menuitemcheckbox","menuitemradio","option","radio","textbox"];function BI(e){return eN(e,zI)}function eN(e,t=!1){const{target:n,composed:r}=e;let s,a;return UI(n)&&r?(s=e.composedPath()[0]&&e.composedPath()[0].tagName,a=e.composedPath()[0]&&e.composedPath()[0].role):(s=n&&n.tagName,a=n&&n.role),$x(t)?!!(s&&t&&t.some(o=>o.toLowerCase()===s.toLowerCase()||o===a)):!!(s&&t&&t)}function UI(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function $I(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(n=>t.includes(n))||e.includes("*"):!0}const HI=(e,t,n=!1)=>{const{alt:r,meta:s,mod:a,shift:o,ctrl:u,keys:d,useKey:f}=t,{code:p,key:g,ctrlKey:v,metaKey:x,shiftKey:w,altKey:y}=e,_=hi(p);if(f&&d?.length===1&&d.includes(g))return!0;if(!d?.includes(_)&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(_))return!1;if(!n){if(r!==y&&_!=="alt"||o!==w&&_!=="shift")return!1;if(a){if(!x&&!v)return!1}else if(s!==x&&_!=="meta"&&_!=="os"||u!==v&&_!=="ctrl"&&_!=="control")return!1}return d&&d.length===1&&d.includes(_)?!0:d?LI(d):!d},GI=P.createContext(void 0),VI=()=>P.useContext(GI);function tN(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((n,r)=>n&&tN(e[r],t[r]),!0):e===t}const WI=P.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),qI=()=>P.useContext(WI);function KI(e){const t=P.useRef(void 0);return tN(t.current,e)||(t.current=e),t.current}const M2=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},XI=typeof window<"u"?P.useLayoutEffect:P.useEffect;function bs(e,t,n,r){const s=P.useRef(null),a=P.useRef(!1),o=Array.isArray(n)?Array.isArray(r)?void 0:r:n,u=$x(e)?e.join(o?.delimiter):e,d=Array.isArray(n)?n:Array.isArray(r)?r:void 0,f=P.useCallback(t,d??[]),p=P.useRef(f);d?p.current=f:p.current=t;const g=KI(o),{activeScopes:v}=qI(),x=VI();return XI(()=>{if(g?.enabled===!1||!$I(v,g?.scopes))return;let w=[],y;const _=(C,A=!1)=>{if(!(BI(C)&&!eN(C,g?.enableOnFormTags))){if(s.current!==null){const z=s.current.getRootNode();if((z instanceof Document||z instanceof ShadowRoot)&&z.activeElement!==s.current&&!s.current.contains(z.activeElement)){M2(C);return}}C.target?.isContentEditable&&!g?.enableOnContentEditable||Dm(u,g?.delimiter).forEach(z=>{if(z.includes(g?.splitKey??"+")&&z.includes(g?.sequenceSplitKey??">")){console.warn(`Hotkey ${z} contains both ${g?.splitKey??"+"} and ${g?.sequenceSplitKey??">"} which is not supported.`);return}const M=Im(z,g?.splitKey,g?.sequenceSplitKey,g?.useKey,g?.description);if(M.isSequence){y=setTimeout(()=>{w=[]},g?.sequenceTimeoutMs??1e3);const j=M.useKey?C.key:hi(C.code);if(JE(j.toLowerCase()))return;w.push(j);const O=M.keys?.[w.length-1];if(j!==O){w=[],y&&clearTimeout(y);return}w.length===M.keys?.length&&(p.current(C,M),y&&clearTimeout(y),w=[])}else if(HI(C,M,g?.ignoreModifiers)||M.keys?.includes("*")){if(g?.ignoreEventWhen?.(C)||A&&a.current)return;if(PI(C,M,g?.preventDefault),!FI(C,M,g?.enabled)){M2(C);return}p.current(C,M),A||(a.current=!0)}})}},S=C=>{C.code!==void 0&&(ZE(hi(C.code)),(g?.keydown===void 0&&g?.keyup!==!0||g?.keydown)&&_(C))},N=C=>{C.code!==void 0&&(QE(hi(C.code)),a.current=!1,g?.keyup&&_(C,!0))},T=s.current||o?.document||document;return T.addEventListener("keyup",N,o?.eventListenerOptions),T.addEventListener("keydown",S,o?.eventListenerOptions),x&&Dm(u,g?.delimiter).forEach(C=>x.addHotkey(Im(C,g?.splitKey,g?.sequenceSplitKey,g?.useKey,g?.description))),()=>{T.removeEventListener("keyup",N,o?.eventListenerOptions),T.removeEventListener("keydown",S,o?.eventListenerOptions),x&&Dm(u,g?.delimiter).forEach(C=>x.removeHotkey(Im(C,g?.splitKey,g?.sequenceSplitKey,g?.useKey,g?.description))),w=[],y&&clearTimeout(y)}},[u,g,v]),s}const $h=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ol(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Hx(e){return"nodeType"in e}function Dr(e){var t,n;return e?Ol(e)?e:Hx(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Gx(e){const{Document:t}=Dr(e);return e instanceof t}function zu(e){return Ol(e)?!1:e instanceof Dr(e).HTMLElement}function nN(e){return e instanceof Dr(e).SVGElement}function Ml(e){return e?Ol(e)?e.document:Hx(e)?Gx(e)?e:zu(e)||nN(e)?e.ownerDocument:document:document:document}const pi=$h?P.useLayoutEffect:P.useEffect;function Vx(e){const t=P.useRef(e);return pi(()=>{t.current=e}),P.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function YI(){const e=P.useRef(null),t=P.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=P.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function vu(e,t){t===void 0&&(t=[e]);const n=P.useRef(e);return pi(()=>{n.current!==e&&(n.current=e)},t),n}function Bu(e,t){const n=P.useRef();return P.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function ih(e){const t=Vx(e),n=P.useRef(null),r=P.useCallback(s=>{s!==n.current&&t?.(s,n.current),n.current=s},[]);return[n,r]}function Bg(e){const t=P.useRef();return P.useEffect(()=>{t.current=e},[e]),t.current}let Lm={};function Hh(e,t){return P.useMemo(()=>{if(t)return t;const n=Lm[e]==null?0:Lm[e]+1;return Lm[e]=n,e+"-"+n},[e,t])}function rN(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((a,o)=>{const u=Object.entries(o);for(const[d,f]of u){const p=a[d];p!=null&&(a[d]=p+e*f)}return a},{...t})}}const fl=rN(1),oh=rN(-1);function JI(e){return"clientX"in e&&"clientY"in e}function sN(e){if(!e)return!1;const{KeyboardEvent:t}=Dr(e.target);return t&&e instanceof t}function ZI(e){if(!e)return!1;const{TouchEvent:t}=Dr(e.target);return t&&e instanceof t}function Ug(e){if(ZI(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return JI(e)?{x:e.clientX,y:e.clientY}:null}const D2="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function QI(e){return e.matches(D2)?e:e.querySelector(D2)}const eL={display:"none"};function tL(e){let{id:t,value:n}=e;return Te.createElement("div",{id:t,style:eL},n)}function nL(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Te.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function rL(){const[e,t]=P.useState("");return{announce:P.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const aN=P.createContext(null);function sL(e){const t=P.useContext(aN);P.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function aL(){const[e]=P.useState(()=>new Set),t=P.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[P.useCallback(r=>{let{type:s,event:a}=r;e.forEach(o=>{var u;return(u=o[s])==null?void 0:u.call(o,a)})},[e]),t]}const iL={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},oL={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function lL(e){let{announcements:t=oL,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=iL}=e;const{announce:a,announcement:o}=rL(),u=Hh("DndLiveRegion"),[d,f]=P.useState(!1);if(P.useEffect(()=>{f(!0)},[]),sL(P.useMemo(()=>({onDragStart(g){let{active:v}=g;a(t.onDragStart({active:v}))},onDragMove(g){let{active:v,over:x}=g;t.onDragMove&&a(t.onDragMove({active:v,over:x}))},onDragOver(g){let{active:v,over:x}=g;a(t.onDragOver({active:v,over:x}))},onDragEnd(g){let{active:v,over:x}=g;a(t.onDragEnd({active:v,over:x}))},onDragCancel(g){let{active:v,over:x}=g;a(t.onDragCancel({active:v,over:x}))}}),[a,t])),!d)return null;const p=Te.createElement(Te.Fragment,null,Te.createElement(tL,{id:r,value:s.draggable}),Te.createElement(nL,{id:u,announcement:o}));return n?Vc.createPortal(p,n):p}var Hn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Hn||(Hn={}));function lh(){}function cL(e,t){return P.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function uL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ms=Object.freeze({x:0,y:0});function dL(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function fL(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function hL(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=s-r,u=a-n;if(r<s&&n<a){const d=t.width*t.height,f=e.width*e.height,p=o*u,g=p/(d+f-p);return Number(g.toFixed(4))}return 0}const pL=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const a of r){const{id:o}=a,u=n.get(o);if(u){const d=hL(u,t);d>0&&s.push({id:o,data:{droppableContainer:a,value:d}})}}return s.sort(dL)};function mL(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function iN(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ms}function gL(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((o,u)=>({...o,top:o.top+e*u.y,bottom:o.bottom+e*u.y,left:o.left+e*u.x,right:o.right+e*u.x}),{...n})}}const xL=gL(1);function vL(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function yL(e,t,n){const r=vL(t);if(!r)return e;const{scaleX:s,scaleY:a,x:o,y:u}=r,d=e.left-o-(1-s)*parseFloat(n),f=e.top-u-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),p=s?e.width/s:e.width,g=a?e.height/a:e.height;return{width:p,height:g,top:f,right:d+p,bottom:f+g,left:d}}const wL={ignoreTransform:!1};function Uu(e,t){t===void 0&&(t=wL);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:p}=Dr(e).getComputedStyle(e);f&&(n=yL(n,f,p))}const{top:r,left:s,width:a,height:o,bottom:u,right:d}=n;return{top:r,left:s,width:a,height:o,bottom:u,right:d}}function I2(e){return Uu(e,{ignoreTransform:!0})}function bL(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function _L(e,t){return t===void 0&&(t=Dr(e).getComputedStyle(e)),t.position==="fixed"}function SL(e,t){t===void 0&&(t=Dr(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=t[s];return typeof a=="string"?n.test(a):!1})}function Wx(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(Gx(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!zu(s)||nN(s)||n.includes(s))return n;const a=Dr(e).getComputedStyle(s);return s!==e&&SL(s,a)&&n.push(s),_L(s,a)?n:r(s.parentNode)}return e?r(e):n}function oN(e){const[t]=Wx(e,1);return t??null}function Pm(e){return!$h||!e?null:Ol(e)?e:Hx(e)?Gx(e)||e===Ml(e).scrollingElement?window:zu(e)?e:null:null}function lN(e){return Ol(e)?e.scrollX:e.scrollLeft}function cN(e){return Ol(e)?e.scrollY:e.scrollTop}function $g(e){return{x:lN(e),y:cN(e)}}var Wn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Wn||(Wn={}));function uN(e){return!$h||!e?!1:e===document.scrollingElement}function dN(e){const t={x:0,y:0},n=uN(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,u=e.scrollLeft>=r.x;return{isTop:s,isLeft:a,isBottom:o,isRight:u,maxScroll:r,minScroll:t}}const EL={x:.2,y:.2};function NL(e,t,n,r,s){let{top:a,left:o,right:u,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=EL);const{isTop:f,isBottom:p,isLeft:g,isRight:v}=dN(e),x={x:0,y:0},w={x:0,y:0},y={height:t.height*s.y,width:t.width*s.x};return!f&&a<=t.top+y.height?(x.y=Wn.Backward,w.y=r*Math.abs((t.top+y.height-a)/y.height)):!p&&d>=t.bottom-y.height&&(x.y=Wn.Forward,w.y=r*Math.abs((t.bottom-y.height-d)/y.height)),!v&&u>=t.right-y.width?(x.x=Wn.Forward,w.x=r*Math.abs((t.right-y.width-u)/y.width)):!g&&o<=t.left+y.width&&(x.x=Wn.Backward,w.x=r*Math.abs((t.left+y.width-o)/y.width)),{direction:x,speed:w}}function TL(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function fN(e){return e.reduce((t,n)=>fl(t,$g(n)),Ms)}function CL(e){return e.reduce((t,n)=>t+lN(n),0)}function kL(e){return e.reduce((t,n)=>t+cN(n),0)}function jL(e,t){if(t===void 0&&(t=Uu),!e)return;const{top:n,left:r,bottom:s,right:a}=t(e);oN(e)&&(s<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const AL=[["x",["left","right"],CL],["y",["top","bottom"],kL]];class qx{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Wx(n),s=fN(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,u]of AL)for(const d of o)Object.defineProperty(this,d,{get:()=>{const f=u(r),p=s[a]-f;return this.rect[d]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Zc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function RL(e){const{EventTarget:t}=Dr(e);return e instanceof t?e:Ml(e)}function Fm(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var fs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(fs||(fs={}));function L2(e){e.preventDefault()}function OL(e){e.stopPropagation()}var sn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(sn||(sn={}));const hN={start:[sn.Space,sn.Enter],cancel:[sn.Esc],end:[sn.Space,sn.Enter,sn.Tab]},ML=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case sn.Right:return{...n,x:n.x+25};case sn.Left:return{...n,x:n.x-25};case sn.Down:return{...n,y:n.y+25};case sn.Up:return{...n,y:n.y-25}}};class pN{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Zc(Ml(n)),this.windowListeners=new Zc(Dr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(fs.Resize,this.handleCancel),this.windowListeners.add(fs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(fs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&jL(r),n(Ms)}handleKeyDown(t){if(sN(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:a=hN,coordinateGetter:o=ML,scrollBehavior:u="smooth"}=s,{code:d}=t;if(a.end.includes(d)){this.handleEnd(t);return}if(a.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:f}=r.current,p=f?{x:f.left,y:f.top}:Ms;this.referenceCoordinates||(this.referenceCoordinates=p);const g=o(t,{active:n,context:r.current,currentCoordinates:p});if(g){const v=oh(g,p),x={x:0,y:0},{scrollableAncestors:w}=r.current;for(const y of w){const _=t.code,{isTop:S,isRight:N,isLeft:T,isBottom:C,maxScroll:A,minScroll:z}=dN(y),M=TL(y),j={x:Math.min(_===sn.Right?M.right-M.width/2:M.right,Math.max(_===sn.Right?M.left:M.left+M.width/2,g.x)),y:Math.min(_===sn.Down?M.bottom-M.height/2:M.bottom,Math.max(_===sn.Down?M.top:M.top+M.height/2,g.y))},O=_===sn.Right&&!N||_===sn.Left&&!T,Y=_===sn.Down&&!C||_===sn.Up&&!S;if(O&&j.x!==g.x){const J=y.scrollLeft+v.x,F=_===sn.Right&&J<=A.x||_===sn.Left&&J>=z.x;if(F&&!v.y){y.scrollTo({left:J,behavior:u});return}F?x.x=y.scrollLeft-J:x.x=_===sn.Right?y.scrollLeft-A.x:y.scrollLeft-z.x,x.x&&y.scrollBy({left:-x.x,behavior:u});break}else if(Y&&j.y!==g.y){const J=y.scrollTop+v.y,F=_===sn.Down&&J<=A.y||_===sn.Up&&J>=z.y;if(F&&!v.x){y.scrollTo({top:J,behavior:u});return}F?x.y=y.scrollTop-J:x.y=_===sn.Down?y.scrollTop-A.y:y.scrollTop-z.y,x.y&&y.scrollBy({top:-x.y,behavior:u});break}}this.handleMove(t,fl(oh(g,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}pN.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=hN,onActivation:s}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const u=a.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),s?.({event:e.nativeEvent}),!0)}return!1}}];function P2(e){return!!(e&&"distance"in e)}function F2(e){return!!(e&&"delay"in e)}class Kx{constructor(t,n,r){var s;r===void 0&&(r=RL(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:o}=a;this.props=t,this.events=n,this.document=Ml(o),this.documentListeners=new Zc(this.document),this.listeners=new Zc(r),this.windowListeners=new Zc(Dr(o)),this.initialCoordinates=(s=Ug(a))!=null?s:Ms,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(fs.Resize,this.handleCancel),this.windowListeners.add(fs.DragStart,L2),this.windowListeners.add(fs.VisibilityChange,this.handleCancel),this.windowListeners.add(fs.ContextMenu,L2),this.documentListeners.add(fs.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(F2(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(P2(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(fs.Click,OL,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(fs.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:a}=this,{onMove:o,options:{activationConstraint:u}}=a;if(!s)return;const d=(n=Ug(t))!=null?n:Ms,f=oh(s,d);if(!r&&u){if(P2(u)){if(u.tolerance!=null&&Fm(f,u.tolerance))return this.handleCancel();if(Fm(f,u.distance))return this.handleStart()}if(F2(u)&&Fm(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}t.cancelable&&t.preventDefault(),o(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===sn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const DL={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Xx extends Kx{constructor(t){const{event:n}=t,r=Ml(n.target);super(t,DL,r)}}Xx.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const IL={move:{name:"mousemove"},end:{name:"mouseup"}};var Hg;(function(e){e[e.RightClick=2]="RightClick"})(Hg||(Hg={}));class LL extends Kx{constructor(t){super(t,IL,Ml(t.event.target))}}LL.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Hg.RightClick?!1:(r?.({event:n}),!0)}}];const zm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class PL extends Kx{constructor(t){super(t,zm)}static setup(){return window.addEventListener(zm.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(zm.move.name,t)};function t(){}}}PL.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r?.({event:n}),!0)}}];var Qc;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Qc||(Qc={}));var ch;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ch||(ch={}));function FL(e){let{acceleration:t,activator:n=Qc.Pointer,canScroll:r,draggingRect:s,enabled:a,interval:o=5,order:u=ch.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:p,delta:g,threshold:v}=e;const x=BL({delta:g,disabled:!a}),[w,y]=YI(),_=P.useRef({x:0,y:0}),S=P.useRef({x:0,y:0}),N=P.useMemo(()=>{switch(n){case Qc.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Qc.DraggableRect:return s}},[n,s,d]),T=P.useRef(null),C=P.useCallback(()=>{const z=T.current;if(!z)return;const M=_.current.x*S.current.x,j=_.current.y*S.current.y;z.scrollBy(M,j)},[]),A=P.useMemo(()=>u===ch.TreeOrder?[...f].reverse():f,[u,f]);P.useEffect(()=>{if(!a||!f.length||!N){y();return}for(const z of A){if(r?.(z)===!1)continue;const M=f.indexOf(z),j=p[M];if(!j)continue;const{direction:O,speed:Y}=NL(z,j,N,t,v);for(const J of["x","y"])x[J][O[J]]||(Y[J]=0,O[J]=0);if(Y.x>0||Y.y>0){y(),T.current=z,w(C,o),_.current=Y,S.current=O;return}}_.current={x:0,y:0},S.current={x:0,y:0},y()},[t,C,r,y,a,o,JSON.stringify(N),JSON.stringify(x),w,f,A,p,JSON.stringify(v)])}const zL={x:{[Wn.Backward]:!1,[Wn.Forward]:!1},y:{[Wn.Backward]:!1,[Wn.Forward]:!1}};function BL(e){let{delta:t,disabled:n}=e;const r=Bg(t);return Bu(s=>{if(n||!r||!s)return zL;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Wn.Backward]:s.x[Wn.Backward]||a.x===-1,[Wn.Forward]:s.x[Wn.Forward]||a.x===1},y:{[Wn.Backward]:s.y[Wn.Backward]||a.y===-1,[Wn.Forward]:s.y[Wn.Forward]||a.y===1}}},[n,t,r])}function UL(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Bu(s=>{var a;return t==null?null:(a=r??s)!=null?a:null},[r,t])}function $L(e,t){return P.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,a=s.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...a]},[]),[e,t])}var yu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(yu||(yu={}));var Gg;(function(e){e.Optimized="optimized"})(Gg||(Gg={}));const z2=new Map;function HL(e,t){let{dragging:n,dependencies:r,config:s}=t;const[a,o]=P.useState(null),{frequency:u,measure:d,strategy:f}=s,p=P.useRef(e),g=_(),v=vu(g),x=P.useCallback(function(S){S===void 0&&(S=[]),!v.current&&o(N=>N===null?S:N.concat(S.filter(T=>!N.includes(T))))},[v]),w=P.useRef(null),y=Bu(S=>{if(g&&!n)return z2;if(!S||S===z2||p.current!==e||a!=null){const N=new Map;for(let T of e){if(!T)continue;if(a&&a.length>0&&!a.includes(T.id)&&T.rect.current){N.set(T.id,T.rect.current);continue}const C=T.node.current,A=C?new qx(d(C),C):null;T.rect.current=A,A&&N.set(T.id,A)}return N}return S},[e,a,n,g,d]);return P.useEffect(()=>{p.current=e},[e]),P.useEffect(()=>{g||x()},[n,g]),P.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),P.useEffect(()=>{g||typeof u!="number"||w.current!==null||(w.current=setTimeout(()=>{x(),w.current=null},u))},[u,g,x,...r]),{droppableRects:y,measureDroppableContainers:x,measuringScheduled:a!=null};function _(){switch(f){case yu.Always:return!1;case yu.BeforeDragging:return n;default:return!n}}}function mN(e,t){return Bu(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function GL(e,t){return mN(e,t)}function VL(e){let{callback:t,disabled:n}=e;const r=Vx(t),s=P.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return P.useEffect(()=>()=>s?.disconnect(),[s]),s}function Gh(e){let{callback:t,disabled:n}=e;const r=Vx(t),s=P.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return P.useEffect(()=>()=>s?.disconnect(),[s]),s}function WL(e){return new qx(Uu(e),e)}function B2(e,t,n){t===void 0&&(t=WL);const[r,s]=P.useState(null);function a(){s(d=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=d??n)!=null?f:null}const p=t(e);return JSON.stringify(d)===JSON.stringify(p)?d:p})}const o=VL({callback(d){if(e)for(const f of d){const{type:p,target:g}=f;if(p==="childList"&&g instanceof HTMLElement&&g.contains(e)){a();break}}}}),u=Gh({callback:a});return pi(()=>{a(),e?(u?.observe(e),o?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),o?.disconnect())},[e]),r}function qL(e){const t=mN(e);return iN(e,t)}const U2=[];function KL(e){const t=P.useRef(e),n=Bu(r=>e?r&&r!==U2&&e&&t.current&&e.parentNode===t.current.parentNode?r:Wx(e):U2,[e]);return P.useEffect(()=>{t.current=e},[e]),n}function XL(e){const[t,n]=P.useState(null),r=P.useRef(e),s=P.useCallback(a=>{const o=Pm(a.target);o&&n(u=>u?(u.set(o,$g(o)),new Map(u)):null)},[]);return P.useEffect(()=>{const a=r.current;if(e!==a){o(a);const u=e.map(d=>{const f=Pm(d);return f?(f.addEventListener("scroll",s,{passive:!0}),[f,$g(f)]):null}).filter(d=>d!=null);n(u.length?new Map(u):null),r.current=e}return()=>{o(e),o(a)};function o(u){u.forEach(d=>{const f=Pm(d);f?.removeEventListener("scroll",s)})}},[s,e]),P.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>fl(a,o),Ms):fN(e):Ms,[e,t])}function $2(e,t){t===void 0&&(t=[]);const n=P.useRef(null);return P.useEffect(()=>{n.current=null},t),P.useEffect(()=>{const r=e!==Ms;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?oh(e,n.current):Ms}function YL(e){P.useEffect(()=>{if(!$h)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function JL(e,t){return P.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:a}=r;return n[s]=o=>{a(o,t)},n},{}),[e,t])}function gN(e){return P.useMemo(()=>e?bL(e):null,[e])}const H2=[];function ZL(e,t){t===void 0&&(t=Uu);const[n]=e,r=gN(n?Dr(n):null),[s,a]=P.useState(H2);function o(){a(()=>e.length?e.map(d=>uN(d)?r:new qx(t(d),d)):H2)}const u=Gh({callback:o});return pi(()=>{u?.disconnect(),o(),e.forEach(d=>u?.observe(d))},[e]),s}function QL(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return zu(t)?t:e}function eP(e){let{measure:t}=e;const[n,r]=P.useState(null),s=P.useCallback(f=>{for(const{target:p}of f)if(zu(p)){r(g=>{const v=t(p);return g?{...g,width:v.width,height:v.height}:v});break}},[t]),a=Gh({callback:s}),o=P.useCallback(f=>{const p=QL(f);a?.disconnect(),p&&a?.observe(p),r(p?t(p):null)},[t,a]),[u,d]=ih(o);return P.useMemo(()=>({nodeRef:u,rect:n,setRef:d}),[n,u,d])}const tP=[{sensor:Xx,options:{}},{sensor:pN,options:{}}],nP={current:{}},Gf={draggable:{measure:I2},droppable:{measure:I2,strategy:yu.WhileDragging,frequency:Gg.Optimized},dragOverlay:{measure:Uu}};class eu extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const rP={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new eu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:lh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Gf,measureDroppableContainers:lh,windowRect:null,measuringScheduled:!1},sP={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:lh,draggableNodes:new Map,over:null,measureDroppableContainers:lh},Vh=P.createContext(sP),aP=P.createContext(rP);function iP(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new eu}}}function oP(e,t){switch(t.type){case Hn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Hn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Hn.DragEnd:case Hn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Hn.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new eu(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case Hn.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new eu(e.droppable.containers);return o.set(n,{...a,disabled:s}),{...e,droppable:{...e.droppable,containers:o}}}case Hn.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new eu(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function lP(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=P.useContext(Vh),a=Bg(r),o=Bg(n?.id);return P.useEffect(()=>{if(!t&&!r&&a&&o!=null){if(!sN(a)||document.activeElement===a.target)return;const u=s.get(o);if(!u)return;const{activatorNode:d,node:f}=u;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const p of[d.current,f.current]){if(!p)continue;const g=QI(p);if(g){g.focus();break}}})}},[r,t,s,o,a]),null}function cP(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,a)=>a({transform:s,...r}),n):n}function uP(e){return P.useMemo(()=>({draggable:{...Gf.draggable,...e?.draggable},droppable:{...Gf.droppable,...e?.droppable},dragOverlay:{...Gf.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function dP(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const a=P.useRef(!1),{x:o,y:u}=typeof s=="boolean"?{x:s,y:s}:s;pi(()=>{if(!o&&!u||!t){a.current=!1;return}if(a.current||!r)return;const f=t?.node.current;if(!f||f.isConnected===!1)return;const p=n(f),g=iN(p,r);if(o||(g.x=0),u||(g.y=0),a.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const v=oN(f);v&&v.scrollBy({top:g.y,left:g.x})}},[t,o,u,r,n])}const xN=P.createContext({...Ms,scaleX:1,scaleY:1});var oi;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(oi||(oi={}));const fP=P.memo(function(t){var n,r,s,a;let{id:o,accessibility:u,autoScroll:d=!0,children:f,sensors:p=tP,collisionDetection:g=pL,measuring:v,modifiers:x,...w}=t;const y=P.useReducer(oP,void 0,iP),[_,S]=y,[N,T]=aL(),[C,A]=P.useState(oi.Uninitialized),z=C===oi.Initialized,{draggable:{active:M,nodes:j,translate:O},droppable:{containers:Y}}=_,J=M!=null?j.get(M):null,F=P.useRef({initial:null,translated:null}),re=P.useMemo(()=>{var St;return M!=null?{id:M,data:(St=J?.data)!=null?St:nP,rect:F}:null},[M,J]),k=P.useRef(null),[V,K]=P.useState(null),[H,Q]=P.useState(null),ee=vu(w,Object.values(w)),ae=Hh("DndDescribedBy",o),D=P.useMemo(()=>Y.getEnabled(),[Y]),R=uP(v),{droppableRects:U,measureDroppableContainers:B,measuringScheduled:G}=HL(D,{dragging:z,dependencies:[O.x,O.y],config:R.droppable}),ue=UL(j,M),ge=P.useMemo(()=>H?Ug(H):null,[H]),me=yt(),ve=GL(ue,R.draggable.measure);dP({activeNode:M!=null?j.get(M):null,config:me.layoutShiftCompensation,initialRect:ve,measure:R.draggable.measure});const Re=B2(ue,R.draggable.measure,ve),Ue=B2(ue?ue.parentElement:null),Ve=P.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:U,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:Y,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),st=Y.getNodeFor((n=Ve.current.over)==null?void 0:n.id),I=eP({measure:R.dragOverlay.measure}),ye=(r=I.nodeRef.current)!=null?r:ue,ne=z?(s=I.rect)!=null?s:Re:null,q=!!(I.nodeRef.current&&I.rect),X=qL(q?null:Re),le=gN(ye?Dr(ye):null),pe=KL(z?st??ue:null),be=ZL(pe),fe=cP(x,{transform:{x:O.x-X.x,y:O.y-X.y,scaleX:1,scaleY:1},activatorEvent:H,active:re,activeNodeRect:Re,containerNodeRect:Ue,draggingNodeRect:ne,over:Ve.current.over,overlayNodeRect:I.rect,scrollableAncestors:pe,scrollableAncestorRects:be,windowRect:le}),Me=ge?fl(ge,O):null,we=XL(pe),je=$2(we),He=$2(we,[Re]),et=fl(fe,je),Ge=ne?xL(ne,fe):null,mt=re&&Ge?g({active:re,collisionRect:Ge,droppableRects:U,droppableContainers:D,pointerCoordinates:Me}):null,Gt=fL(mt,"id"),[vt,Mt]=P.useState(null),xt=q?fe:fl(fe,He),rt=mL(xt,(a=vt?.rect)!=null?a:null,Re),Dt=P.useRef(null),At=P.useCallback((St,Ot)=>{let{sensor:Bt,options:vn}=Ot;if(k.current==null)return;const kn=j.get(k.current);if(!kn)return;const yn=St.nativeEvent,jn=new Bt({active:k.current,activeNode:kn,event:yn,options:vn,context:Ve,onAbort(gn){if(!j.get(gn))return;const{onDragAbort:Fn}=ee.current,or={id:gn};Fn?.(or),N({type:"onDragAbort",event:or})},onPending(gn,mr,Fn,or){if(!j.get(gn))return;const{onDragPending:Je}=ee.current,W={id:gn,constraint:mr,initialCoordinates:Fn,offset:or};Je?.(W),N({type:"onDragPending",event:W})},onStart(gn){const mr=k.current;if(mr==null)return;const Fn=j.get(mr);if(!Fn)return;const{onDragStart:or}=ee.current,Oe={activatorEvent:yn,active:{id:mr,data:Fn.data,rect:F}};Vc.unstable_batchedUpdates(()=>{or?.(Oe),A(oi.Initializing),S({type:Hn.DragStart,initialCoordinates:gn,active:mr}),N({type:"onDragStart",event:Oe}),K(Dt.current),Q(yn)})},onMove(gn){S({type:Hn.DragMove,coordinates:gn})},onEnd:fn(Hn.DragEnd),onCancel:fn(Hn.DragCancel)});Dt.current=jn;function fn(gn){return async function(){const{active:Fn,collisions:or,over:Oe,scrollAdjustedTranslate:Je}=Ve.current;let W=null;if(Fn&&Je){const{cancelDrop:ie}=ee.current;W={activatorEvent:yn,active:Fn,collisions:or,delta:Je,over:Oe},gn===Hn.DragEnd&&typeof ie=="function"&&await Promise.resolve(ie(W))&&(gn=Hn.DragCancel)}k.current=null,Vc.unstable_batchedUpdates(()=>{S({type:gn}),A(oi.Uninitialized),Mt(null),K(null),Q(null),Dt.current=null;const ie=gn===Hn.DragEnd?"onDragEnd":"onDragCancel";if(W){const te=ee.current[ie];te?.(W),N({type:ie,event:W})}})}}},[j]),ze=P.useCallback((St,Ot)=>(Bt,vn)=>{const kn=Bt.nativeEvent,yn=j.get(vn);if(k.current!==null||!yn||kn.dndKit||kn.defaultPrevented)return;const jn={active:yn};St(Bt,Ot.options,jn)===!0&&(kn.dndKit={capturedBy:Ot.sensor},k.current=vn,At(Bt,Ot))},[j,At]),tt=$L(p,ze);YL(p),pi(()=>{Re&&C===oi.Initializing&&A(oi.Initialized)},[Re,C]),P.useEffect(()=>{const{onDragMove:St}=ee.current,{active:Ot,activatorEvent:Bt,collisions:vn,over:kn}=Ve.current;if(!Ot||!Bt)return;const yn={active:Ot,activatorEvent:Bt,collisions:vn,delta:{x:et.x,y:et.y},over:kn};Vc.unstable_batchedUpdates(()=>{St?.(yn),N({type:"onDragMove",event:yn})})},[et.x,et.y]),P.useEffect(()=>{const{active:St,activatorEvent:Ot,collisions:Bt,droppableContainers:vn,scrollAdjustedTranslate:kn}=Ve.current;if(!St||k.current==null||!Ot||!kn)return;const{onDragOver:yn}=ee.current,jn=vn.get(Gt),fn=jn&&jn.rect.current?{id:jn.id,rect:jn.rect.current,data:jn.data,disabled:jn.disabled}:null,gn={active:St,activatorEvent:Ot,collisions:Bt,delta:{x:kn.x,y:kn.y},over:fn};Vc.unstable_batchedUpdates(()=>{Mt(fn),yn?.(gn),N({type:"onDragOver",event:gn})})},[Gt]),pi(()=>{Ve.current={activatorEvent:H,active:re,activeNode:ue,collisionRect:Ge,collisions:mt,droppableRects:U,draggableNodes:j,draggingNode:ye,draggingNodeRect:ne,droppableContainers:Y,over:vt,scrollableAncestors:pe,scrollAdjustedTranslate:et},F.current={initial:ne,translated:Ge}},[re,ue,mt,Ge,j,ye,ne,U,Y,vt,pe,et]),FL({...me,delta:O,draggingRect:Ge,pointerCoordinates:Me,scrollableAncestors:pe,scrollableAncestorRects:be});const ht=P.useMemo(()=>({active:re,activeNode:ue,activeNodeRect:Re,activatorEvent:H,collisions:mt,containerNodeRect:Ue,dragOverlay:I,draggableNodes:j,droppableContainers:Y,droppableRects:U,over:vt,measureDroppableContainers:B,scrollableAncestors:pe,scrollableAncestorRects:be,measuringConfiguration:R,measuringScheduled:G,windowRect:le}),[re,ue,Re,H,mt,Ue,I,j,Y,U,vt,B,pe,be,R,G,le]),Tt=P.useMemo(()=>({activatorEvent:H,activators:tt,active:re,activeNodeRect:Re,ariaDescribedById:{draggable:ae},dispatch:S,draggableNodes:j,over:vt,measureDroppableContainers:B}),[H,tt,re,Re,S,ae,j,vt,B]);return Te.createElement(aN.Provider,{value:T},Te.createElement(Vh.Provider,{value:Tt},Te.createElement(aP.Provider,{value:ht},Te.createElement(xN.Provider,{value:rt},f)),Te.createElement(lP,{disabled:u?.restoreFocus===!1})),Te.createElement(lL,{...u,hiddenTextDescribedById:ae}));function yt(){const St=V?.autoScrollEnabled===!1,Ot=typeof d=="object"?d.enabled===!1:d===!1,Bt=z&&!St&&!Ot;return typeof d=="object"?{...d,enabled:Bt}:{enabled:Bt}}}),hP=P.createContext(null),G2="button",pP="Draggable";function vN(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const a=Hh(pP),{activators:o,activatorEvent:u,active:d,activeNodeRect:f,ariaDescribedById:p,draggableNodes:g,over:v}=P.useContext(Vh),{role:x=G2,roleDescription:w="draggable",tabIndex:y=0}=s??{},_=d?.id===t,S=P.useContext(_?xN:hP),[N,T]=ih(),[C,A]=ih(),z=JL(o,t),M=vu(n);pi(()=>(g.set(t,{id:t,key:a,node:N,activatorNode:C,data:M}),()=>{const O=g.get(t);O&&O.key===a&&g.delete(t)}),[g,t]);const j=P.useMemo(()=>({role:x,tabIndex:y,"aria-disabled":r,"aria-pressed":_&&x===G2?!0:void 0,"aria-roledescription":w,"aria-describedby":p.draggable}),[r,x,y,_,w,p.draggable]);return{active:d,activatorEvent:u,activeNodeRect:f,attributes:j,isDragging:_,listeners:r?void 0:z,node:N,over:v,setNodeRef:T,setActivatorNodeRef:A,transform:S}}const mP="Droppable",gP={timeout:25};function xP(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const a=Hh(mP),{active:o,dispatch:u,over:d,measureDroppableContainers:f}=P.useContext(Vh),p=P.useRef({disabled:n}),g=P.useRef(!1),v=P.useRef(null),x=P.useRef(null),{disabled:w,updateMeasurementsFor:y,timeout:_}={...gP,...s},S=vu(y??r),N=P.useCallback(()=>{if(!g.current){g.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{f(Array.isArray(S.current)?S.current:[S.current]),x.current=null},_)},[_]),T=Gh({callback:N,disabled:w||!o}),C=P.useCallback((j,O)=>{T&&(O&&(T.unobserve(O),g.current=!1),j&&T.observe(j))},[T]),[A,z]=ih(C),M=vu(t);return P.useEffect(()=>{!T||!A.current||(T.disconnect(),g.current=!1,T.observe(A.current))},[A,T]),P.useEffect(()=>(u({type:Hn.RegisterDroppable,element:{id:r,key:a,disabled:n,node:A,rect:v,data:M}}),()=>u({type:Hn.UnregisterDroppable,key:a,id:r})),[r]),P.useEffect(()=>{n!==p.current.disabled&&(u({type:Hn.SetDroppableDisabled,id:r,key:a,disabled:n}),p.current.disabled=n)},[r,a,n,u]),{active:o,rect:v,isOver:d?.id===r,node:A,over:d,setNodeRef:z}}function yN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=yN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function vP(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=yN(e))&&(r&&(r+=" "),r+=t);return r}const yP=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},wP=(e,t)=>({classGroupId:e,validator:t}),wN=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),uh="-",V2=[],bP="arbitrary..",_P=e=>{const t=EP(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return SP(o);const u=o.split(uh),d=u[0]===""&&u.length>1?1:0;return bN(u,d,t)},getConflictingClassGroupIds:(o,u)=>{if(u){const d=r[o],f=n[o];return d?f?yP(f,d):d:f||V2}return n[o]||V2}}},bN=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],a=n.nextPart.get(s);if(a){const f=bN(e,t+1,a);if(f)return f}const o=n.validators;if(o===null)return;const u=t===0?e.join(uh):e.slice(t).join(uh),d=o.length;for(let f=0;f<d;f++){const p=o[f];if(p.validator(u))return p.classGroupId}},SP=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?bP+r:void 0})(),EP=e=>{const{theme:t,classGroups:n}=e;return NP(n,t)},NP=(e,t)=>{const n=wN();for(const r in e){const s=e[r];Yx(s,n,r,t)}return n},Yx=(e,t,n,r)=>{const s=e.length;for(let a=0;a<s;a++){const o=e[a];TP(o,t,n,r)}},TP=(e,t,n,r)=>{if(typeof e=="string"){CP(e,t,n);return}if(typeof e=="function"){kP(e,t,n,r);return}jP(e,t,n,r)},CP=(e,t,n)=>{const r=e===""?t:_N(t,e);r.classGroupId=n},kP=(e,t,n,r)=>{if(AP(e)){Yx(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(wP(n,e))},jP=(e,t,n,r)=>{const s=Object.entries(e),a=s.length;for(let o=0;o<a;o++){const[u,d]=s[o];Yx(d,_N(t,u),n,r)}},_N=(e,t)=>{let n=e;const r=t.split(uh),s=r.length;for(let a=0;a<s;a++){const o=r[a];let u=n.nextPart.get(o);u||(u=wN(),n.nextPart.set(o,u)),n=u}return n},AP=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,RP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const s=(a,o)=>{n[a]=o,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(a){let o=n[a];if(o!==void 0)return o;if((o=r[a])!==void 0)return s(a,o),o},set(a,o){a in n?n[a]=o:s(a,o)}}},Vg="!",W2=":",OP=[],q2=(e,t,n,r,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),MP=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const a=[];let o=0,u=0,d=0,f;const p=s.length;for(let y=0;y<p;y++){const _=s[y];if(o===0&&u===0){if(_===W2){a.push(s.slice(d,y)),d=y+1;continue}if(_==="/"){f=y;continue}}_==="["?o++:_==="]"?o--:_==="("?u++:_===")"&&u--}const g=a.length===0?s:s.slice(d);let v=g,x=!1;g.endsWith(Vg)?(v=g.slice(0,-1),x=!0):g.startsWith(Vg)&&(v=g.slice(1),x=!0);const w=f&&f>d?f-d:void 0;return q2(a,x,v,w)};if(t){const s=t+W2,a=r;r=o=>o.startsWith(s)?a(o.slice(s.length)):q2(OP,!1,o,void 0,!0)}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},DP=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let a=0;a<n.length;a++){const o=n[a],u=o[0]==="[",d=t.has(o);u||d?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(o)):s.push(o)}return s.length>0&&(s.sort(),r.push(...s)),r}},IP=e=>({cache:RP(e.cacheSize),parseClassName:MP(e),sortModifiers:DP(e),..._P(e)}),LP=/\s+/,PP=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=t,o=[],u=e.trim().split(LP);let d="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{isExternal:g,modifiers:v,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:y}=n(p);if(g){d=p+(d.length>0?" "+d:d);continue}let _=!!y,S=r(_?w.substring(0,y):w);if(!S){if(!_){d=p+(d.length>0?" "+d:d);continue}if(S=r(w),!S){d=p+(d.length>0?" "+d:d);continue}_=!1}const N=v.length===0?"":v.length===1?v[0]:a(v).join(":"),T=x?N+Vg:N,C=T+S;if(o.indexOf(C)>-1)continue;o.push(C);const A=s(S,_);for(let z=0;z<A.length;++z){const M=A[z];o.push(T+M)}d=p+(d.length>0?" "+d:d)}return d},FP=(...e)=>{let t=0,n,r,s="";for(;t<e.length;)(n=e[t++])&&(r=SN(n))&&(s&&(s+=" "),s+=r);return s},SN=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=SN(e[r]))&&(n&&(n+=" "),n+=t);return n},zP=(e,...t)=>{let n,r,s,a;const o=d=>{const f=t.reduce((p,g)=>g(p),e());return n=IP(f),r=n.cache.get,s=n.cache.set,a=u,u(d)},u=d=>{const f=r(d);if(f)return f;const p=PP(d,n);return s(d,p),p};return a=o,(...d)=>a(FP(...d))},BP=[],Bn=e=>{const t=n=>n[e]||BP;return t.isThemeGetter=!0,t},EN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,NN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,UP=/^\d+\/\d+$/,$P=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,VP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wo=e=>UP.test(e),Rt=e=>!!e&&!Number.isNaN(Number(e)),ri=e=>!!e&&Number.isInteger(Number(e)),Bm=e=>e.endsWith("%")&&Rt(e.slice(0,-1)),ga=e=>$P.test(e),qP=()=>!0,KP=e=>HP.test(e)&&!GP.test(e),TN=()=>!1,XP=e=>VP.test(e),YP=e=>WP.test(e),JP=e=>!it(e)&&!ot(e),ZP=e=>Dl(e,jN,TN),it=e=>EN.test(e),Bi=e=>Dl(e,AN,KP),Um=e=>Dl(e,rF,Rt),K2=e=>Dl(e,CN,TN),QP=e=>Dl(e,kN,YP),mf=e=>Dl(e,RN,XP),ot=e=>NN.test(e),$c=e=>Il(e,AN),eF=e=>Il(e,sF),X2=e=>Il(e,CN),tF=e=>Il(e,jN),nF=e=>Il(e,kN),gf=e=>Il(e,RN,!0),Dl=(e,t,n)=>{const r=EN.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Il=(e,t,n=!1)=>{const r=NN.exec(e);return r?r[1]?t(r[1]):n:!1},CN=e=>e==="position"||e==="percentage",kN=e=>e==="image"||e==="url",jN=e=>e==="length"||e==="size"||e==="bg-size",AN=e=>e==="length",rF=e=>e==="number",sF=e=>e==="family-name",RN=e=>e==="shadow",aF=()=>{const e=Bn("color"),t=Bn("font"),n=Bn("text"),r=Bn("font-weight"),s=Bn("tracking"),a=Bn("leading"),o=Bn("breakpoint"),u=Bn("container"),d=Bn("spacing"),f=Bn("radius"),p=Bn("shadow"),g=Bn("inset-shadow"),v=Bn("text-shadow"),x=Bn("drop-shadow"),w=Bn("blur"),y=Bn("perspective"),_=Bn("aspect"),S=Bn("ease"),N=Bn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...C(),ot,it],z=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],j=()=>[ot,it,d],O=()=>[Wo,"full","auto",...j()],Y=()=>[ri,"none","subgrid",ot,it],J=()=>["auto",{span:["full",ri,ot,it]},ri,ot,it],F=()=>[ri,"auto",ot,it],re=()=>["auto","min","max","fr",ot,it],k=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],V=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...j()],H=()=>[Wo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],Q=()=>[e,ot,it],ee=()=>[...C(),X2,K2,{position:[ot,it]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",tF,ZP,{size:[ot,it]}],R=()=>[Bm,$c,Bi],U=()=>["","none","full",f,ot,it],B=()=>["",Rt,$c,Bi],G=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[Rt,Bm,X2,K2],me=()=>["","none",w,ot,it],ve=()=>["none",Rt,ot,it],Re=()=>["none",Rt,ot,it],Ue=()=>[Rt,ot,it],Ve=()=>[Wo,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ga],breakpoint:[ga],color:[qP],container:[ga],"drop-shadow":[ga],ease:["in","out","in-out"],font:[JP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ga],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ga],shadow:[ga],spacing:["px",Rt],text:[ga],"text-shadow":[ga],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Wo,it,ot,_]}],container:["container"],columns:[{columns:[Rt,it,ot,u]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[ri,"auto",ot,it]}],basis:[{basis:[Wo,"full","auto",u,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Rt,Wo,"auto","initial","none",it]}],grow:[{grow:["",Rt,ot,it]}],shrink:[{shrink:["",Rt,ot,it]}],order:[{order:[ri,"first","last","none",ot,it]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:J()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:J()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":re()}],"auto-rows":[{"auto-rows":re()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...k(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...k()]}],"align-items":[{items:[...V(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...V(),{baseline:["","last"]}]}],"place-content":[{"place-content":k()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[u,"screen",...H()]}],"min-w":[{"min-w":[u,"screen","none",...H()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",n,$c,Bi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ot,Um]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Bm,it]}],"font-family":[{font:[eF,it,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ot,it]}],"line-clamp":[{"line-clamp":[Rt,"none",ot,Um]}],leading:[{leading:[a,...j()]}],"list-image":[{"list-image":["none",ot,it]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ot,it]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[Rt,"from-font","auto",ot,Bi]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[Rt,"auto",ot,it]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ot,it]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ot,it]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ri,ot,it],radial:["",ot,it],conic:[ri,ot,it]},nF,QP]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:R()}],"gradient-via-pos":[{via:R()}],"gradient-to-pos":[{to:R()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:B()}],"border-w-x":[{"border-x":B()}],"border-w-y":[{"border-y":B()}],"border-w-s":[{"border-s":B()}],"border-w-e":[{"border-e":B()}],"border-w-t":[{"border-t":B()}],"border-w-r":[{"border-r":B()}],"border-w-b":[{"border-b":B()}],"border-w-l":[{"border-l":B()}],"divide-x":[{"divide-x":B()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":B()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Rt,ot,it]}],"outline-w":[{outline:["",Rt,$c,Bi]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",p,gf,mf]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",g,gf,mf]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[Rt,Bi]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":B()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",v,gf,mf]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[Rt,ot,it]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Rt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[ot,it]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Rt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ot,it]}],filter:[{filter:["","none",ot,it]}],blur:[{blur:me()}],brightness:[{brightness:[Rt,ot,it]}],contrast:[{contrast:[Rt,ot,it]}],"drop-shadow":[{"drop-shadow":["","none",x,gf,mf]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",Rt,ot,it]}],"hue-rotate":[{"hue-rotate":[Rt,ot,it]}],invert:[{invert:["",Rt,ot,it]}],saturate:[{saturate:[Rt,ot,it]}],sepia:[{sepia:["",Rt,ot,it]}],"backdrop-filter":[{"backdrop-filter":["","none",ot,it]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[Rt,ot,it]}],"backdrop-contrast":[{"backdrop-contrast":[Rt,ot,it]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Rt,ot,it]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Rt,ot,it]}],"backdrop-invert":[{"backdrop-invert":["",Rt,ot,it]}],"backdrop-opacity":[{"backdrop-opacity":[Rt,ot,it]}],"backdrop-saturate":[{"backdrop-saturate":[Rt,ot,it]}],"backdrop-sepia":[{"backdrop-sepia":["",Rt,ot,it]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ot,it]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Rt,"initial",ot,it]}],ease:[{ease:["linear","initial",S,ot,it]}],delay:[{delay:[Rt,ot,it]}],animate:[{animate:["none",N,ot,it]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,ot,it]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:ve()}],"rotate-x":[{"rotate-x":ve()}],"rotate-y":[{"rotate-y":ve()}],"rotate-z":[{"rotate-z":ve()}],scale:[{scale:Re()}],"scale-x":[{"scale-x":Re()}],"scale-y":[{"scale-y":Re()}],"scale-z":[{"scale-z":Re()}],"scale-3d":["scale-3d"],skew:[{skew:Ue()}],"skew-x":[{"skew-x":Ue()}],"skew-y":[{"skew-y":Ue()}],transform:[{transform:[ot,it,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ot,it]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ot,it]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[Rt,$c,Bi,Um]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},iF=zP(aF);function hs(...e){return iF(vP(e))}const Xe=Te.forwardRef(({className:e,variant:t="secondary",size:n="md",icon:r,children:s,disabled:a,...o},u)=>c.jsxs("button",{ref:u,disabled:a,className:hs("inline-flex items-center justify-center gap-2","font-medium transition-all duration-fast","focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed",n==="sm"&&"px-3 py-2 text-xs rounded-sm",n==="md"&&"px-4 py-2.5 text-sm rounded-sm",t==="primary"&&["bg-blue-500 text-white shadow-sm","hover:bg-blue-600 active:bg-blue-700","disabled:hover:bg-blue-500"],t==="secondary"&&["bg-white text-gray-700 border border-gray-300 shadow-xs","hover:bg-gray-50 hover:border-gray-400","active:bg-gray-100","disabled:hover:bg-white disabled:hover:border-gray-300"],t==="danger"&&["bg-white text-error-500 border border-error-300","hover:bg-error-100 hover:border-error-400","active:bg-error-100","disabled:hover:bg-white"],t==="ghost"&&["text-gray-600 hover:bg-gray-100","active:bg-gray-200"],e),...o,children:[r&&c.jsx("span",{className:"flex-shrink-0",children:r}),s]}));Xe.displayName="Button";const Y2=({trigger:e,items:t,align:n="left",className:r})=>{const[s,a]=Te.useState(!1),o=Te.useRef(null);Te.useEffect(()=>{const d=f=>{o.current&&!o.current.contains(f.target)&&a(!1)};return s&&document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[s]),Te.useEffect(()=>{const d=f=>{f.key==="Escape"&&s&&a(!1)};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[s]);const u=d=>{!d.disabled&&d.onClick&&d.onClick(),a(!1)};return c.jsxs("div",{ref:o,className:hs("relative inline-block",r),children:[c.jsx("div",{onClick:()=>a(!s),children:e}),s&&c.jsx("div",{className:hs("absolute top-full mt-1 z-10","min-w-[200px] max-h-[300px] overflow-y-auto","bg-white border border-gray-200 rounded-md shadow-md","py-1","animate-in fade-in-0 zoom-in-95 duration-100",n==="right"?"right-0":"left-0"),children:t.map((d,f)=>c.jsxs("button",{onClick:()=>u(d),disabled:d.disabled,className:hs("w-full flex items-center gap-2 px-3 py-2 text-left text-sm","transition-colors duration-fast",d.disabled&&"opacity-50 cursor-not-allowed",!d.disabled&&!d.danger&&"hover:bg-gray-100",!d.disabled&&d.danger&&"text-error-500 hover:bg-error-50"),children:[d.icon&&c.jsx("span",{className:"flex-shrink-0",children:d.icon}),c.jsx("span",{children:d.label})]},f))})]})},J2=e=>{let t;const n=new Set,r=(f,p)=>{const g=typeof f=="function"?f(t):f;if(!Object.is(g,t)){const v=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(x=>x(t,v))}},s=()=>t,u={setState:r,getState:s,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,s,u);return u},oF=(e=>e?J2(e):J2),lF=e=>e;function cF(e,t=lF){const n=Te.useSyncExternalStore(e.subscribe,Te.useCallback(()=>t(e.getState()),[e,t]),Te.useCallback(()=>t(e.getInitialState()),[e,t]));return Te.useDebugValue(n),n}const Z2=e=>{const t=oF(e),n=r=>cF(t,r);return Object.assign(n,t),n},ON=(e=>e?Z2(e):Z2);function MN(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var a;const o=d=>d===null?null:JSON.parse(d,void 0),u=(a=n.getItem(s))!=null?a:null;return u instanceof Promise?u.then(o):o(u)},setItem:(s,a)=>n.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>n.removeItem(s)}}const Wg=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Wg(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Wg(r)(n)}}}},uF=(e,t)=>(n,r,s)=>{let a={storage:MN(()=>localStorage),partialize:y=>y,version:0,merge:(y,_)=>({..._,...y}),...t},o=!1;const u=new Set,d=new Set;let f=a.storage;if(!f)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...y)},r,s);const p=()=>{const y=a.partialize({...r()});return f.setItem(a.name,{state:y,version:a.version})},g=s.setState;s.setState=(y,_)=>(g(y,_),p());const v=e((...y)=>(n(...y),p()),r,s);s.getInitialState=()=>v;let x;const w=()=>{var y,_;if(!f)return;o=!1,u.forEach(N=>{var T;return N((T=r())!=null?T:v)});const S=((_=a.onRehydrateStorage)==null?void 0:_.call(a,(y=r())!=null?y:v))||void 0;return Wg(f.getItem.bind(f))(a.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==a.version){if(a.migrate){const T=a.migrate(N.state,N.version);return T instanceof Promise?T.then(C=>[!0,C]):[!0,T]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var T;const[C,A]=N;if(x=a.merge(A,(T=r())!=null?T:v),n(x,!0),C)return p()}).then(()=>{S?.(x,void 0),x=r(),o=!0,d.forEach(N=>N(x))}).catch(N=>{S?.(void 0,N)})};return s.persist={setOptions:y=>{a={...a,...y},y.storage&&(f=y.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:y=>(u.add(y),()=>{u.delete(y)}),onFinishHydration:y=>(d.add(y),()=>{d.delete(y)})},a.skipHydration||w(),x||v},dF=uF,er=[];for(let e=0;e<256;++e)er.push((e+256).toString(16).slice(1));function fF(e,t=0){return(er[e[t+0]]+er[e[t+1]]+er[e[t+2]]+er[e[t+3]]+"-"+er[e[t+4]]+er[e[t+5]]+"-"+er[e[t+6]]+er[e[t+7]]+"-"+er[e[t+8]]+er[e[t+9]]+"-"+er[e[t+10]]+er[e[t+11]]+er[e[t+12]]+er[e[t+13]]+er[e[t+14]]+er[e[t+15]]).toLowerCase()}let $m;const hF=new Uint8Array(16);function pF(){if(!$m){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$m=crypto.getRandomValues.bind(crypto)}return $m(hF)}const mF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Q2={randomUUID:mF};function gF(e,t,n){e=e||{};const r=e.random??e.rng?.()??pF();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,fF(r)}function $r(e,t,n){return Q2.randomUUID&&!e?Q2.randomUUID():gF(e)}const xF=Du("/api/data");async function Ll(e,t){const n=await fetch(`${xF}${e}`,{headers:{"Content-Type":"application/json",...t?.headers??{}},...t});if(!n.ok){const r=await n.text();throw new Error(r||`Data API error (${n.status})`)}return await n.json()}function vF(e={}){const t=new URLSearchParams;e.limit&&t.set("limit",String(e.limit)),e.offset&&t.set("offset",String(e.offset)),e.search&&t.set("search",e.search),e.status&&t.set("status",e.status),e.q&&t.set("q",e.q),e.cursor!==void 0&&e.cursor!==null&&t.set("cursor",String(e.cursor)),e.sort&&t.set("sort",e.sort);const n=t.toString()?`?${t.toString()}`:"";return Ll(`/phrases${n}`)}function yF(){return Ll("/groups")}function DN(e){return Ll("/phrases/enqueue",{method:"POST",body:JSON.stringify(e)})}function wF(e){return Ll("/phrases/delete",{method:"POST",body:JSON.stringify({ids:e})})}function bF(){return Ll("/phrases/clear",{method:"POST"})}function _F(e,t){return Ll("/phrases/group",{method:"POST",body:JSON.stringify({ids:e,group:t})})}const e_={phrases:[],groups:[],stopwords:[],filters:{},savedFilters:[],columnVisibility:{phrase:!0,ws:!0,qws:!0,bws:!0,status:!0,dateAdded:!1},selectedPhraseIds:new Set,selectedGroupId:null,activeGroupIds:new Set,activityLog:[],processProgress:0,processCurrent:0,processTotal:0,columnOrder:[],columnPinning:{},viewTemplates:[],searchMasks:[{id:"1",name:"Google",url:"https://www.google.com/search?q={QUERY}"},{id:"2",name:"Yandex",url:"https://yandex.ru/search/?text={QUERY}"}],phraseColors:{},groupColors:{},pinnedPhraseIds:new Set,footerStats:{},markedPhraseIds:new Set,pinnedGroupIds:new Set,snapshots:[],exportPresets:[],phraseTags:[],version:5,isDataLoaded:!1,isDataLoading:!1,dataError:null,phrasesCursor:null};let Ji=[],Xc=[];const SF=50,qg="keyset-store",t_="keyset-storage-version",n_="2025-11-11",EF=()=>{try{const e=[];[qg,"columnOrder","columnPinning","viewTemplates","phraseColors","groupColors","pinnedPhraseIds","markedPhraseIds","pinnedGroupIds"].forEach(n=>{localStorage.getItem(n)!==null&&(localStorage.removeItem(n),e.push(n))}),e.length&&console.warn("[KeySet][store] Purged stale persisted data:",e)}catch(e){console.error("[KeySet][store] Failed to purge persisted data:",e)}};if(typeof window<"u")try{localStorage.getItem(t_)!==n_&&(EF(),localStorage.setItem(t_,n_))}catch(e){console.error("[KeySet][store] Unable to verify storage version:",e)}const NF=()=>({getItem:e=>{try{return localStorage.getItem(e)}catch(t){return console.error("[KeySet][store] Failed to read from localStorage",t),null}},setItem:(e,t)=>{try{localStorage.setItem(e,t)}catch(n){console.error("[KeySet][store] Failed to write to localStorage",n)}},removeItem:e=>{try{localStorage.removeItem(e)}catch(t){console.error("[KeySet][store] Failed to remove entry from localStorage",t)}}}),r_=e=>{if(e==null)return null;if(typeof e=="number")return e;const t=String(e).match(/(\d+)$/);if(!t)return null;const n=Number(t[1]);return Number.isNaN(n)?null:n},Hm=(...e)=>{for(const t of e)if(typeof t=="number"&&!Number.isNaN(t))return t;return 0},TF=e=>{const t=e.updatedAt?Date.parse(e.updatedAt):Date.now(),n=Hm(e.ws,e.freq),r=Hm(e.wsQuotes,e.freqQuotes,e.qws),s=Hm(e.wsExact,e.freqExact,e.bws),a={ok:"success",ready:"success",done:"success",queued:"pending",pending:"pending",running:"pending",error:"error",failed:"error"};return{id:`freq-${e.id}`,text:e.phrase??"",ws:n,qws:r,bws:s,status:a[(e.status||"").toLowerCase()]??"done",groupId:e.group??null,createdAt:t,dateAdded:t,hasStopword:!1,history:[],locked:!1}},CF=e=>({id:e.id,name:e.name,parentId:e.parentId,children:[],collapsed:!1,type:e.type||"normal",color:e.color||"#6366f1",locked:e.locked??!1,comment:e.comment??void 0}),Kg=e=>{try{const t=n=>{try{if(n===null||typeof n!="object")return n;if(n instanceof Set)return Array.from(n);if(n instanceof Date)return n.toISOString();if(n.__visited)return null;if(n.__visited=!0,Array.isArray(n))return n.map(t).filter(s=>s!==null);const r={};for(const s in n)n.hasOwnProperty(s)&&s!=="__visited"&&(r[s]=t(n[s]));return delete n.__visited,r}catch(r){return console.warn("  :",r),null}};return{phrases:t(e.phrases)||[],groups:t(e.groups)||[],stopwords:t(e.stopwords)||[],timestamp:Date.now()}}catch(t){return console.warn("  :",t),{phrases:[],groups:[],stopwords:[],timestamp:Date.now()}}},jr=e=>{const t=Kg(e);Ji.push(t),Xc=[],Ji.length>SF&&Ji.shift()},Et=ON()(dF((e,t)=>({...e_,history:{past:[],present:{...e_,history:{past:[],present:{},future:[]}},future:[]},addPhrases:async n=>{const r=Array.from(new Set(n.map(s=>(s.text||"").trim()).filter(s=>!!s)));if(r.length===0){t().addLog("warning","  :   ");return}try{await DN({phrases:r,region:225}),t().addLog("info",`   : ${r.length}`),await t().loadInitialData()}catch(s){t().addLog("error",`  : ${s.message}`)}},updatePhrase:(n,r)=>{jr(t()),e(s=>({phrases:s.phrases.map(a=>a.id===n?{...a,...r}:a)})),t().addLog("info",` : ${n.substring(0,8)}...`)},applyWordstatResults:n=>{if(!n||n.length===0)return;jr(t());const r=new Map;n.forEach(s=>{const a=(s?.phrase||"").trim().toLowerCase();a&&r.set(a,{ws:typeof s.ws=="number"?s.ws:null,qws:typeof s.qws=="number"?s.qws:null,bws:typeof s.bws=="number"?s.bws:null,status:s.status||"success"})}),e(s=>({phrases:s.phrases.map(a=>{const o=(a.text||"").trim().toLowerCase(),u=r.get(o);return u?{...a,ws:typeof u.ws=="number"?u.ws:a.ws,qws:typeof u.qws=="number"?u.qws:a.qws,bws:typeof u.bws=="number"?u.bws:a.bws,status:u.status?.toLowerCase().includes("error")?"error":"success"}:a})})),t().addLog("success",` : ${n.length} `)},deletePhrases:async n=>{const r=n.map(s=>r_(s)).filter(s=>s!==null);try{r.length>0&&await wF(r),jr(t()),e(s=>({phrases:s.phrases.filter(a=>!n.includes(a.id)),selectedPhraseIds:new Set(Array.from(s.selectedPhraseIds).filter(a=>!n.includes(a)))})),t().addLog("warning",` : ${n.length}`)}catch(s){t().addLog("error",`   : ${s.message}`)}},clearPhrases:async()=>{try{await bF();const n=t().phrases.length;e({phrases:[],selectedPhraseIds:new Set}),t().addLog("warning",`  (${n} )`)}catch(n){t().addLog("error",`   : ${n.message}`)}},setPhrases:n=>{jr(t()),e({phrases:n,selectedPhraseIds:new Set}),t().addLog("info",` : ${n.length}`)},selectPhrase:(n,r=!1)=>{e(s=>{const a=new Set(r?s.selectedPhraseIds:[]);return a.has(n)?a.delete(n):a.add(n),{selectedPhraseIds:a}})},selectAll:()=>{e(n=>({selectedPhraseIds:new Set(n.phrases.map(r=>r.id))})),t().addLog("info",` : ${t().phrases.length} `)},deselectAll:()=>{e({selectedPhraseIds:new Set})},invertSelection:()=>{e(n=>{const r=new Set(n.phrases.map(a=>a.id)),s=new Set;return r.forEach(a=>{n.selectedPhraseIds.has(a)||s.add(a)}),{selectedPhraseIds:s}}),t().addLog("info"," ")},addGroup:(n,r=null)=>{jr(t());const s={id:$r(),name:n,parentId:r};e(a=>({groups:[...a.groups,s]})),t().addLog("success",` : "${n}"`)},updateGroup:(n,r)=>{jr(t()),e(s=>({groups:s.groups.map(a=>a.id===n?{...a,...r}:a)})),r.name&&t().addLog("info",` : "${r.name}"`)},deleteGroup:n=>{jr(t());const r=t().groups.find(s=>s.id===n);e(s=>({groups:s.groups.filter(a=>a.id!==n&&a.parentId!==n),phrases:s.phrases.map(a=>a.groupId===n?{...a,groupId:null}:a),selectedGroupId:s.selectedGroupId===n?null:s.selectedGroupId})),r&&t().addLog("warning",` : "${r.name}"`)},selectGroup:n=>{if(e({selectedGroupId:n}),n){const r=t().groups.find(s=>s.id===n);if(r){const s=t().phrases.filter(a=>a.groupId===n).length;t().addLog("info",`  : "${r.name}" (${s} )`)}}else t().addLog("info","  -   ")},movePhrases:(n,r)=>{e(o=>({phrases:o.phrases.map(u=>n.includes(u.id)?{...u,groupId:r}:u)}));const s=r?t().groups.find(o=>o.id===r):null,a=s?s.name:" ";t().addLog("info",`   "${a}": ${n.length} .`)},addStopwords:n=>{const r=n.map(s=>({id:$r(),text:s,matchType:"partial",useMorphology:!1,category:""}));e(s=>({stopwords:[...s.stopwords,...r]})),t().addLog("success",`- : ${n.length} .`)},removeStopword:n=>{e(r=>({stopwords:r.stopwords.filter(s=>s.text!==n)})),t().addLog("info",`- : "${n}"`)},clearStopwords:()=>{const n=t().stopwords.length;e({stopwords:[]}),t().addLog("warning",` -  (${n} .)`)},addStopword:n=>{e(r=>({stopwords:[...r.stopwords,n]})),t().addLog("success",`- : "${n.text}"`)},deleteStopword:n=>{const r=t().stopwords.find(s=>s.id===n);e(s=>({stopwords:s.stopwords.filter(a=>a.id!==n)})),r&&t().addLog("info",`- : "${r.text}"`)},updateStopword:(n,r)=>{e(s=>({stopwords:s.stopwords.map(a=>a.id===n?{...a,...r}:a)}))},markStopwordPhrases:()=>{const{phrases:n,stopwords:r}=t(),s=[],a=n.map(o=>{const u=r.some(d=>o.text.includes(d.text));return u&&s.push(o.id),{...o,hasStopword:u}});return e({phrases:a}),t().addLog("info",`   -: ${s.length}`),s},deleteStopwordPhrases:()=>{const n=t().phrases.length;e(s=>({phrases:s.phrases.filter(a=>!a.hasStopword)}));const r=n-t().phrases.length;return t().addLog("warning",`   -: ${r}`),r},addLog:(n,r)=>{const s={id:$r(),timestamp:Date.now(),level:n,message:r};e(a=>({activityLog:[...a.activityLog.slice(-99),s]}))},clearLog:()=>{e({activityLog:[]})},setFilters:n=>{e(r=>({filters:{...r.filters,...n}}))},clearFilters:()=>{e({filters:{}}),t().addLog("info"," ")},saveCurrentFilter:n=>{const r={id:$r(),name:n,filter:t().filters};e(s=>({savedFilters:[...s.savedFilters,r]})),t().addLog("success",` : "${n}"`)},applyFilter:n=>{const r=t().savedFilters.find(s=>s.id===n);r&&(e({filters:r.filter}),t().addLog("info",` : "${r.name}"`))},deleteSavedFilter:n=>{e(r=>({savedFilters:r.savedFilters.filter(s=>s.id!==n)}))},setColumnVisibility:n=>{e(r=>({columnVisibility:{...r.columnVisibility,...n}}))},setProcessProgress:(n,r,s)=>{e({processProgress:n,processCurrent:r,processTotal:s})},resetProgress:()=>{e({processProgress:0,processCurrent:0,processTotal:0})},editPhrase:(n,r)=>{jr(t()),e(s=>({phrases:s.phrases.map(a=>a.id===n?{...a,text:r}:a)})),t().addLog("info"," ")},markRowColor:(n,r)=>{e(s=>({phrases:s.phrases.map(a=>a.id===n?{...a,color:r}:a)}))},toggleRowLock:n=>{e(r=>({phrases:r.phrases.map(s=>s.id===n?{...s,locked:!s.locked}:s)}))},deleteSelectedPhrases:async n=>{await t().deletePhrases(n)},movePhrasesToGroup:async(n,r)=>{const s=n.map(a=>r_(a)).filter(a=>a!==null);try{s.length>0&&await _F(s,r),jr(t()),e(a=>({phrases:a.phrases.map(o=>n.includes(o.id)?{...o,groupId:r}:o),selectedPhraseIds:new Set})),t().addLog("info",` : ${n.length} .`)}catch(a){t().addLog("error",`   : ${a.message}`)}},copyPhrasesToGroup:(n,r)=>{jr(t());const a=t().phrases.filter(o=>n.includes(o.id)).map(o=>({...o,id:$r(),groupId:r,createdAt:Date.now()}));e(o=>({phrases:[...o.phrases,...a]})),t().addLog("success",` : ${a.length} .`)},undo:()=>{if(Ji.length===0){t().addLog("warning"," ");return}const n=Kg(t());Xc.push(n);const r=Ji.pop();e({phrases:r.phrases,groups:r.groups,stopwords:r.stopwords}),t().addLog("info","  ")},redo:()=>{if(Xc.length===0){t().addLog("warning"," ");return}const n=Kg(t());Ji.push(n);const r=Xc.pop();e({phrases:r.phrases,groups:r.groups,stopwords:r.stopwords}),t().addLog("info","  ")},canUndo:()=>Ji.length>0,canRedo:()=>Xc.length>0,toggleActiveGroup:n=>{e(r=>{const s=new Set(r.activeGroupIds);return s.has(n)?s.delete(n):s.add(n),{activeGroupIds:s}})},clearActiveGroups:()=>{e({activeGroupIds:new Set})},setColumnOrder:n=>{e({columnOrder:n}),localStorage.setItem("columnOrder",JSON.stringify(n))},setColumnPinning:n=>{e({columnPinning:n}),localStorage.setItem("columnPinning",JSON.stringify(n))},saveViewTemplate:n=>{const r=t(),s={id:$r(),name:n,columnVisibility:r.columnVisibility,columnOrder:r.columnOrder,columnPinning:r.columnPinning,sorting:[]};e(a=>({viewTemplates:[...a.viewTemplates,s]})),localStorage.setItem("viewTemplates",JSON.stringify([...r.viewTemplates,s])),t().addLog("success",`  : "${n}"`)},loadViewTemplate:n=>{const r=t().viewTemplates.find(s=>s.id===n);r&&(e({columnVisibility:r.columnVisibility,columnOrder:r.columnOrder,columnPinning:r.columnPinning}),t().addLog("info",`  : "${r.name}"`))},deleteViewTemplate:n=>{const r=t().viewTemplates.find(a=>a.id===n);e(a=>({viewTemplates:a.viewTemplates.filter(o=>o.id!==n)}));const s=t().viewTemplates;localStorage.setItem("viewTemplates",JSON.stringify(s)),r&&t().addLog("warning",`  : "${r.name}"`)},addSearchMask:n=>{e(r=>({searchMasks:[...r.searchMasks,n]})),t().addLog("success",`  : "${n.name}"`)},removeSearchMask:n=>{const r=t().searchMasks.find(s=>s.id===n);e(s=>({searchMasks:s.searchMasks.filter(a=>a.id!==n)})),r&&t().addLog("info",`  : "${r.name}"`)},markPhraseColor:(n,r)=>{e(s=>({phraseColors:{...s.phraseColors,[n]:r}})),localStorage.setItem("phraseColors",JSON.stringify({...t().phraseColors,[n]:r}))},setGroupColor:(n,r)=>{e(s=>({groupColors:{...s.groupColors,[n]:r}})),localStorage.setItem("groupColors",JSON.stringify({...t().groupColors,[n]:r}))},togglePinPhrase:n=>{e(s=>{const a=new Set(s.pinnedPhraseIds);return a.has(n)?a.delete(n):a.add(n),{pinnedPhraseIds:a}});const r=Array.from(t().pinnedPhraseIds);localStorage.setItem("pinnedPhraseIds",JSON.stringify(r))},updateFooterStats:(n,r)=>{e(s=>({footerStats:{...s.footerStats,[n]:r}}))},toggleMarkPhrase:n=>{e(r=>{const s=new Set(r.markedPhraseIds);return s.has(n)?s.delete(n):s.add(n),{markedPhraseIds:s}})},markPhrasesByFilter:()=>{jr(t());const n=t(),r=new Set(n.markedPhraseIds),s=n.phrases.filter(a=>{const{filters:o}=n;return!(o.wsMin&&(a.ws||0)<o.wsMin||o.wsMax&&(a.ws||0)>o.wsMax||o.contains&&!a.text.toLowerCase().includes(o.contains.toLowerCase())||o.notContains&&a.text.toLowerCase().includes(o.notContains.toLowerCase()))});s.forEach(a=>{r.add(a.id)}),e({markedPhraseIds:r}),t().addLog("success",`  : ${s.length} `)},invertMarkedPhrases:()=>{e(n=>{const r=new Set(n.phrases.map(a=>a.id)),s=new Set;return r.forEach(a=>{n.markedPhraseIds.has(a)||s.add(a)}),{markedPhraseIds:s}}),t().addLog("info"," ")},clearAllMarks:()=>{e({markedPhraseIds:new Set}),t().addLog("info","  ")},markAllPhrases:()=>{e(n=>({markedPhraseIds:new Set(n.phrases.map(r=>r.id))})),t().addLog("info",`  : ${t().phrases.length}`)},unmarkAllPhrases:()=>{e({markedPhraseIds:new Set}),t().addLog("info","  ")},togglePinGroup:n=>{e(r=>{const s=new Set(r.pinnedGroupIds);return s.has(n)?s.delete(n):s.add(n),{pinnedGroupIds:s}})},copyGroupStructure:(n,r)=>{if(jr(t()),!t().groups.find(u=>u.id===n))return;const o=t().groups.filter(u=>u.parentId===n).map(u=>({...u,id:$r(),parentId:r}));e(u=>({groups:[...u.groups,...o]})),t().addLog("success",`  : ${o.length} `)},createSnapshot:(n,r="")=>{const s=t(),a={id:$r(),name:n,description:r,timestamp:Date.now(),data:{phrases:JSON.parse(JSON.stringify(s.phrases)),groups:JSON.parse(JSON.stringify(s.groups)),filters:{...s.filters}}};e(o=>({snapshots:[...o.snapshots,a]})),t().addLog("success",` : "${n}"`)},restoreSnapshot:n=>{const r=t().snapshots.find(s=>s.id===n);r&&(jr(t()),e({phrases:JSON.parse(JSON.stringify(r.data.phrases)),groups:JSON.parse(JSON.stringify(r.data.groups)),filters:{...r.data.filters},selectedPhraseIds:new Set}),t().addLog("success",` : "${r.name}"`))},deleteSnapshot:n=>{const r=t().snapshots.find(s=>s.id===n);e(s=>({snapshots:s.snapshots.filter(a=>a.id!==n)})),r&&t().addLog("warning",` : "${r.name}"`)},saveExportPreset:n=>{const r={...n,id:$r(),created:Date.now()};e(s=>({exportPresets:[...s.exportPresets,r]})),t().addLog("success",`  : "${n.name}"`)},loadExportPreset:n=>t().exportPresets.find(s=>s.id===n),deleteExportPreset:n=>{const r=t().exportPresets.find(s=>s.id===n);e(s=>({exportPresets:s.exportPresets.filter(a=>a.id!==n)})),r&&t().addLog("warning",`  : "${r.name}"`)},addPhraseTag:(n,r="#6366f1")=>{const s={id:$r(),name:n,color:r,created:Date.now()};e(a=>({phraseTags:[...a.phraseTags,s]})),t().addLog("success",` : "${n}"`)},assignTagToPhrase:(n,r)=>{e(s=>({phrases:s.phrases.map(a=>a.id===n?{...a,tags:[...a.tags||[],r]}:a)}))},removeTagFromPhrase:(n,r)=>{e(s=>({phrases:s.phrases.map(a=>a.id===n?{...a,tags:(a.tags||[]).filter(o=>o!==r)}:a)}))},deletePhraseTag:n=>{e(r=>({phraseTags:r.phraseTags.filter(s=>s.id!==n),phrases:r.phrases.map(s=>({...s,tags:(s.tags||[]).filter(a=>a!==n)}))})),t().addLog("warning"," ")},updateGroupParent:(n,r)=>{jr(t()),e(o=>({groups:o.groups.map(u=>u.id===n?{...u,parentId:r}:u)}));const s=t().groups.find(o=>o.id===n),a=r?t().groups.find(o=>o.id===r):null;if(s){const o=a?a.name:"";t().addLog("success",` "${s.name}"   "${o}"`)}},loadInitialData:async()=>{const{isDataLoading:n}=t();if(!n){e({isDataLoading:!0,dataError:null});try{const[r,s]=await Promise.all([vF({limit:1e3}),yF()]),a=Array.isArray(r?.items)?r.items:[],o=r?.nextCursor??null;e(()=>({phrases:a.map(TF),groups:s.map(CF),selectedPhraseIds:new Set,activeGroupIds:new Set,pinnedPhraseIds:new Set,markedPhraseIds:new Set,pinnedGroupIds:new Set,isDataLoading:!1,isDataLoaded:!0,dataError:null,phrasesCursor:o}))}catch(r){e({isDataLoading:!1,isDataLoaded:!1,dataError:r.message||"   ",phrasesCursor:null})}}}}),{name:qg,storage:MN(()=>NF()),version:2,partialize:e=>({stopwords:e.stopwords,filters:e.filters,savedFilters:e.savedFilters,columnVisibility:e.columnVisibility,columnOrder:e.columnOrder,columnPinning:e.columnPinning,viewTemplates:e.viewTemplates,searchMasks:e.searchMasks,phraseColors:e.phraseColors,groupColors:e.groupColors,snapshots:e.snapshots,exportPresets:e.exportPresets,phraseTags:e.phraseTags,version:e.version}),onRehydrateStorage:()=>(e,t)=>{if(t){console.error("[KeySet][store] Rehydration failed, clearing corrupted data",t);try{localStorage.removeItem(qg)}catch(n){console.error("[KeySet][store] Failed to remove corrupted store snapshot",n)}return}if(e){e.selectedPhraseIds=new Set,e.selectedGroupId=null,e.activeGroupIds=new Set,e.pinnedPhraseIds=new Set,e.markedPhraseIds=new Set,e.pinnedGroupIds=new Set;const n=(s,a=null)=>{try{const o=localStorage.getItem(s);if(o)return JSON.parse(o)}catch(o){console.warn(`  ${s}:`,o),localStorage.removeItem(s)}return a};e.columnOrder=n("columnOrder",[]),e.columnPinning=n("columnPinning",{}),e.viewTemplates=n("viewTemplates",[]),e.phraseColors=n("phraseColors",{}),e.groupColors=n("groupColors",{});const r=s=>{try{const a=localStorage.getItem(s);if(a){const o=JSON.parse(a);if(Array.isArray(o))return new Set(o)}}catch(a){console.warn(`  Set ${s}:`,a),localStorage.removeItem(s)}return new Set};e.pinnedPhraseIds=r("pinnedPhraseIds"),e.markedPhraseIds=r("markedPhraseIds"),e.pinnedGroupIds=r("pinnedGroupIds"),setTimeout(()=>{e.addLog&&e.addLog("success","   localStorage")},0)}}})),kF=({onImportClick:e,onExportClick:t,onDuplicatesClick:n,onStopwordsClick:r,onParsingClick:s,onFiltersClick:a,onColumnSettingsClick:o,onStatisticsClick:u,onSimilarPhrasesClick:d,onAutomationClick:f,onGroupTypeManagerClick:p,onViewTemplatesClick:g,onCrossMinusationClick:v,onMorphDuplicatesClick:x,onDataQualityClick:w,onPipelinesClick:y,onExportPresetsClick:_,onSnapshotsClick:S,onTagsClick:N})=>{const{selectedPhraseIds:T,phrases:C,markedPhraseIds:A,selectAll:z,deselectAll:M,invertSelection:j,deletePhrases:O,clearPhrases:Y,markAllPhrases:J,unmarkAllPhrases:F,invertMarkedPhrases:re,markPhrasesByFilter:k}=Et(),V=T.size,K=V>0,H=()=>{if(!K)return;window.confirm(`   (${V} .)?`)&&O(Array.from(T))},Q=()=>{if(C.length===0)return;window.confirm(`   (${C.length} )?`)&&Y()},ee=[{label:" ",value:"select-all",onClick:z},{label:" ",value:"deselect-all",onClick:M,disabled:!K},{label:"",value:"invert",onClick:j}],ae=[{label:" ",value:"mark-all",onClick:J},{label:"  ",value:"unmark-all",onClick:F,disabled:A.size===0},{label:" ",value:"invert-marks",onClick:re},{label:"  ",value:"mark-by-filter",onClick:k}];return c.jsxs("div",{className:"h-14 bg-white border-b border-gray-200 px-4 flex items-center gap-2",children:[c.jsx(Xe,{variant:"primary",icon:c.jsx(Ax,{className:"w-4 h-4"}),onClick:e,children:""}),c.jsxs(Xe,{variant:"danger",icon:c.jsx(wl,{className:"w-4 h-4"}),onClick:H,disabled:!K,children:[" ",K&&`(${V})`]}),c.jsx(Y2,{trigger:c.jsxs(Xe,{variant:"secondary",children:["",c.jsx(Gb,{className:"w-4 h-4"})]}),items:ee}),c.jsx(Y2,{trigger:c.jsxs(Xe,{variant:"secondary",children:[c.jsx(fR,{className:"w-4 h-4 mr-1"})," ",A.size>0&&`(${A.size})`,c.jsx(Gb,{className:"w-4 h-4 ml-1"})]}),items:ae}),c.jsx("div",{className:"w-px h-6 bg-gray-200"}),c.jsx(Xe,{variant:"secondary",onClick:s,title:"   Yandex Wordstat",children:""}),c.jsx(Xe,{variant:"secondary",onClick:a,title:" ",children:""}),c.jsx(Xe,{variant:"secondary",onClick:o,title:"  ",children:""}),c.jsx(Xe,{variant:"secondary",icon:c.jsx(AR,{className:"w-4 h-4"}),onClick:g,title:"  ",children:""}),c.jsx("div",{className:"w-px h-6 bg-gray-200"}),c.jsx(Xe,{variant:"secondary",onClick:n,disabled:C.length===0,title:"  ",children:" "}),c.jsx(Xe,{variant:"secondary",onClick:x,disabled:C.length===0,title:"  ",icon:c.jsx(Yf,{className:"w-4 h-4"}),children:". "}),c.jsx(Xe,{variant:"secondary",onClick:v,disabled:C.length===0,title:"- ",icon:c.jsx(Xf,{className:"w-4 h-4"}),children:"-"}),c.jsx(Xe,{variant:"secondary",onClick:w,disabled:C.length===0,title:"    ",icon:c.jsx(rE,{className:"w-4 h-4"}),children:""}),c.jsx(Xe,{variant:"secondary",onClick:y,disabled:C.length===0,title:"   1 ",icon:c.jsx(aE,{className:"w-4 h-4"}),children:""}),c.jsx(Xe,{variant:"secondary",onClick:r,title:" - (-)",children:"-"}),c.jsx(Xe,{variant:"secondary",icon:c.jsx(Lh,{className:"w-4 h-4"}),onClick:d,disabled:C.length===0,title:"    ",children:""}),c.jsx(Xe,{variant:"secondary",icon:c.jsx(bg,{className:"w-4 h-4"}),onClick:u,disabled:C.length===0,title:" ",children:""}),c.jsx("div",{className:"w-px h-6 bg-gray-200"}),c.jsx(Xe,{variant:"secondary",icon:c.jsx(ZS,{className:"w-4 h-4"}),onClick:p,title:"  ",children:" "}),c.jsx(Xe,{variant:"secondary",icon:c.jsx(T5,{className:"w-4 h-4"}),onClick:N,title:"  ",children:""}),c.jsx(Xe,{variant:"secondary",icon:c.jsx(XS,{className:"w-4 h-4"}),onClick:f,title:"  ",children:""}),c.jsx(Xe,{variant:"secondary",icon:c.jsx(pR,{className:"w-4 h-4"}),onClick:S,title:"  ",children:""}),c.jsx(Xe,{variant:"secondary",onClick:Q,disabled:C.length===0,children:""}),c.jsx("div",{className:"flex-1"}),c.jsx(Xe,{variant:"secondary",icon:c.jsx(tE,{className:"w-4 h-4"}),onClick:_,title:"  ",children:""}),c.jsx(Xe,{variant:"secondary",icon:c.jsx(YS,{className:"w-4 h-4"}),onClick:t,disabled:C.length===0,children:""}),C.length>0&&c.jsxs("div",{className:"text-xs text-gray-500",children:[" : ",c.jsx("span",{className:"font-medium text-gray-700",children:C.length}),K&&c.jsxs(c.Fragment,{children:[" "," | : ",c.jsx("span",{className:"font-medium text-blue-600",children:V})]})]})]})};function jF(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function ui(e,t){return typeof e=="function"?e(t):e}function Jr(e,t){return n=>{t.setState(r=>({...r,[e]:ui(n,r[e])}))}}function Wh(e){return e instanceof Function}function AF(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function RF(e,t){const n=[],r=s=>{s.forEach(a=>{n.push(a);const o=t(a);o!=null&&o.length&&r(o)})};return r(e),n}function bt(e,t,n){let r=[],s;return a=>{let o;n.key&&n.debug&&(o=Date.now());const u=e(a);if(!(u.length!==r.length||u.some((p,g)=>r[g]!==p)))return s;r=u;let f;if(n.key&&n.debug&&(f=Date.now()),s=t(...u),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const p=Math.round((Date.now()-o)*100)/100,g=Math.round((Date.now()-f)*100)/100,v=g/16,x=(w,y)=>{for(w=String(w);w.length<y;)w=" "+w;return w};console.info(`%c ${x(g,5)} /${x(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,n?.key)}return s}}function _t(e,t,n,r){return{debug:()=>{var s;return(s=e?.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function OF(e,t,n,r){const s=()=>{var o;return(o=a.getValue())!=null?o:e.options.renderFallbackValue},a={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:bt(()=>[e,n,t,a],(o,u,d,f)=>({table:o,column:u,row:d,cell:f,getValue:f.getValue,renderValue:f.renderValue}),_t(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(a,n,t,e)},{}),a}function MF(e,t,n,r){var s,a;const u={...e._getDefaultColumnDef(),...t},d=u.accessorKey;let f=(s=(a=u.id)!=null?a:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?s:typeof u.header=="string"?u.header:void 0,p;if(u.accessorFn?p=u.accessorFn:d&&(d.includes(".")?p=v=>{let x=v;for(const y of d.split(".")){var w;x=(w=x)==null?void 0:w[y]}return x}:p=v=>v[u.accessorKey]),!f)throw new Error;let g={id:`${String(f)}`,accessorFn:p,parent:r,depth:n,columnDef:u,columns:[],getFlatColumns:bt(()=>[!0],()=>{var v;return[g,...(v=g.columns)==null?void 0:v.flatMap(x=>x.getFlatColumns())]},_t(e.options,"debugColumns")),getLeafColumns:bt(()=>[e._getOrderColumnsFn()],v=>{var x;if((x=g.columns)!=null&&x.length){let w=g.columns.flatMap(y=>y.getLeafColumns());return v(w)}return[g]},_t(e.options,"debugColumns"))};for(const v of e._features)v.createColumn==null||v.createColumn(g,e);return g}const cr="debugHeaders";function s_(e,t,n){var r;let a={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],u=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(u),o.push(d)};return u(a),o},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(a,e)}),a}const DF={createTable:e=>{e.getHeaderGroups=bt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var a,o;const u=(a=r?.map(g=>n.find(v=>v.id===g)).filter(Boolean))!=null?a:[],d=(o=s?.map(g=>n.find(v=>v.id===g)).filter(Boolean))!=null?o:[],f=n.filter(g=>!(r!=null&&r.includes(g.id))&&!(s!=null&&s.includes(g.id)));return xf(t,[...u,...f,...d],e)},_t(e.options,cr)),e.getCenterHeaderGroups=bt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(a=>!(r!=null&&r.includes(a.id))&&!(s!=null&&s.includes(a.id))),xf(t,n,e,"center")),_t(e.options,cr)),e.getLeftHeaderGroups=bt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const a=(s=r?.map(o=>n.find(u=>u.id===o)).filter(Boolean))!=null?s:[];return xf(t,a,e,"left")},_t(e.options,cr)),e.getRightHeaderGroups=bt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const a=(s=r?.map(o=>n.find(u=>u.id===o)).filter(Boolean))!=null?s:[];return xf(t,a,e,"right")},_t(e.options,cr)),e.getFooterGroups=bt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),_t(e.options,cr)),e.getLeftFooterGroups=bt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),_t(e.options,cr)),e.getCenterFooterGroups=bt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),_t(e.options,cr)),e.getRightFooterGroups=bt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),_t(e.options,cr)),e.getFlatHeaders=bt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,cr)),e.getLeftFlatHeaders=bt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,cr)),e.getCenterFlatHeaders=bt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,cr)),e.getRightFlatHeaders=bt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),_t(e.options,cr)),e.getCenterLeafHeaders=bt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),_t(e.options,cr)),e.getLeftLeafHeaders=bt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),_t(e.options,cr)),e.getRightLeafHeaders=bt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),_t(e.options,cr)),e.getLeafHeaders=bt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,a,o,u,d,f;return[...(s=(a=t[0])==null?void 0:a.headers)!=null?s:[],...(o=(u=n[0])==null?void 0:u.headers)!=null?o:[],...(d=(f=r[0])==null?void 0:f.headers)!=null?d:[]].map(p=>p.getLeafHeaders()).flat()},_t(e.options,cr))}};function xf(e,t,n,r){var s,a;let o=0;const u=function(v,x){x===void 0&&(x=1),o=Math.max(o,x),v.filter(w=>w.getIsVisible()).forEach(w=>{var y;(y=w.columns)!=null&&y.length&&u(w.columns,x+1)},0)};u(e);let d=[];const f=(v,x)=>{const w={depth:x,id:[r,`${x}`].filter(Boolean).join("_"),headers:[]},y=[];v.forEach(_=>{const S=[...y].reverse()[0],N=_.column.depth===w.depth;let T,C=!1;if(N&&_.column.parent?T=_.column.parent:(T=_.column,C=!0),S&&S?.column===T)S.subHeaders.push(_);else{const A=s_(n,T,{id:[r,x,T.id,_?.id].filter(Boolean).join("_"),isPlaceholder:C,placeholderId:C?`${y.filter(z=>z.column===T).length}`:void 0,depth:x,index:y.length});A.subHeaders.push(_),y.push(A)}w.headers.push(_),_.headerGroup=w}),d.push(w),x>0&&f(y,x-1)},p=t.map((v,x)=>s_(n,v,{depth:o,index:x}));f(p,o-1),d.reverse();const g=v=>v.filter(w=>w.column.getIsVisible()).map(w=>{let y=0,_=0,S=[0];w.subHeaders&&w.subHeaders.length?(S=[],g(w.subHeaders).forEach(T=>{let{colSpan:C,rowSpan:A}=T;y+=C,S.push(A)})):y=1;const N=Math.min(...S);return _=_+N,w.colSpan=y,w.rowSpan=_,{colSpan:y,rowSpan:_}});return g((s=(a=d[0])==null?void 0:a.headers)!=null?s:[]),d}const IF=(e,t,n,r,s,a,o)=>{let u={id:t,index:r,original:n,depth:s,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(u._valuesCache.hasOwnProperty(d))return u._valuesCache[d];const f=e.getColumn(d);if(f!=null&&f.accessorFn)return u._valuesCache[d]=f.accessorFn(u.original,r),u._valuesCache[d]},getUniqueValues:d=>{if(u._uniqueValuesCache.hasOwnProperty(d))return u._uniqueValuesCache[d];const f=e.getColumn(d);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(u._uniqueValuesCache[d]=f.columnDef.getUniqueValues(u.original,r),u._uniqueValuesCache[d]):(u._uniqueValuesCache[d]=[u.getValue(d)],u._uniqueValuesCache[d])},renderValue:d=>{var f;return(f=u.getValue(d))!=null?f:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>RF(u.subRows,d=>d.subRows),getParentRow:()=>u.parentId?e.getRow(u.parentId,!0):void 0,getParentRows:()=>{let d=[],f=u;for(;;){const p=f.getParentRow();if(!p)break;d.push(p),f=p}return d.reverse()},getAllCells:bt(()=>[e.getAllLeafColumns()],d=>d.map(f=>OF(e,u,f,f.id)),_t(e.options,"debugRows")),_getAllCellsByColumnId:bt(()=>[u.getAllCells()],d=>d.reduce((f,p)=>(f[p.column.id]=p,f),{}),_t(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const f=e._features[d];f==null||f.createRow==null||f.createRow(u,e)}return u},LF={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},IN=(e,t,n)=>{var r,s;const a=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(a))};IN.autoRemove=e=>Rs(e);const LN=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};LN.autoRemove=e=>Rs(e);const PN=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};PN.autoRemove=e=>Rs(e);const FN=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};FN.autoRemove=e=>Rs(e);const zN=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});zN.autoRemove=e=>Rs(e)||!(e!=null&&e.length);const BN=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});BN.autoRemove=e=>Rs(e)||!(e!=null&&e.length);const UN=(e,t,n)=>e.getValue(t)===n;UN.autoRemove=e=>Rs(e);const $N=(e,t,n)=>e.getValue(t)==n;$N.autoRemove=e=>Rs(e);const Jx=(e,t,n)=>{let[r,s]=n;const a=e.getValue(t);return a>=r&&a<=s};Jx.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,a=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(s)?1/0:s;if(a>o){const u=a;a=o,o=u}return[a,o]};Jx.autoRemove=e=>Rs(e)||Rs(e[0])&&Rs(e[1]);const xa={includesString:IN,includesStringSensitive:LN,equalsString:PN,arrIncludes:FN,arrIncludesAll:zN,arrIncludesSome:BN,equals:UN,weakEquals:$N,inNumberRange:Jx};function Rs(e){return e==null||e===""}const PF={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Jr("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);return typeof r=="string"?xa.includesString:typeof r=="number"?xa.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?xa.equals:Array.isArray(r)?xa.arrIncludes:xa.weakEquals},e.getFilterFn=()=>{var n,r;return Wh(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:xa[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),a=r?.find(p=>p.id===e.id),o=ui(n,a?a.value:void 0);if(a_(s,o,e)){var u;return(u=r?.filter(p=>p.id!==e.id))!=null?u:[]}const d={id:e.id,value:o};if(a){var f;return(f=r?.map(p=>p.id===e.id?d:p))!=null?f:[]}return r!=null&&r.length?[...r,d]:[d]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var a;return(a=ui(t,s))==null?void 0:a.filter(o=>{const u=n.find(d=>d.id===o.id);if(u){const d=u.getFilterFn();if(a_(d,o.value,u))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function a_(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const FF=(e,t,n)=>n.reduce((r,s)=>{const a=s.getValue(e);return r+(typeof a=="number"?a:0)},0),zF=(e,t,n)=>{let r;return n.forEach(s=>{const a=s.getValue(e);a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}),r},BF=(e,t,n)=>{let r;return n.forEach(s=>{const a=s.getValue(e);a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}),r},UF=(e,t,n)=>{let r,s;return n.forEach(a=>{const o=a.getValue(e);o!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)))}),[r,s]},$F=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let a=s.getValue(e);a!=null&&(a=+a)>=a&&(++n,r+=a)}),n)return r/n},HF=(e,t)=>{if(!t.length)return;const n=t.map(a=>a.getValue(e));if(!AF(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((a,o)=>a-o);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},GF=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),VF=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,WF=(e,t)=>t.length,Gm={sum:FF,min:zF,max:BF,extent:UF,mean:$F,median:HF,unique:GF,uniqueCount:VF,count:WF},qF={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Jr("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);if(typeof r=="number")return Gm.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Gm.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Wh(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Gm[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function KF(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(a=>!t.includes(a.id));return n==="remove"?r:[...t.map(a=>e.find(o=>o.id===a)).filter(Boolean),...r]}const XF={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Jr("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=bt(n=>[tu(t,n)],n=>n.findIndex(r=>r.id===e.id),_t(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=tu(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=tu(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=bt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let a=[];if(!(t!=null&&t.length))a=s;else{const o=[...t],u=[...s];for(;u.length&&o.length;){const d=o.shift(),f=u.findIndex(p=>p.id===d);f>-1&&a.push(u.splice(f,1)[0])}a=[...a,...u]}return KF(a,n,r)},_t(e.options,"debugTable"))}},Vm=()=>({left:[],right:[]}),YF={getInitialState:e=>({columnPinning:Vm(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Jr("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var a,o;if(n==="right"){var u,d;return{left:((u=s?.left)!=null?u:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((d=s?.right)!=null?d:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(n==="left"){var f,p;return{left:[...((f=s?.left)!=null?f:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((p=s?.right)!=null?p:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((a=s?.left)!=null?a:[]).filter(g=>!(r!=null&&r.includes(g))),right:((o=s?.right)!=null?o:[]).filter(g=>!(r!=null&&r.includes(g)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,a,o;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((a=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?a:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(u=>u.id),{left:r,right:s}=t.getState().columnPinning,a=n.some(u=>r?.includes(u)),o=n.some(u=>s?.includes(u));return a?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=bt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const a=[...r??[],...s??[]];return n.filter(o=>!a.includes(o.column.id))},_t(t.options,"debugRows")),e.getLeftVisibleCells=bt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(a=>n.find(o=>o.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),_t(t.options,"debugRows")),e.getRightVisibleCells=bt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(a=>n.find(o=>o.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),_t(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Vm():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Vm())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,a;return!!((s=r.left)!=null&&s.length||(a=r.right)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=bt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),_t(e.options,"debugColumns")),e.getRightLeafColumns=bt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),_t(e.options,"debugColumns")),e.getCenterLeafColumns=bt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(a=>!s.includes(a.id))},_t(e.options,"debugColumns"))}};function JF(e){return e||(typeof document<"u"?document:null)}const vf={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Wm=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),ZF={getDefaultColumnDef:()=>vf,getInitialState:e=>({columnSizing:{},columnSizingInfo:Wm(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Jr("columnSizing",e),onColumnSizingInfoChange:Jr("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const a=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:vf.minSize,(r=a??e.columnDef.size)!=null?r:vf.size),(s=e.columnDef.maxSize)!=null?s:vf.maxSize)},e.getStart=bt(n=>[n,tu(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,a)=>s+a.getSize(),0),_t(t.options,"debugColumns")),e.getAfter=bt(n=>[n,tu(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,a)=>s+a.getSize(),0),_t(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var a;n+=(a=s.column.getSize())!=null?a:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r?.getCanResize();return a=>{if(!r||!s||(a.persist==null||a.persist(),qm(a)&&a.touches&&a.touches.length>1))return;const o=e.getSize(),u=e?e.getLeafHeaders().map(S=>[S.column.id,S.column.getSize()]):[[r.id,r.getSize()]],d=qm(a)?Math.round(a.touches[0].clientX):a.clientX,f={},p=(S,N)=>{typeof N=="number"&&(t.setColumnSizingInfo(T=>{var C,A;const z=t.options.columnResizeDirection==="rtl"?-1:1,M=(N-((C=T?.startOffset)!=null?C:0))*z,j=Math.max(M/((A=T?.startSize)!=null?A:0),-.999999);return T.columnSizingStart.forEach(O=>{let[Y,J]=O;f[Y]=Math.round(Math.max(J+J*j,0)*100)/100}),{...T,deltaOffset:M,deltaPercentage:j}}),(t.options.columnResizeMode==="onChange"||S==="end")&&t.setColumnSizing(T=>({...T,...f})))},g=S=>p("move",S),v=S=>{p("end",S),t.setColumnSizingInfo(N=>({...N,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},x=JF(n),w={moveHandler:S=>g(S.clientX),upHandler:S=>{x?.removeEventListener("mousemove",w.moveHandler),x?.removeEventListener("mouseup",w.upHandler),v(S.clientX)}},y={moveHandler:S=>(S.cancelable&&(S.preventDefault(),S.stopPropagation()),g(S.touches[0].clientX),!1),upHandler:S=>{var N;x?.removeEventListener("touchmove",y.moveHandler),x?.removeEventListener("touchend",y.upHandler),S.cancelable&&(S.preventDefault(),S.stopPropagation()),v((N=S.touches[0])==null?void 0:N.clientX)}},_=QF()?{passive:!1}:!1;qm(a)?(x?.addEventListener("touchmove",y.moveHandler,_),x?.addEventListener("touchend",y.upHandler,_)):(x?.addEventListener("mousemove",w.moveHandler,_),x?.addEventListener("mouseup",w.upHandler,_)),t.setColumnSizingInfo(S=>({...S,startOffset:d,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:u,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Wm():(n=e.initialState.columnSizingInfo)!=null?n:Wm())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let yf=null;function QF(){if(typeof yf=="boolean")return yf;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return yf=e,yf}function qm(e){return e.type==="touchstart"}const e7={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Jr("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(a=>a.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=bt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),_t(t.options,"debugRows")),e.getVisibleCells=bt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],_t(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>bt(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),_t(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,a)=>({...s,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function tu(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const t7={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},n7={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Jr("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,a;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((a=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?a:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>xa.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Wh(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:xa[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},r7={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Jr("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,a;e.setExpanded(r?{}:(s=(a=e.initialState)==null?void 0:a.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(a=>{const o=a.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const a=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(u=>{o[u]=!0}):o=r,n=(s=n)!=null?s:!a,!a&&n)return{...o,[e.id]:!0};if(a&&!n){const{[e.id]:u,...d}=o;return d}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r?.[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Xg=0,Yg=10,Km=()=>({pageIndex:Xg,pageSize:Yg}),s7={getInitialState:e=>({...e,pagination:{...Km(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:Jr("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=a=>ui(r,a);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?Km():(s=e.initialState.pagination)!=null?s:Km())},e.setPageIndex=r=>{e.setPagination(s=>{let a=ui(r,s.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return a=Math.max(0,Math.min(a,o)),{...s,pageIndex:a}})},e.resetPageIndex=r=>{var s,a;e.setPageIndex(r?Xg:(s=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?s:Xg)},e.resetPageSize=r=>{var s,a;e.setPageSize(r?Yg:(s=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?s:Yg)},e.setPageSize=r=>{e.setPagination(s=>{const a=Math.max(1,ui(r,s.pageSize)),o=s.pageSize*s.pageIndex,u=Math.floor(o/a);return{...s,pageIndex:u,pageSize:a}})},e.setPageCount=r=>e.setPagination(s=>{var a;let o=ui(r,(a=e.options.pageCount)!=null?a:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...s,pageCount:o}}),e.getPageOptions=bt(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((a,o)=>o)),s},_t(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Xm=()=>({top:[],bottom:[]}),a7={getInitialState:e=>({rowPinning:Xm(),...e}),getDefaultOptions:e=>({onRowPinningChange:Jr("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const a=r?e.getLeafRows().map(d=>{let{id:f}=d;return f}):[],o=s?e.getParentRows().map(d=>{let{id:f}=d;return f}):[],u=new Set([...o,e.id,...a]);t.setRowPinning(d=>{var f,p;if(n==="bottom"){var g,v;return{top:((g=d?.top)!=null?g:[]).filter(y=>!(u!=null&&u.has(y))),bottom:[...((v=d?.bottom)!=null?v:[]).filter(y=>!(u!=null&&u.has(y))),...Array.from(u)]}}if(n==="top"){var x,w;return{top:[...((x=d?.top)!=null?x:[]).filter(y=>!(u!=null&&u.has(y))),...Array.from(u)],bottom:((w=d?.bottom)!=null?w:[]).filter(y=>!(u!=null&&u.has(y)))}}return{top:((f=d?.top)!=null?f:[]).filter(y=>!(u!=null&&u.has(y))),bottom:((p=d?.bottom)!=null?p:[]).filter(y=>!(u!=null&&u.has(y)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,a=n.some(u=>r?.includes(u)),o=n.some(u=>s?.includes(u));return a?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const a=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:u}=o;return u});return(r=a?.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Xm():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Xm())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,a;return!!((s=r.top)!=null&&s.length||(a=r.bottom)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(o=>{const u=e.getRow(o,!0);return u.getIsAllParentsExpanded()?u:null}):(n??[]).map(o=>t.find(u=>u.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=bt(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),_t(e.options,"debugRows")),e.getBottomRows=bt(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),_t(e.options,"debugRows")),e.getCenterRows=bt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(a=>!s.has(a.id))},_t(e.options,"debugRows"))}},i7={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Jr("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(a=>{a.getCanSelect()&&(r[a.id]=!0)}):s.forEach(a=>{delete r[a.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(a=>{Jg(s,a.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=bt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Ym(e,n):{rows:[],flatRows:[],rowsById:{}},_t(e.options,"debugTable")),e.getFilteredSelectedRowModel=bt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Ym(e,n):{rows:[],flatRows:[],rowsById:{}},_t(e.options,"debugTable")),e.getGroupedSelectedRowModel=bt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Ym(e,n):{rows:[],flatRows:[],rowsById:{}},_t(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(a=>{var o;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return a;const u={...a};return Jg(u,e.id,n,(o=r?.selectChildren)!=null?o:!0,t),u})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Zx(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Zg(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Zg(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},Jg=(e,t,n,r,s)=>{var a;const o=s.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(u=>delete e[u]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(a=o.subRows)!=null&&a.length&&o.getCanSelectSubRows()&&o.subRows.forEach(u=>Jg(e,u.id,n,r,s))};function Ym(e,t){const n=e.getState().rowSelection,r=[],s={},a=function(o,u){return o.map(d=>{var f;const p=Zx(d,n);if(p&&(r.push(d),s[d.id]=d),(f=d.subRows)!=null&&f.length&&(d={...d,subRows:a(d.subRows)}),p)return d}).filter(Boolean)};return{rows:a(t.rows),flatRows:r,rowsById:s}}function Zx(e,t){var n;return(n=t[e.id])!=null?n:!1}function Zg(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,a=!1;return e.subRows.forEach(o=>{if(!(a&&!s)&&(o.getCanSelect()&&(Zx(o,t)?a=!0:s=!1),o.subRows&&o.subRows.length)){const u=Zg(o,t);u==="all"?a=!0:(u==="some"&&(a=!0),s=!1)}}),s?"all":a?"some":!1}const Qg=/([0-9]+)/gm,o7=(e,t,n)=>HN(mi(e.getValue(n)).toLowerCase(),mi(t.getValue(n)).toLowerCase()),l7=(e,t,n)=>HN(mi(e.getValue(n)),mi(t.getValue(n))),c7=(e,t,n)=>Qx(mi(e.getValue(n)).toLowerCase(),mi(t.getValue(n)).toLowerCase()),u7=(e,t,n)=>Qx(mi(e.getValue(n)),mi(t.getValue(n))),d7=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},f7=(e,t,n)=>Qx(e.getValue(n),t.getValue(n));function Qx(e,t){return e===t?0:e>t?1:-1}function mi(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function HN(e,t){const n=e.split(Qg).filter(Boolean),r=t.split(Qg).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),a=r.shift(),o=parseInt(s,10),u=parseInt(a,10),d=[o,u].sort();if(isNaN(d[0])){if(s>a)return 1;if(a>s)return-1;continue}if(isNaN(d[1]))return isNaN(o)?-1:1;if(o>u)return 1;if(u>o)return-1}return n.length-r.length}const Hc={alphanumeric:o7,alphanumericCaseSensitive:l7,text:c7,textCaseSensitive:u7,datetime:d7,basic:f7},h7={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Jr("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const a=s?.getValue(e.id);if(Object.prototype.toString.call(a)==="[object Date]")return Hc.datetime;if(typeof a=="string"&&(r=!0,a.split(Qg).length>1))return Hc.alphanumeric}return r?Hc.text:Hc.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof n?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Wh(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Hc[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),a=typeof n<"u"&&n!==null;t.setSorting(o=>{const u=o?.find(x=>x.id===e.id),d=o?.findIndex(x=>x.id===e.id);let f=[],p,g=a?n:s==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?u?p="toggle":p="add":o!=null&&o.length&&d!==o.length-1?p="replace":u?p="toggle":p="replace",p==="toggle"&&(a||s||(p="remove")),p==="add"){var v;f=[...o,{id:e.id,desc:g}],f.splice(0,f.length-((v=t.options.maxMultiSortColCount)!=null?v:Number.MAX_SAFE_INTEGER))}else p==="toggle"?f=o.map(x=>x.id===e.id?{...x,desc:g}:x):p==="remove"?f=o.filter(x=>x.id!==e.id):f=[{id:e.id,desc:g}];return f})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const a=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==a&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:o==="desc"?"asc":"desc":a},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},p7=[DF,e7,XF,YF,LF,PF,t7,n7,h7,qF,r7,s7,a7,i7,ZF];function m7(e){var t,n;const r=[...p7,...(t=e._features)!=null?t:[]];let s={_features:r};const a=s._features.reduce((v,x)=>Object.assign(v,x.getDefaultOptions==null?void 0:x.getDefaultOptions(s)),{}),o=v=>s.options.mergeOptions?s.options.mergeOptions(a,v):{...a,...v};let d={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(v=>{var x;d=(x=v.getInitialState==null?void 0:v.getInitialState(d))!=null?x:d});const f=[];let p=!1;const g={_features:r,options:{...a,...e},initialState:d,_queue:v=>{f.push(v),p||(p=!0,Promise.resolve().then(()=>{for(;f.length;)f.shift()();p=!1}).catch(x=>setTimeout(()=>{throw x})))},reset:()=>{s.setState(s.initialState)},setOptions:v=>{const x=ui(v,s.options);s.options=o(x)},getState:()=>s.options.state,setState:v=>{s.options.onStateChange==null||s.options.onStateChange(v)},_getRowId:(v,x,w)=>{var y;return(y=s.options.getRowId==null?void 0:s.options.getRowId(v,x,w))!=null?y:`${w?[w.id,x].join("."):x}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(v,x)=>{let w=(x?s.getPrePaginationRowModel():s.getRowModel()).rowsById[v];if(!w&&(w=s.getCoreRowModel().rowsById[v],!w))throw new Error;return w},_getDefaultColumnDef:bt(()=>[s.options.defaultColumn],v=>{var x;return v=(x=v)!=null?x:{},{header:w=>{const y=w.header.column.columnDef;return y.accessorKey?y.accessorKey:y.accessorFn?y.id:null},cell:w=>{var y,_;return(y=(_=w.renderValue())==null||_.toString==null?void 0:_.toString())!=null?y:null},...s._features.reduce((w,y)=>Object.assign(w,y.getDefaultColumnDef==null?void 0:y.getDefaultColumnDef()),{}),...v}},_t(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:bt(()=>[s._getColumnDefs()],v=>{const x=function(w,y,_){return _===void 0&&(_=0),w.map(S=>{const N=MF(s,S,_,y),T=S;return N.columns=T.columns?x(T.columns,N,_+1):[],N})};return x(v)},_t(e,"debugColumns")),getAllFlatColumns:bt(()=>[s.getAllColumns()],v=>v.flatMap(x=>x.getFlatColumns()),_t(e,"debugColumns")),_getAllFlatColumnsById:bt(()=>[s.getAllFlatColumns()],v=>v.reduce((x,w)=>(x[w.id]=w,x),{}),_t(e,"debugColumns")),getAllLeafColumns:bt(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(v,x)=>{let w=v.flatMap(y=>y.getLeafColumns());return x(w)},_t(e,"debugColumns")),getColumn:v=>s._getAllFlatColumnsById()[v]};Object.assign(s,g);for(let v=0;v<s._features.length;v++){const x=s._features[v];x==null||x.createTable==null||x.createTable(s)}return s}function g7(){return e=>bt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,a,o){a===void 0&&(a=0);const u=[];for(let f=0;f<s.length;f++){const p=IF(e,e._getRowId(s[f],f,o),s[f],f,a,void 0,o?.id);if(n.flatRows.push(p),n.rowsById[p.id]=p,u.push(p),e.options.getSubRows){var d;p.originalSubRows=e.options.getSubRows(s[f],f),(d=p.originalSubRows)!=null&&d.length&&(p.subRows=r(p.originalSubRows,a+1,p))}}return u};return n.rows=r(t),n},_t(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function x7(){return e=>bt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],a=r.filter(d=>{var f;return(f=e.getColumn(d.id))==null?void 0:f.getCanSort()}),o={};a.forEach(d=>{const f=e.getColumn(d.id);f&&(o[d.id]={sortUndefined:f.columnDef.sortUndefined,invertSorting:f.columnDef.invertSorting,sortingFn:f.getSortingFn()})});const u=d=>{const f=d.map(p=>({...p}));return f.sort((p,g)=>{for(let x=0;x<a.length;x+=1){var v;const w=a[x],y=o[w.id],_=y.sortUndefined,S=(v=w?.desc)!=null?v:!1;let N=0;if(_){const T=p.getValue(w.id),C=g.getValue(w.id),A=T===void 0,z=C===void 0;if(A||z){if(_==="first")return A?-1:1;if(_==="last")return A?1:-1;N=A&&z?0:A?_:-_}}if(N===0&&(N=y.sortingFn(p,g,w.id)),N!==0)return S&&(N*=-1),y.invertSorting&&(N*=-1),N}return p.index-g.index}),f.forEach(p=>{var g;s.push(p),(g=p.subRows)!=null&&g.length&&(p.subRows=u(p.subRows))}),f};return{rows:u(n.rows),flatRows:s,rowsById:n.rowsById}},_t(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function i_(e,t){return e?v7(e)?P.createElement(e,t):e:null}function v7(e){return y7(e)||typeof e=="function"||w7(e)}function y7(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function w7(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function b7(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=P.useState(()=>({current:m7(t)})),[r,s]=P.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...e,state:{...r,...e.state},onStateChange:o=>{s(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}const fr=Te.forwardRef(({className:e,label:t,indeterminate:n,checked:r,id:s,...a},o)=>{const u=s||`checkbox-${Math.random().toString(36).substr(2,9)}`,d=Te.useRef(null);return Te.useImperativeHandle(o,()=>d.current),Te.useEffect(()=>{d.current&&(d.current.indeterminate=n||!1)},[n]),c.jsxs("div",{className:"inline-flex items-center",children:[c.jsxs("div",{className:"relative inline-flex items-center",children:[c.jsx("input",{ref:d,type:"checkbox",id:u,checked:r,className:hs("peer h-4 w-4 cursor-pointer appearance-none","border-1.5 border-gray-300 rounded-[3px]","bg-white transition-all duration-fast","hover:border-blue-500","checked:bg-blue-500 checked:border-blue-500","focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",e),...a}),(r||n)&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:n?c.jsx("div",{className:"w-2 h-0.5 bg-white rounded"}):c.jsx(Cx,{className:"w-3 h-3 text-white",strokeWidth:3})})]}),t&&c.jsx("label",{htmlFor:u,className:"ml-2 text-sm text-gray-700 cursor-pointer select-none",children:t})]})});fr.displayName="Checkbox";const Ui=jF(),Jm=(e,t,n)=>n===t?"transparent":`rgba(34, 197, 94, ${.15+(e-t)/(n-t)*.35})`,_7=({x:e,y:t,columnId:n,onClose:r})=>{const{setColumnVisibility:s,columnVisibility:a}=Et(),o=Te.useRef(null);Te.useEffect(()=>{const f=p=>{o.current&&!o.current.contains(p.target)&&r()};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[r]);const u=()=>{s({...a,[n]:!1}),r()},d=()=>{r()};return c.jsxs("div",{ref:o,className:"fixed bg-white border border-gray-300 rounded-lg shadow-lg z-50 py-1 min-w-[160px]",style:{top:t,left:e},children:[c.jsxs("button",{onClick:u,className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center gap-2",children:[c.jsx(DR,{className:"w-4 h-4"})," "]}),c.jsxs("button",{onClick:d,className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center gap-2",children:[c.jsx(o5,{className:"w-4 h-4"}),"-"]})]})},S7=({phrase:e,isSelected:t,isEven:n,children:r,onContextMenu:s})=>{const{phraseColors:a,groupColors:o,pinnedPhraseIds:u,markedPhraseIds:d}=Et(),{attributes:f,listeners:p,setNodeRef:g,isDragging:v}=vN({id:e.id,data:{type:"phrase",phrase:e}}),x=u.has(e.id),w=d.has(e.id),y=a[e.id],_=e.groupId?o[e.groupId]:void 0,S=y||_;return c.jsx("tr",{ref:g,...f,...p,onContextMenu:s,className:hs("h-9 border-b border-gray-200 transition-colors",v&&"opacity-50 bg-blue-200",w&&!S&&!x&&"bg-amber-50 border-amber-200",S&&`bg-${S}-100`,x&&!S&&"bg-blue-50 border-blue-200",t&&!S&&!x&&!w&&"bg-blue-100 border-blue-200",!t&&!S&&!x&&!w&&n&&"bg-white",!t&&!S&&!x&&!w&&!n&&"bg-gray-50",!t&&!S&&!x&&!w&&"hover:bg-blue-50",e.locked&&"opacity-60"),children:r})},E7=({x:e,y:t,phrase:n,onClose:r,onShowHistory:s})=>{const{groups:a,editPhrase:o,markPhraseColor:u,toggleRowLock:d,deletePhrases:f,movePhrasesToGroup:p,addStopword:g,addLog:v,togglePinPhrase:x,toggleMarkPhrase:w}=Et(),y=Te.useRef(null);Te.useEffect(()=>{const z=M=>{y.current&&!y.current.contains(M.target)&&r()};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[r]);const _=()=>{navigator.clipboard.writeText(n.text),v("info",`  : "${n.text}"`),r()},S=()=>{const z=prompt(" :",n.text);z&&z.trim()&&o(n.id,z.trim()),r()},N=()=>{confirm(`  "${n.text}"?`)&&f([n.id]),r()},T=z=>{u(n.id,z),r()},C=z=>{p([n.id],z),r()},A=()=>{const z=n.text.split(" ");z.forEach(M=>{g({id:Date.now().toString()+Math.random(),text:M,matchType:"partial",useMorphology:!1,category:""})}),v("success",`  -: ${z.length} `),r()};return c.jsxs("div",{ref:y,className:"fixed bg-white border border-gray-300 rounded shadow-lg py-1 z-50 min-w-[220px]",style:{left:e,top:t},children:[c.jsx("button",{onClick:_,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:"  "}),c.jsx("button",{onClick:S,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:""}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("div",{className:"relative group/move",children:[c.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:"   "}),c.jsx("div",{className:"hidden group-hover/move:block absolute left-full top-0 bg-white border border-gray-300 rounded shadow-lg py-1 min-w-[150px] ml-1",children:a.length===0?c.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:" "}):a.map(z=>c.jsx("button",{onClick:()=>C(z.id),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:z.name},z.id))})]}),c.jsxs("div",{className:"relative group/color",children:[c.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:" "}),c.jsxs("div",{className:"hidden group-hover/color:block absolute left-full top-0 bg-white border border-gray-300 rounded shadow-lg py-1 min-w-[120px] ml-1",children:[c.jsxs("button",{onClick:()=>T("red"),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:[c.jsx("span",{className:"w-3 h-3 rounded bg-red-500"})," "]}),c.jsxs("button",{onClick:()=>T("yellow"),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:[c.jsx("span",{className:"w-3 h-3 rounded bg-yellow-500"})," "]}),c.jsxs("button",{onClick:()=>T("green"),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:[c.jsx("span",{className:"w-3 h-3 rounded bg-green-500"})," "]}),c.jsxs("button",{onClick:()=>T("blue"),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:[c.jsx("span",{className:"w-3 h-3 rounded bg-blue-500"})," "]}),c.jsx("button",{onClick:()=>T(""),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:""})]})]}),c.jsx("div",{className:"border-t my-1"}),c.jsx("button",{onClick:()=>{d(n.id),r()},className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:n.locked?"":""}),c.jsx("button",{onClick:()=>{x(n.id),r()},className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:" "}),c.jsx("button",{onClick:()=>{w(n.id),r()},className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:Et.getState().markedPhraseIds.has(n.id)?" ":" "}),c.jsx("button",{onClick:A,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:"  -"}),s&&c.jsx("button",{onClick:()=>{s(n.id),r()},className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:" "}),c.jsx("div",{className:"border-t my-1"}),c.jsx("button",{onClick:N,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm text-red-600",children:""})]})},N7=({onShowHistory:e})=>{const{phrases:t,selectedPhraseIds:n,selectedGroupId:r,activeGroupIds:s,filters:a,columnVisibility:o,columnOrder:u,columnPinning:d,pinnedPhraseIds:f,markedPhraseIds:p,searchMasks:g,selectPhrase:v,selectAll:x,deselectAll:w,updatePhrase:y,setColumnOrder:_,setColumnPinning:S,toggleMarkPhrase:N}=Et(),[T,C]=Te.useState([]),[A,z]=Te.useState(null),[M,j]=Te.useState(""),[O,Y]=Te.useState(null),[J,F]=Te.useState(null),re=Te.useMemo(()=>{let ae=t;return s.size>0?ae=ae.filter(D=>D.groupId&&s.has(D.groupId)):r&&(ae=ae.filter(D=>D.groupId===r)),a.wsMin!==void 0&&(ae=ae.filter(D=>D.ws>=a.wsMin)),a.wsMax!==void 0&&(ae=ae.filter(D=>D.ws<=a.wsMax)),a.qwsMin!==void 0&&(ae=ae.filter(D=>D.qws>=a.qwsMin)),a.qwsMax!==void 0&&(ae=ae.filter(D=>D.qws<=a.qwsMax)),a.bwsMin!==void 0&&(ae=ae.filter(D=>D.bws>=a.bwsMin)),a.bwsMax!==void 0&&(ae=ae.filter(D=>D.bws<=a.bwsMax)),a.lengthMin!==void 0&&(ae=ae.filter(D=>D.text.length>=a.lengthMin)),a.lengthMax!==void 0&&(ae=ae.filter(D=>D.text.length<=a.lengthMax)),a.wordCountMin!==void 0&&(ae=ae.filter(D=>D.text.split(/\s+/).length>=a.wordCountMin)),a.wordCountMax!==void 0&&(ae=ae.filter(D=>D.text.split(/\s+/).length<=a.wordCountMax)),a.contains&&(ae=ae.filter(D=>D.text.toLowerCase().includes(a.contains.toLowerCase()))),a.notContains&&(ae=ae.filter(D=>!D.text.toLowerCase().includes(a.notContains.toLowerCase()))),a.startsWith&&(ae=ae.filter(D=>D.text.toLowerCase().startsWith(a.startsWith.toLowerCase()))),a.endsWith&&(ae=ae.filter(D=>D.text.toLowerCase().endsWith(a.endsWith.toLowerCase()))),a.showOnlyHighFreq&&(ae=ae.filter(D=>D.ws>1e3)),a.showOnlyLowFreq&&(ae=ae.filter(D=>D.ws<100&&D.ws>0)),a.showOnlyZeroFreq&&(ae=ae.filter(D=>D.ws===0)),a.showOnlyWithStopwords&&(ae=ae.filter(D=>D.hasStopword===!0)),a.showOnlySelected&&(ae=ae.filter(D=>n.has(D.id))),ae.sort((D,R)=>f.has(D.id)&&!f.has(R.id)?-1:!f.has(D.id)&&f.has(R.id)?1:0),ae},[t,r,s,a,n,f]),k=(ae,D)=>{if(D.ctrlKey&&!D.altKey&&g[0]){const R=g[0].url.replace("{QUERY}",encodeURIComponent(ae.text));window.open(R,"_blank")}else if(D.ctrlKey&&D.altKey&&g[1]){const R=g[1].url.replace("{QUERY}",encodeURIComponent(ae.text));window.open(R,"_blank")}},V=Te.useMemo(()=>{const ae=[Ui.display({id:"select",size:60,header:({table:D})=>{const R=re.length>0&&re.every(B=>n.has(B.id)),U=re.some(B=>n.has(B.id));return c.jsx(fr,{checked:R,indeterminate:!R&&U,onChange:()=>R?w():x()})},cell:({row:D})=>c.jsxs("div",{className:"flex items-center gap-1",children:[f.has(D.original.id)&&c.jsx(h5,{className:"w-3 h-3 text-blue-500 fill-blue-500"}),D.original.locked&&c.jsx(a5,{className:"w-3 h-3 text-gray-500"}),c.jsx(fr,{checked:n.has(D.original.id),onChange:()=>v(D.original.id)})]})}),Ui.display({id:"index",size:50,header:"",cell:({row:D})=>c.jsx("span",{className:"text-gray-500",children:D.index+1})})];if(o.phrase!==!1&&ae.push(Ui.accessor("text",{header:"",size:400,cell:({row:D})=>A===D.original.id?c.jsx("input",{type:"text",value:M,onChange:U=>j(U.target.value),onBlur:()=>{M.trim()&&y(D.original.id,{text:M.trim()}),z(null)},onKeyDown:U=>{U.key==="Enter"?(M.trim()&&y(D.original.id,{text:M.trim()}),z(null)):U.key==="Escape"&&z(null)},autoFocus:!0,className:"w-full px-2 py-1 text-sm border border-blue-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-300"}):c.jsx("span",{onDoubleClick:()=>{z(D.original.id),j(D.original.text)},onClick:U=>k(D.original,U),className:"cursor-text",title:"Ctrl+ - Google | Ctrl+Alt+ - Yandex",children:D.original.text})})),o.ws!==!1){const D=re.map(B=>B.ws).filter(B=>B>0),R=D.length>0?Math.min(...D):0,U=D.length>0?Math.max(...D):0;ae.push(Ui.accessor("ws",{header:"ws",size:80,cell:({getValue:B})=>{const G=B(),ue=G>0?Jm(G,R,U):"transparent";return c.jsx("span",{className:"text-gray-600 font-medium px-2 py-1 rounded block",style:{backgroundColor:ue},children:G>0?G.toLocaleString("ru-RU"):"-"})}}))}if(o.qws!==!1){const D=re.map(B=>B.qws).filter(B=>B>0),R=D.length>0?Math.min(...D):0,U=D.length>0?Math.max(...D):0;ae.push(Ui.accessor("qws",{header:"qws",size:80,cell:({getValue:B})=>{const G=B(),ue=G>0?Jm(G,R,U):"transparent";return c.jsx("span",{className:"text-gray-600 font-medium px-2 py-1 rounded block",style:{backgroundColor:ue},children:G>0?G.toLocaleString("ru-RU"):"-"})}}))}if(o.bws!==!1){const D=re.map(B=>B.bws).filter(B=>B>0),R=D.length>0?Math.min(...D):0,U=D.length>0?Math.max(...D):0;ae.push(Ui.accessor("bws",{header:"bws",size:80,cell:({getValue:B})=>{const G=B(),ue=G>0?Jm(G,R,U):"transparent";return c.jsx("span",{className:"text-gray-600 font-medium px-2 py-1 rounded block",style:{backgroundColor:ue},children:G>0?G.toLocaleString("ru-RU"):"-"})}}))}return o.status!==!1&&ae.push(Ui.accessor("status",{header:"",size:80,cell:({getValue:D})=>{const R=D();return c.jsxs("div",{className:"flex items-center justify-center",children:[(R==="done"||R==="success")&&c.jsx(_g,{className:"w-4 h-4 text-success-500"}),R==="pending"&&c.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300"}),R==="error"&&c.jsx("div",{className:"w-2 h-2 rounded-full bg-error-500"})]})}})),ae},[re,n,A,M,o,f,v,x,w,y]),K=b7({data:re,columns:V,state:{sorting:T,columnOrder:u,columnPinning:d},onSortingChange:C,onColumnOrderChange:_,onColumnPinningChange:S,getCoreRowModel:g7(),getSortedRowModel:x7(),enableMultiSort:!0,maxMultiSortColCount:3}),H=(ae,D)=>{ae.preventDefault(),Y({x:ae.clientX,y:ae.clientY,phrase:D})},Q=(ae,D)=>{ae.preventDefault(),ae.stopPropagation(),F({x:ae.clientX,y:ae.clientY,columnId:D})},ee=Te.useMemo(()=>{const ae=re.map(G=>G.ws).filter(G=>G>0),D=ae.reduce((G,ue)=>G+ue,0),R=ae.length>0?Math.round(D/ae.length):0,U=ae.length>0?Math.max(...ae):0,B=ae.length>0?Math.min(...ae):0;return{sum:D,avg:R,max:U,min:B,count:re.length}},[re]);return re.length===0?c.jsx("div",{className:"flex-1 bg-white flex items-center justify-center",children:c.jsxs("div",{className:"text-center text-gray-500",children:[c.jsx("p",{className:"text-base mb-2",children:"   "}),c.jsx("p",{className:"text-sm",children:r||s.size>0?"    ":Object.keys(a).length>0?"     ":'    ""   '})]})}):c.jsxs("div",{className:"flex-1 bg-white overflow-auto flex flex-col",children:[c.jsx("div",{className:"flex-1 overflow-auto",children:c.jsxs("table",{className:"w-full border-collapse",children:[c.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:K.getHeaderGroups().map(ae=>c.jsx("tr",{className:"border-b-2 border-gray-300",children:ae.headers.map(D=>c.jsx("th",{style:{width:D.getSize()},className:hs("h-10 px-3 text-left text-sm font-medium text-gray-700",D.column.getCanSort()&&"cursor-pointer select-none hover:bg-gray-200"),onClick:D.column.getToggleSortingHandler(),onContextMenu:R=>Q(R,D.column.id),children:c.jsxs("div",{className:"flex items-center gap-2",children:[i_(D.column.columnDef.header,D.getContext()),D.column.getIsSorted()&&c.jsx("span",{className:"text-blue-500",children:D.column.getIsSorted()==="asc"?c.jsx(uR,{className:"w-4 h-4"}):c.jsx(iR,{className:"w-4 h-4"})})]})},D.id))},ae.id))}),c.jsx("tbody",{children:K.getRowModel().rows.map((ae,D)=>{const R=n.has(ae.original.id),U=D%2===0,B=ae.original;return c.jsx(S7,{phrase:B,isSelected:R,isEven:U,onContextMenu:G=>H(G,B),children:ae.getVisibleCells().map(G=>c.jsx("td",{className:"px-3 text-sm text-gray-600",children:i_(G.column.columnDef.cell,G.getContext())},G.id))},ae.id)})})]})}),c.jsxs("div",{className:"border-t bg-gray-50 px-4 py-2 flex items-center justify-between text-sm",children:[c.jsxs("div",{children:[" : ",c.jsx("strong",{children:ee.count}),n.size>0&&c.jsxs("span",{className:"text-blue-600 ml-4",children:[": ",c.jsx("strong",{children:n.size})]})]}),c.jsxs("div",{className:"flex gap-6 text-xs text-gray-600",children:[c.jsxs("div",{children:[" ws: ",c.jsx("strong",{children:ee.sum.toLocaleString("ru-RU")})]}),c.jsxs("div",{children:[" ws: ",c.jsx("strong",{children:ee.avg.toLocaleString("ru-RU")})]}),c.jsxs("div",{children:[" ws: ",c.jsx("strong",{children:ee.max.toLocaleString("ru-RU")})]}),c.jsxs("div",{children:[" ws: ",c.jsx("strong",{children:ee.min.toLocaleString("ru-RU")})]})]})]}),O&&c.jsx(E7,{x:O.x,y:O.y,phrase:O.phrase,onClose:()=>Y(null),onShowHistory:e}),J&&c.jsx(_7,{x:J.x,y:J.y,columnId:J.columnId,onClose:()=>F(null)})]})},Gn=({isOpen:e,onClose:t,title:n,children:r,size:s="md",footer:a})=>(Te.useEffect(()=>{const o=u=>{u.key==="Escape"&&e&&t()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e,t]),Te.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),e?c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",onClick:o=>{o.target===o.currentTarget&&t()},children:[c.jsx("div",{className:"absolute inset-0 bg-gray-900/50 backdrop-blur-sm"}),c.jsxs("div",{className:hs("relative bg-white rounded-lg shadow-lg","flex flex-col max-h-[90vh]","animate-in fade-in-0 zoom-in-95 duration-200",s==="sm"&&"w-full max-w-md",s==="md"&&"w-full max-w-lg",s==="lg"&&"w-full max-w-2xl"),children:[n&&c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[c.jsx("h2",{className:"text-md font-semibold text-gray-800",children:n}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded hover:bg-gray-100","aria-label":"",children:c.jsx(Al,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:r}),a&&c.jsx("div",{className:"flex items-center justify-end gap-2 px-6 py-4 border-t border-gray-200",children:a})]})]}):null),ka=Te.forwardRef(({className:e,error:t,label:n,helperText:r,id:s,...a},o)=>{const u=s||`input-${Math.random().toString(36).substr(2,9)}`;return c.jsxs("div",{className:"w-full",children:[n&&c.jsx("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700 mb-1.5",children:n}),c.jsx("input",{ref:o,id:u,className:hs("w-full h-10 px-3 py-2.5","text-sm text-gray-700 placeholder:text-gray-400","bg-white border rounded-sm","transition-all duration-fast","focus:outline-none focus:ring-2 focus:ring-blue-300 focus:border-blue-500","disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",t?"border-error-500 bg-error-100 focus:border-error-500 focus:ring-error-300":"border-gray-300 hover:border-gray-400",e),...a}),r&&c.jsx("p",{className:hs("mt-1.5 text-xs",t?"text-error-600":"text-gray-500"),children:r})]})});ka.displayName="Input";const T7=({group:e,level:t,isSelected:n,isActive:r,count:s,hasChildren:a,onClick:o,onContextMenu:u})=>{const{attributes:d,listeners:f,setNodeRef:p,isDragging:g}=vN({id:`group-drag:${e.id}`,data:{type:"group",group:e}}),{setNodeRef:v,isOver:x}=xP({id:e.id,data:{type:"group-target",group:e}}),{groupColors:w,pinnedGroupIds:y}=Et(),_=w[e.id],S=y.has(e.id);return c.jsxs("div",{ref:N=>{p(N),v(N)},className:`
        flex items-center gap-2 px-3 py-2 cursor-pointer transition-colors
        ${g?"opacity-50 bg-blue-200":""}
        ${x?"bg-green-100 border-2 border-green-500":""}
        ${n?"bg-blue-100 border-l-4 border-blue-500":"hover:bg-gray-100"}
        ${r&&!n?"bg-blue-50 border-l-2 border-blue-400":""}
        ${e.locked?"opacity-60":""}
        ${_?`bg-${_}-50`:""}
        ${S?"border-l-4 border-yellow-400":""}
      `,style:{paddingLeft:`${t*16+12}px`},onClick:o,onContextMenu:u,...d,...f,children:[S&&c.jsx(E5,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),a?c.jsx(GR,{className:"w-4 h-4 text-blue-500"}):c.jsx(QS,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"flex-1 text-sm truncate",title:e.name,children:e.name}),e.locked&&c.jsx("span",{className:"text-xs",children:""}),_&&c.jsx("span",{className:`w-2 h-2 rounded-full bg-${_}-500`}),c.jsx("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded",children:s})]})},C7=({x:e,y:t,group:n,onClose:r})=>{const{groups:s,phrases:a,addGroup:o,updateGroup:u,deleteGroup:d,addLog:f,copyPhrasesToGroup:p,movePhrasesToGroup:g,setGroupColor:v,copyGroupStructure:x,togglePinGroup:w}=Et(),y=Te.useRef(null),[_,S]=Te.useState({});Te.useEffect(()=>{const V=K=>{y.current&&!y.current.contains(K.target)&&r()};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[r]);const N=()=>{const V=prompt("  :",n.name);V&&V.trim()&&(u(n.id,{name:V.trim()}),f("success",` : "${V}"`)),r()},T=()=>{confirm(`  "${n.name}"?`)&&(d(n.id),f("warning",` : "${n.name}"`)),r()},C=()=>{const V=prompt(" :");V&&V.trim()&&(o(V.trim(),n.id),f("success",` : "${V}"`)),r()},A=()=>{const V=`${n.name}_`;o(V,n.parentId);const K=a.filter(H=>H.groupId===n.id);K.length>0&&setTimeout(()=>{const H=s.find(Q=>Q.name===V);H&&p(K.map(Q=>Q.id),H.id)},100),f("success",` : "${V}"`),r()},z=()=>{if(confirm(`   "${n.name}"?`)){const V=`${n.name}_`;o(V,n.parentId),setTimeout(()=>{const K=s.find(H=>H.name===V);K&&x(n.id,K.id)},100),f("success",`  : "${V}"`)}r()},M=()=>{w(n.id),r()},j=V=>{const K=s.find(H=>H.id===V);if(K){if(confirm(`  "${n.name}"  "${K.name}"?`)){const H=a.filter(Q=>Q.groupId===n.id);H.length>0&&g(H.map(Q=>Q.id),V),d(n.id),f("success",` : "${n.name}"  "${K.name}"`)}r()}},O=()=>{const V=a.filter(ee=>ee.groupId===n.id);if(V.length===0){alert("     ");return}const K=[",ws,qws,bws,",...V.map(ee=>`"${ee.text}",${ee.ws},${ee.qws},${ee.bws},${ee.status}`)].join(`
`),H=new Blob([K],{type:"text/csv;charset=utf-8;"}),Q=document.createElement("a");Q.href=URL.createObjectURL(H),Q.download=`${n.name}_${Date.now()}.csv`,Q.click(),f("success",` : "${n.name}" (${V.length} )`),r()},Y=()=>{u(n.id,{locked:!n.locked}),f("info",` ${n.locked?"":""}: "${n.name}"`),r()},J=V=>{v(n.id,V),f("info",`  : "${n.name}"`),r()},F=()=>{const V=prompt("  :",n.comment||"");V!==null&&(u(n.id,{comment:V}),f("info",` ${V?"":""}: "${n.name}"`)),r()},re=()=>{const V=a.filter(ae=>ae.groupId===n.id),K=V.reduce((ae,D)=>ae+D.ws,0),H=V.length>0?Math.round(K/V.length):0,Q=V.length>0?Math.max(...V.map(ae=>ae.ws)):0,ee=`
  "${n.name}":

 : ${V.length}
  (ws): ${K.toLocaleString("ru-RU")}
 : ${H.toLocaleString("ru-RU")}
 : ${Q.toLocaleString("ru-RU")}
    `.trim();alert(ee),r()},k=s.filter(V=>V.id!==n.id);return c.jsxs("div",{ref:y,className:"fixed bg-white border border-gray-300 rounded shadow-lg py-1 z-50 min-w-[220px]",style:{left:e,top:t},onClick:V=>V.stopPropagation(),children:[c.jsx("button",{onClick:C,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:" "}),c.jsx("button",{onClick:N,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:""}),c.jsx("button",{onClick:T,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm text-red-600",children:""}),c.jsx("div",{className:"border-t my-1"}),c.jsx("button",{onClick:A,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:" "}),c.jsx("button",{onClick:z,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:" "}),c.jsx("button",{onClick:M,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:n.id&&Et.getState().pinnedGroupIds.has(n.id)?" ":" "}),c.jsxs("div",{className:"relative group/merge",children:[c.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",onMouseEnter:()=>S({..._,merge:!0}),children:" ... "}),_.merge&&k.length>0&&c.jsx("div",{className:"absolute left-full top-0 bg-white border border-gray-300 rounded shadow-lg py-1 min-w-[180px] ml-1",onMouseLeave:()=>S({..._,merge:!1}),children:k.map(V=>c.jsx("button",{onClick:()=>j(V.id),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:V.name},V.id))})]}),c.jsx("button",{onClick:O,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:" "}),c.jsx("div",{className:"border-t my-1"}),c.jsx("button",{onClick:Y,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:n.locked?"":""}),c.jsxs("div",{className:"relative group/color",children:[c.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",onMouseEnter:()=>S({..._,color:!0}),children:"  "}),_.color&&c.jsx("div",{className:"absolute left-full top-0 bg-white border border-gray-300 rounded shadow-lg py-1 min-w-[150px] ml-1",onMouseLeave:()=>S({..._,color:!1}),children:[{name:"",value:"red"},{name:"",value:"yellow"},{name:"",value:"green"},{name:"",value:"blue"},{name:"",value:"purple"},{name:"",value:""}].map(V=>c.jsxs("button",{onClick:()=>J(V.value),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:[V.value&&c.jsx("span",{className:`w-3 h-3 rounded bg-${V.value}-500`}),V.name]},V.value))})]}),c.jsx("button",{onClick:F,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:n.comment?" ":" "}),c.jsx("div",{className:"border-t my-1"}),c.jsx("button",{onClick:re,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:"  "})]})},k7=()=>{const{groups:e,selectedGroupId:t,activeGroupIds:n,phrases:r,addGroup:s,deleteGroup:a,selectGroup:o,toggleActiveGroup:u,clearActiveGroups:d}=Et(),[f,p]=Te.useState(!1),[g,v]=Te.useState(""),[x,w]=Te.useState(null),y=()=>{g.trim()&&(s(g.trim()),v(""),p(!1))},_=(A,z)=>{A.preventDefault(),A.stopPropagation(),w({x:A.clientX,y:A.clientY,group:z})},S=(A,z)=>{z.ctrlKey?u(A):(d(),o(A))},N=Te.useMemo(()=>{const A={};return e.forEach(z=>{A[z.id]=r.filter(M=>M.groupId===z.id).length}),A},[e,r]),T=(A,z=0)=>{const M=t===A.id,j=n.has(A.id),O=N[A.id]||0,Y=e.some(J=>J.parentId===A.id);return c.jsxs("div",{children:[c.jsx(T7,{group:A,level:z,isSelected:M,isActive:j,count:O,hasChildren:Y,onClick:J=>S(A.id,J),onContextMenu:J=>_(J,A)}),e.filter(J=>J.parentId===A.id).map(J=>T(J,z+1))]},A.id)},C=e.filter(A=>!A.parentId);return c.jsxs("div",{className:"h-full flex flex-col bg-white border-l border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200",children:[c.jsxs("h2",{className:"font-semibold text-gray-700",children:["",n.size>1&&c.jsxs("span",{className:"ml-2 text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[" (",n.size,")"]})]}),c.jsx(Xe,{onClick:()=>p(!0),variant:"ghost",icon:c.jsx(Ax,{className:"w-4 h-4"}),title:" "})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto",children:[c.jsxs("div",{className:`
            flex items-center gap-2 px-3 py-2 cursor-pointer transition-colors
            ${t===null&&n.size===0?"bg-blue-100 border-l-4 border-blue-500":"hover:bg-gray-100"}
          `,onClick:()=>{d(),o(null)},children:[c.jsx(QS,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"flex-1 text-sm font-medium",children:" "}),c.jsx("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded",children:r.length})]}),C.map(A=>T(A)),C.length===0&&c.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:" .   ."}),n.size>0&&c.jsx("div",{className:"p-3 text-xs text-gray-600 bg-blue-50 border-t",children:": Ctrl+    "})]}),c.jsx(Gn,{isOpen:f,onClose:()=>{p(!1),v("")},title:" ",size:"sm",children:c.jsxs("div",{className:"p-6",children:[c.jsx(ka,{value:g,onChange:A=>v(A.target.value),placeholder:" ",autoFocus:!0,onKeyPress:A=>{A.key==="Enter"&&y()}}),c.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[c.jsx(Xe,{onClick:()=>{p(!1),v("")},variant:"secondary",children:""}),c.jsx(Xe,{onClick:y,variant:"primary",children:""})]})]})}),x&&c.jsx(C7,{x:x.x,y:x.y,group:x.group,onClose:()=>w(null)})]})},j7=()=>{const{activityLog:e}=Et(),t=Te.useRef(null);Te.useEffect(()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)},[e]);const n=a=>new Date(a).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),r=a=>{switch(a){case"success":return"text-success-400";case"warning":return"text-warning-400";case"error":return"text-error-400";default:return"text-gray-300"}},s=a=>{switch(a){case"success":return"";case"warning":return"";case"error":return"";default:return""}};return c.jsxs("div",{className:"h-[140px] bg-gray-900 border-t border-gray-700 px-4 py-3 overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"text-xs font-medium text-gray-400 uppercase tracking-wide",children:" "}),c.jsx("div",{className:"text-xs text-gray-500",children:e.length>0&&`: ${e.length}`})]}),c.jsx("div",{ref:t,className:"h-[calc(100%-28px)] overflow-y-auto font-mono text-xs leading-relaxed",style:{scrollbarWidth:"thin"},children:e.length===0?c.jsx("div",{className:"text-gray-500 italic",children:" .    ."}):e.map(a=>c.jsxs("div",{className:"flex items-start gap-2 mb-1 hover:bg-gray-800/30 px-1 -mx-1 rounded",children:[c.jsxs("span",{className:"text-gray-500 flex-shrink-0",children:["[",n(a.timestamp),"]"]}),c.jsx("span",{className:hs("flex-shrink-0",r(a.level)),children:s(a.level)}),c.jsx("span",{className:hs("flex-1",a.level==="error"?"text-error-400":"text-gray-300"),children:a.message})]},a.id))})]})},A7=()=>{const{phrases:e,selectedPhraseIds:t,selectedGroupId:n,groups:r}=Et(),s=e.length,a=t.size,o=n?e.filter(p=>p.groupId===n).length:0,u=Te.useMemo(()=>{const p=new Set;let g=0;return e.forEach(v=>{p.has(v.text.toLowerCase())?g++:p.add(v.text.toLowerCase())}),g},[e]),d=e.filter(p=>p.hasStopword).length,f=e.filter(p=>!p.groupId).length;return c.jsxs("div",{className:"h-8 bg-gray-50 border-t border-gray-200 px-4 flex items-center justify-between text-xs text-gray-600",children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("span",{children:[": ",c.jsx("strong",{className:"text-gray-900",children:s})]}),c.jsxs("span",{children:[": ",c.jsx("strong",{className:"text-blue-600",children:a})]}),n&&c.jsxs("span",{children:[" : ",c.jsx("strong",{className:"text-green-600",children:o})]})]}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("span",{children:[": ",c.jsx("strong",{className:"text-gray-900",children:r.length})]}),c.jsxs("span",{children:[" : ",c.jsx("strong",{className:"text-orange-600",children:f})]}),u>0&&c.jsxs("span",{children:[": ",c.jsx("strong",{className:"text-red-600",children:u})]}),d>0&&c.jsxs("span",{children:["-: ",c.jsx("strong",{className:"text-red-600",children:d})]})]})]})};var Vf={exports:{}};var R7=Vf.exports,o_;function O7(){return o_||(o_=1,(function(e,t){((n,r)=>{e.exports=r()})(R7,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s,a=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,u={},d=0,f={};function p(j){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(O){var Y=A(O);Y.chunkSize=parseInt(Y.chunkSize),O.step||O.chunk||(Y.chunkSize=null),this._handle=new y(Y),(this._handle.streamer=this)._config=Y}).call(this,j),this.parseChunk=function(O,Y){var J=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<J){let re=this._config.newline;re||(F=this._config.quoteChar||'"',re=this._handle.guessLineEndings(O,F)),O=[...O.split(re).slice(J)].join(re)}this.isFirstChunk&&M(this._config.beforeFirstChunk)&&(F=this._config.beforeFirstChunk(O))!==void 0&&(O=F),this.isFirstChunk=!1,this._halted=!1;var J=this._partialLine+O,F=(this._partialLine="",this._handle.parse(J,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(O=F.meta.cursor,J=(this._finished||(this._partialLine=J.substring(O-this._baseIndex),this._baseIndex=O),F&&F.data&&(this._rowCount+=F.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:F,workerId:f.WORKER_ID,finished:J});else if(M(this._config.chunk)&&!Y){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=F=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!J||!M(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),J||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(O){M(this._config.error)?this._config.error(O):o&&this._config.error&&r.postMessage({workerId:f.WORKER_ID,error:O,finished:!1})}}function g(j){var O;(j=j||{}).chunkSize||(j.chunkSize=f.RemoteChunkSize),p.call(this,j),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Y){this._input=Y,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(O=new XMLHttpRequest,this._config.withCredentials&&(O.withCredentials=this._config.withCredentials),a||(O.onload=z(this._chunkLoaded,this),O.onerror=z(this._chunkError,this)),O.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var Y,J=this._config.downloadRequestHeaders;for(Y in J)O.setRequestHeader(Y,J[Y])}var F;this._config.chunkSize&&(F=this._start+this._config.chunkSize-1,O.setRequestHeader("Range","bytes="+this._start+"-"+F));try{O.send(this._config.downloadRequestBody)}catch(re){this._chunkError(re.message)}a&&O.status===0&&this._chunkError()}},this._chunkLoaded=function(){O.readyState===4&&(O.status<200||400<=O.status?this._chunkError():(this._start+=this._config.chunkSize||O.responseText.length,this._finished=!this._config.chunkSize||this._start>=(Y=>(Y=Y.getResponseHeader("Content-Range"))!==null?parseInt(Y.substring(Y.lastIndexOf("/")+1)):-1)(O),this.parseChunk(O.responseText)))},this._chunkError=function(Y){Y=O.statusText||Y,this._sendError(new Error(Y))}}function v(j){(j=j||{}).chunkSize||(j.chunkSize=f.LocalChunkSize),p.call(this,j);var O,Y,J=typeof FileReader<"u";this.stream=function(F){this._input=F,Y=F.slice||F.webkitSlice||F.mozSlice,J?((O=new FileReader).onload=z(this._chunkLoaded,this),O.onerror=z(this._chunkError,this)):O=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input,re=(this._config.chunkSize&&(re=Math.min(this._start+this._config.chunkSize,this._input.size),F=Y.call(F,this._start,re)),O.readAsText(F,this._config.encoding));J||this._chunkLoaded({target:{result:re}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(O.error)}}function x(j){var O;p.call(this,j=j||{}),this.stream=function(Y){return O=Y,this._nextChunk()},this._nextChunk=function(){var Y,J;if(!this._finished)return Y=this._config.chunkSize,O=Y?(J=O.substring(0,Y),O.substring(Y)):(J=O,""),this._finished=!O,this.parseChunk(J)}}function w(j){p.call(this,j=j||{});var O=[],Y=!0,J=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){J&&O.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),O.length?this.parseChunk(O.shift()):Y=!0},this._streamData=z(function(F){try{O.push(typeof F=="string"?F:F.toString(this._config.encoding)),Y&&(Y=!1,this._checkIsFinished(),this.parseChunk(O.shift()))}catch(re){this._streamError(re)}},this),this._streamError=z(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=z(function(){this._streamCleanUp(),J=!0,this._streamData("")},this),this._streamCleanUp=z(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function y(j){var O,Y,J,F,re=Math.pow(2,53),k=-re,V=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,K=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,Q=0,ee=0,ae=!1,D=!1,R=[],U={data:[],errors:[],meta:{}};function B(me){return j.skipEmptyLines==="greedy"?me.join("").trim()==="":me.length===1&&me[0].length===0}function G(){if(U&&J&&(ge("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),J=!1),j.skipEmptyLines&&(U.data=U.data.filter(function(Ve){return!B(Ve)})),ue()){let Ve=function(st,I){M(j.transformHeader)&&(st=j.transformHeader(st,I)),R.push(st)};var Ue=Ve;if(U)if(Array.isArray(U.data[0])){for(var me=0;ue()&&me<U.data.length;me++)U.data[me].forEach(Ve);U.data.splice(0,1)}else U.data.forEach(Ve)}function ve(Ve,st){for(var I=j.header?{}:[],ye=0;ye<Ve.length;ye++){var ne=ye,q=Ve[ye],q=((X,le)=>(pe=>(j.dynamicTypingFunction&&j.dynamicTyping[pe]===void 0&&(j.dynamicTyping[pe]=j.dynamicTypingFunction(pe)),(j.dynamicTyping[pe]||j.dynamicTyping)===!0))(X)?le==="true"||le==="TRUE"||le!=="false"&&le!=="FALSE"&&((pe=>{if(V.test(pe)&&(pe=parseFloat(pe),k<pe&&pe<re))return 1})(le)?parseFloat(le):K.test(le)?new Date(le):le===""?null:le):le)(ne=j.header?ye>=R.length?"__parsed_extra":R[ye]:ne,q=j.transform?j.transform(q,ne):q);ne==="__parsed_extra"?(I[ne]=I[ne]||[],I[ne].push(q)):I[ne]=q}return j.header&&(ye>R.length?ge("FieldMismatch","TooManyFields","Too many fields: expected "+R.length+" fields but parsed "+ye,ee+st):ye<R.length&&ge("FieldMismatch","TooFewFields","Too few fields: expected "+R.length+" fields but parsed "+ye,ee+st)),I}var Re;U&&(j.header||j.dynamicTyping||j.transform)&&(Re=1,!U.data.length||Array.isArray(U.data[0])?(U.data=U.data.map(ve),Re=U.data.length):U.data=ve(U.data,0),j.header&&U.meta&&(U.meta.fields=R),ee+=Re)}function ue(){return j.header&&R.length===0}function ge(me,ve,Re,Ue){me={type:me,code:ve,message:Re},Ue!==void 0&&(me.row=Ue),U.errors.push(me)}M(j.step)&&(F=j.step,j.step=function(me){U=me,ue()?G():(G(),U.data.length!==0&&(Q+=me.data.length,j.preview&&Q>j.preview?Y.abort():(U.data=U.data[0],F(U,H))))}),this.parse=function(me,ve,Re){var Ue=j.quoteChar||'"',Ue=(j.newline||(j.newline=this.guessLineEndings(me,Ue)),J=!1,j.delimiter?M(j.delimiter)&&(j.delimiter=j.delimiter(me),U.meta.delimiter=j.delimiter):((Ue=((Ve,st,I,ye,ne)=>{var q,X,le,pe;ne=ne||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var be=0;be<ne.length;be++){for(var fe,Me=ne[be],we=0,je=0,He=0,et=(le=void 0,new S({comments:ye,delimiter:Me,newline:st,preview:10}).parse(Ve)),Ge=0;Ge<et.data.length;Ge++)I&&B(et.data[Ge])?He++:(fe=et.data[Ge].length,je+=fe,le===void 0?le=fe:0<fe&&(we+=Math.abs(fe-le),le=fe));0<et.data.length&&(je/=et.data.length-He),(X===void 0||we<=X)&&(pe===void 0||pe<je)&&1.99<je&&(X=we,q=Me,pe=je)}return{successful:!!(j.delimiter=q),bestDelimiter:q}})(me,j.newline,j.skipEmptyLines,j.comments,j.delimitersToGuess)).successful?j.delimiter=Ue.bestDelimiter:(J=!0,j.delimiter=f.DefaultDelimiter),U.meta.delimiter=j.delimiter),A(j));return j.preview&&j.header&&Ue.preview++,O=me,Y=new S(Ue),U=Y.parse(O,ve,Re),G(),ae?{meta:{paused:!0}}:U||{meta:{paused:!1}}},this.paused=function(){return ae},this.pause=function(){ae=!0,Y.abort(),O=M(j.chunk)?"":O.substring(Y.getCharIndex())},this.resume=function(){H.streamer._halted?(ae=!1,H.streamer.parseChunk(O,!0)):setTimeout(H.resume,3)},this.aborted=function(){return D},this.abort=function(){D=!0,Y.abort(),U.meta.aborted=!0,M(j.complete)&&j.complete(U),O=""},this.guessLineEndings=function(Ve,Ue){Ve=Ve.substring(0,1048576);var Ue=new RegExp(_(Ue)+"([^]*?)"+_(Ue),"gm"),Re=(Ve=Ve.replace(Ue,"")).split("\r"),Ue=Ve.split(`
`),Ve=1<Ue.length&&Ue[0].length<Re[0].length;if(Re.length===1||Ve)return`
`;for(var st=0,I=0;I<Re.length;I++)Re[I][0]===`
`&&st++;return st>=Re.length/2?`\r
`:"\r"}}function _(j){return j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function S(j){var O=(j=j||{}).delimiter,Y=j.newline,J=j.comments,F=j.step,re=j.preview,k=j.fastMode,V=null,K=!1,H=j.quoteChar==null?'"':j.quoteChar,Q=H;if(j.escapeChar!==void 0&&(Q=j.escapeChar),(typeof O!="string"||-1<f.BAD_DELIMITERS.indexOf(O))&&(O=","),J===O)throw new Error("Comment character same as delimiter");J===!0?J="#":(typeof J!="string"||-1<f.BAD_DELIMITERS.indexOf(J))&&(J=!1),Y!==`
`&&Y!=="\r"&&Y!==`\r
`&&(Y=`
`);var ee=0,ae=!1;this.parse=function(D,R,U){if(typeof D!="string")throw new Error("Input must be a string");var B=D.length,G=O.length,ue=Y.length,ge=J.length,me=M(F),ve=[],Re=[],Ue=[],Ve=ee=0;if(!D)return we();if(k||k!==!1&&D.indexOf(H)===-1){for(var st=D.split(Y),I=0;I<st.length;I++){if(Ue=st[I],ee+=Ue.length,I!==st.length-1)ee+=Y.length;else if(U)return we();if(!J||Ue.substring(0,ge)!==J){if(me){if(ve=[],pe(Ue.split(O)),je(),ae)return we()}else pe(Ue.split(O));if(re&&re<=I)return ve=ve.slice(0,re),we(!0)}}return we()}for(var ye=D.indexOf(O,ee),ne=D.indexOf(Y,ee),q=new RegExp(_(Q)+_(H),"g"),X=D.indexOf(H,ee);;)if(D[ee]===H)for(X=ee,ee++;;){if((X=D.indexOf(H,X+1))===-1)return U||Re.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ve.length,index:ee}),fe();if(X===B-1)return fe(D.substring(ee,X).replace(q,H));if(H===Q&&D[X+1]===Q)X++;else if(H===Q||X===0||D[X-1]!==Q){ye!==-1&&ye<X+1&&(ye=D.indexOf(O,X+1));var le=be((ne=ne!==-1&&ne<X+1?D.indexOf(Y,X+1):ne)===-1?ye:Math.min(ye,ne));if(D.substr(X+1+le,G)===O){Ue.push(D.substring(ee,X).replace(q,H)),D[ee=X+1+le+G]!==H&&(X=D.indexOf(H,ee)),ye=D.indexOf(O,ee),ne=D.indexOf(Y,ee);break}if(le=be(ne),D.substring(X+1+le,X+1+le+ue)===Y){if(Ue.push(D.substring(ee,X).replace(q,H)),Me(X+1+le+ue),ye=D.indexOf(O,ee),X=D.indexOf(H,ee),me&&(je(),ae))return we();if(re&&ve.length>=re)return we(!0);break}Re.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ve.length,index:ee}),X++}}else if(J&&Ue.length===0&&D.substring(ee,ee+ge)===J){if(ne===-1)return we();ee=ne+ue,ne=D.indexOf(Y,ee),ye=D.indexOf(O,ee)}else if(ye!==-1&&(ye<ne||ne===-1))Ue.push(D.substring(ee,ye)),ee=ye+G,ye=D.indexOf(O,ee);else{if(ne===-1)break;if(Ue.push(D.substring(ee,ne)),Me(ne+ue),me&&(je(),ae))return we();if(re&&ve.length>=re)return we(!0)}return fe();function pe(He){ve.push(He),Ve=ee}function be(He){var et=0;return et=He!==-1&&(He=D.substring(X+1,He))&&He.trim()===""?He.length:et}function fe(He){return U||(He===void 0&&(He=D.substring(ee)),Ue.push(He),ee=B,pe(Ue),me&&je()),we()}function Me(He){ee=He,pe(Ue),Ue=[],ne=D.indexOf(Y,ee)}function we(He){if(j.header&&!R&&ve.length&&!K){var et=ve[0],Ge=Object.create(null),mt=new Set(et);let Gt=!1;for(let vt=0;vt<et.length;vt++){let Mt=et[vt];if(Ge[Mt=M(j.transformHeader)?j.transformHeader(Mt,vt):Mt]){let xt,rt=Ge[Mt];for(;xt=Mt+"_"+rt,rt++,mt.has(xt););mt.add(xt),et[vt]=xt,Ge[Mt]++,Gt=!0,(V=V===null?{}:V)[xt]=Mt}else Ge[Mt]=1,et[vt]=Mt;mt.add(Mt)}Gt&&console.warn("Duplicate headers found and renamed."),K=!0}return{data:ve,errors:Re,meta:{delimiter:O,linebreak:Y,aborted:ae,truncated:!!He,cursor:Ve+(R||0),renamedHeaders:V}}}function je(){F(we()),ve=[],Re=[]}},this.abort=function(){ae=!0},this.getCharIndex=function(){return ee}}function N(j){var O=j.data,Y=u[O.workerId],J=!1;if(O.error)Y.userError(O.error,O.file);else if(O.results&&O.results.data){var F={abort:function(){J=!0,T(O.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:C,resume:C};if(M(Y.userStep)){for(var re=0;re<O.results.data.length&&(Y.userStep({data:O.results.data[re],errors:O.results.errors,meta:O.results.meta},F),!J);re++);delete O.results}else M(Y.userChunk)&&(Y.userChunk(O.results,F,O.file),delete O.results)}O.finished&&!J&&T(O.workerId,O.results)}function T(j,O){var Y=u[j];M(Y.userComplete)&&Y.userComplete(O),Y.terminate(),delete u[j]}function C(){throw new Error("Not implemented.")}function A(j){if(typeof j!="object"||j===null)return j;var O,Y=Array.isArray(j)?[]:{};for(O in j)Y[O]=A(j[O]);return Y}function z(j,O){return function(){j.apply(O,arguments)}}function M(j){return typeof j=="function"}return f.parse=function(j,O){var Y=(O=O||{}).dynamicTyping||!1;if(M(Y)&&(O.dynamicTypingFunction=Y,Y={}),O.dynamicTyping=Y,O.transform=!!M(O.transform)&&O.transform,!O.worker||!f.WORKERS_SUPPORTED)return Y=null,f.NODE_STREAM_INPUT,typeof j=="string"?(j=(J=>J.charCodeAt(0)!==65279?J:J.slice(1))(j),Y=new(O.download?g:x)(O)):j.readable===!0&&M(j.read)&&M(j.on)?Y=new w(O):(r.File&&j instanceof File||j instanceof Object)&&(Y=new v(O)),Y.stream(j);(Y=(()=>{var J;return!!f.WORKERS_SUPPORTED&&(J=(()=>{var F=r.URL||r.webkitURL||null,re=n.toString();return f.BLOB_URL||(f.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",re,")();"],{type:"text/javascript"})))})(),(J=new r.Worker(J)).onmessage=N,J.id=d++,u[J.id]=J)})()).userStep=O.step,Y.userChunk=O.chunk,Y.userComplete=O.complete,Y.userError=O.error,O.step=M(O.step),O.chunk=M(O.chunk),O.complete=M(O.complete),O.error=M(O.error),delete O.worker,Y.postMessage({input:j,config:O,workerId:Y.id})},f.unparse=function(j,O){var Y=!1,J=!0,F=",",re=`\r
`,k='"',V=k+k,K=!1,H=null,Q=!1,ee=((()=>{if(typeof O=="object"){if(typeof O.delimiter!="string"||f.BAD_DELIMITERS.filter(function(R){return O.delimiter.indexOf(R)!==-1}).length||(F=O.delimiter),typeof O.quotes!="boolean"&&typeof O.quotes!="function"&&!Array.isArray(O.quotes)||(Y=O.quotes),typeof O.skipEmptyLines!="boolean"&&typeof O.skipEmptyLines!="string"||(K=O.skipEmptyLines),typeof O.newline=="string"&&(re=O.newline),typeof O.quoteChar=="string"&&(k=O.quoteChar),typeof O.header=="boolean"&&(J=O.header),Array.isArray(O.columns)){if(O.columns.length===0)throw new Error("Option columns is empty");H=O.columns}O.escapeChar!==void 0&&(V=O.escapeChar+k),O.escapeFormulae instanceof RegExp?Q=O.escapeFormulae:typeof O.escapeFormulae=="boolean"&&O.escapeFormulae&&(Q=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(k),"g"));if(typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(j)){if(!j.length||Array.isArray(j[0]))return ae(null,j,K);if(typeof j[0]=="object")return ae(H||Object.keys(j[0]),j,K)}else if(typeof j=="object")return typeof j.data=="string"&&(j.data=JSON.parse(j.data)),Array.isArray(j.data)&&(j.fields||(j.fields=j.meta&&j.meta.fields||H),j.fields||(j.fields=Array.isArray(j.data[0])?j.fields:typeof j.data[0]=="object"?Object.keys(j.data[0]):[]),Array.isArray(j.data[0])||typeof j.data[0]=="object"||(j.data=[j.data])),ae(j.fields||[],j.data||[],K);throw new Error("Unable to serialize unrecognized input");function ae(R,U,B){var G="",ue=(typeof R=="string"&&(R=JSON.parse(R)),typeof U=="string"&&(U=JSON.parse(U)),Array.isArray(R)&&0<R.length),ge=!Array.isArray(U[0]);if(ue&&J){for(var me=0;me<R.length;me++)0<me&&(G+=F),G+=D(R[me],me);0<U.length&&(G+=re)}for(var ve=0;ve<U.length;ve++){var Re=(ue?R:U[ve]).length,Ue=!1,Ve=ue?Object.keys(U[ve]).length===0:U[ve].length===0;if(B&&!ue&&(Ue=B==="greedy"?U[ve].join("").trim()==="":U[ve].length===1&&U[ve][0].length===0),B==="greedy"&&ue){for(var st=[],I=0;I<Re;I++){var ye=ge?R[I]:I;st.push(U[ve][ye])}Ue=st.join("").trim()===""}if(!Ue){for(var ne=0;ne<Re;ne++){0<ne&&!Ve&&(G+=F);var q=ue&&ge?R[ne]:ne;G+=D(U[ve][q],ne)}ve<U.length-1&&(!B||0<Re&&!Ve)&&(G+=re)}}return G}function D(R,U){var B,G;return R==null?"":R.constructor===Date?JSON.stringify(R).slice(1,25):(G=!1,Q&&typeof R=="string"&&Q.test(R)&&(R="'"+R,G=!0),B=R.toString().replace(ee,V),(G=G||Y===!0||typeof Y=="function"&&Y(R,U)||Array.isArray(Y)&&Y[U]||((ue,ge)=>{for(var me=0;me<ge.length;me++)if(-1<ue.indexOf(ge[me]))return!0;return!1})(B,f.BAD_DELIMITERS)||-1<B.indexOf(F)||B.charAt(0)===" "||B.charAt(B.length-1)===" ")?k+B+k:B)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!a&&!!r.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=S,f.ParserHandle=y,f.NetworkStreamer=g,f.FileStreamer=v,f.StringStreamer=x,f.ReadableStreamStreamer=w,r.jQuery&&((s=r.jQuery).fn.parse=function(j){var O=j.config||{},Y=[];return this.each(function(re){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var k=0;k<this.files.length;k++)Y.push({file:this.files[k],inputElem:this,instanceConfig:s.extend({},O)})}),J(),this;function J(){if(Y.length===0)M(j.complete)&&j.complete();else{var re,k,V,K,H=Y[0];if(M(j.before)){var Q=j.before(H.file,H.inputElem);if(typeof Q=="object"){if(Q.action==="abort")return re="AbortError",k=H.file,V=H.inputElem,K=Q.reason,void(M(j.error)&&j.error({name:re},k,V,K));if(Q.action==="skip")return void F();typeof Q.config=="object"&&(H.instanceConfig=s.extend(H.instanceConfig,Q.config))}else if(Q==="skip")return void F()}var ee=H.instanceConfig.complete;H.instanceConfig.complete=function(ae){M(ee)&&ee(ae,H.file,H.inputElem),F()},f.parse(H.file,H.instanceConfig)}}function F(){Y.splice(0,1),J()}}),o&&(r.onmessage=function(j){j=j.data,f.WORKER_ID===void 0&&j&&(f.WORKER_ID=j.workerId),typeof j.input=="string"?r.postMessage({workerId:f.WORKER_ID,results:f.parse(j.input,j.config),finished:!0}):(r.File&&j.input instanceof File||j.input instanceof Object)&&(j=f.parse(j.input,j.config))&&r.postMessage({workerId:f.WORKER_ID,results:j,finished:!0})}),(g.prototype=Object.create(p.prototype)).constructor=g,(v.prototype=Object.create(p.prototype)).constructor=v,(x.prototype=Object.create(x.prototype)).constructor=x,(w.prototype=Object.create(p.prototype)).constructor=w,f})})(Vf)),Vf.exports}var M7=O7();const GN=Rh(M7);var dh={};dh.version="0.18.5";var VN=1252,D7=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],WN=function(e){D7.indexOf(e)!=-1&&(VN=e)};function I7(){WN(1252)}var wu=function(e){WN(e)};function L7(){wu(1200),I7()}var wf=function(t){return String.fromCharCode(t)},l_=function(t){return String.fromCharCode(t)},fh,di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function bu(e){for(var t="",n=0,r=0,s=0,a=0,o=0,u=0,d=0,f=0;f<e.length;)n=e.charCodeAt(f++),a=n>>2,r=e.charCodeAt(f++),o=(n&3)<<4|r>>4,s=e.charCodeAt(f++),u=(r&15)<<2|s>>6,d=s&63,isNaN(r)?u=d=64:isNaN(s)&&(d=64),t+=di.charAt(a)+di.charAt(o)+di.charAt(u)+di.charAt(d);return t}function ja(e){var t="",n=0,r=0,s=0,a=0,o=0,u=0,d=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)a=di.indexOf(e.charAt(f++)),o=di.indexOf(e.charAt(f++)),n=a<<2|o>>4,t+=String.fromCharCode(n),u=di.indexOf(e.charAt(f++)),r=(o&15)<<4|u>>2,u!==64&&(t+=String.fromCharCode(r)),d=di.indexOf(e.charAt(f++)),s=(u&3)<<6|d,d!==64&&(t+=String.fromCharCode(s));return t}var Wt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ra=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function ro(e){return Wt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function c_(e){return Wt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var js=function(t){return Wt?Ra(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function qh(e){if(typeof ArrayBuffer>"u")return js(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=e.charCodeAt(r)&255;return t}function $u(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function P7(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var rr=Wt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ra(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),s=0;for(t=0,n=0;t<e.length;n+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function F7(e){for(var t=[],n=0,r=e.length+250,s=ro(e.length+255),a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o<128)s[n++]=o;else if(o<2048)s[n++]=192|o>>6&31,s[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var u=e.charCodeAt(++a)&1023;s[n++]=240|o>>8&7,s[n++]=128|o>>2&63,s[n++]=128|u>>6&15|(o&3)<<4,s[n++]=128|u&63}else s[n++]=224|o>>12&15,s[n++]=128|o>>6&63,s[n++]=128|o&63;n>r&&(t.push(s.slice(0,n)),n=0,s=ro(65535),r=65530)}return t.push(s.slice(0,n)),rr(t)}var nu=/\u0000/g,bf=/[\u0001-\u0006]/g;function hl(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function As(e,t){var n=""+e;return n.length>=t?n:_n("0",t-n.length)+n}function ev(e,t){var n=""+e;return n.length>=t?n:_n(" ",t-n.length)+n}function hh(e,t){var n=""+e;return n.length>=t?n:n+_n(" ",t-n.length)}function z7(e,t){var n=""+Math.round(e);return n.length>=t?n:_n("0",t-n.length)+n}function B7(e,t){var n=""+e;return n.length>=t?n:_n("0",t-n.length)+n}var u_=Math.pow(2,32);function qo(e,t){if(e>u_||e<-u_)return z7(e,t);var n=Math.round(e);return B7(n,t)}function ph(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var d_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Zm=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function U7(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Sn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},f_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},$7={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function mh(e,t,n){for(var r=e<0?-1:1,s=e*r,a=0,o=1,u=0,d=1,f=0,p=0,g=Math.floor(s);f<t&&(g=Math.floor(s),u=g*o+a,p=g*f+d,!(s-g<5e-8));)s=1/(s-g),a=o,o=u,d=f,f=p;if(p>t&&(f>t?(p=d,u=a):(p=f,u=o)),!n)return[0,r*u,p];var v=Math.floor(r*u/p);return[v,r*u-v*p,p]}function _f(e,t,n){if(e>2958465||e<0)return null;var r=e|0,s=Math.floor(86400*(e-r)),a=0,o=[],u={D:r,T:s,u:86400*(e-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),t&&t.date1904&&(r+=1462),u.u>.9999&&(u.u=0,++s==86400&&(u.T=s=0,++r,++u.D)),r===60)o=n?[1317,10,29]:[1900,2,29],a=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var d=new Date(1900,0,1);d.setDate(d.getDate()+r-1),o=[d.getFullYear(),d.getMonth()+1,d.getDate()],a=d.getDay(),r<60&&(a=(a+6)%7),n&&(a=X7(d,o))}return u.y=o[0],u.m=o[1],u.d=o[2],u.S=s%60,s=Math.floor(s/60),u.M=s%60,s=Math.floor(s/60),u.H=s,u.q=a,u}var qN=new Date(1899,11,31,0,0,0),H7=qN.getTime(),G7=new Date(1900,2,1,0,0,0);function KN(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=G7&&(n+=1440*60*1e3),(n-(H7+(e.getTimezoneOffset()-qN.getTimezoneOffset())*6e4))/(1440*60*1e3)}function tv(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function V7(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function W7(e){var t=e<0?12:11,n=tv(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function q7(e){var t=tv(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function K7(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=W7(e):t===10?n=e.toFixed(10).substr(0,12):n=q7(e),tv(V7(n.toUpperCase()))}function ex(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):K7(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return gi(14,KN(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function X7(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function Y7(e,t,n,r){var s="",a=0,o=0,u=n.y,d,f=0;switch(e){case 98:u=n.y+543;case 121:switch(t.length){case 1:case 2:d=u%100,f=2;break;default:d=u%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:d=n.m,f=t.length;break;case 3:return Zm[n.m-1][1];case 5:return Zm[n.m-1][0];default:return Zm[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:d=n.d,f=t.length;break;case 3:return d_[n.q][0];default:return d_[n.q][1]}break;case 104:switch(t.length){case 1:case 2:d=1+(n.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:d=n.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:d=n.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?As(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,a=Math.round(o*(n.S+n.u)),a>=60*o&&(a=0),t==="s"?a===0?"0":""+a/o:(s=As(a,2+r),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":d=n.D*24+n.H;break;case"[m]":case"[mm]":d=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":d=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:d=u,f=1;break}var p=f>0?As(d,f):"";return p}function fi(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var XN=/%/g;function J7(e,t,n){var r=t.replace(XN,""),s=t.length-r.length;return Sa(e,r,n*Math.pow(10,2*s))+_n("%",s)}function Z7(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Sa(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function YN(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+YN(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),n=(t/Math.pow(10,a)).toPrecision(r+1+(s+a)%s),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+a):n+="E+"+(o-a);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,f,p){return d+f+p.substr(0,(s+a)%s)+"."+p.substr(a)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var JN=/# (\?+)( ?)\/( ?)(\d+)/;function Q7(e,t,n){var r=parseInt(e[4],10),s=Math.round(t*r),a=Math.floor(s/r),o=s-a*r,u=r;return n+(a===0?"":""+a)+" "+(o===0?_n(" ",e[1].length+1+e[4].length):ev(o,e[1].length)+e[2]+"/"+e[3]+As(u,e[4].length))}function ez(e,t,n){return n+(t===0?"":""+t)+_n(" ",e[1].length+2+e[4].length)}var ZN=/^#*0*\.([0#]+)/,QN=/\).*[0#]/,eT=/\(###\) ###\\?-####/;function vr(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function h_(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function p_(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function tz(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function nz(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function us(e,t,n){if(e.charCodeAt(0)===40&&!t.match(QN)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?us("n",r,n):"("+us("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return Z7(e,t,n);if(t.indexOf("%")!==-1)return J7(e,t,n);if(t.indexOf("E")!==-1)return YN(t,n);if(t.charCodeAt(0)===36)return"$"+us(e,t.substr(t.charAt(1)==" "?2:1),n);var s,a,o,u,d=Math.abs(n),f=n<0?"-":"";if(t.match(/^00+$/))return f+qo(d,t.length);if(t.match(/^[#?]+$/))return s=qo(n,0),s==="0"&&(s=""),s.length>t.length?s:vr(t.substr(0,t.length-s.length))+s;if(a=t.match(JN))return Q7(a,d,f);if(t.match(/^#+0+$/))return f+qo(d,t.length-t.indexOf("0"));if(a=t.match(ZN))return s=h_(n,a[1].length).replace(/^([^\.]+)$/,"$1."+vr(a[1])).replace(/\.$/,"."+vr(a[1])).replace(/\.(\d*)$/,function(w,y){return"."+y+_n("0",vr(a[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return f+h_(d,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return f+fi(qo(d,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+us(e,t,-n):fi(""+(Math.floor(n)+tz(n,a[1].length)))+"."+As(p_(n,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return us(e,t.replace(/^#,#*,/,""),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=hl(us(e,t.replace(/[\\-]/g,""),n)),o=0,hl(hl(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<s.length?s.charAt(o++):w==="0"?"0":""}));if(t.match(eT))return s=us(e,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),u=mh(d,Math.pow(10,o)-1,!1),s=""+f,p=Sa("n",a[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+a[2]+"/"+a[3],p=hh(u[2],o),p.length<a[4].length&&(p=vr(a[4].substr(a[4].length-p.length))+p),s+=p,s;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),u=mh(d,Math.pow(10,o)-1,!0),f+(u[0]||(u[1]?"":"0"))+" "+(u[1]?ev(u[1],o)+a[2]+"/"+a[3]+hh(u[2],o):_n(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=qo(n,0),t.length<=s.length?s:vr(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var g=t.indexOf(".")-o,v=t.length-s.length-g;return vr(t.substr(0,g)+s+t.substr(t.length-v))}if(a=t.match(/^00,000\.([#0]*0)$/))return o=p_(n,a[1].length),n<0?"-"+us(e,t,-n):fi(nz(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?As(0,3-w.length):"")+w})+"."+As(o,a[1].length);switch(t){case"###,##0.00":return us(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var x=fi(qo(d,0));return x!=="0"?f+x:"";case"###,###.00":return us(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return us(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function rz(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Sa(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function sz(e,t,n){var r=t.replace(XN,""),s=t.length-r.length;return Sa(e,r,n*Math.pow(10,2*s))+_n("%",s)}function tT(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+tT(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),n=(t/Math.pow(10,a)).toPrecision(r+1+(s+a)%s),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+a):n+="E+"+(o-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,f,p){return d+f+p.substr(0,(s+a)%s)+"."+p.substr(a)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function $s(e,t,n){if(e.charCodeAt(0)===40&&!t.match(QN)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?$s("n",r,n):"("+$s("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return rz(e,t,n);if(t.indexOf("%")!==-1)return sz(e,t,n);if(t.indexOf("E")!==-1)return tT(t,n);if(t.charCodeAt(0)===36)return"$"+$s(e,t.substr(t.charAt(1)==" "?2:1),n);var s,a,o,u,d=Math.abs(n),f=n<0?"-":"";if(t.match(/^00+$/))return f+As(d,t.length);if(t.match(/^[#?]+$/))return s=""+n,n===0&&(s=""),s.length>t.length?s:vr(t.substr(0,t.length-s.length))+s;if(a=t.match(JN))return ez(a,d,f);if(t.match(/^#+0+$/))return f+As(d,t.length-t.indexOf("0"));if(a=t.match(ZN))return s=(""+n).replace(/^([^\.]+)$/,"$1."+vr(a[1])).replace(/\.$/,"."+vr(a[1])),s=s.replace(/\.(\d*)$/,function(w,y){return"."+y+_n("0",vr(a[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return f+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return f+fi(""+d);if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+$s(e,t,-n):fi(""+n)+"."+_n("0",a[1].length);if(a=t.match(/^#,#*,#0/))return $s(e,t.replace(/^#,#*,/,""),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=hl($s(e,t.replace(/[\\-]/g,""),n)),o=0,hl(hl(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<s.length?s.charAt(o++):w==="0"?"0":""}));if(t.match(eT))return s=$s(e,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),u=mh(d,Math.pow(10,o)-1,!1),s=""+f,p=Sa("n",a[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+a[2]+"/"+a[3],p=hh(u[2],o),p.length<a[4].length&&(p=vr(a[4].substr(a[4].length-p.length))+p),s+=p,s;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),u=mh(d,Math.pow(10,o)-1,!0),f+(u[0]||(u[1]?"":"0"))+" "+(u[1]?ev(u[1],o)+a[2]+"/"+a[3]+hh(u[2],o):_n(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=""+n,t.length<=s.length?s:vr(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var g=t.indexOf(".")-o,v=t.length-s.length-g;return vr(t.substr(0,g)+s+t.substr(t.length-v))}if(a=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+$s(e,t,-n):fi(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?As(0,3-w.length):"")+w})+"."+As(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=fi(""+d);return x!=="0"?f+x:"";default:if(t.match(/\.[0#?]*$/))return $s(e,t.slice(0,t.lastIndexOf(".")),n)+vr(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Sa(e,t,n){return(n|0)===n?$s(e,t,n):us(e,t,n)}function az(e){for(var t=[],n=!1,r=0,s=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(s,r-s),s=r+1}if(t[t.length]=e.substr(s),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var nT=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function rT(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":ph(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(nT))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function iz(e,t,n,r){for(var s=[],a="",o=0,u="",d="t",f,p,g,v="H";o<e.length;)switch(u=e.charAt(o)){case"G":if(!ph(e,o))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(g=e.charCodeAt(++o))!==34&&o<e.length;)a+=String.fromCharCode(g);s[s.length]={t:"t",v:a},++o;break;case"\\":var x=e.charAt(++o),w=x==="("||x===")"?x:"t";s[s.length]={t:w,v:x},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(f==null&&(f=_f(t,n,e.charAt(o+1)==="2"),f==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},d=u,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=_f(t,n),f==null))return"";for(a=u;++o<e.length&&e.charAt(o).toLowerCase()===u;)a+=u;u==="m"&&d.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=v),s[s.length]={t:u,v:a},d=u;break;case"A":case"a":case"":var y={t:u,v:u};if(f==null&&(f=_f(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(f!=null&&(y.v=f.H>=12?"P":"A"),y.t="T",v="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(f!=null&&(y.v=f.H>=12?"PM":"AM"),y.t="T",o+=5,v="h"):e.substr(o,5).toUpperCase()==="/"?(f!=null&&(y.v=f.H>=12?"":""),y.t="T",o+=5,v="h"):(y.t="t",++o),f==null&&y.t==="T")return"";s[s.length]=y,d=u;break;case"[":for(a=u;e.charAt(o++)!=="]"&&o<e.length;)a+=e.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(nT)){if(f==null&&(f=_f(t,n),f==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},d=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",rT(e)||(s[s.length]={t:"t",v:a}));break;case".":if(f!=null){for(a=u;++o<e.length&&(u=e.charAt(o))==="0";)a+=u;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=u;++o<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(o))>-1;)a+=u;s[s.length]={t:"n",v:a};break;case"?":for(a=u;e.charAt(++o)===u;)a+=u;s[s.length]={t:u,v:a},d=u;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:r===1?"t":u,v:u},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=u;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)a+=e.charAt(o);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:u,v:u},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"t",v:u},++o;break}var _=0,S=0,N;for(o=s.length-1,d="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=v,d="h",_<1&&(_=1);break;case"s":(N=s[o].v.match(/\.0+$/))&&(S=Math.max(S,N[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":d=s[o].t;break;case"m":d==="s"&&(s[o].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&s[o].v.match(/[Hh]/)&&(_=1),_<2&&s[o].v.match(/[Mm]/)&&(_=2),_<3&&s[o].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var T="",C;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=Y7(s[o].t.charCodeAt(0),s[o].v,f,S),s[o].t="t";break;case"n":case"?":for(C=o+1;s[C]!=null&&((u=s[C].t)==="?"||u==="D"||(u===" "||u==="t")&&s[C+1]!=null&&(s[C+1].t==="?"||s[C+1].t==="t"&&s[C+1].v==="/")||s[o].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(s[C].v==="/"||s[C].v===" "&&s[C+1]!=null&&s[C+1].t=="?"));)s[o].v+=s[C].v,s[C]={v:"",t:";"},++C;T+=s[o].v,o=C-1;break;case"G":s[o].t="t",s[o].v=ex(t,n);break}var A="",z,M;if(T.length>0){T.charCodeAt(0)==40?(z=t<0&&T.charCodeAt(0)===45?-t:t,M=Sa("n",T,z)):(z=t<0&&r>1?-t:t,M=Sa("n",T,z),z<0&&s[0]&&s[0].t=="t"&&(M=M.substr(1),s[0].v="-"+s[0].v)),C=M.length-1;var j=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){j=o;break}var O=s.length;if(j===s.length&&M.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(C>=s[o].v.length-1?(C-=s[o].v.length,s[o].v=M.substr(C+1,s[o].v.length)):C<0?s[o].v="":(s[o].v=M.substr(0,C+1),C=-1),s[o].t="t",O=o);C>=0&&O<s.length&&(s[O].v=M.substr(0,C+1)+s[O].v)}else if(j!==s.length&&M.indexOf("E")===-1){for(C=M.indexOf(".")-1,o=j;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(p=s[o].v.indexOf(".")>-1&&o===j?s[o].v.indexOf(".")-1:s[o].v.length-1,A=s[o].v.substr(p+1);p>=0;--p)C>=0&&(s[o].v.charAt(p)==="0"||s[o].v.charAt(p)==="#")&&(A=M.charAt(C--)+A);s[o].v=A,s[o].t="t",O=o}for(C>=0&&O<s.length&&(s[O].v=M.substr(0,C+1)+s[O].v),C=M.indexOf(".")+1,o=j;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==j)){for(p=s[o].v.indexOf(".")>-1&&o===j?s[o].v.indexOf(".")+1:0,A=s[o].v.substr(0,p);p<s[o].v.length;++p)C<M.length&&(A+=M.charAt(C++));s[o].v=A,s[o].t="t",O=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(z=r>1&&t<0&&o>0&&s[o-1].v==="-"?-t:t,s[o].v=Sa(s[o].t,s[o].v,z),s[o].t="t");var Y="";for(o=0;o!==s.length;++o)s[o]!=null&&(Y+=s[o].v);return Y}var m_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function g_(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function oz(e,t){var n=az(e),r=n.length,s=n[r-1].indexOf("@");if(r<4&&s>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var a=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,a];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(m_),u=n[1].match(m_);return g_(t,o)?[r,n[0]]:g_(t,u)?[r,n[1]]:[r,n[o!=null&&u!=null?2:1]]}return[r,a]}function gi(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Sn)[e],r==null&&(r=n.table&&n.table[f_[e]]||Sn[f_[e]]),r==null&&(r=$7[e]||"General");break}if(ph(r,0))return ex(t,n);t instanceof Date&&(t=KN(t,n.date1904));var s=oz(r,t);if(ph(s[1]))return ex(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return iz(s[1],t,n,s[0])}function sT(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(Sn[n]==null){t<0&&(t=n);continue}if(Sn[n]==e){t=n;break}}t<0&&(t=391)}return Sn[t]=e,t}function Kh(e){for(var t=0;t!=392;++t)e[t]!==void 0&&sT(e[t],t)}function Xh(){Sn=U7()}var aT=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function lz(e){var t=typeof e=="number"?Sn[e]:e;return t=t.replace(aT,"(\\d+)"),new RegExp("^"+t+"$")}function cz(e,t,n){var r=-1,s=-1,a=-1,o=-1,u=-1,d=-1;(t.match(aT)||[]).forEach(function(g,v){var x=parseInt(n[v+1],10);switch(g.toLowerCase().charAt(0)){case"y":r=x;break;case"d":a=x;break;case"h":o=x;break;case"s":d=x;break;case"m":o>=0?u=x:s=x;break}}),d>=0&&u==-1&&s>=0&&(u=s,s=-1);var f=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var p=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return o==-1&&u==-1&&d==-1?f:r==-1&&s==-1&&a==-1?p:f+"T"+p}var uz=(function(){var e={};e.version="1.2.0";function t(){for(var M=0,j=new Array(256),O=0;O!=256;++O)M=O,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,j[O]=M;return typeof Int32Array<"u"?new Int32Array(j):j}var n=t();function r(M){var j=0,O=0,Y=0,J=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Y=0;Y!=256;++Y)J[Y]=M[Y];for(Y=0;Y!=256;++Y)for(O=M[Y],j=256+Y;j<4096;j+=256)O=J[j]=O>>>8^M[O&255];var F=[];for(Y=1;Y!=16;++Y)F[Y-1]=typeof Int32Array<"u"?J.subarray(Y*256,Y*256+256):J.slice(Y*256,Y*256+256);return F}var s=r(n),a=s[0],o=s[1],u=s[2],d=s[3],f=s[4],p=s[5],g=s[6],v=s[7],x=s[8],w=s[9],y=s[10],_=s[11],S=s[12],N=s[13],T=s[14];function C(M,j){for(var O=j^-1,Y=0,J=M.length;Y<J;)O=O>>>8^n[(O^M.charCodeAt(Y++))&255];return~O}function A(M,j){for(var O=j^-1,Y=M.length-15,J=0;J<Y;)O=T[M[J++]^O&255]^N[M[J++]^O>>8&255]^S[M[J++]^O>>16&255]^_[M[J++]^O>>>24]^y[M[J++]]^w[M[J++]]^x[M[J++]]^v[M[J++]]^g[M[J++]]^p[M[J++]]^f[M[J++]]^d[M[J++]]^u[M[J++]]^o[M[J++]]^a[M[J++]]^n[M[J++]];for(Y+=15;J<Y;)O=O>>>8^n[(O^M[J++])&255];return~O}function z(M,j){for(var O=j^-1,Y=0,J=M.length,F=0,re=0;Y<J;)F=M.charCodeAt(Y++),F<128?O=O>>>8^n[(O^F)&255]:F<2048?(O=O>>>8^n[(O^(192|F>>6&31))&255],O=O>>>8^n[(O^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,re=M.charCodeAt(Y++)&1023,O=O>>>8^n[(O^(240|F>>8&7))&255],O=O>>>8^n[(O^(128|F>>2&63))&255],O=O>>>8^n[(O^(128|re>>6&15|(F&3)<<4))&255],O=O>>>8^n[(O^(128|re&63))&255]):(O=O>>>8^n[(O^(224|F>>12&15))&255],O=O>>>8^n[(O^(128|F>>6&63))&255],O=O>>>8^n[(O^(128|F&63))&255]);return~O}return e.table=n,e.bstr=C,e.buf=A,e.str=z,e})(),nn=(function(){var t={};t.version="1.2.1";function n(W,ie){for(var te=W.split("/"),se=ie.split("/"),oe=0,ce=0,Ee=Math.min(te.length,se.length);oe<Ee;++oe){if(ce=te[oe].length-se[oe].length)return ce;if(te[oe]!=se[oe])return te[oe]<se[oe]?-1:1}return te.length-se.length}function r(W){if(W.charAt(W.length-1)=="/")return W.slice(0,-1).indexOf("/")===-1?W:r(W.slice(0,-1));var ie=W.lastIndexOf("/");return ie===-1?W:W.slice(0,ie+1)}function s(W){if(W.charAt(W.length-1)=="/")return s(W.slice(0,-1));var ie=W.lastIndexOf("/");return ie===-1?W:W.slice(ie+1)}function a(W,ie){typeof ie=="string"&&(ie=new Date(ie));var te=ie.getHours();te=te<<6|ie.getMinutes(),te=te<<5|ie.getSeconds()>>>1,W.write_shift(2,te);var se=ie.getFullYear()-1980;se=se<<4|ie.getMonth()+1,se=se<<5|ie.getDate(),W.write_shift(2,se)}function o(W){var ie=W.read_shift(2)&65535,te=W.read_shift(2)&65535,se=new Date,oe=te&31;te>>>=5;var ce=te&15;te>>>=4,se.setMilliseconds(0),se.setFullYear(te+1980),se.setMonth(ce-1),se.setDate(oe);var Ee=ie&31;ie>>>=5;var Pe=ie&63;return ie>>>=6,se.setHours(ie),se.setMinutes(Pe),se.setSeconds(Ee<<1),se}function u(W){Gr(W,0);for(var ie={},te=0;W.l<=W.length-4;){var se=W.read_shift(2),oe=W.read_shift(2),ce=W.l+oe,Ee={};switch(se){case 21589:te=W.read_shift(1),te&1&&(Ee.mtime=W.read_shift(4)),oe>5&&(te&2&&(Ee.atime=W.read_shift(4)),te&4&&(Ee.ctime=W.read_shift(4))),Ee.mtime&&(Ee.mt=new Date(Ee.mtime*1e3));break}W.l=ce,ie[se]=Ee}return ie}var d;function f(){return d||(d={})}function p(W,ie){if(W[0]==80&&W[1]==75)return Tt(W,ie);if((W[0]|32)==109&&(W[1]|32)==105)return fn(W,ie);if(W.length<512)throw new Error("CFB file size "+W.length+" < 512");var te=3,se=512,oe=0,ce=0,Ee=0,Pe=0,Ne=0,Ce=[],Ae=W.slice(0,512);Gr(Ae,0);var We=g(Ae);switch(te=We[0],te){case 3:se=512;break;case 4:se=4096;break;case 0:if(We[1]==0)return Tt(W,ie);default:throw new Error("Major Version: Expected 3 or 4 saw "+te)}se!==512&&(Ae=W.slice(0,se),Gr(Ae,28));var Ke=W.slice(0,se);v(Ae,te);var nt=Ae.read_shift(4,"i");if(te===3&&nt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+nt);Ae.l+=4,Ee=Ae.read_shift(4,"i"),Ae.l+=4,Ae.chk("00100000","Mini Stream Cutoff Size: "),Pe=Ae.read_shift(4,"i"),oe=Ae.read_shift(4,"i"),Ne=Ae.read_shift(4,"i"),ce=Ae.read_shift(4,"i");for(var qe=-1,Qe=0;Qe<109&&(qe=Ae.read_shift(4,"i"),!(qe<0));++Qe)Ce[Qe]=qe;var lt=x(W,se);_(Ne,ce,lt,se,Ce);var an=N(lt,Ee,Ce,se);an[Ee].name="!Directory",oe>0&&Pe!==re&&(an[Pe].name="!MiniFAT"),an[Ce[0]].name="!FAT",an.fat_addrs=Ce,an.ssz=se;var on={},hn=[],Qr=[],bi=[];T(Ee,an,lt,hn,oe,on,Qr,Pe),w(Qr,bi,hn),hn.shift();var Oa={FileIndex:Qr,FullPaths:bi};return ie&&ie.raw&&(Oa.raw={header:Ke,sectors:lt}),Oa}function g(W){if(W[W.l]==80&&W[W.l+1]==75)return[0,0];W.chk(k,"Header Signature: "),W.l+=16;var ie=W.read_shift(2,"u");return[W.read_shift(2,"u"),ie]}function v(W,ie){var te=9;switch(W.l+=2,te=W.read_shift(2)){case 9:if(ie!=3)throw new Error("Sector Shift: Expected 9 saw "+te);break;case 12:if(ie!=4)throw new Error("Sector Shift: Expected 12 saw "+te);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+te)}W.chk("0600","Mini Sector Shift: "),W.chk("000000000000","Reserved: ")}function x(W,ie){for(var te=Math.ceil(W.length/ie)-1,se=[],oe=1;oe<te;++oe)se[oe-1]=W.slice(oe*ie,(oe+1)*ie);return se[te-1]=W.slice(te*ie),se}function w(W,ie,te){for(var se=0,oe=0,ce=0,Ee=0,Pe=0,Ne=te.length,Ce=[],Ae=[];se<Ne;++se)Ce[se]=Ae[se]=se,ie[se]=te[se];for(;Pe<Ae.length;++Pe)se=Ae[Pe],oe=W[se].L,ce=W[se].R,Ee=W[se].C,Ce[se]===se&&(oe!==-1&&Ce[oe]!==oe&&(Ce[se]=Ce[oe]),ce!==-1&&Ce[ce]!==ce&&(Ce[se]=Ce[ce])),Ee!==-1&&(Ce[Ee]=se),oe!==-1&&se!=Ce[se]&&(Ce[oe]=Ce[se],Ae.lastIndexOf(oe)<Pe&&Ae.push(oe)),ce!==-1&&se!=Ce[se]&&(Ce[ce]=Ce[se],Ae.lastIndexOf(ce)<Pe&&Ae.push(ce));for(se=1;se<Ne;++se)Ce[se]===se&&(ce!==-1&&Ce[ce]!==ce?Ce[se]=Ce[ce]:oe!==-1&&Ce[oe]!==oe&&(Ce[se]=Ce[oe]));for(se=1;se<Ne;++se)if(W[se].type!==0){if(Pe=se,Pe!=Ce[Pe])do Pe=Ce[Pe],ie[se]=ie[Pe]+"/"+ie[se];while(Pe!==0&&Ce[Pe]!==-1&&Pe!=Ce[Pe]);Ce[se]=-1}for(ie[0]+="/",se=1;se<Ne;++se)W[se].type!==2&&(ie[se]+="/")}function y(W,ie,te){for(var se=W.start,oe=W.size,ce=[],Ee=se;te&&oe>0&&Ee>=0;)ce.push(ie.slice(Ee*F,Ee*F+F)),oe-=F,Ee=Wi(te,Ee*4);return ce.length===0?Ie(0):rr(ce).slice(0,W.size)}function _(W,ie,te,se,oe){var ce=re;if(W===re){if(ie!==0)throw new Error("DIFAT chain shorter than expected")}else if(W!==-1){var Ee=te[W],Pe=(se>>>2)-1;if(!Ee)return;for(var Ne=0;Ne<Pe&&(ce=Wi(Ee,Ne*4))!==re;++Ne)oe.push(ce);_(Wi(Ee,se-4),ie-1,te,se,oe)}}function S(W,ie,te,se,oe){var ce=[],Ee=[];oe||(oe=[]);var Pe=se-1,Ne=0,Ce=0;for(Ne=ie;Ne>=0;){oe[Ne]=!0,ce[ce.length]=Ne,Ee.push(W[Ne]);var Ae=te[Math.floor(Ne*4/se)];if(Ce=Ne*4&Pe,se<4+Ce)throw new Error("FAT boundary crossed: "+Ne+" 4 "+se);if(!W[Ae])break;Ne=Wi(W[Ae],Ce)}return{nodes:ce,data:E_([Ee])}}function N(W,ie,te,se){var oe=W.length,ce=[],Ee=[],Pe=[],Ne=[],Ce=se-1,Ae=0,We=0,Ke=0,nt=0;for(Ae=0;Ae<oe;++Ae)if(Pe=[],Ke=Ae+ie,Ke>=oe&&(Ke-=oe),!Ee[Ke]){Ne=[];var qe=[];for(We=Ke;We>=0;){qe[We]=!0,Ee[We]=!0,Pe[Pe.length]=We,Ne.push(W[We]);var Qe=te[Math.floor(We*4/se)];if(nt=We*4&Ce,se<4+nt)throw new Error("FAT boundary crossed: "+We+" 4 "+se);if(!W[Qe]||(We=Wi(W[Qe],nt),qe[We]))break}ce[Ke]={nodes:Pe,data:E_([Ne])}}return ce}function T(W,ie,te,se,oe,ce,Ee,Pe){for(var Ne=0,Ce=se.length?2:0,Ae=ie[W].data,We=0,Ke=0,nt;We<Ae.length;We+=128){var qe=Ae.slice(We,We+128);Gr(qe,64),Ke=qe.read_shift(2),nt=iv(qe,0,Ke-Ce),se.push(nt);var Qe={name:nt,type:qe.read_shift(1),color:qe.read_shift(1),L:qe.read_shift(4,"i"),R:qe.read_shift(4,"i"),C:qe.read_shift(4,"i"),clsid:qe.read_shift(16),state:qe.read_shift(4,"i"),start:0,size:0},lt=qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2);lt!==0&&(Qe.ct=C(qe,qe.l-8));var an=qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2);an!==0&&(Qe.mt=C(qe,qe.l-8)),Qe.start=qe.read_shift(4,"i"),Qe.size=qe.read_shift(4,"i"),Qe.size<0&&Qe.start<0&&(Qe.size=Qe.type=0,Qe.start=re,Qe.name=""),Qe.type===5?(Ne=Qe.start,oe>0&&Ne!==re&&(ie[Ne].name="!StreamData")):Qe.size>=4096?(Qe.storage="fat",ie[Qe.start]===void 0&&(ie[Qe.start]=S(te,Qe.start,ie.fat_addrs,ie.ssz)),ie[Qe.start].name=Qe.name,Qe.content=ie[Qe.start].data.slice(0,Qe.size)):(Qe.storage="minifat",Qe.size<0?Qe.size=0:Ne!==re&&Qe.start!==re&&ie[Ne]&&(Qe.content=y(Qe,ie[Ne].data,(ie[Pe]||{}).data))),Qe.content&&Gr(Qe.content,0),ce[nt]=Qe,Ee.push(Qe)}}function C(W,ie){return new Date((qr(W,ie+4)/1e7*Math.pow(2,32)+qr(W,ie)/1e7-11644473600)*1e3)}function A(W,ie){return f(),p(d.readFileSync(W),ie)}function z(W,ie){var te=ie&&ie.type;switch(te||Wt&&Buffer.isBuffer(W)&&(te="buffer"),te||"base64"){case"file":return A(W,ie);case"base64":return p(js(ja(W)),ie);case"binary":return p(js(W),ie)}return p(W,ie)}function M(W,ie){var te=ie||{},se=te.root||"Root Entry";if(W.FullPaths||(W.FullPaths=[]),W.FileIndex||(W.FileIndex=[]),W.FullPaths.length!==W.FileIndex.length)throw new Error("inconsistent CFB structure");W.FullPaths.length===0&&(W.FullPaths[0]=se+"/",W.FileIndex[0]={name:se,type:5}),te.CLSID&&(W.FileIndex[0].clsid=te.CLSID),j(W)}function j(W){var ie="Sh33tJ5";if(!nn.find(W,"/"+ie)){var te=Ie(4);te[0]=55,te[1]=te[3]=50,te[2]=54,W.FileIndex.push({name:ie,type:2,content:te,size:4,L:69,R:69,C:69}),W.FullPaths.push(W.FullPaths[0]+ie),O(W)}}function O(W,ie){M(W);for(var te=!1,se=!1,oe=W.FullPaths.length-1;oe>=0;--oe){var ce=W.FileIndex[oe];switch(ce.type){case 0:se?te=!0:(W.FileIndex.pop(),W.FullPaths.pop());break;case 1:case 2:case 5:se=!0,isNaN(ce.R*ce.L*ce.C)&&(te=!0),ce.R>-1&&ce.L>-1&&ce.R==ce.L&&(te=!0);break;default:te=!0;break}}if(!(!te&&!ie)){var Ee=new Date(1987,1,19),Pe=0,Ne=Object.create?Object.create(null):{},Ce=[];for(oe=0;oe<W.FullPaths.length;++oe)Ne[W.FullPaths[oe]]=!0,W.FileIndex[oe].type!==0&&Ce.push([W.FullPaths[oe],W.FileIndex[oe]]);for(oe=0;oe<Ce.length;++oe){var Ae=r(Ce[oe][0]);se=Ne[Ae],se||(Ce.push([Ae,{name:s(Ae).replace("/",""),type:1,clsid:K,ct:Ee,mt:Ee,content:null}]),Ne[Ae]=!0)}for(Ce.sort(function(nt,qe){return n(nt[0],qe[0])}),W.FullPaths=[],W.FileIndex=[],oe=0;oe<Ce.length;++oe)W.FullPaths[oe]=Ce[oe][0],W.FileIndex[oe]=Ce[oe][1];for(oe=0;oe<Ce.length;++oe){var We=W.FileIndex[oe],Ke=W.FullPaths[oe];if(We.name=s(Ke).replace("/",""),We.L=We.R=We.C=-(We.color=1),We.size=We.content?We.content.length:0,We.start=0,We.clsid=We.clsid||K,oe===0)We.C=Ce.length>1?1:-1,We.size=0,We.type=5;else if(Ke.slice(-1)=="/"){for(Pe=oe+1;Pe<Ce.length&&r(W.FullPaths[Pe])!=Ke;++Pe);for(We.C=Pe>=Ce.length?-1:Pe,Pe=oe+1;Pe<Ce.length&&r(W.FullPaths[Pe])!=r(Ke);++Pe);We.R=Pe>=Ce.length?-1:Pe,We.type=1}else r(W.FullPaths[oe+1]||"")==r(Ke)&&(We.R=oe+1),We.type=2}}}function Y(W,ie){var te=ie||{};if(te.fileType=="mad")return gn(W,te);switch(O(W),te.fileType){case"zip":return St(W,te)}var se=(function(nt){for(var qe=0,Qe=0,lt=0;lt<nt.FileIndex.length;++lt){var an=nt.FileIndex[lt];if(an.content){var on=an.content.length;on>0&&(on<4096?qe+=on+63>>6:Qe+=on+511>>9)}}for(var hn=nt.FullPaths.length+3>>2,Qr=qe+7>>3,bi=qe+127>>7,Oa=Qr+Qe+hn+bi,Ps=Oa+127>>7,Hl=Ps<=109?0:Math.ceil((Ps-109)/127);Oa+Ps+Hl+127>>7>Ps;)Hl=++Ps<=109?0:Math.ceil((Ps-109)/127);var br=[1,Hl,Ps,bi,hn,Qe,qe,0];return nt.FileIndex[0].size=qe<<6,br[7]=(nt.FileIndex[0].start=br[0]+br[1]+br[2]+br[3]+br[4]+br[5])+(br[6]+7>>3),br})(W),oe=Ie(se[7]<<9),ce=0,Ee=0;{for(ce=0;ce<8;++ce)oe.write_shift(1,V[ce]);for(ce=0;ce<8;++ce)oe.write_shift(2,0);for(oe.write_shift(2,62),oe.write_shift(2,3),oe.write_shift(2,65534),oe.write_shift(2,9),oe.write_shift(2,6),ce=0;ce<3;++ce)oe.write_shift(2,0);for(oe.write_shift(4,0),oe.write_shift(4,se[2]),oe.write_shift(4,se[0]+se[1]+se[2]+se[3]-1),oe.write_shift(4,0),oe.write_shift(4,4096),oe.write_shift(4,se[3]?se[0]+se[1]+se[2]-1:re),oe.write_shift(4,se[3]),oe.write_shift(-4,se[1]?se[0]-1:re),oe.write_shift(4,se[1]),ce=0;ce<109;++ce)oe.write_shift(-4,ce<se[2]?se[1]+ce:-1)}if(se[1])for(Ee=0;Ee<se[1];++Ee){for(;ce<236+Ee*127;++ce)oe.write_shift(-4,ce<se[2]?se[1]+ce:-1);oe.write_shift(-4,Ee===se[1]-1?re:Ee+1)}var Pe=function(nt){for(Ee+=nt;ce<Ee-1;++ce)oe.write_shift(-4,ce+1);nt&&(++ce,oe.write_shift(-4,re))};for(Ee=ce=0,Ee+=se[1];ce<Ee;++ce)oe.write_shift(-4,H.DIFSECT);for(Ee+=se[2];ce<Ee;++ce)oe.write_shift(-4,H.FATSECT);Pe(se[3]),Pe(se[4]);for(var Ne=0,Ce=0,Ae=W.FileIndex[0];Ne<W.FileIndex.length;++Ne)Ae=W.FileIndex[Ne],Ae.content&&(Ce=Ae.content.length,!(Ce<4096)&&(Ae.start=Ee,Pe(Ce+511>>9)));for(Pe(se[6]+7>>3);oe.l&511;)oe.write_shift(-4,H.ENDOFCHAIN);for(Ee=ce=0,Ne=0;Ne<W.FileIndex.length;++Ne)Ae=W.FileIndex[Ne],Ae.content&&(Ce=Ae.content.length,!(!Ce||Ce>=4096)&&(Ae.start=Ee,Pe(Ce+63>>6)));for(;oe.l&511;)oe.write_shift(-4,H.ENDOFCHAIN);for(ce=0;ce<se[4]<<2;++ce){var We=W.FullPaths[ce];if(!We||We.length===0){for(Ne=0;Ne<17;++Ne)oe.write_shift(4,0);for(Ne=0;Ne<3;++Ne)oe.write_shift(4,-1);for(Ne=0;Ne<12;++Ne)oe.write_shift(4,0);continue}Ae=W.FileIndex[ce],ce===0&&(Ae.start=Ae.size?Ae.start-1:re);var Ke=ce===0&&te.root||Ae.name;if(Ce=2*(Ke.length+1),oe.write_shift(64,Ke,"utf16le"),oe.write_shift(2,Ce),oe.write_shift(1,Ae.type),oe.write_shift(1,Ae.color),oe.write_shift(-4,Ae.L),oe.write_shift(-4,Ae.R),oe.write_shift(-4,Ae.C),Ae.clsid)oe.write_shift(16,Ae.clsid,"hex");else for(Ne=0;Ne<4;++Ne)oe.write_shift(4,0);oe.write_shift(4,Ae.state||0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,Ae.start),oe.write_shift(4,Ae.size),oe.write_shift(4,0)}for(ce=1;ce<W.FileIndex.length;++ce)if(Ae=W.FileIndex[ce],Ae.size>=4096)if(oe.l=Ae.start+1<<9,Wt&&Buffer.isBuffer(Ae.content))Ae.content.copy(oe,oe.l,0,Ae.size),oe.l+=Ae.size+511&-512;else{for(Ne=0;Ne<Ae.size;++Ne)oe.write_shift(1,Ae.content[Ne]);for(;Ne&511;++Ne)oe.write_shift(1,0)}for(ce=1;ce<W.FileIndex.length;++ce)if(Ae=W.FileIndex[ce],Ae.size>0&&Ae.size<4096)if(Wt&&Buffer.isBuffer(Ae.content))Ae.content.copy(oe,oe.l,0,Ae.size),oe.l+=Ae.size+63&-64;else{for(Ne=0;Ne<Ae.size;++Ne)oe.write_shift(1,Ae.content[Ne]);for(;Ne&63;++Ne)oe.write_shift(1,0)}if(Wt)oe.l=oe.length;else for(;oe.l<oe.length;)oe.write_shift(1,0);return oe}function J(W,ie){var te=W.FullPaths.map(function(Ne){return Ne.toUpperCase()}),se=te.map(function(Ne){var Ce=Ne.split("/");return Ce[Ce.length-(Ne.slice(-1)=="/"?2:1)]}),oe=!1;ie.charCodeAt(0)===47?(oe=!0,ie=te[0].slice(0,-1)+ie):oe=ie.indexOf("/")!==-1;var ce=ie.toUpperCase(),Ee=oe===!0?te.indexOf(ce):se.indexOf(ce);if(Ee!==-1)return W.FileIndex[Ee];var Pe=!ce.match(bf);for(ce=ce.replace(nu,""),Pe&&(ce=ce.replace(bf,"!")),Ee=0;Ee<te.length;++Ee)if((Pe?te[Ee].replace(bf,"!"):te[Ee]).replace(nu,"")==ce||(Pe?se[Ee].replace(bf,"!"):se[Ee]).replace(nu,"")==ce)return W.FileIndex[Ee];return null}var F=64,re=-2,k="d0cf11e0a1b11ae1",V=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",H={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:re,FREESECT:-1,HEADER_SIGNATURE:k,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Q(W,ie,te){f();var se=Y(W,te);d.writeFileSync(ie,se)}function ee(W){for(var ie=new Array(W.length),te=0;te<W.length;++te)ie[te]=String.fromCharCode(W[te]);return ie.join("")}function ae(W,ie){var te=Y(W,ie);switch(ie&&ie.type||"buffer"){case"file":return f(),d.writeFileSync(ie.filename,te),te;case"binary":return typeof te=="string"?te:ee(te);case"base64":return bu(typeof te=="string"?te:ee(te));case"buffer":if(Wt)return Buffer.isBuffer(te)?te:Ra(te);case"array":return typeof te=="string"?js(te):te}return te}var D;function R(W){try{var ie=W.InflateRaw,te=new ie;if(te._processChunk(new Uint8Array([3,0]),te._finishFlushFlag),te.bytesRead)D=W;else throw new Error("zlib does not expose bytesRead")}catch(se){console.error("cannot use native zlib: "+(se.message||se))}}function U(W,ie){if(!D)return tt(W,ie);var te=D.InflateRaw,se=new te,oe=se._processChunk(W.slice(W.l),se._finishFlushFlag);return W.l+=se.bytesRead,oe}function B(W){return D?D.deflateRawSync(W):Gt(W)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ue=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function me(W){var ie=(W<<1|W<<11)&139536|(W<<5|W<<15)&558144;return(ie>>16|ie>>8|ie)&255}for(var ve=typeof Uint8Array<"u",Re=ve?new Uint8Array(256):[],Ue=0;Ue<256;++Ue)Re[Ue]=me(Ue);function Ve(W,ie){var te=Re[W&255];return ie<=8?te>>>8-ie:(te=te<<8|Re[W>>8&255],ie<=16?te>>>16-ie:(te=te<<8|Re[W>>16&255],te>>>24-ie))}function st(W,ie){var te=ie&7,se=ie>>>3;return(W[se]|(te<=6?0:W[se+1]<<8))>>>te&3}function I(W,ie){var te=ie&7,se=ie>>>3;return(W[se]|(te<=5?0:W[se+1]<<8))>>>te&7}function ye(W,ie){var te=ie&7,se=ie>>>3;return(W[se]|(te<=4?0:W[se+1]<<8))>>>te&15}function ne(W,ie){var te=ie&7,se=ie>>>3;return(W[se]|(te<=3?0:W[se+1]<<8))>>>te&31}function q(W,ie){var te=ie&7,se=ie>>>3;return(W[se]|(te<=1?0:W[se+1]<<8))>>>te&127}function X(W,ie,te){var se=ie&7,oe=ie>>>3,ce=(1<<te)-1,Ee=W[oe]>>>se;return te<8-se||(Ee|=W[oe+1]<<8-se,te<16-se)||(Ee|=W[oe+2]<<16-se,te<24-se)||(Ee|=W[oe+3]<<24-se),Ee&ce}function le(W,ie,te){var se=ie&7,oe=ie>>>3;return se<=5?W[oe]|=(te&7)<<se:(W[oe]|=te<<se&255,W[oe+1]=(te&7)>>8-se),ie+3}function pe(W,ie,te){var se=ie&7,oe=ie>>>3;return te=(te&1)<<se,W[oe]|=te,ie+1}function be(W,ie,te){var se=ie&7,oe=ie>>>3;return te<<=se,W[oe]|=te&255,te>>>=8,W[oe+1]=te,ie+8}function fe(W,ie,te){var se=ie&7,oe=ie>>>3;return te<<=se,W[oe]|=te&255,te>>>=8,W[oe+1]=te&255,W[oe+2]=te>>>8,ie+16}function Me(W,ie){var te=W.length,se=2*te>ie?2*te:ie+5,oe=0;if(te>=ie)return W;if(Wt){var ce=c_(se);if(W.copy)W.copy(ce);else for(;oe<W.length;++oe)ce[oe]=W[oe];return ce}else if(ve){var Ee=new Uint8Array(se);if(Ee.set)Ee.set(W);else for(;oe<te;++oe)Ee[oe]=W[oe];return Ee}return W.length=se,W}function we(W){for(var ie=new Array(W),te=0;te<W;++te)ie[te]=0;return ie}function je(W,ie,te){var se=1,oe=0,ce=0,Ee=0,Pe=0,Ne=W.length,Ce=ve?new Uint16Array(32):we(32);for(ce=0;ce<32;++ce)Ce[ce]=0;for(ce=Ne;ce<te;++ce)W[ce]=0;Ne=W.length;var Ae=ve?new Uint16Array(Ne):we(Ne);for(ce=0;ce<Ne;++ce)Ce[oe=W[ce]]++,se<oe&&(se=oe),Ae[ce]=0;for(Ce[0]=0,ce=1;ce<=se;++ce)Ce[ce+16]=Pe=Pe+Ce[ce-1]<<1;for(ce=0;ce<Ne;++ce)Pe=W[ce],Pe!=0&&(Ae[ce]=Ce[Pe+16]++);var We=0;for(ce=0;ce<Ne;++ce)if(We=W[ce],We!=0)for(Pe=Ve(Ae[ce],se)>>se-We,Ee=(1<<se+4-We)-1;Ee>=0;--Ee)ie[Pe|Ee<<We]=We&15|ce<<4;return se}var He=ve?new Uint16Array(512):we(512),et=ve?new Uint16Array(32):we(32);if(!ve){for(var Ge=0;Ge<512;++Ge)He[Ge]=0;for(Ge=0;Ge<32;++Ge)et[Ge]=0}(function(){for(var W=[],ie=0;ie<32;ie++)W.push(5);je(W,et,32);var te=[];for(ie=0;ie<=143;ie++)te.push(8);for(;ie<=255;ie++)te.push(9);for(;ie<=279;ie++)te.push(7);for(;ie<=287;ie++)te.push(8);je(te,He,288)})();var mt=(function(){for(var ie=ve?new Uint8Array(32768):[],te=0,se=0;te<ge.length-1;++te)for(;se<ge[te+1];++se)ie[se]=te;for(;se<32768;++se)ie[se]=29;var oe=ve?new Uint8Array(259):[];for(te=0,se=0;te<ue.length-1;++te)for(;se<ue[te+1];++se)oe[se]=te;function ce(Pe,Ne){for(var Ce=0;Ce<Pe.length;){var Ae=Math.min(65535,Pe.length-Ce),We=Ce+Ae==Pe.length;for(Ne.write_shift(1,+We),Ne.write_shift(2,Ae),Ne.write_shift(2,~Ae&65535);Ae-- >0;)Ne[Ne.l++]=Pe[Ce++]}return Ne.l}function Ee(Pe,Ne){for(var Ce=0,Ae=0,We=ve?new Uint16Array(32768):[];Ae<Pe.length;){var Ke=Math.min(65535,Pe.length-Ae);if(Ke<10){for(Ce=le(Ne,Ce,+(Ae+Ke==Pe.length)),Ce&7&&(Ce+=8-(Ce&7)),Ne.l=Ce/8|0,Ne.write_shift(2,Ke),Ne.write_shift(2,~Ke&65535);Ke-- >0;)Ne[Ne.l++]=Pe[Ae++];Ce=Ne.l*8;continue}Ce=le(Ne,Ce,+(Ae+Ke==Pe.length)+2);for(var nt=0;Ke-- >0;){var qe=Pe[Ae];nt=(nt<<5^qe)&32767;var Qe=-1,lt=0;if((Qe=We[nt])&&(Qe|=Ae&-32768,Qe>Ae&&(Qe-=32768),Qe<Ae))for(;Pe[Qe+lt]==Pe[Ae+lt]&&lt<250;)++lt;if(lt>2){qe=oe[lt],qe<=22?Ce=be(Ne,Ce,Re[qe+1]>>1)-1:(be(Ne,Ce,3),Ce+=5,be(Ne,Ce,Re[qe-23]>>5),Ce+=3);var an=qe<8?0:qe-4>>2;an>0&&(fe(Ne,Ce,lt-ue[qe]),Ce+=an),qe=ie[Ae-Qe],Ce=be(Ne,Ce,Re[qe]>>3),Ce-=3;var on=qe<4?0:qe-2>>1;on>0&&(fe(Ne,Ce,Ae-Qe-ge[qe]),Ce+=on);for(var hn=0;hn<lt;++hn)We[nt]=Ae&32767,nt=(nt<<5^Pe[Ae])&32767,++Ae;Ke-=lt-1}else qe<=143?qe=qe+48:Ce=pe(Ne,Ce,1),Ce=be(Ne,Ce,Re[qe]),We[nt]=Ae&32767,++Ae}Ce=be(Ne,Ce,0)-1}return Ne.l=(Ce+7)/8|0,Ne.l}return function(Ne,Ce){return Ne.length<8?ce(Ne,Ce):Ee(Ne,Ce)}})();function Gt(W){var ie=Ie(50+Math.floor(W.length*1.1)),te=mt(W,ie);return ie.slice(0,te)}var vt=ve?new Uint16Array(32768):we(32768),Mt=ve?new Uint16Array(32768):we(32768),xt=ve?new Uint16Array(128):we(128),rt=1,Dt=1;function At(W,ie){var te=ne(W,ie)+257;ie+=5;var se=ne(W,ie)+1;ie+=5;var oe=ye(W,ie)+4;ie+=4;for(var ce=0,Ee=ve?new Uint8Array(19):we(19),Pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ne=1,Ce=ve?new Uint8Array(8):we(8),Ae=ve?new Uint8Array(8):we(8),We=Ee.length,Ke=0;Ke<oe;++Ke)Ee[G[Ke]]=ce=I(W,ie),Ne<ce&&(Ne=ce),Ce[ce]++,ie+=3;var nt=0;for(Ce[0]=0,Ke=1;Ke<=Ne;++Ke)Ae[Ke]=nt=nt+Ce[Ke-1]<<1;for(Ke=0;Ke<We;++Ke)(nt=Ee[Ke])!=0&&(Pe[Ke]=Ae[nt]++);var qe=0;for(Ke=0;Ke<We;++Ke)if(qe=Ee[Ke],qe!=0){nt=Re[Pe[Ke]]>>8-qe;for(var Qe=(1<<7-qe)-1;Qe>=0;--Qe)xt[nt|Qe<<qe]=qe&7|Ke<<3}var lt=[];for(Ne=1;lt.length<te+se;)switch(nt=xt[q(W,ie)],ie+=nt&7,nt>>>=3){case 16:for(ce=3+st(W,ie),ie+=2,nt=lt[lt.length-1];ce-- >0;)lt.push(nt);break;case 17:for(ce=3+I(W,ie),ie+=3;ce-- >0;)lt.push(0);break;case 18:for(ce=11+q(W,ie),ie+=7;ce-- >0;)lt.push(0);break;default:lt.push(nt),Ne<nt&&(Ne=nt);break}var an=lt.slice(0,te),on=lt.slice(te);for(Ke=te;Ke<286;++Ke)an[Ke]=0;for(Ke=se;Ke<30;++Ke)on[Ke]=0;return rt=je(an,vt,286),Dt=je(on,Mt,30),ie}function ze(W,ie){if(W[0]==3&&!(W[1]&3))return[ro(ie),2];for(var te=0,se=0,oe=c_(ie||1<<18),ce=0,Ee=oe.length>>>0,Pe=0,Ne=0;(se&1)==0;){if(se=I(W,te),te+=3,se>>>1)se>>1==1?(Pe=9,Ne=5):(te=At(W,te),Pe=rt,Ne=Dt);else{te&7&&(te+=8-(te&7));var Ce=W[te>>>3]|W[(te>>>3)+1]<<8;if(te+=32,Ce>0)for(!ie&&Ee<ce+Ce&&(oe=Me(oe,ce+Ce),Ee=oe.length);Ce-- >0;)oe[ce++]=W[te>>>3],te+=8;continue}for(;;){!ie&&Ee<ce+32767&&(oe=Me(oe,ce+32767),Ee=oe.length);var Ae=X(W,te,Pe),We=se>>>1==1?He[Ae]:vt[Ae];if(te+=We&15,We>>>=4,(We>>>8&255)===0)oe[ce++]=We;else{if(We==256)break;We-=257;var Ke=We<8?0:We-4>>2;Ke>5&&(Ke=0);var nt=ce+ue[We];Ke>0&&(nt+=X(W,te,Ke),te+=Ke),Ae=X(W,te,Ne),We=se>>>1==1?et[Ae]:Mt[Ae],te+=We&15,We>>>=4;var qe=We<4?0:We-2>>1,Qe=ge[We];for(qe>0&&(Qe+=X(W,te,qe),te+=qe),!ie&&Ee<nt&&(oe=Me(oe,nt+100),Ee=oe.length);ce<nt;)oe[ce]=oe[ce-Qe],++ce}}}return ie?[oe,te+7>>>3]:[oe.slice(0,ce),te+7>>>3]}function tt(W,ie){var te=W.slice(W.l||0),se=ze(te,ie);return W.l+=se[1],se[0]}function ht(W,ie){if(W)typeof console<"u"&&console.error(ie);else throw new Error(ie)}function Tt(W,ie){var te=W;Gr(te,0);var se=[],oe=[],ce={FileIndex:se,FullPaths:oe};M(ce,{root:ie.root});for(var Ee=te.length-4;(te[Ee]!=80||te[Ee+1]!=75||te[Ee+2]!=5||te[Ee+3]!=6)&&Ee>=0;)--Ee;te.l=Ee+4,te.l+=4;var Pe=te.read_shift(2);te.l+=6;var Ne=te.read_shift(4);for(te.l=Ne,Ee=0;Ee<Pe;++Ee){te.l+=20;var Ce=te.read_shift(4),Ae=te.read_shift(4),We=te.read_shift(2),Ke=te.read_shift(2),nt=te.read_shift(2);te.l+=8;var qe=te.read_shift(4),Qe=u(te.slice(te.l+We,te.l+We+Ke));te.l+=We+Ke+nt;var lt=te.l;te.l=qe+4,yt(te,Ce,Ae,ce,Qe),te.l=lt}return ce}function yt(W,ie,te,se,oe){W.l+=2;var ce=W.read_shift(2),Ee=W.read_shift(2),Pe=o(W);if(ce&8257)throw new Error("Unsupported ZIP encryption");for(var Ne=W.read_shift(4),Ce=W.read_shift(4),Ae=W.read_shift(4),We=W.read_shift(2),Ke=W.read_shift(2),nt="",qe=0;qe<We;++qe)nt+=String.fromCharCode(W[W.l++]);if(Ke){var Qe=u(W.slice(W.l,W.l+Ke));(Qe[21589]||{}).mt&&(Pe=Qe[21589].mt),((oe||{})[21589]||{}).mt&&(Pe=oe[21589].mt)}W.l+=Ke;var lt=W.slice(W.l,W.l+Ce);switch(Ee){case 8:lt=U(W,Ae);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ee)}var an=!1;ce&8&&(Ne=W.read_shift(4),Ne==134695760&&(Ne=W.read_shift(4),an=!0),Ce=W.read_shift(4),Ae=W.read_shift(4)),Ce!=ie&&ht(an,"Bad compressed size: "+ie+" != "+Ce),Ae!=te&&ht(an,"Bad uncompressed size: "+te+" != "+Ae),Fn(se,nt,lt,{unsafe:!0,mt:Pe})}function St(W,ie){var te=ie||{},se=[],oe=[],ce=Ie(1),Ee=te.compression?8:0,Pe=0,Ne=0,Ce=0,Ae=0,We=0,Ke=W.FullPaths[0],nt=Ke,qe=W.FileIndex[0],Qe=[],lt=0;for(Ne=1;Ne<W.FullPaths.length;++Ne)if(nt=W.FullPaths[Ne].slice(Ke.length),qe=W.FileIndex[Ne],!(!qe.size||!qe.content||nt=="Sh33tJ5")){var an=Ae,on=Ie(nt.length);for(Ce=0;Ce<nt.length;++Ce)on.write_shift(1,nt.charCodeAt(Ce)&127);on=on.slice(0,on.l),Qe[We]=uz.buf(qe.content,0);var hn=qe.content;Ee==8&&(hn=B(hn)),ce=Ie(30),ce.write_shift(4,67324752),ce.write_shift(2,20),ce.write_shift(2,Pe),ce.write_shift(2,Ee),qe.mt?a(ce,qe.mt):ce.write_shift(4,0),ce.write_shift(-4,Qe[We]),ce.write_shift(4,hn.length),ce.write_shift(4,qe.content.length),ce.write_shift(2,on.length),ce.write_shift(2,0),Ae+=ce.length,se.push(ce),Ae+=on.length,se.push(on),Ae+=hn.length,se.push(hn),ce=Ie(46),ce.write_shift(4,33639248),ce.write_shift(2,0),ce.write_shift(2,20),ce.write_shift(2,Pe),ce.write_shift(2,Ee),ce.write_shift(4,0),ce.write_shift(-4,Qe[We]),ce.write_shift(4,hn.length),ce.write_shift(4,qe.content.length),ce.write_shift(2,on.length),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(4,0),ce.write_shift(4,an),lt+=ce.l,oe.push(ce),lt+=on.length,oe.push(on),++We}return ce=Ie(22),ce.write_shift(4,101010256),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,We),ce.write_shift(2,We),ce.write_shift(4,lt),ce.write_shift(4,Ae),ce.write_shift(2,0),rr([rr(se),rr(oe),ce])}var Ot={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Bt(W,ie){if(W.ctype)return W.ctype;var te=W.name||"",se=te.match(/\.([^\.]+)$/);return se&&Ot[se[1]]||ie&&(se=(te=ie).match(/[\.\\]([^\.\\])+$/),se&&Ot[se[1]])?Ot[se[1]]:"application/octet-stream"}function vn(W){for(var ie=bu(W),te=[],se=0;se<ie.length;se+=76)te.push(ie.slice(se,se+76));return te.join(`\r
`)+`\r
`}function kn(W){var ie=W.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ce){var Ae=Ce.charCodeAt(0).toString(16).toUpperCase();return"="+(Ae.length==1?"0"+Ae:Ae)});ie=ie.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ie.charAt(0)==`
`&&(ie="=0D"+ie.slice(1)),ie=ie.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var te=[],se=ie.split(`\r
`),oe=0;oe<se.length;++oe){var ce=se[oe];if(ce.length==0){te.push("");continue}for(var Ee=0;Ee<ce.length;){var Pe=76,Ne=ce.slice(Ee,Ee+Pe);Ne.charAt(Pe-1)=="="?Pe--:Ne.charAt(Pe-2)=="="?Pe-=2:Ne.charAt(Pe-3)=="="&&(Pe-=3),Ne=ce.slice(Ee,Ee+Pe),Ee+=Pe,Ee<ce.length&&(Ne+="="),te.push(Ne)}}return te.join(`\r
`)}function yn(W){for(var ie=[],te=0;te<W.length;++te){for(var se=W[te];te<=W.length&&se.charAt(se.length-1)=="=";)se=se.slice(0,se.length-1)+W[++te];ie.push(se)}for(var oe=0;oe<ie.length;++oe)ie[oe]=ie[oe].replace(/[=][0-9A-Fa-f]{2}/g,function(ce){return String.fromCharCode(parseInt(ce.slice(1),16))});return js(ie.join(`\r
`))}function jn(W,ie,te){for(var se="",oe="",ce="",Ee,Pe=0;Pe<10;++Pe){var Ne=ie[Pe];if(!Ne||Ne.match(/^\s*$/))break;var Ce=Ne.match(/^(.*?):\s*([^\s].*)$/);if(Ce)switch(Ce[1].toLowerCase()){case"content-location":se=Ce[2].trim();break;case"content-type":ce=Ce[2].trim();break;case"content-transfer-encoding":oe=Ce[2].trim();break}}switch(++Pe,oe.toLowerCase()){case"base64":Ee=js(ja(ie.slice(Pe).join("")));break;case"quoted-printable":Ee=yn(ie.slice(Pe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+oe)}var Ae=Fn(W,se.slice(te.length),Ee,{unsafe:!0});ce&&(Ae.ctype=ce)}function fn(W,ie){if(ee(W.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var te=ie&&ie.root||"",se=(Wt&&Buffer.isBuffer(W)?W.toString("binary"):ee(W)).split(`\r
`),oe=0,ce="";for(oe=0;oe<se.length;++oe)if(ce=se[oe],!!/^Content-Location:/i.test(ce)&&(ce=ce.slice(ce.indexOf("file")),te||(te=ce.slice(0,ce.lastIndexOf("/")+1)),ce.slice(0,te.length)!=te))for(;te.length>0&&(te=te.slice(0,te.length-1),te=te.slice(0,te.lastIndexOf("/")+1),ce.slice(0,te.length)!=te););var Ee=(se[1]||"").match(/boundary="(.*?)"/);if(!Ee)throw new Error("MAD cannot find boundary");var Pe="--"+(Ee[1]||""),Ne=[],Ce=[],Ae={FileIndex:Ne,FullPaths:Ce};M(Ae);var We,Ke=0;for(oe=0;oe<se.length;++oe){var nt=se[oe];nt!==Pe&&nt!==Pe+"--"||(Ke++&&jn(Ae,se.slice(We,oe),te),We=oe)}return Ae}function gn(W,ie){var te=ie||{},se=te.boundary||"SheetJS";se="------="+se;for(var oe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+se.slice(2)+'"',"","",""],ce=W.FullPaths[0],Ee=ce,Pe=W.FileIndex[0],Ne=1;Ne<W.FullPaths.length;++Ne)if(Ee=W.FullPaths[Ne].slice(ce.length),Pe=W.FileIndex[Ne],!(!Pe.size||!Pe.content||Ee=="Sh33tJ5")){Ee=Ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(lt){return"_x"+lt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(lt){return"_u"+lt.charCodeAt(0).toString(16)+"_"});for(var Ce=Pe.content,Ae=Wt&&Buffer.isBuffer(Ce)?Ce.toString("binary"):ee(Ce),We=0,Ke=Math.min(1024,Ae.length),nt=0,qe=0;qe<=Ke;++qe)(nt=Ae.charCodeAt(qe))>=32&&nt<128&&++We;var Qe=We>=Ke*4/5;oe.push(se),oe.push("Content-Location: "+(te.root||"file:///C:/SheetJS/")+Ee),oe.push("Content-Transfer-Encoding: "+(Qe?"quoted-printable":"base64")),oe.push("Content-Type: "+Bt(Pe,Ee)),oe.push(""),oe.push(Qe?kn(Ae):vn(Ae))}return oe.push(se+`--\r
`),oe.join(`\r
`)}function mr(W){var ie={};return M(ie,W),ie}function Fn(W,ie,te,se){var oe=se&&se.unsafe;oe||M(W);var ce=!oe&&nn.find(W,ie);if(!ce){var Ee=W.FullPaths[0];ie.slice(0,Ee.length)==Ee?Ee=ie:(Ee.slice(-1)!="/"&&(Ee+="/"),Ee=(Ee+ie).replace("//","/")),ce={name:s(ie),type:2},W.FileIndex.push(ce),W.FullPaths.push(Ee),oe||nn.utils.cfb_gc(W)}return ce.content=te,ce.size=te?te.length:0,se&&(se.CLSID&&(ce.clsid=se.CLSID),se.mt&&(ce.mt=se.mt),se.ct&&(ce.ct=se.ct)),ce}function or(W,ie){M(W);var te=nn.find(W,ie);if(te){for(var se=0;se<W.FileIndex.length;++se)if(W.FileIndex[se]==te)return W.FileIndex.splice(se,1),W.FullPaths.splice(se,1),!0}return!1}function Oe(W,ie,te){M(W);var se=nn.find(W,ie);if(se){for(var oe=0;oe<W.FileIndex.length;++oe)if(W.FileIndex[oe]==se)return W.FileIndex[oe].name=s(te),W.FullPaths[oe]=te,!0}return!1}function Je(W){O(W,!0)}return t.find=J,t.read=z,t.parse=p,t.write=ae,t.writeFile=Q,t.utils={cfb_new:mr,cfb_add:Fn,cfb_del:or,cfb_mov:Oe,cfb_gc:Je,ReadShift:su,CheckField:ST,prep_blob:Gr,bconcat:rr,use_zlib:R,_deflateRaw:Gt,_inflateRaw:tt,consts:H},t})();function dz(e){return typeof e=="string"?qh(e):Array.isArray(e)?P7(e):e}function Hu(e,t,n){if(typeof Deno<"u"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=qh(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r=n=="utf8"?Su(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,e);if(typeof Blob<"u"){var s=new Blob([dz(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(e);return u.open("w"),u.encoding="binary",Array.isArray(t)&&(t=$u(t)),u.write(t),u.close(),t}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+e)}function ir(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function x_(e,t){for(var n=[],r=ir(e),s=0;s!==r.length;++s)n[e[r[s]][t]]==null&&(n[e[r[s]][t]]=r[s]);return n}function nv(e){for(var t=[],n=ir(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function Yh(e){for(var t=[],n=ir(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}function fz(e){for(var t=[],n=ir(e),r=0;r!==n.length;++r)t[e[n[r]]]==null&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}var gh=new Date(1899,11,30,0,0,0);function Or(e,t){var n=e.getTime(),r=gh.getTime()+(e.getTimezoneOffset()-gh.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var iT=new Date,hz=gh.getTime()+(iT.getTimezoneOffset()-gh.getTimezoneOffset())*6e4,v_=iT.getTimezoneOffset();function oT(e){var t=new Date;return t.setTime(e*24*60*60*1e3+hz),t.getTimezoneOffset()!==v_&&t.setTime(t.getTime()+(t.getTimezoneOffset()-v_)*6e4),t}var y_=new Date("2017-02-19T19:06:09.000Z"),lT=isNaN(y_.getFullYear())?new Date("2/19/17"):y_,pz=lT.getFullYear()==2017;function wr(e,t){var n=new Date(e);if(pz)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(lT.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Jh(e,t){if(Wt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return n[a]||a})}catch{}for(var r=[],s=0;s!=e.length;++s)r.push(String.fromCharCode(e[s]));return r.join("")}function Mr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Mr(e[n]));return t}function _n(e,t){for(var n="";n.length<t;)n+=e;return n}function Ea(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(s,a){return n=-n,a}),!isNaN(t=Number(r)))?t/n:t}var mz=["january","february","march","april","may","june","july","august","september","october","november","december"];function _u(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),s=t.getMonth(),a=t.getDate();if(isNaN(a))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&mz.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(s>0||a>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}function jt(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return Wt?r=Ra(n):r=F7(n),nn.utils.cfb_add(e,t,r)}nn.utils.cfb_add(e,t,n)}else e.file(t,n)}function rv(){return nn.utils.cfb_new()}var Pn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,gz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},sv=nv(gz),av=/[&<>'"]/g,xz=/[\u0000-\u0008\u000b-\u001f]/g;function Jt(e){var t=e+"";return t.replace(av,function(n){return sv[n]}).replace(xz,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function w_(e){return Jt(e).replace(/ /g,"_x0020_")}var cT=/[\u0000-\u001f]/g;function vz(e){var t=e+"";return t.replace(av,function(n){return sv[n]}).replace(/\n/g,"<br/>").replace(cT,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function yz(e){var t=e+"";return t.replace(av,function(n){return sv[n]}).replace(cT,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function wz(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function bz(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Qm(e){for(var t="",n=0,r=0,s=0,a=0,o=0,u=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(s=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=s&63,t+=String.fromCharCode(o);continue}if(a=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63);continue}o=e.charCodeAt(n++),u=((r&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(u>>>10&1023)),t+=String.fromCharCode(56320+(u&1023))}return t}function b_(e){var t=ro(2*e.length),n,r,s=1,a=0,o=0,u;for(r=0;r<e.length;r+=s)s=1,(u=e.charCodeAt(r))<128?n=u:u<224?(n=(u&31)*64+(e.charCodeAt(r+1)&63),s=2):u<240?(n=(u&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),s=3):(s=4,n=(u&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[a++]=o&255,t[a++]=o>>>8,o=0),t[a++]=n%256,t[a++]=n>>>8;return t.slice(0,a).toString("ucs2")}function __(e){return Ra(e,"binary").toString("utf8")}var Sf="foo bar baz",ru=Wt&&(__(Sf)==Qm(Sf)&&__||b_(Sf)==Qm(Sf)&&b_)||Qm,Su=Wt?function(e){return Ra(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,s=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,s=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},_z=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)r=r.replace(e[s][0],e[s][1]);return r}})(),uT=/(^\s|\s$|\n)/;function sr(e,t){return"<"+e+(t.match(uT)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Eu(e){return ir(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ye(e,t,n){return"<"+e+(n!=null?Eu(n):"")+(t!=null?(t.match(uT)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function tx(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function Sz(e,t){switch(typeof e){case"string":var n=Ye("vt:lpwstr",Jt(e));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Ye((e|0)==e?"vt:i4":"vt:r8",Jt(String(e)));case"boolean":return Ye("vt:bool",e?"true":"false")}if(e instanceof Date)return Ye("vt:filetime",tx(e));throw new Error("Unable to serialize "+e)}var qn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Pl=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Wr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Ez(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,a=5;a>=0;--a)s=s*256+e[t+a];return r==2047?s==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,s+=Math.pow(2,52)),n*Math.pow(2,r-52)*s)}function Nz(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,s=0,a=0,o=r?-t:t;isFinite(o)?o==0?s=a=0:(s=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(t)?26985:0);for(var u=0;u<=5;++u,a/=256)e[n+u]=a&255;e[n+6]=(s&15)<<4|a&15,e[n+7]=s>>4|r}var S_=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var s=0,a=e[0][r].length;s<a;s+=n)t.push.apply(t,e[0][r].slice(s,s+n));return t},E_=Wt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ra(t)})):S_(e)}:S_,N_=function(e,t,n){for(var r=[],s=t;s<n;s+=2)r.push(String.fromCharCode(Yc(e,s)));return r.join("").replace(nu,"")},iv=Wt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(nu,""):N_(e,t,n)}:N_,T_=function(e,t,n){for(var r=[],s=t;s<t+n;++s)r.push(("0"+e[s].toString(16)).slice(-2));return r.join("")},dT=Wt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):T_(e,t,n)}:T_,C_=function(e,t,n){for(var r=[],s=t;s<n;s++)r.push(String.fromCharCode(rl(e,s)));return r.join("")},Gu=Wt?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):C_(t,n,r)}:C_,fT=function(e,t){var n=qr(e,t);return n>0?Gu(e,t+4,t+4+n-1):""},hT=fT,pT=function(e,t){var n=qr(e,t);return n>0?Gu(e,t+4,t+4+n-1):""},mT=pT,gT=function(e,t){var n=2*qr(e,t);return n>0?Gu(e,t+4,t+4+n-1):""},xT=gT,vT=function(t,n){var r=qr(t,n);return r>0?iv(t,n+4,n+4+r):""},yT=vT,wT=function(e,t){var n=qr(e,t);return n>0?Gu(e,t+4,t+4+n):""},bT=wT,_T=function(e,t){return Ez(e,t)},xh=_T,ov=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Wt&&(hT=function(t,n){if(!Buffer.isBuffer(t))return fT(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},mT=function(t,n){if(!Buffer.isBuffer(t))return pT(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},xT=function(t,n){if(!Buffer.isBuffer(t))return gT(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},yT=function(t,n){if(!Buffer.isBuffer(t))return vT(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},bT=function(t,n){if(!Buffer.isBuffer(t))return wT(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},xh=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):_T(t,n)},ov=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var rl=function(e,t){return e[t]},Yc=function(e,t){return e[t+1]*256+e[t]},Tz=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},qr=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Wi=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Cz=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function su(e,t){var n="",r,s,a=[],o,u,d,f;switch(t){case"dbcs":if(f=this.l,Wt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(d=0;d<e;++d)n+=String.fromCharCode(Yc(this,f)),f+=2;e*=2;break;case"utf8":n=Gu(this,this.l,this.l+e);break;case"utf16le":e*=2,n=iv(this,this.l,this.l+e);break;case"wstr":return su.call(this,e,"dbcs");case"lpstr-ansi":n=hT(this,this.l),e=4+qr(this,this.l);break;case"lpstr-cp":n=mT(this,this.l),e=4+qr(this,this.l);break;case"lpwstr":n=xT(this,this.l),e=4+2*qr(this,this.l);break;case"lpp4":e=4+qr(this,this.l),n=yT(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+qr(this,this.l),n=bT(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=rl(this,this.l+e++))!==0;)a.push(wf(o));n=a.join("");break;case"_wstr":for(e=0,n="";(o=Yc(this,this.l+e))!==0;)a.push(wf(o)),e+=2;e+=2,n=a.join("");break;case"dbcs-cont":for(n="",f=this.l,d=0;d<e;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return o=rl(this,f),this.l=f+1,u=su.call(this,e-d,o?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(wf(Yc(this,f))),f+=2}n=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",f=this.l,d=0;d!=e;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return o=rl(this,f),this.l=f+1,u=su.call(this,e-d,o?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(wf(rl(this,f))),f+=1}n=a.join("");break;default:switch(e){case 1:return r=rl(this,this.l),this.l++,r;case 2:return r=(t==="i"?Tz:Yc)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?Wi:Cz)(this,this.l),this.l+=4,r):(s=qr(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=xh(this,this.l):s=xh([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:n=dT(this,this.l,e);break}}return this.l+=e,n}var kz=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},jz=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},Az=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function Rz(e,t,n){var r=0,s=0;if(n==="dbcs"){for(s=0;s!=t.length;++s)Az(this,t.charCodeAt(s),this.l+2*s);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;r=t.length}else if(n==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(n==="utf16le"){var a=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var o=t.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,kz(this,t,this.l);break;case 8:if(r=8,n==="f"){Nz(this,t,this.l);break}case 16:break;case-4:r=4,jz(this,t,this.l);break}return this.l+=r,this}function ST(e,t){var n=dT(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Gr(e,t){e.l=t,e.read_shift=su,e.chk=ST,e.write_shift=Rz}function qs(e,t){e.l+=t}function Ie(e){var t=ro(e);return Gr(t,0),t}function Rr(){var e=[],t=Wt?256:2048,n=function(f){var p=Ie(f);return Gr(p,0),p},r=n(t),s=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},a=function(f){return r&&f<r.length-r.l?r:(s(),r=n(Math.max(f+1,t)))},o=function(){return s(),rr(e)},u=function(f){s(),r=f,r.l==null&&(r.l=r.length),a(t)};return{next:a,push:u,end:o,_bufs:e}}function $e(e,t,n,r){var s=+t,a;if(!isNaN(s)){r||(r=EG[s].p||(n||[]).length||0),a=1+(s>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var o=e.next(a);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var u=0;u!=4;++u)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&ov(n)&&e.push(n)}}function au(e,t,n){var r=Mr(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function k_(e,t,n){var r=Mr(e);return r.s=au(r.s,t.s,n),r.e=au(r.e,t.s,n),r}function iu(e,t){if(e.cRel&&e.c<0)for(e=Mr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Mr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=Zt(e);return!e.cRel&&e.cRel!=null&&(n=Dz(n)),!e.rRel&&e.rRel!=null&&(n=Oz(n)),n}function eg(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+hr(e.s.c)+":"+(e.e.cRel?"":"$")+hr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ar(e.s.r)+":"+(e.e.rRel?"":"$")+ar(e.e.r):iu(e.s,t.biff)+":"+iu(e.e,t.biff)}function lv(e){return parseInt(Mz(e),10)-1}function ar(e){return""+(e+1)}function Oz(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Mz(e){return e.replace(/\$(\d+)$/,"$1")}function cv(e){for(var t=Iz(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function hr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Dz(e){return e.replace(/^([A-Z])/,"$$$1")}function Iz(e){return e.replace(/^\$([A-Z])/,"$1")}function Lz(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Kn(e){for(var t=0,n=0,r=0;r<e.length;++r){var s=e.charCodeAt(r);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:t-1}}function Zt(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Zr(e){var t=e.indexOf(":");return t==-1?{s:Kn(e),e:Kn(e)}:{s:Kn(e.slice(0,t)),e:Kn(e.slice(t+1))}}function Ln(e,t){return typeof t>"u"||typeof t=="number"?Ln(e.s,e.e):(typeof e!="string"&&(e=Zt(e)),typeof t!="string"&&(t=Zt(t)),e==t?e:e+":"+t)}function dn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,s=0,a=e.length;for(n=0;r<a&&!((s=e.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(t.s.c=--n,n=0;r<a&&!((s=e.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;if(t.s.r=--n,r===a||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=a&&!((s=e.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(t.e.c=--n,n=0;r!=a&&!((s=e.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;return t.e.r=--n,t}function j_(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=gi(e.z,n?Or(t):t)}catch{}try{return e.w=gi((e.XF||{}).numFmtId||(n?14:0),n?Or(t):t)}catch{return""+t}}function Aa(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?Vu[e.v]||e.v:t==null?j_(e,e.v):j_(e,t))}function io(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function ET(e,t,n){var r=n||{},s=e?Array.isArray(e):r.dense,a=e||(s?[]:{}),o=0,u=0;if(a&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var d=typeof r.origin=="string"?Kn(r.origin):r.origin;o=d.r,u=d.c}a["!ref"]||(a["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var p=dn(a["!ref"]);f.s.c=p.s.c,f.s.r=p.s.r,f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),o==-1&&(f.e.r=o=p.e.r+1)}for(var g=0;g!=t.length;++g)if(t[g]){if(!Array.isArray(t[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=t[g].length;++v)if(!(typeof t[g][v]>"u")){var x={v:t[g][v]},w=o+g,y=u+v;if(f.s.r>w&&(f.s.r=w),f.s.c>y&&(f.s.c=y),f.e.r<w&&(f.e.r=w),f.e.c<y&&(f.e.c=y),t[g][v]&&typeof t[g][v]=="object"&&!Array.isArray(t[g][v])&&!(t[g][v]instanceof Date))x=t[g][v];else if(Array.isArray(x.v)&&(x.f=t[g][v][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(r.nullError)x.t="e",x.v=0;else if(r.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=r.dateNF||Sn[14],r.cellDates?(x.t="d",x.w=gi(x.z,Or(x.v))):(x.t="n",x.v=Or(x.v),x.w=gi(x.z,x.v))):x.t="s";if(s)a[w]||(a[w]=[]),a[w][y]&&a[w][y].z&&(x.z=a[w][y].z),a[w][y]=x;else{var _=Zt({c:y,r:w});a[_]&&a[_].z&&(x.z=a[_].z),a[_]=x}}}return f.s.c<1e7&&(a["!ref"]=Ln(f)),a}function Fl(e,t){return ET(null,e,t)}function Pz(e){return e.read_shift(4,"i")}function Os(e,t){return t||(t=Ie(4)),t.write_shift(4,e),t}function pr(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Xn(e,t){var n=!1;return t==null&&(n=!0,t=Ie(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function Fz(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function zz(e,t){return t||(t=Ie(4)),t.write_shift(2,0),t.write_shift(2,0),t}function uv(e,t){var n=e.l,r=e.read_shift(1),s=pr(e),a=[],o={t:s,h:s};if((r&1)!==0){for(var u=e.read_shift(4),d=0;d!=u;++d)a.push(Fz(e));o.r=a}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}function Bz(e,t){var n=!1;return t==null&&(n=!0,t=Ie(15+4*e.t.length)),t.write_shift(1,0),Xn(e.t,t),n?t.slice(0,t.l):t}var Uz=uv;function $z(e,t){var n=!1;return t==null&&(n=!0,t=Ie(23+4*e.t.length)),t.write_shift(1,1),Xn(e.t,t),t.write_shift(4,1),zz({},t),n?t.slice(0,t.l):t}function ms(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function oo(e,t){return t==null&&(t=Ie(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function lo(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function co(e,t){return t==null&&(t=Ie(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Hz=pr,NT=Xn;function dv(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function vh(e,t){var n=!1;return t==null&&(n=!0,t=Ie(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var Gz=pr,nx=dv,fv=vh;function TT(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var s=r===0?xh([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Wi(t,0)>>2;return n?s/100:s}function CT(e,t){t==null&&(t=Ie(4));var n=0,r=0,s=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?r=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(r=1,n=1),r)t.write_shift(-4,((n?s:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function kT(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Vz(e,t){return t||(t=Ie(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var uo=kT,zl=Vz;function Bl(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function so(e,t){return(t||Ie(8)).write_shift(8,e,"f")}function Wz(e){var t={},n=e.read_shift(1),r=n>>>1,s=e.read_shift(1),a=e.read_shift(2,"i"),o=e.read_shift(1),u=e.read_shift(1),d=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=s;var f=t9[s];f&&(t.rgb=B_(f));break;case 2:t.rgb=B_([o,u,d]);break;case 3:t.theme=s;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function yh(e,t){if(t||(t=Ie(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=e.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function qz(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function Kz(e,t){t||(t=Ie(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}var jT=2,Hr=3,Ef=11,wh=19,Nf=64,Xz=65,Yz=71,Jz=4108,Zz=4126,nr=80,A_={1:{n:"CodePage",t:jT},2:{n:"Category",t:nr},3:{n:"PresentationFormat",t:nr},4:{n:"ByteCount",t:Hr},5:{n:"LineCount",t:Hr},6:{n:"ParagraphCount",t:Hr},7:{n:"SlideCount",t:Hr},8:{n:"NoteCount",t:Hr},9:{n:"HiddenCount",t:Hr},10:{n:"MultimediaClipCount",t:Hr},11:{n:"ScaleCrop",t:Ef},12:{n:"HeadingPairs",t:Jz},13:{n:"TitlesOfParts",t:Zz},14:{n:"Manager",t:nr},15:{n:"Company",t:nr},16:{n:"LinksUpToDate",t:Ef},17:{n:"CharacterCount",t:Hr},19:{n:"SharedDoc",t:Ef},22:{n:"HyperlinksChanged",t:Ef},23:{n:"AppVersion",t:Hr,p:"version"},24:{n:"DigSig",t:Xz},26:{n:"ContentType",t:nr},27:{n:"ContentStatus",t:nr},28:{n:"Language",t:nr},29:{n:"Version",t:nr},255:{},2147483648:{n:"Locale",t:wh},2147483651:{n:"Behavior",t:wh},1919054434:{}},R_={1:{n:"CodePage",t:jT},2:{n:"Title",t:nr},3:{n:"Subject",t:nr},4:{n:"Author",t:nr},5:{n:"Keywords",t:nr},6:{n:"Comments",t:nr},7:{n:"Template",t:nr},8:{n:"LastAuthor",t:nr},9:{n:"RevNumber",t:nr},10:{n:"EditTime",t:Nf},11:{n:"LastPrinted",t:Nf},12:{n:"CreatedDate",t:Nf},13:{n:"ModifiedDate",t:Nf},14:{n:"PageCount",t:Hr},15:{n:"WordCount",t:Hr},16:{n:"CharCount",t:Hr},17:{n:"Thumbnail",t:Yz},18:{n:"Application",t:nr},19:{n:"DocSecurity",t:Hr},255:{},2147483648:{n:"Locale",t:wh},2147483651:{n:"Behavior",t:wh},1919054434:{}};function Qz(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var e9=Qz([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t9=Mr(e9),Vu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},n9={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Tf={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function AT(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function RT(e,t){var n=fz(n9),r=[],s;r[r.length]=Pn,r[r.length]=Ye("Types",null,{xmlns:qn.CT,"xmlns:xsd":qn.xsd,"xmlns:xsi":qn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Ye("Default",null,{Extension:d[0],ContentType:d[1]})}));var a=function(d){e[d]&&e[d].length>0&&(s=e[d][0],r[r.length]=Ye("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Tf[d][t.bookType]||Tf[d].xlsx}))},o=function(d){(e[d]||[]).forEach(function(f){r[r.length]=Ye("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:Tf[d][t.bookType]||Tf[d].xlsx})})},u=function(d){(e[d]||[]).forEach(function(f){r[r.length]=Ye("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:n[d][0]})})};return a("workbooks"),o("sheets"),o("charts"),u("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),o("metadata"),u("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Ht={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function OT(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function pl(e){var t=[Pn,Ye("Relationships",null,{xmlns:qn.RELS})];return ir(e["!id"]).forEach(function(n){t[t.length]=Ye("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Yt(e,t,n,r,s,a){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=r,s.Target=n,[Ht.HLINK,Ht.XPATH,Ht.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function r9(e){var t=[Pn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function O_(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function s9(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function a9(e){var t=[Pn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(O_(e[n][0],e[n][1])),t.push(s9("",e[n][0]));return t.push(O_("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function MT(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+dh.version+"</meta:generator></office:meta></office:document-meta>"}var to=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function tg(e,t,n,r,s){s[e]!=null||t==null||t===""||(s[e]=t,t=Jt(t),r[r.length]=n?Ye(e,t,n):sr(e,t))}function DT(e,t){var n=t||{},r=[Pn,Ye("cp:coreProperties",null,{"xmlns:cp":qn.CORE_PROPS,"xmlns:dc":qn.dc,"xmlns:dcterms":qn.dcterms,"xmlns:dcmitype":qn.dcmitype,"xmlns:xsi":qn.xsi})],s={};if(!e&&!n.Props)return r.join("");e&&(e.CreatedDate!=null&&tg("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:tx(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s),e.ModifiedDate!=null&&tg("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:tx(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s));for(var a=0;a!=to.length;++a){var o=to[a],u=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:e?e[o[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&tg(o[0],u,null,r,s)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var ml=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],IT=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function LT(e){var t=[],n=Ye;return e||(e={}),e.Application="SheetJS",t[t.length]=Pn,t[t.length]=Ye("Properties",null,{xmlns:qn.EXT_PROPS,"xmlns:vt":qn.vt}),ml.forEach(function(r){if(e[r[1]]!==void 0){var s;switch(r[2]){case"string":s=Jt(String(e[r[1]]));break;case"bool":s=e[r[1]]?"true":"false";break}s!==void 0&&(t[t.length]=n(r[0],s))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+Jt(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function PT(e){var t=[Pn,Ye("Properties",null,{xmlns:qn.CUST_PROPS,"xmlns:vt":qn.vt})];if(!e)return t.join("");var n=1;return ir(e).forEach(function(s){++n,t[t.length]=Ye("property",Sz(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Jt(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var M_={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function i9(e,t){var n=[];return ir(M_).map(function(r){for(var s=0;s<to.length;++s)if(to[s][1]==r)return to[s];for(s=0;s<ml.length;++s)if(ml[s][1]==r)return ml[s];throw r}).forEach(function(r){if(e[r[1]]!=null){var s=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),n.push(sr(M_[r[1]]||r[1],s))}}),Ye("DocumentProperties",n.join(""),{xmlns:Wr.o})}function o9(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",s=[];return e&&ir(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var o=0;o<to.length;++o)if(a==to[o][1])return;for(o=0;o<ml.length;++o)if(a==ml[o][1])return;for(o=0;o<n.length;++o)if(a==n[o])return;var u=e[a],d="string";typeof u=="number"?(d="float",u=String(u)):u===!0||u===!1?(d="boolean",u=u?"1":"0"):u=String(u),s.push(Ye(w_(a),u,{"dt:dt":d}))}}),t&&ir(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var o=t[a],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o instanceof Date?(u="dateTime.tz",o=o.toISOString()):o=String(o),s.push(Ye(w_(a),o,{"dt:dt":u}))}}),"<"+r+' xmlns="'+Wr.o+'">'+s.join("")+"</"+r+">"}function l9(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,r=n%Math.pow(2,32),s=(n-r)/Math.pow(2,32);r*=1e7,s*=1e7;var a=r/Math.pow(2,32)|0;a>0&&(r=r%Math.pow(2,32),s+=a);var o=Ie(8);return o.write_shift(4,r),o.write_shift(4,s),o}function D_(e,t){var n=Ie(4),r=Ie(4);switch(n.write_shift(4,e==80?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=Ie(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=l9(t);break;case 31:case 80:for(r=Ie(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return rr([n,r])}var FT=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function c9(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function I_(e,t,n){var r=Ie(8),s=[],a=[],o=8,u=0,d=Ie(8),f=Ie(8);if(d.write_shift(4,2),d.write_shift(4,1200),f.write_shift(4,1),a.push(d),s.push(f),o+=8+d.length,!t){f=Ie(8),f.write_shift(4,0),s.unshift(f);var p=[Ie(4)];for(p[0].write_shift(4,e.length),u=0;u<e.length;++u){var g=e[u][0];for(d=Ie(8+2*(g.length+1)+(g.length%2?0:2)),d.write_shift(4,u+2),d.write_shift(4,g.length+1),d.write_shift(0,g,"dbcs");d.l!=d.length;)d.write_shift(1,0);p.push(d)}d=rr(p),a.unshift(d),o+=8+d.length}for(u=0;u<e.length;++u)if(!(t&&!t[e[u][0]])&&!(FT.indexOf(e[u][0])>-1||IT.indexOf(e[u][0])>-1)&&e[u][1]!=null){var v=e[u][1],x=0;if(t){x=+t[e[u][0]];var w=n[x];if(w.p=="version"&&typeof v=="string"){var y=v.split(".");v=(+y[0]<<16)+(+y[1]||0)}d=D_(w.t,v)}else{var _=c9(v);_==-1&&(_=31,v=String(v)),d=D_(_,v)}a.push(d),f=Ie(8),f.write_shift(4,t?x:2+u),s.push(f),o+=8+d.length}var S=8*(a.length+1);for(u=0;u<a.length;++u)s[u].write_shift(4,S),S+=a[u].length;return r.write_shift(4,o),r.write_shift(4,a.length),rr([r].concat(s).concat(a))}function L_(e,t,n,r,s,a){var o=Ie(s?68:48),u=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,nn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,s?68:48);var d=I_(e,n,r);if(u.push(d),s){var f=I_(s,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+d.length),u.push(f)}return rr(u)}function u9(e,t){t||(t=Ie(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function d9(e,t){return e.read_shift(t)===1}function yr(e,t){return t||(t=Ie(2)),t.write_shift(2,+!!e),t}function zT(e){return e.read_shift(2,"u")}function ds(e,t){return t||(t=Ie(2)),t.write_shift(2,e),t}function BT(e,t,n){return n||(n=Ie(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function UT(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var a=e.read_shift(1);a&&(s="dbcs-cont")}else n.biff==12&&(s="wstr");n.biff>=2&&n.biff<=5&&(s="cpstr");var o=r?e.read_shift(r,s):"";return o}function f9(e){var t=e.t||"",n=Ie(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=Ie(2*t.length);r.write_shift(2*t.length,t,"utf16le");var s=[n,r];return rr(s)}function h9(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function p9(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):h9(e,r,n)}function m9(e,t,n){if(n.biff>5)return p9(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function $T(e,t,n){return n||(n=Ie(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function P_(e,t){t||(t=Ie(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function g9(e){var t=Ie(512),n=0,r=e.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var s=r.indexOf("#"),a=s>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(a==28)r=r.slice(1),P_(r,t);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var u=s>-1?r.slice(0,s):r;for(t.write_shift(4,2*(u.length+1)),n=0;n<u.length;++n)t.write_shift(2,u.charCodeAt(n));t.write_shift(2,0),a&8&&P_(s>-1?r.slice(s+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var d=0;r.slice(d*3,d*3+3)=="../"||r.slice(d*3,d*3+3)=="..\\";)++d;for(t.write_shift(2,d),t.write_shift(4,r.length-3*d+1),n=0;n<r.length-3*d;++n)t.write_shift(1,r.charCodeAt(n+3*d)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function ao(e,t,n,r){return r||(r=Ie(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function x9(e,t,n){var r=n.biff>8?4:2,s=e.read_shift(r),a=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[s,a,o]}function v9(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2);return{s:{c:r,r:t},e:{c:s,r:n}}}function HT(e,t){return t||(t=Ie(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function hv(e,t,n){var r=1536,s=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,s=8;break;case"biff4":r=4,s=6;break;case"biff3":r=3,s=6;break;case"biff2":r=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Ie(s);return a.write_shift(2,r),a.write_shift(2,t),s>4&&a.write_shift(2,29282),s>6&&a.write_shift(2,1997),s>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function y9(e,t){var n=!t||t.biff==8,r=Ie(n?112:54);for(r.write_shift(t.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function w9(e,t){var n=!t||t.biff>=8?2:1,r=Ie(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=r.slice(0,r.l);return s.l=r.l,s}function b9(e,t){var n=Ie(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],s=0;s<e.length;++s)r[s]=f9(e[s]);var a=rr([n].concat(r));return a.parts=[n.length].concat(r.map(function(o){return o.length})),a}function _9(){var e=Ie(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function S9(e){var t=Ie(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function E9(e,t){var n=e.name||"Arial",r=t&&t.biff==5,s=r?15+n.length:16+2*n.length,a=Ie(s);return a.write_shift(2,e.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,n.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),a}function N9(e,t,n,r){var s=Ie(10);return ao(e,t,r,s),s.write_shift(4,n),s}function T9(e,t,n,r,s){var a=!s||s.biff==8,o=Ie(8+ +a+(1+a)*n.length);return ao(e,t,r,o),o.write_shift(2,n.length),a&&o.write_shift(1,1),o.write_shift((1+a)*n.length,n,a?"utf16le":"sbcs"),o}function C9(e,t,n,r){var s=n&&n.biff==5;r||(r=Ie(s?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(s?1:2,t.length),s||r.write_shift(1,1),r.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return a.l==null&&(a.l=a.length),a}function k9(e,t){var n=t.biff==8||!t.biff?4:2,r=Ie(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function F_(e,t,n,r){var s=n&&n.biff==5;r||(r=Ie(s?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&s&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),s||r.write_shift(4,0),r.write_shift(2,0),r}function j9(e){var t=Ie(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function A9(e,t,n,r,s,a){var o=Ie(8);return ao(e,t,r,o),BT(n,a,o),o}function R9(e,t,n,r){var s=Ie(14);return ao(e,t,r,s),so(n,s),s}function O9(e,t,n){if(n.biff<8)return M9(e,t,n);for(var r=[],s=e.l+t,a=e.read_shift(n.biff>8?4:2);a--!==0;)r.push(x9(e,n.biff>8?12:6,n));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return r}function M9(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=UT(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function D9(e){var t=Ie(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)HT(e[n],t);return t}function I9(e){var t=Ie(24),n=Kn(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(r[s],16));return rr([t,g9(e[1])])}function L9(e){var t=e[1].Tooltip,n=Ie(10+2*(t.length+1));n.write_shift(2,2048);var r=Kn(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var s=0;s<t.length;++s)n.write_shift(2,t.charCodeAt(s));return n.write_shift(2,0),n}function P9(e){return e||(e=Ie(4)),e.write_shift(2,1),e.write_shift(2,1),e}function F9(e,t,n){if(!n.cellStyles)return qs(e,t);var r=n&&n.biff>=12?4:2,s=e.read_shift(r),a=e.read_shift(r),o=e.read_shift(r),u=e.read_shift(r),d=e.read_shift(2);r==2&&(e.l+=2);var f={s,e:a,w:o,ixfe:u,flags:d};return(n.biff>=5||!n.biff)&&(f.level=d>>8&7),f}function z9(e,t){var n=Ie(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function B9(e){for(var t=Ie(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}function U9(e,t,n){var r=Ie(15);return qu(r,e,t),r.write_shift(8,n,"f"),r}function $9(e,t,n){var r=Ie(9);return qu(r,e,t),r.write_shift(2,n),r}var H9=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=nv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(u,d){var f=[],p=ro(1);switch(d.type){case"base64":p=js(ja(u));break;case"binary":p=js(u);break;case"buffer":case"array":p=u;break}Gr(p,0);var g=p.read_shift(1),v=!!(g&136),x=!1,w=!1;switch(g){case 2:break;case 3:break;case 48:x=!0,v=!0;break;case 49:x=!0,v=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var y=0,_=521;g==2&&(y=p.read_shift(2)),p.l+=3,g!=2&&(y=p.read_shift(4)),y>1048576&&(y=1e6),g!=2&&(_=p.read_shift(2));var S=p.read_shift(2),N=d.codepage||1252;g!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(N=e[p[p.l]]),p.l+=1,p.l+=2),w&&(p.l+=36);for(var T=[],C={},A=Math.min(p.length,g==2?521:_-10-(x?264:0)),z=w?32:11;p.l<A&&p[p.l]!=13;)switch(C={},C.name=fh.utils.decode(N,p.slice(p.l,p.l+z)).replace(/[\u0000\r\n].*$/g,""),p.l+=z,C.type=String.fromCharCode(p.read_shift(1)),g!=2&&!w&&(C.offset=p.read_shift(4)),C.len=p.read_shift(1),g==2&&(C.offset=p.read_shift(2)),C.dec=p.read_shift(1),C.name.length&&T.push(C),g!=2&&(p.l+=w?13:14),C.type){case"B":(!x||C.len!=8)&&d.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+C.type)}if(p[p.l]!==13&&(p.l=_-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=_;var M=0,j=0;for(f[0]=[],j=0;j!=T.length;++j)f[0][j]=T[j].name;for(;y-- >0;){if(p[p.l]===42){p.l+=S;continue}for(++p.l,f[++M]=[],j=0,j=0;j!=T.length;++j){var O=p.slice(p.l,p.l+T[j].len);p.l+=T[j].len,Gr(O,0);var Y=fh.utils.decode(N,O);switch(T[j].type){case"C":Y.trim().length&&(f[M][j]=Y.replace(/\s+$/,""));break;case"D":Y.length===8?f[M][j]=new Date(+Y.slice(0,4),+Y.slice(4,6)-1,+Y.slice(6,8)):f[M][j]=Y;break;case"F":f[M][j]=parseFloat(Y.trim());break;case"+":case"I":f[M][j]=w?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(Y.trim().toUpperCase()){case"Y":case"T":f[M][j]=!0;break;case"N":case"F":f[M][j]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Y+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));f[M][j]="##MEMO##"+(w?parseInt(Y.trim(),10):O.read_shift(4));break;case"N":Y=Y.replace(/\u0000/g,"").trim(),Y&&Y!="."&&(f[M][j]=+Y||0);break;case"@":f[M][j]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":f[M][j]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":f[M][j]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[M][j]=-O.read_shift(-8,"f");break;case"B":if(x&&T[j].len==8){f[M][j]=O.read_shift(8,"f");break}case"G":case"P":O.l+=T[j].len;break;case"0":if(T[j].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[j].type)}}}if(g!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return d&&d.sheetRows&&(f=f.slice(0,d.sheetRows)),d.DBF=T,f}function r(u,d){var f=d||{};f.dateNF||(f.dateNF="yyyymmdd");var p=Fl(n(u,f),f);return p["!cols"]=f.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete f.DBF,p}function s(u,d){try{return io(r(u,d),d)}catch(f){if(d&&d.WTF)throw f}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(u,d){var f=d||{};if(+f.codepage>=0&&wu(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var p=Rr(),g=Nh(u,{header:1,raw:!0,cellDates:!0}),v=g[0],x=g.slice(1),w=u["!cols"]||[],y=0,_=0,S=0,N=1;for(y=0;y<v.length;++y){if(((w[y]||{}).DBF||{}).name){v[y]=w[y].DBF.name,++S;continue}if(v[y]!=null){if(++S,typeof v[y]=="number"&&(v[y]=v[y].toString(10)),typeof v[y]!="string")throw new Error("DBF Invalid column name "+v[y]+" |"+typeof v[y]+"|");if(v.indexOf(v[y])!==y){for(_=0;_<1024;++_)if(v.indexOf(v[y]+"_"+_)==-1){v[y]+="_"+_;break}}}}var T=dn(u["!ref"]),C=[],A=[],z=[];for(y=0;y<=T.e.c-T.s.c;++y){var M="",j="",O=0,Y=[];for(_=0;_<x.length;++_)x[_][y]!=null&&Y.push(x[_][y]);if(Y.length==0||v[y]==null){C[y]="?";continue}for(_=0;_<Y.length;++_){switch(typeof Y[_]){case"number":j="B";break;case"string":j="C";break;case"boolean":j="L";break;case"object":j=Y[_]instanceof Date?"D":"C";break;default:j="C"}O=Math.max(O,String(Y[_]).length),M=M&&M!=j?"C":j}O>250&&(O=250),j=((w[y]||{}).DBF||{}).type,j=="C"&&w[y].DBF.len>O&&(O=w[y].DBF.len),M=="B"&&j=="N"&&(M="N",z[y]=w[y].DBF.dec,O=w[y].DBF.len),A[y]=M=="C"||j=="N"?O:a[M]||0,N+=A[y],C[y]=M}var J=p.next(32);for(J.write_shift(4,318902576),J.write_shift(4,x.length),J.write_shift(2,296+32*S),J.write_shift(2,N),y=0;y<4;++y)J.write_shift(4,0);for(J.write_shift(4,0|(+t[VN]||3)<<8),y=0,_=0;y<v.length;++y)if(v[y]!=null){var F=p.next(32),re=(v[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,re,"sbcs"),F.write_shift(1,C[y]=="?"?"C":C[y],"sbcs"),F.write_shift(4,_),F.write_shift(1,A[y]||a[C[y]]||0),F.write_shift(1,z[y]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),_+=A[y]||a[C[y]]||0}var k=p.next(264);for(k.write_shift(4,13),y=0;y<65;++y)k.write_shift(4,0);for(y=0;y<x.length;++y){var V=p.next(N);for(V.write_shift(1,0),_=0;_<v.length;++_)if(v[_]!=null)switch(C[_]){case"L":V.write_shift(1,x[y][_]==null?63:x[y][_]?84:70);break;case"B":V.write_shift(8,x[y][_]||0,"f");break;case"N":var K="0";for(typeof x[y][_]=="number"&&(K=x[y][_].toFixed(z[_]||0)),S=0;S<A[_]-K.length;++S)V.write_shift(1,32);V.write_shift(1,K,"sbcs");break;case"D":x[y][_]?(V.write_shift(4,("0000"+x[y][_].getFullYear()).slice(-4),"sbcs"),V.write_shift(2,("00"+(x[y][_].getMonth()+1)).slice(-2),"sbcs"),V.write_shift(2,("00"+x[y][_].getDate()).slice(-2),"sbcs")):V.write_shift(8,"00000000","sbcs");break;case"C":var H=String(x[y][_]!=null?x[y][_]:"").slice(0,A[_]);for(V.write_shift(1,H,"sbcs"),S=0;S<A[_]-H.length;++S)V.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:s,to_sheet:r,from_sheet:o}})(),G9=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ir(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(v,x){var w=e[x];return typeof w=="number"?l_(w):w},r=function(v,x,w){var y=x.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return y==59?v:l_(y)};e["|"]=254;function s(v,x){switch(x.type){case"base64":return a(ja(v),x);case"binary":return a(v,x);case"buffer":return a(Wt&&Buffer.isBuffer(v)?v.toString("binary"):$u(v),x);case"array":return a(Jh(v),x)}throw new Error("Unrecognized type "+x.type)}function a(v,x){var w=v.split(/[\n\r]+/),y=-1,_=-1,S=0,N=0,T=[],C=[],A=null,z={},M=[],j=[],O=[],Y=0,J;for(+x.codepage>=0&&wu(+x.codepage);S!==w.length;++S){Y=0;var F=w[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),re=F.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),k=re[0],V;if(F.length>0)switch(k){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":re[1].charAt(0)=="P"&&C.push(F.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,H=!1,Q=!1,ee=!1,ae=-1,D=-1;for(N=1;N<re.length;++N)switch(re[N].charAt(0)){case"A":break;case"X":_=parseInt(re[N].slice(1))-1,H=!0;break;case"Y":for(y=parseInt(re[N].slice(1))-1,H||(_=0),J=T.length;J<=y;++J)T[J]=[];break;case"K":V=re[N].slice(1),V.charAt(0)==='"'?V=V.slice(1,V.length-1):V==="TRUE"?V=!0:V==="FALSE"?V=!1:isNaN(Ea(V))?isNaN(_u(V).getDate())||(V=wr(V)):(V=Ea(V),A!==null&&rT(A)&&(V=oT(V))),K=!0;break;case"E":ee=!0;var R=$B(re[N].slice(1),{r:y,c:_});T[y][_]=[T[y][_],R];break;case"S":Q=!0,T[y][_]=[T[y][_],"S5S"];break;case"G":break;case"R":ae=parseInt(re[N].slice(1))-1;break;case"C":D=parseInt(re[N].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+F)}if(K&&(T[y][_]&&T[y][_].length==2?T[y][_][0]=V:T[y][_]=V,A=null),Q){if(ee)throw new Error("SYLK shared formula cannot have own formula");var U=ae>-1&&T[ae][D];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");T[y][_][1]=HB(U[1],{r:y-ae,c:_-D})}break;case"F":var B=0;for(N=1;N<re.length;++N)switch(re[N].charAt(0)){case"X":_=parseInt(re[N].slice(1))-1,++B;break;case"Y":for(y=parseInt(re[N].slice(1))-1,J=T.length;J<=y;++J)T[J]=[];break;case"M":Y=parseInt(re[N].slice(1))/20;break;case"F":break;case"G":break;case"P":A=C[parseInt(re[N].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=re[N].slice(1).split(" "),J=parseInt(O[0],10);J<=parseInt(O[1],10);++J)Y=parseInt(O[2],10),j[J-1]=Y===0?{hidden:!0}:{wch:Y},pv(j[J-1]);break;case"C":_=parseInt(re[N].slice(1))-1,j[_]||(j[_]={});break;case"R":y=parseInt(re[N].slice(1))-1,M[y]||(M[y]={}),Y>0?(M[y].hpt=Y,M[y].hpx=KT(Y)):Y===0&&(M[y].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+F)}B<1&&(A=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+F)}}return M.length>0&&(z["!rows"]=M),j.length>0&&(z["!cols"]=j),x&&x.sheetRows&&(T=T.slice(0,x.sheetRows)),[T,z]}function o(v,x){var w=s(v,x),y=w[0],_=w[1],S=Fl(y,x);return ir(_).forEach(function(N){S[N]=_[N]}),S}function u(v,x){return io(o(v,x),x)}function d(v,x,w,y){var _="C;Y"+(w+1)+";X"+(y+1)+";K";switch(v.t){case"n":_+=v.v||0,v.f&&!v.F&&(_+=";E"+gv(v.f,{r:w,c:y}));break;case"b":_+=v.v?"TRUE":"FALSE";break;case"e":_+=v.w||v.v;break;case"d":_+='"'+(v.w||v.v)+'"';break;case"s":_+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function f(v,x){x.forEach(function(w,y){var _="F;W"+(y+1)+" "+(y+1)+" ";w.hidden?_+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=bh(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=_h(w.wpx)),typeof w.wch=="number"&&(_+=Math.round(w.wch))),_.charAt(_.length-1)!=" "&&v.push(_)})}function p(v,x){x.forEach(function(w,y){var _="F;";w.hidden?_+="M0;":w.hpt?_+="M"+20*w.hpt+";":w.hpx&&(_+="M"+20*Sh(w.hpx)+";"),_.length>2&&v.push(_+"R"+(y+1))})}function g(v,x){var w=["ID;PWXL;N;E"],y=[],_=dn(v["!ref"]),S,N=Array.isArray(v),T=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),v["!cols"]&&f(w,v["!cols"]),v["!rows"]&&p(w,v["!rows"]),w.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var C=_.s.r;C<=_.e.r;++C)for(var A=_.s.c;A<=_.e.c;++A){var z=Zt({r:C,c:A});S=N?(v[C]||[])[A]:v[z],!(!S||S.v==null&&(!S.f||S.F))&&y.push(d(S,v,C,A))}return w.join(T)+T+y.join(T)+T+"E"+T}return{to_workbook:u,to_sheet:o,from_sheet:g}})(),V9=(function(){function e(a,o){switch(o.type){case"base64":return t(ja(a),o);case"binary":return t(a,o);case"buffer":return t(Wt&&Buffer.isBuffer(a)?a.toString("binary"):$u(a),o);case"array":return t(Jh(a),o)}throw new Error("Unrecognized type "+o.type)}function t(a,o){for(var u=a.split(`
`),d=-1,f=-1,p=0,g=[];p!==u.length;++p){if(u[p].trim()==="BOT"){g[++d]=[],f=0;continue}if(!(d<0)){var v=u[p].trim().split(","),x=v[0],w=v[1];++p;for(var y=u[p]||"";(y.match(/["]/g)||[]).length&1&&p<u.length-1;)y+=`
`+u[++p];switch(y=y.trim(),+x){case-1:if(y==="BOT"){g[++d]=[],f=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?g[d][f]=!0:y==="FALSE"?g[d][f]=!1:isNaN(Ea(w))?isNaN(_u(w).getDate())?g[d][f]=w:g[d][f]=wr(w):g[d][f]=Ea(w),++f;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),g[d][f++]=y!==""?y:null;break}if(y==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function n(a,o){return Fl(e(a,o),o)}function r(a,o){return io(n(a,o),o)}var s=(function(){var a=function(d,f,p,g,v){d.push(f),d.push(p+","+g),d.push('"'+v.replace(/"/g,'""')+'"')},o=function(d,f,p,g){d.push(f+","+p),d.push(f==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(d){var f=[],p=dn(d["!ref"]),g,v=Array.isArray(d);a(f,"TABLE",0,1,"sheetjs"),a(f,"VECTORS",0,p.e.r-p.s.r+1,""),a(f,"TUPLES",0,p.e.c-p.s.c+1,""),a(f,"DATA",0,0,"");for(var x=p.s.r;x<=p.e.r;++x){o(f,-1,0,"BOT");for(var w=p.s.c;w<=p.e.c;++w){var y=Zt({r:x,c:w});if(g=v?(d[x]||[])[w]:d[y],!g){o(f,1,0,"");continue}switch(g.t){case"n":var _=g.w;!_&&g.v!=null&&(_=g.v),_==null?g.f&&!g.F?o(f,1,0,"="+g.f):o(f,1,0,""):o(f,0,_,"V");break;case"b":o(f,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(f,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=gi(g.z||Sn[14],Or(wr(g.v)))),o(f,0,g.w,"V");break;default:o(f,1,0,"")}}}o(f,-1,0,"EOD");var S=`\r
`,N=f.join(S);return N}})();return{to_workbook:r,to_sheet:n,from_sheet:s}})(),GT=(function(){function e(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(g,v){for(var x=g.split(`
`),w=-1,y=-1,_=0,S=[];_!==x.length;++_){var N=x[_].trim().split(":");if(N[0]==="cell"){var T=Kn(N[1]);if(S.length<=T.r)for(w=S.length;w<=T.r;++w)S[w]||(S[w]=[]);switch(w=T.r,y=T.c,N[2]){case"t":S[w][y]=e(N[3]);break;case"v":S[w][y]=+N[3];break;case"vtf":var C=N[N.length-1];case"vtc":switch(N[3]){case"nl":S[w][y]=!!+N[4];break;default:S[w][y]=+N[4];break}N[2]=="vtf"&&(S[w][y]=[S[w][y],C])}}}return v&&v.sheetRows&&(S=S.slice(0,v.sheetRows)),S}function r(g,v){return Fl(n(g,v),v)}function s(g,v){return io(r(g,v),v)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function f(g){if(!g||!g["!ref"])return"";for(var v=[],x=[],w,y="",_=Zr(g["!ref"]),S=Array.isArray(g),N=_.s.r;N<=_.e.r;++N)for(var T=_.s.c;T<=_.e.c;++T)if(y=Zt({r:N,c:T}),w=S?(g[N]||[])[T]:g[y],!(!w||w.v==null||w.t==="z")){switch(x=["cell",y,"t"],w.t){case"s":case"str":x.push(t(w.v));break;case"n":w.f?(x[2]="vtf",x[3]="n",x[4]=w.v,x[5]=t(w.f)):(x[2]="v",x[3]=w.v);break;case"b":x[2]="vt"+(w.f?"f":"c"),x[3]="nl",x[4]=w.v?"1":"0",x[5]=t(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var C=Or(wr(w.v));x[2]="vtc",x[3]="nd",x[4]=""+C,x[5]=w.w||gi(w.z||Sn[14],C);break;case"e":continue}v.push(x.join(":"))}return v.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function p(g){return[a,o,u,o,f(g),d].join(`
`)}return{to_workbook:s,to_sheet:r,from_sheet:p}})(),W9=(function(){function e(p,g,v,x,w){w.raw?g[v][x]=p:p===""||(p==="TRUE"?g[v][x]=!0:p==="FALSE"?g[v][x]=!1:isNaN(Ea(p))?isNaN(_u(p).getDate())?g[v][x]=p:g[v][x]=wr(p):g[v][x]=Ea(p))}function t(p,g){var v=g||{},x=[];if(!p||p.length===0)return x;for(var w=p.split(/[\r\n]/),y=w.length-1;y>=0&&w[y].length===0;)--y;for(var _=10,S=0,N=0;N<=y;++N)S=w[N].indexOf(" "),S==-1?S=w[N].length:S++,_=Math.max(_,S);for(N=0;N<=y;++N){x[N]=[];var T=0;for(e(w[N].slice(0,_).trim(),x,N,T,v),T=1;T<=(w[N].length-_)/10+1;++T)e(w[N].slice(_+(T-1)*10,_+T*10).trim(),x,N,T,v)}return v.sheetRows&&(x=x.slice(0,v.sheetRows)),x}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(p){for(var g={},v=!1,x=0,w=0;x<p.length;++x)(w=p.charCodeAt(x))==34?v=!v:!v&&w in n&&(g[w]=(g[w]||0)+1);w=[];for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&w.push([g[x],x]);if(!w.length){g=r;for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&w.push([g[x],x])}return w.sort(function(y,_){return y[0]-_[0]||r[y[1]]-r[_[1]]}),n[w.pop()[1]]||44}function a(p,g){var v=g||{},x="",w=v.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(x=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(x=p.charAt(4),p=p.slice(6)):x=s(p.slice(0,1024)):v&&v.FS?x=v.FS:x=s(p.slice(0,1024));var _=0,S=0,N=0,T=0,C=0,A=x.charCodeAt(0),z=!1,M=0,j=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var O=v.dateNF!=null?lz(v.dateNF):null;function Y(){var J=p.slice(T,C),F={};if(J.charAt(0)=='"'&&J.charAt(J.length-1)=='"'&&(J=J.slice(1,-1).replace(/""/g,'"')),J.length===0)F.t="z";else if(v.raw)F.t="s",F.v=J;else if(J.trim().length===0)F.t="s",F.v=J;else if(J.charCodeAt(0)==61)J.charCodeAt(1)==34&&J.charCodeAt(J.length-1)==34?(F.t="s",F.v=J.slice(2,-1).replace(/""/g,'"')):GB(J)?(F.t="n",F.f=J.slice(1)):(F.t="s",F.v=J);else if(J=="TRUE")F.t="b",F.v=!0;else if(J=="FALSE")F.t="b",F.v=!1;else if(!isNaN(N=Ea(J)))F.t="n",v.cellText!==!1&&(F.w=J),F.v=N;else if(!isNaN(_u(J).getDate())||O&&J.match(O)){F.z=v.dateNF||Sn[14];var re=0;O&&J.match(O)&&(J=cz(J,v.dateNF,J.match(O)||[]),re=1),v.cellDates?(F.t="d",F.v=wr(J,re)):(F.t="n",F.v=Or(wr(J,re))),v.cellText!==!1&&(F.w=gi(F.z,F.v instanceof Date?Or(F.v):F.v)),v.cellNF||delete F.z}else F.t="s",F.v=J;if(F.t=="z"||(v.dense?(w[_]||(w[_]=[]),w[_][S]=F):w[Zt({c:S,r:_})]=F),T=C+1,j=p.charCodeAt(T),y.e.c<S&&(y.e.c=S),y.e.r<_&&(y.e.r=_),M==A)++S;else if(S=0,++_,v.sheetRows&&v.sheetRows<=_)return!0}e:for(;C<p.length;++C)switch(M=p.charCodeAt(C)){case 34:j===34&&(z=!z);break;case A:case 10:case 13:if(!z&&Y())break e;break}return C-T>0&&Y(),w["!ref"]=Ln(y),w}function o(p,g){return!(g&&g.PRN)||g.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?a(p,g):Fl(t(p,g),g)}function u(p,g){var v="",x=g.type=="string"?[0,0,0,0]:sV(p,g);switch(g.type){case"base64":v=ja(p);break;case"binary":v=p;break;case"buffer":g.codepage==65001?v=p.toString("utf8"):g.codepage&&typeof fh<"u"||(v=Wt&&Buffer.isBuffer(p)?p.toString("binary"):$u(p));break;case"array":v=Jh(p);break;case"string":v=p;break;default:throw new Error("Unrecognized type "+g.type)}return x[0]==239&&x[1]==187&&x[2]==191?v=ru(v.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?v=ru(v):g.type=="binary"&&typeof fh<"u",v.slice(0,19)=="socialcalc:version:"?GT.to_sheet(g.type=="string"?v:ru(v),g):o(v,g)}function d(p,g){return io(u(p,g),g)}function f(p){for(var g=[],v=dn(p["!ref"]),x,w=Array.isArray(p),y=v.s.r;y<=v.e.r;++y){for(var _=[],S=v.s.c;S<=v.e.c;++S){var N=Zt({r:y,c:S});if(x=w?(p[y]||[])[S]:p[N],!x||x.v==null){_.push("          ");continue}for(var T=(x.w||(Aa(x),x.w)||"").slice(0,10);T.length<10;)T+=" ";_.push(T+(S===0?" ":""))}g.push(_.join(""))}return g.join(`
`)}return{to_workbook:d,to_sheet:u,from_sheet:f}})(),z_=(function(){function e(R,U,B){if(R){Gr(R,R.l||0);for(var G=B.Enum||ae;R.l<R.length;){var ue=R.read_shift(2),ge=G[ue]||G[65535],me=R.read_shift(2),ve=R.l+me,Re=ge.f&&ge.f(R,me,B);if(R.l=ve,U(Re,ge,ue))return}}}function t(R,U){switch(U.type){case"base64":return n(js(ja(R)),U);case"binary":return n(js(R),U);case"buffer":case"array":return n(R,U)}throw"Unsupported type "+U.type}function n(R,U){if(!R)return R;var B=U||{},G=B.dense?[]:{},ue="Sheet1",ge="",me=0,ve={},Re=[],Ue=[],Ve={s:{r:0,c:0},e:{r:0,c:0}},st=B.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)B.Enum=ae,e(R,function(q,X,le){switch(le){case 0:B.vers=q,q>=4096&&(B.qpro=!0);break;case 6:Ve=q;break;case 204:q&&(ge=q);break;case 222:ge=q;break;case 15:case 51:B.qpro||(q[1].v=q[1].v.slice(1));case 13:case 14:case 16:le==14&&(q[2]&112)==112&&(q[2]&15)>1&&(q[2]&15)<15&&(q[1].z=B.dateNF||Sn[14],B.cellDates&&(q[1].t="d",q[1].v=oT(q[1].v))),B.qpro&&q[3]>me&&(G["!ref"]=Ln(Ve),ve[ue]=G,Re.push(ue),G=B.dense?[]:{},Ve={s:{r:0,c:0},e:{r:0,c:0}},me=q[3],ue=ge||"Sheet"+(me+1),ge="");var pe=B.dense?(G[q[0].r]||[])[q[0].c]:G[Zt(q[0])];if(pe){pe.t=q[1].t,pe.v=q[1].v,q[1].z!=null&&(pe.z=q[1].z),q[1].f!=null&&(pe.f=q[1].f);break}B.dense?(G[q[0].r]||(G[q[0].r]=[]),G[q[0].r][q[0].c]=q[1]):G[Zt(q[0])]=q[1];break}},B);else if(R[2]==26||R[2]==14)B.Enum=D,R[2]==14&&(B.qpro=!0,R.l=0),e(R,function(q,X,le){switch(le){case 204:ue=q;break;case 22:q[1].v=q[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(q[3]>me&&(G["!ref"]=Ln(Ve),ve[ue]=G,Re.push(ue),G=B.dense?[]:{},Ve={s:{r:0,c:0},e:{r:0,c:0}},me=q[3],ue="Sheet"+(me+1)),st>0&&q[0].r>=st)break;B.dense?(G[q[0].r]||(G[q[0].r]=[]),G[q[0].r][q[0].c]=q[1]):G[Zt(q[0])]=q[1],Ve.e.c<q[0].c&&(Ve.e.c=q[0].c),Ve.e.r<q[0].r&&(Ve.e.r=q[0].r);break;case 27:q[14e3]&&(Ue[q[14e3][0]]=q[14e3][1]);break;case 1537:Ue[q[0]]=q[1],q[0]==me&&(ue=q[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(G["!ref"]=Ln(Ve),ve[ge||ue]=G,Re.push(ge||ue),!Ue.length)return{SheetNames:Re,Sheets:ve};for(var I={},ye=[],ne=0;ne<Ue.length;++ne)ve[Re[ne]]?(ye.push(Ue[ne]||Re[ne]),I[Ue[ne]]=ve[Ue[ne]]||ve[Re[ne]]):(ye.push(Ue[ne]),I[Ue[ne]]={"!ref":"A1"});return{SheetNames:ye,Sheets:I}}function r(R,U){var B=U||{};if(+B.codepage>=0&&wu(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var G=Rr(),ue=dn(R["!ref"]),ge=Array.isArray(R),me=[];Ze(G,0,a(1030)),Ze(G,6,d(ue));for(var ve=Math.min(ue.e.r,8191),Re=ue.s.r;Re<=ve;++Re)for(var Ue=ar(Re),Ve=ue.s.c;Ve<=ue.e.c;++Ve){Re===ue.s.r&&(me[Ve]=hr(Ve));var st=me[Ve]+Ue,I=ge?(R[Re]||[])[Ve]:R[st];if(!(!I||I.t=="z"))if(I.t=="n")(I.v|0)==I.v&&I.v>=-32768&&I.v<=32767?Ze(G,13,x(Re,Ve,I.v)):Ze(G,14,y(Re,Ve,I.v));else{var ye=Aa(I);Ze(G,15,g(Re,Ve,ye.slice(0,239)))}}return Ze(G,1),G.end()}function s(R,U){var B=U||{};if(+B.codepage>=0&&wu(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var G=Rr();Ze(G,0,o(R));for(var ue=0,ge=0;ue<R.SheetNames.length;++ue)(R.Sheets[R.SheetNames[ue]]||{})["!ref"]&&Ze(G,27,ee(R.SheetNames[ue],ge++));var me=0;for(ue=0;ue<R.SheetNames.length;++ue){var ve=R.Sheets[R.SheetNames[ue]];if(!(!ve||!ve["!ref"])){for(var Re=dn(ve["!ref"]),Ue=Array.isArray(ve),Ve=[],st=Math.min(Re.e.r,8191),I=Re.s.r;I<=st;++I)for(var ye=ar(I),ne=Re.s.c;ne<=Re.e.c;++ne){I===Re.s.r&&(Ve[ne]=hr(ne));var q=Ve[ne]+ye,X=Ue?(ve[I]||[])[ne]:ve[q];if(!(!X||X.t=="z"))if(X.t=="n")Ze(G,23,Y(I,ne,me,X.v));else{var le=Aa(X);Ze(G,22,M(I,ne,me,le.slice(0,239)))}}++me}}return Ze(G,1),G.end()}function a(R){var U=Ie(2);return U.write_shift(2,R),U}function o(R){var U=Ie(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var B=0,G=0,ue=0,ge=0;ge<R.SheetNames.length;++ge){var me=R.SheetNames[ge],ve=R.Sheets[me];if(!(!ve||!ve["!ref"])){++ue;var Re=Zr(ve["!ref"]);B<Re.e.r&&(B=Re.e.r),G<Re.e.c&&(G=Re.e.c)}}return B>8191&&(B=8191),U.write_shift(2,B),U.write_shift(1,ue),U.write_shift(1,G),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function u(R,U,B){var G={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&B.qpro?(G.s.c=R.read_shift(1),R.l++,G.s.r=R.read_shift(2),G.e.c=R.read_shift(1),R.l++,G.e.r=R.read_shift(2),G):(G.s.c=R.read_shift(2),G.s.r=R.read_shift(2),U==12&&B.qpro&&(R.l+=2),G.e.c=R.read_shift(2),G.e.r=R.read_shift(2),U==12&&B.qpro&&(R.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function d(R){var U=Ie(8);return U.write_shift(2,R.s.c),U.write_shift(2,R.s.r),U.write_shift(2,R.e.c),U.write_shift(2,R.e.r),U}function f(R,U,B){var G=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(G[0].c=R.read_shift(1),G[3]=R.read_shift(1),G[0].r=R.read_shift(2),R.l+=2):(G[2]=R.read_shift(1),G[0].c=R.read_shift(2),G[0].r=R.read_shift(2)),G}function p(R,U,B){var G=R.l+U,ue=f(R,U,B);if(ue[1].t="s",B.vers==20768){R.l++;var ge=R.read_shift(1);return ue[1].v=R.read_shift(ge,"utf8"),ue}return B.qpro&&R.l++,ue[1].v=R.read_shift(G-R.l,"cstr"),ue}function g(R,U,B){var G=Ie(7+B.length);G.write_shift(1,255),G.write_shift(2,U),G.write_shift(2,R),G.write_shift(1,39);for(var ue=0;ue<G.length;++ue){var ge=B.charCodeAt(ue);G.write_shift(1,ge>=128?95:ge)}return G.write_shift(1,0),G}function v(R,U,B){var G=f(R,U,B);return G[1].v=R.read_shift(2,"i"),G}function x(R,U,B){var G=Ie(7);return G.write_shift(1,255),G.write_shift(2,U),G.write_shift(2,R),G.write_shift(2,B,"i"),G}function w(R,U,B){var G=f(R,U,B);return G[1].v=R.read_shift(8,"f"),G}function y(R,U,B){var G=Ie(13);return G.write_shift(1,255),G.write_shift(2,U),G.write_shift(2,R),G.write_shift(8,B,"f"),G}function _(R,U,B){var G=R.l+U,ue=f(R,U,B);if(ue[1].v=R.read_shift(8,"f"),B.qpro)R.l=G;else{var ge=R.read_shift(2);C(R.slice(R.l,R.l+ge),ue),R.l+=ge}return ue}function S(R,U,B){var G=U&32768;return U&=-32769,U=(G?R:0)+(U>=8192?U-16384:U),(G?"":"$")+(B?hr(U):ar(U))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function C(R,U){Gr(R,0);for(var B=[],G=0,ue="",ge="",me="",ve="";R.l<R.length;){var Re=R[R.l++];switch(Re){case 0:B.push(R.read_shift(8,"f"));break;case 1:ge=S(U[0].c,R.read_shift(2),!0),ue=S(U[0].r,R.read_shift(2),!1),B.push(ge+ue);break;case 2:{var Ue=S(U[0].c,R.read_shift(2),!0),Ve=S(U[0].r,R.read_shift(2),!1);ge=S(U[0].c,R.read_shift(2),!0),ue=S(U[0].r,R.read_shift(2),!1),B.push(Ue+Ve+":"+ge+ue)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(R.read_shift(2));break;case 6:{for(var st="";Re=R[R.l++];)st+=String.fromCharCode(Re);B.push('"'+st.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:ve=B.pop(),me=B.pop(),B.push(["AND","OR"][Re-20]+"("+me+","+ve+")");break;default:if(Re<32&&T[Re])ve=B.pop(),me=B.pop(),B.push(me+T[Re]+ve);else if(N[Re]){if(G=N[Re][1],G==69&&(G=R[R.l++]),G>B.length){console.error("WK1 bad formula parse 0x"+Re.toString(16)+":|"+B.join("|")+"|");return}var I=B.slice(-G);B.length-=G,B.push(N[Re][0]+"("+I.join(",")+")")}else return Re<=7?console.error("WK1 invalid opcode "+Re.toString(16)):Re<=24?console.error("WK1 unsupported op "+Re.toString(16)):Re<=30?console.error("WK1 invalid opcode "+Re.toString(16)):Re<=115?console.error("WK1 unsupported function opcode "+Re.toString(16)):console.error("WK1 unrecognized opcode "+Re.toString(16))}}B.length==1?U[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function A(R){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=R.read_shift(2),U[3]=R[R.l++],U[0].c=R[R.l++],U}function z(R,U){var B=A(R);return B[1].t="s",B[1].v=R.read_shift(U-4,"cstr"),B}function M(R,U,B,G){var ue=Ie(6+G.length);ue.write_shift(2,R),ue.write_shift(1,B),ue.write_shift(1,U),ue.write_shift(1,39);for(var ge=0;ge<G.length;++ge){var me=G.charCodeAt(ge);ue.write_shift(1,me>=128?95:me)}return ue.write_shift(1,0),ue}function j(R,U){var B=A(R);B[1].v=R.read_shift(2);var G=B[1].v>>1;if(B[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return B[1].v=G,B}function O(R,U){var B=A(R),G=R.read_shift(4),ue=R.read_shift(4),ge=R.read_shift(2);if(ge==65535)return G===0&&ue===3221225472?(B[1].t="e",B[1].v=15):G===0&&ue===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var me=ge&32768;return ge=(ge&32767)-16446,B[1].v=(1-me*2)*(ue*Math.pow(2,ge+32)+G*Math.pow(2,ge)),B}function Y(R,U,B,G){var ue=Ie(14);if(ue.write_shift(2,R),ue.write_shift(1,B),ue.write_shift(1,U),G==0)return ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(2,65535),ue;var ge=0,me=0,ve=0,Re=0;return G<0&&(ge=1,G=-G),me=Math.log2(G)|0,G/=Math.pow(2,me-31),Re=G>>>0,(Re&2147483648)==0&&(G/=2,++me,Re=G>>>0),G-=Re,Re|=2147483648,Re>>>=0,G*=Math.pow(2,32),ve=G>>>0,ue.write_shift(4,ve),ue.write_shift(4,Re),me+=16383+(ge?32768:0),ue.write_shift(2,me),ue}function J(R,U){var B=O(R);return R.l+=U-14,B}function F(R,U){var B=A(R),G=R.read_shift(4);return B[1].v=G>>6,B}function re(R,U){var B=A(R),G=R.read_shift(8,"f");return B[1].v=G,B}function k(R,U){var B=re(R);return R.l+=U-10,B}function V(R,U){return R[R.l+U-1]==0?R.read_shift(U,"cstr"):""}function K(R,U){var B=R[R.l++];B>U-1&&(B=U-1);for(var G="";G.length<B;)G+=String.fromCharCode(R[R.l++]);return G}function H(R,U,B){if(!(!B.qpro||U<21)){var G=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var ue=R.read_shift(U-21,"cstr");return[G,ue]}}function Q(R,U){for(var B={},G=R.l+U;R.l<G;){var ue=R.read_shift(2);if(ue==14e3){for(B[ue]=[0,""],B[ue][0]=R.read_shift(2);R[R.l];)B[ue][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return B}function ee(R,U){var B=Ie(5+R.length);B.write_shift(2,14e3),B.write_shift(2,U);for(var G=0;G<R.length;++G){var ue=R.charCodeAt(G);B[B.l++]=ue>127?95:ue}return B[B.l++]=0,B}var ae={0:{n:"BOF",f:zT},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:V},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},D={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:z},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:j},25:{n:"FORMULA19",f:J},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:re},40:{n:"FORMULA28",f:k},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:V},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:H},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:t}})(),q9=/^\s|\s$|[\t\n\r]/;function VT(e,t){if(!t.bookSST)return"";var n=[Pn];n[n.length]=Ye("sst",null,{xmlns:Pl[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(e[r]!=null){var s=e[r],a="<si>";s.r?a+=s.r:(a+="<t",s.t||(s.t=""),s.t.match(q9)&&(a+=' xml:space="preserve"'),a+=">"+Jt(s.t)+"</t>"),a+="</si>",n[n.length]=a}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function K9(e){return[e.read_shift(4),e.read_shift(4)]}function X9(e,t){return t||(t=Ie(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Y9=Bz;function J9(e){var t=Rr();$e(t,159,X9(e));for(var n=0;n<e.length;++n)$e(t,19,Y9(e[n]));return $e(t,160),t.end()}function Z9(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function WT(e){var t=0,n,r=Z9(e),s=r.length+1,a,o,u,d,f;for(n=ro(s),n[0]=r.length,a=1;a!=s;++a)n[a]=r[a-1];for(a=s-1;a>=0;--a)o=n[a],u=(t&16384)===0?0:1,d=t<<1&32767,f=u|d,t=f^o;return t^52811}var Q9=(function(){function e(s,a){switch(a.type){case"base64":return t(ja(s),a);case"binary":return t(s,a);case"buffer":return t(Wt&&Buffer.isBuffer(s)?s.toString("binary"):$u(s),a);case"array":return t(Jh(s),a)}throw new Error("Unrecognized type "+a.type)}function t(s,a){var o=a||{},u=o.dense?[]:{},d=s.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(p,g){Array.isArray(u)&&(u[g]=[]);for(var v=/\\\w+\b/g,x=0,w,y=-1;w=v.exec(p);){switch(w[0]){case"\\cell":var _=p.slice(x,v.lastIndex-w[0].length);if(_[0]==" "&&(_=_.slice(1)),++y,_.length){var S={v:_,t:"s"};Array.isArray(u)?u[g][y]=S:u[Zt({r:g,c:y})]=S}break}x=v.lastIndex}y>f.e.c&&(f.e.c=y)}),u["!ref"]=Ln(f),u}function n(s,a){return io(e(s,a),a)}function r(s){for(var a=["{\\rtf1\\ansi"],o=dn(s["!ref"]),u,d=Array.isArray(s),f=o.s.r;f<=o.e.r;++f){a.push("\\trowd\\trautofit1");for(var p=o.s.c;p<=o.e.c;++p)a.push("\\cellx"+(p+1));for(a.push("\\pard\\intbl"),p=o.s.c;p<=o.e.c;++p){var g=Zt({r:f,c:p});u=d?(s[f]||[])[p]:s[g],!(!u||u.v==null&&(!u.f||u.F))&&(a.push(" "+(u.w||(Aa(u),u.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}})();function B_(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var eB=6,Na=eB;function bh(e){return Math.floor((e+Math.round(128/Na)/256)*Na)}function _h(e){return Math.floor((e-5)/Na*100+.5)/100}function rx(e){return Math.round((e*Na+5)/Na*256)/256}function pv(e){e.width?(e.wpx=bh(e.width),e.wch=_h(e.wpx),e.MDW=Na):e.wpx?(e.wch=_h(e.wpx),e.width=rx(e.wch),e.MDW=Na):typeof e.wch=="number"&&(e.width=rx(e.wch),e.wpx=bh(e.width),e.MDW=Na),e.customWidth&&delete e.customWidth}var tB=96,qT=tB;function Sh(e){return e*96/qT}function KT(e){return e*qT/96}function nB(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)e[r]!=null&&(t[t.length]=Ye("numFmt",null,{numFmtId:r,formatCode:Jt(e[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ye("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function rB(e){var t=[];return t[t.length]=Ye("cellXfs",null),e.forEach(function(n){t[t.length]=Ye("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ye("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function XT(e,t){var n=[Pn,Ye("styleSheet",null,{xmlns:Pl[0],"xmlns:vt":qn.vt})],r;return e.SSF&&(r=nB(e.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=rB(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function sB(e,t){var n=e.read_shift(2),r=pr(e);return[n,r]}function aB(e,t,n){n||(n=Ie(6+4*t.length)),n.write_shift(2,e),Xn(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function iB(e,t,n){var r={};r.sz=e.read_shift(2)/20;var s=qz(e);s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1);var a=e.read_shift(2);switch(a===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var u=e.read_shift(1);u>0&&(r.family=u);var d=e.read_shift(1);switch(d>0&&(r.charset=d),e.l++,r.color=Wz(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=pr(e),r}function oB(e,t){t||(t=Ie(153)),t.write_shift(2,e.sz*20),Kz(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),yh(e.color,t);var r=0;return r=2,t.write_shift(1,r),Xn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var lB=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ng,cB=qs;function U_(e,t){t||(t=Ie(84)),ng||(ng=nv(lB));var n=ng[e.patternType];n==null&&(n=40),t.write_shift(4,n);var r=0;if(n!=40)for(yh({auto:1},t),yh({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function uB(e,t){var n=e.l+t,r=e.read_shift(2),s=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:s}}function YT(e,t,n){n||(n=Ie(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Gc(e,t){return t||(t=Ie(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var dB=qs;function fB(e,t){return t||(t=Ie(51)),t.write_shift(1,0),Gc(null,t),Gc(null,t),Gc(null,t),Gc(null,t),Gc(null,t),t.length>t.l?t.slice(0,t.l):t}function hB(e,t){return t||(t=Ie(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),vh(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function pB(e,t,n){var r=Ie(2052);return r.write_shift(4,e),vh(t,r),vh(n,r),r.length>r.l?r.slice(0,r.l):r}function mB(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)t[s]!=null&&++n}),n!=0&&($e(e,615,Os(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)t[s]!=null&&$e(e,44,aB(s,t[s]))}),$e(e,616))}}function gB(e){var t=1;$e(e,611,Os(t)),$e(e,43,oB({sz:12,color:{theme:1},name:"Calibri",family:2})),$e(e,612)}function xB(e){var t=2;$e(e,603,Os(t)),$e(e,45,U_({patternType:"none"})),$e(e,45,U_({patternType:"gray125"})),$e(e,604)}function vB(e){var t=1;$e(e,613,Os(t)),$e(e,46,fB()),$e(e,614)}function yB(e){var t=1;$e(e,626,Os(t)),$e(e,47,YT({numFmtId:0},65535)),$e(e,627)}function wB(e,t){$e(e,617,Os(t.length)),t.forEach(function(n){$e(e,47,YT(n,0))}),$e(e,618)}function bB(e){var t=1;$e(e,619,Os(t)),$e(e,48,hB({xfId:0,name:"Normal"})),$e(e,620)}function _B(e){var t=0;$e(e,505,Os(t)),$e(e,506)}function SB(e){var t=0;$e(e,508,pB(t,"TableStyleMedium9","PivotStyleMedium4")),$e(e,509)}function EB(e,t){var n=Rr();return $e(n,278),mB(n,e.SSF),gB(n),xB(n),vB(n),yB(n),wB(n,t.cellXfs),bB(n),_B(n),SB(n),$e(n,279),n.end()}function JT(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[Pn];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function NB(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:pr(e)}}function TB(e){var t=Ie(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Xn(e.name,t),t.slice(0,t.l)}function CB(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function kB(e){var t=Ie(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function jB(e,t){var n=Ie(8+2*t.length);return n.write_shift(4,e),Xn(t,n),n.slice(0,n.l)}function AB(e){return e.l+=4,e.read_shift(4)!=0}function RB(e,t){var n=Ie(8);return n.write_shift(4,e),n.write_shift(4,1),n}function OB(){var e=Rr();return $e(e,332),$e(e,334,Os(1)),$e(e,335,TB({name:"XLDAPR",version:12e4,flags:3496657072})),$e(e,336),$e(e,339,jB(1,"XLDAPR")),$e(e,52),$e(e,35,Os(514)),$e(e,4096,Os(0)),$e(e,4097,ds(1)),$e(e,36),$e(e,53),$e(e,340),$e(e,337,RB(1)),$e(e,51,kB([[1,0]])),$e(e,338),$e(e,333),e.end()}function ZT(){var e=[Pn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function MB(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=Zt(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}var ll=1024;function QT(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[Ye("xml",null,{"xmlns:v":Wr.v,"xmlns:o":Wr.o,"xmlns:x":Wr.x,"xmlns:mv":Wr.mv}).replace(/\/>/,">"),Ye("o:shapelayout",Ye("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ye("v:shapetype",[Ye("v:stroke",null,{joinstyle:"miter"}),Ye("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];ll<e*1e3;)ll+=1e3;return t.forEach(function(a){var o=Kn(a[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var d=u.type=="gradient"?Ye("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Ye("v:fill",d,u),p={on:"t",obscured:"t"};++ll,s=s.concat(["<v:shape"+Eu({id:"_x0000_s"+ll,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Ye("v:shadow",null,p),Ye("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",sr("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),sr("x:AutoFill","False"),sr("x:Row",String(o.r)),sr("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function eC(e){var t=[Pn,Ye("comments",null,{xmlns:Pl[0]})],n=[];return t.push("<authors>"),e.forEach(function(r){r[1].forEach(function(s){var a=Jt(s.a);n.indexOf(a)==-1&&(n.push(a),t.push("<author>"+a+"</author>")),s.T&&s.ID&&n.indexOf("tc="+s.ID)==-1&&(n.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(r){var s=0,a=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?s=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(d){d.a&&(s=n.indexOf(Jt(d.a))),a.push(d.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+s+'"><text>'),a.length<=1)t.push(sr("t",Jt(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,u=1;u<a.length;++u)o+=`Reply:
    `+a[u]+`
`;t.push(sr("t",Jt(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function DB(e,t,n){var r=[Pn,Ye("ThreadedComments",null,{xmlns:qn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var a="";(s[1]||[]).forEach(function(o,u){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var d={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};u==0?a=d.id:d.parentId=a,o.ID=d.id,o.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),r.push(Ye("threadedComment",sr("text",o.t||""),d))})}),r.push("</ThreadedComments>"),r.join("")}function IB(e){var t=[Pn,Ye("personList",null,{xmlns:qn.TCMNT,"xmlns:x":Pl[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,r){t.push(Ye("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function LB(e){var t={};t.iauthor=e.read_shift(4);var n=uo(e);return t.rfx=n.s,t.ref=Zt(n.s),e.l+=16,t}function PB(e,t){return t==null&&(t=Ie(36)),t.write_shift(4,e[1].iauthor),zl(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var FB=pr;function zB(e){return Xn(e.slice(0,54))}function BB(e){var t=Rr(),n=[];return $e(t,628),$e(t,630),e.forEach(function(r){r[1].forEach(function(s){n.indexOf(s.a)>-1||(n.push(s.a.slice(0,54)),$e(t,632,zB(s.a)))})}),$e(t,631),$e(t,633),e.forEach(function(r){r[1].forEach(function(s){s.iauthor=n.indexOf(s.a);var a={s:Kn(r[0]),e:Kn(r[0])};$e(t,635,PB([a,s])),s.t&&s.t.length>0&&$e(t,637,$z(s)),$e(t,636),delete s.iauthor})}),$e(t,634),$e(t,629),t.end()}function UB(e,t){t.FullPaths.forEach(function(n,r){if(r!=0){var s=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&nn.utils.cfb_add(e,s,t.FileIndex[r].content)}})}var tC=["xlsb","xlsm","xlam","biff8","xla"],$B=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,s,a,o){var u=!1,d=!1;a.length==0?d=!0:a.charAt(0)=="["&&(d=!0,a=a.slice(1,-1)),o.length==0?u=!0:o.charAt(0)=="["&&(u=!0,o=o.slice(1,-1));var f=a.length>0?parseInt(a,10)|0:0,p=o.length>0?parseInt(o,10)|0:0;return u?p+=t.c:--p,d?f+=t.r:--f,s+(u?"":"$")+hr(p)+(d?"":"$")+ar(f)}return function(s,a){return t=a,s.replace(e,n)}})(),mv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,gv=(function(){return function(t,n){return t.replace(mv,function(r,s,a,o,u,d){var f=cv(o)-(a?0:n.c),p=lv(d)-(u?0:n.r),g=p==0?"":u?p+1:"["+p+"]",v=f==0?"":a?f+1:"["+f+"]";return s+"R"+g+"C"+v})}})();function HB(e,t){return e.replace(mv,function(n,r,s,a,o,u){return r+(s=="$"?s+a:hr(cv(a)+t.c))+(o=="$"?o+u:ar(lv(u)+t.r))})}function GB(e){return e.length!=1}function Dn(e){e.l+=1}function xi(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function nC(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return rC(e);n.biff==12&&(r=4)}var s=e.read_shift(r),a=e.read_shift(r),o=xi(e),u=xi(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:u[0],cRel:u[1],rRel:u[2]}}}function rC(e){var t=xi(e),n=xi(e),r=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function VB(e,t,n){if(n.biff<8)return rC(e);var r=e.read_shift(n.biff==12?4:2),s=e.read_shift(n.biff==12?4:2),a=xi(e),o=xi(e);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function sC(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return WB(e);var r=e.read_shift(n&&n.biff==12?4:2),s=xi(e);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function WB(e){var t=xi(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function qB(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function KB(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return XB(e);var s=e.read_shift(r>=12?4:2),a=e.read_shift(2),o=(a&16384)>>14,u=(a&32768)>>15;if(a&=16383,u==1)for(;s>524287;)s-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:o,rRel:u}}function XB(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),s==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:s,rRel:r}}function YB(e,t,n){var r=(e[e.l++]&96)>>5,s=nC(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,s]}function JB(e,t,n){var r=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),a=8;if(n)switch(n.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var o=nC(e,a,n);return[r,s,o]}function ZB(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function QB(e,t,n){var r=(e[e.l++]&96)>>5,s=e.read_shift(2),a=8;if(n)switch(n.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[r,s]}function eU(e,t,n){var r=(e[e.l++]&96)>>5,s=VB(e,t-1,n);return[r,s]}function tU(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function $_(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function nU(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),s=[],a=0;a<=r;++a)s.push(e.read_shift(n&&n.biff==2?1:2));return s}function rU(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function sU(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function aU(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function iU(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function aC(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function oU(e){return e.read_shift(2),aC(e)}function lU(e){return e.read_shift(2),aC(e)}function cU(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var s=sC(e,0,n);return[r,s]}function uU(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var s=KB(e,0,n);return[r,s]}function dU(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var a=sC(e,0,n);return[r,s,a]}function fU(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(n&&n.biff<=3?1:2);return[f$[s],lC[s],r]}function hU(e,t,n){var r=e[e.l++],s=e.read_shift(1),a=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:pU(e);return[s,(a[0]===0?lC:d$)[a[1]]]}function pU(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function mU(e,t,n){e.l+=n&&n.biff==2?3:4}function gU(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),s=e.read_shift(n&&n.biff==2?1:2);return[r,s]}function xU(e){return e.l++,Vu[e.read_shift(1)]}function vU(e){return e.l++,e.read_shift(2)}function yU(e){return e.l++,e.read_shift(1)!==0}function wU(e){return e.l++,Bl(e)}function bU(e,t,n){return e.l++,UT(e,t-1,n)}function _U(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=d9(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=Vu[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Bl(e);break;case 2:n[1]=m9(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function SU(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),s=[],a=0;a!=r;++a)s.push((n.biff==12?uo:v9)(e));return s}function EU(e,t,n){var r=0,s=0;n.biff==12?(r=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--s==0&&(s=256));for(var a=0,o=[];a!=r&&(o[a]=[]);++a)for(var u=0;u!=s;++u)o[a][u]=_U(e,n.biff);return o}function NU(e,t,n){var r=e.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,a=e.read_shift(s);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,a]}function TU(e,t,n){if(n.biff==5)return CU(e);var r=e.read_shift(1)>>>5&3,s=e.read_shift(2),a=e.read_shift(4);return[r,s,a]}function CU(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function kU(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var s=e.read_shift(n&&n.biff==2?1:2);return[r,s]}function jU(e,t,n){var r=e.read_shift(1)>>>5&3,s=e.read_shift(n&&n.biff==2?1:2);return[r,s]}function AU(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function RU(e,t,n){var r=(e[e.l++]&96)>>5,s=e.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[r,s]}var OU=qs,MU=qs,DU=qs;function Wu(e,t,n){return e.l+=2,[qB(e)]}function xv(e){return e.l+=6,[]}var IU=Wu,LU=xv,PU=xv,FU=Wu;function iC(e){return e.l+=2,[zT(e),e.read_shift(2)&1]}var zU=Wu,BU=iC,UU=xv,$U=Wu,HU=Wu,GU=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function VU(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),s=e.read_shift(2),a=e.read_shift(2),o=GU[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:s,C:a}}function WU(e){return e.l+=2,[e.read_shift(4)]}function qU(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function KU(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function XU(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function YU(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function JU(e){return e.l+=4,[0,0]}var H_={1:{n:"PtgExp",f:gU},2:{n:"PtgTbl",f:DU},3:{n:"PtgAdd",f:Dn},4:{n:"PtgSub",f:Dn},5:{n:"PtgMul",f:Dn},6:{n:"PtgDiv",f:Dn},7:{n:"PtgPower",f:Dn},8:{n:"PtgConcat",f:Dn},9:{n:"PtgLt",f:Dn},10:{n:"PtgLe",f:Dn},11:{n:"PtgEq",f:Dn},12:{n:"PtgGe",f:Dn},13:{n:"PtgGt",f:Dn},14:{n:"PtgNe",f:Dn},15:{n:"PtgIsect",f:Dn},16:{n:"PtgUnion",f:Dn},17:{n:"PtgRange",f:Dn},18:{n:"PtgUplus",f:Dn},19:{n:"PtgUminus",f:Dn},20:{n:"PtgPercent",f:Dn},21:{n:"PtgParen",f:Dn},22:{n:"PtgMissArg",f:Dn},23:{n:"PtgStr",f:bU},26:{n:"PtgSheet",f:qU},27:{n:"PtgEndSheet",f:KU},28:{n:"PtgErr",f:xU},29:{n:"PtgBool",f:yU},30:{n:"PtgInt",f:vU},31:{n:"PtgNum",f:wU},32:{n:"PtgArray",f:tU},33:{n:"PtgFunc",f:fU},34:{n:"PtgFuncVar",f:hU},35:{n:"PtgName",f:NU},36:{n:"PtgRef",f:cU},37:{n:"PtgArea",f:YB},38:{n:"PtgMemArea",f:kU},39:{n:"PtgMemErr",f:OU},40:{n:"PtgMemNoMem",f:MU},41:{n:"PtgMemFunc",f:jU},42:{n:"PtgRefErr",f:AU},43:{n:"PtgAreaErr",f:ZB},44:{n:"PtgRefN",f:uU},45:{n:"PtgAreaN",f:eU},46:{n:"PtgMemAreaN",f:XU},47:{n:"PtgMemNoMemN",f:YU},57:{n:"PtgNameX",f:TU},58:{n:"PtgRef3d",f:dU},59:{n:"PtgArea3d",f:JB},60:{n:"PtgRefErr3d",f:RU},61:{n:"PtgAreaErr3d",f:QB},255:{}},ZU={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},QU={1:{n:"PtgElfLel",f:iC},2:{n:"PtgElfRw",f:$U},3:{n:"PtgElfCol",f:IU},6:{n:"PtgElfRwV",f:HU},7:{n:"PtgElfColV",f:FU},10:{n:"PtgElfRadical",f:zU},11:{n:"PtgElfRadicalS",f:UU},13:{n:"PtgElfColS",f:LU},15:{n:"PtgElfColSV",f:PU},16:{n:"PtgElfRadicalLel",f:BU},25:{n:"PtgList",f:VU},29:{n:"PtgSxName",f:WU},255:{}},e$={0:{n:"PtgAttrNoop",f:JU},1:{n:"PtgAttrSemi",f:iU},2:{n:"PtgAttrIf",f:sU},4:{n:"PtgAttrChoose",f:nU},8:{n:"PtgAttrGoto",f:rU},16:{n:"PtgAttrSum",f:mU},32:{n:"PtgAttrBaxcel",f:$_},33:{n:"PtgAttrBaxcel",f:$_},64:{n:"PtgAttrSpace",f:oU},65:{n:"PtgAttrSpaceSemi",f:lU},128:{n:"PtgAttrIfError",f:aU},255:{}};function t$(e,t,n,r){if(r.biff<8)return qs(e,t);for(var s=e.l+t,a=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=EU(e,0,r),a.push(n[o][1]);break;case"PtgMemArea":n[o][2]=SU(e,n[o][1],r),a.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),a.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=s-e.l,t!==0&&a.push(qs(e,t)),a}function n$(e,t,n){for(var r=e.l+t,s,a,o=[];r!=e.l;)t=r-e.l,a=e[e.l],s=H_[a]||H_[ZU[a]],(a===24||a===25)&&(s=(a===24?QU:e$)[e[e.l+1]]),!s||!s.f?qs(e,t):o.push([s.n,s.f(e,t,n)]);return o}function r$(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],s=[],a=0;a<r.length;++a){var o=r[a];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var s$={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function a$(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function oC(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var s="";if(n.biff>8)switch(e[r[0]][0]){case 357:return s=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?s:s+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return s=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[r[0]][0][3]?(s=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function G_(e,t,n){var r=oC(e,t,n);return r=="#REF"?r:a$(r,n)}function Sl(e,t,n,r,s){var a=s&&s.biff||8,o={s:{c:0,r:0}},u=[],d,f,p,g=0,v=0,x,w="";if(!e[0]||!e[0][0])return"";for(var y=-1,_="",S=0,N=e[0].length;S<N;++S){var T=e[0][S];switch(T[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=u.pop(),f=u.pop(),y>=0){switch(e[0][y][1][0]){case 0:_=_n(" ",e[0][y][1][1]);break;case 1:_=_n("\r",e[0][y][1][1]);break;default:if(_="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}f=f+_,y=-1}u.push(f+s$[T[0]]+d);break;case"PtgIsect":d=u.pop(),f=u.pop(),u.push(f+" "+d);break;case"PtgUnion":d=u.pop(),f=u.pop(),u.push(f+","+d);break;case"PtgRange":d=u.pop(),f=u.pop(),u.push(f+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=au(T[1][1],o,s),u.push(iu(p,a));break;case"PtgRefN":p=n?au(T[1][1],n,s):T[1][1],u.push(iu(p,a));break;case"PtgRef3d":g=T[1][1],p=au(T[1][2],o,s),w=G_(r,g,s),u.push(w+"!"+iu(p,a));break;case"PtgFunc":case"PtgFuncVar":var C=T[1][0],A=T[1][1];C||(C=0),C&=127;var z=C==0?[]:u.slice(-C);u.length-=C,A==="User"&&(A=z.shift()),u.push(A+"("+z.join(",")+")");break;case"PtgBool":u.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(T[1]);break;case"PtgNum":u.push(String(T[1]));break;case"PtgStr":u.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(T[1]);break;case"PtgAreaN":x=k_(T[1][1],n?{s:n}:o,s),u.push(eg(x,s));break;case"PtgArea":x=k_(T[1][1],o,s),u.push(eg(x,s));break;case"PtgArea3d":g=T[1][1],x=T[1][2],w=G_(r,g,s),u.push(w+"!"+eg(x,s));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=T[1][2];var M=(r.names||[])[v-1]||(r[0]||[])[v],j=M?M.Name:"SH33TJSNAME"+String(v);j&&j.slice(0,6)=="_xlfn."&&!s.xlfn&&(j=j.slice(6)),u.push(j);break;case"PtgNameX":var O=T[1][1];v=T[1][2];var Y;if(s.biff<=5)O<0&&(O=-O),r[O]&&(Y=r[O][v]);else{var J="";if(((r[O]||[])[0]||[])[0]==14849||(((r[O]||[])[0]||[])[0]==1025?r[O][v]&&r[O][v].itab>0&&(J=r.SheetNames[r[O][v].itab-1]+"!"):J=r.SheetNames[v-1]+"!"),r[O]&&r[O][v])J+=r[O][v].Name;else if(r[0]&&r[0][v])J+=r[0][v].Name;else{var F=(oC(r,O,s)||"").split(";;");F[v-1]?J=F[v-1]:J+="SH33TJSERRX"}u.push(J);break}Y||(Y={Name:"SH33TJSERRY"}),u.push(Y.Name);break;case"PtgParen":var re="(",k=")";if(y>=0){switch(_="",e[0][y][1][0]){case 2:re=_n(" ",e[0][y][1][1])+re;break;case 3:re=_n("\r",e[0][y][1][1])+re;break;case 4:k=_n(" ",e[0][y][1][1])+k;break;case 5:k=_n("\r",e[0][y][1][1])+k;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}u.push(re+u.pop()+k);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":p={c:T[1][1],r:T[1][0]};var V={c:n.c,r:n.r};if(r.sharedf[Zt(p)]){var K=r.sharedf[Zt(p)];u.push(Sl(K,o,V,r,s))}else{var H=!1;for(d=0;d!=r.arrayf.length;++d)if(f=r.arrayf[d],!(p.c<f[0].s.c||p.c>f[0].e.c)&&!(p.r<f[0].s.r||p.r>f[0].e.r)){u.push(Sl(f[1],o,V,r,s)),H=!0;break}H||u.push(T[1])}break;case"PtgArray":u.push("{"+r$(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var Q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&y>=0&&Q.indexOf(e[0][S][0])==-1){T=e[0][y];var ee=!0;switch(T[1][0]){case 4:ee=!1;case 0:_=_n(" ",T[1][1]);break;case 5:ee=!1;case 1:_=_n("\r",T[1][1]);break;default:if(_="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}u.push((ee?_:"")+u.pop()+(ee?"":_)),y=-1}}if(u.length>1&&s.WTF)throw new Error("bad formula stack");return u[0]}function i$(e){if(e==null){var t=Ie(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return so(e);return so(0)}function o$(e,t,n,r,s){var a=ao(t,n,s),o=i$(e.v),u=Ie(6),d=33;u.write_shift(2,d),u.write_shift(4,0);for(var f=Ie(e.bf.length),p=0;p<e.bf.length;++p)f[p]=e.bf[p];var g=rr([a,o,u,f]);return g}function Zh(e,t,n){var r=e.read_shift(4),s=n$(e,r,n),a=e.read_shift(4),o=a>0?t$(e,a,s,n):null;return[s,o]}var l$=Zh,Qh=Zh,c$=Zh,u$=Zh,d$={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},lC={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},f$={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function h$(e){var t="of:="+e.replace(mv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function p$(e){return e.replace(/\./,"!")}var ou=typeof Map<"u";function vv(e,t,n){var r=0,s=e.length;if(n){if(ou?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var a=ou?n.get(t):n[t];r<a.length;++r)if(e[a[r]].t===t)return e.Count++,a[r]}}else for(;r<s;++r)if(e[r].t===t)return e.Count++,r;return e[s]={t},e.Count++,e.Unique++,n&&(ou?(n.has(t)||n.set(t,[]),n.get(t).push(s)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(s))),s}function e0(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(Na=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?r=_h(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(n.width=rx(r),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function cC(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function yi(e,t,n){var r=n.revssf[t.z!=null?t.z:"General"],s=60,a=e.length;if(r==null&&n.ssf){for(;s<392;++s)if(n.ssf[s]==null){sT(t.z,s),n.ssf[s]=t.z,n.revssf[t.z]=r=s;break}}for(s=0;s!=a;++s)if(e[s].numFmtId===r)return s;return e[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function m$(e,t,n){if(e&&e["!ref"]){var r=dn(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function g$(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+Ln(e[n])+'"/>';return t+"</mergeCells>"}function x$(e,t,n,r,s){var a=!1,o={},u=null;if(r.bookType!=="xlsx"&&t.vbaraw){var d=t.SheetNames[n];try{t.Workbook&&(d=t.Workbook.Sheets[n].CodeName||d)}catch{}a=!0,o.codeName=Su(Jt(d))}if(e&&e["!outline"]){var f={summaryBelow:1,summaryRight:1};e["!outline"].above&&(f.summaryBelow=0),e["!outline"].left&&(f.summaryRight=0),u=(u||"")+Ye("outlinePr",null,f)}!a&&!u||(s[s.length]=Ye("sheetPr",u,o))}var v$=["objects","scenarios","selectLockedCells","selectUnlockedCells"],y$=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function w$(e){var t={sheet:1};return v$.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),y$.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=WT(e.password).toString(16).toUpperCase()),Ye("sheetProtection",null,t)}function b$(e){return cC(e),Ye("pageMargins",null,e)}function _$(e,t){for(var n=["<cols>"],r,s=0;s!=t.length;++s)(r=t[s])&&(n[n.length]=Ye("col",null,e0(s,r)));return n[n.length]="</cols>",n.join("")}function S$(e,t,n,r){var s=typeof e.ref=="string"?e.ref:Ln(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,o=Zr(s);o.s.r==o.e.r&&(o.e.r=Zr(t["!ref"]).e.r,s=Ln(o));for(var u=0;u<a.length;++u){var d=a[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+n.SheetNames[r]+"'!"+s;break}}return u==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),Ye("autoFilter",null,{ref:s})}function E$(e,t,n,r){var s={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Ye("sheetViews",Ye("sheetView",null,s),{})}function N$(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",a=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=Vu[e.v];break;case"d":r&&r.cellDates?s=wr(e.v,-1).toISOString():(e=Mr(e),e.t="n",s=""+(e.v=Or(wr(e.v)))),typeof e.z>"u"&&(e.z=Sn[14]);break;default:s=e.v;break}var u=sr("v",Jt(s)),d={r:t},f=yi(r.cellXfs,e,r);switch(f!==0&&(d.s=f),e.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){u=sr("v",""+vv(r.Strings,e.v,r.revStrings)),d.t="s";break}d.t="str";break}if(e.t!=a&&(e.t=a,e.v=o),typeof e.f=="string"&&e.f){var p=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;u=Ye("f",Jt(e.f),p)+(e.v!=null?u:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(d.cm=1),Ye("c",u,d)}function T$(e,t,n,r){var s=[],a=[],o=dn(e["!ref"]),u="",d,f="",p=[],g=0,v=0,x=e["!rows"],w=Array.isArray(e),y={r:f},_,S=-1;for(v=o.s.c;v<=o.e.c;++v)p[v]=hr(v);for(g=o.s.r;g<=o.e.r;++g){for(a=[],f=ar(g),v=o.s.c;v<=o.e.c;++v){d=p[v]+f;var N=w?(e[g]||[])[v]:e[d];N!==void 0&&(u=N$(N,d,e,t))!=null&&a.push(u)}(a.length>0||x&&x[g])&&(y={r:f},x&&x[g]&&(_=x[g],_.hidden&&(y.hidden=1),S=-1,_.hpx?S=Sh(_.hpx):_.hpt&&(S=_.hpt),S>-1&&(y.ht=S,y.customHeight=1),_.level&&(y.outlineLevel=_.level)),s[s.length]=Ye("row",a.join(""),y))}if(x)for(;g<x.length;++g)x&&x[g]&&(y={r:g+1},_=x[g],_.hidden&&(y.hidden=1),S=-1,_.hpx?S=Sh(_.hpx):_.hpt&&(S=_.hpt),S>-1&&(y.ht=S,y.customHeight=1),_.level&&(y.outlineLevel=_.level),s[s.length]=Ye("row","",y));return s.join("")}function uC(e,t,n,r){var s=[Pn,Ye("worksheet",null,{xmlns:Pl[0],"xmlns:r":qn.r})],a=n.SheetNames[e],o=0,u="",d=n.Sheets[a];d==null&&(d={});var f=d["!ref"]||"A1",p=dn(f);if(p.e.c>16383||p.e.r>1048575){if(t.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),f=Ln(p)}r||(r={}),d["!comments"]=[];var g=[];x$(d,n,e,t,s),s[s.length]=Ye("dimension",null,{ref:f}),s[s.length]=E$(d,t,e,n),t.sheetFormat&&(s[s.length]=Ye("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(s[s.length]=_$(d,d["!cols"])),s[o=s.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(u=T$(d,t),u.length>0&&(s[s.length]=u)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),d["!protect"]&&(s[s.length]=w$(d["!protect"])),d["!autofilter"]!=null&&(s[s.length]=S$(d["!autofilter"],d,n,e)),d["!merges"]!=null&&d["!merges"].length>0&&(s[s.length]=g$(d["!merges"]));var v=-1,x,w=-1;return d["!links"].length>0&&(s[s.length]="<hyperlinks>",d["!links"].forEach(function(y){y[1].Target&&(x={ref:y[0]},y[1].Target.charAt(0)!="#"&&(w=Yt(r,-1,Jt(y[1].Target).replace(/#.*$/,""),Ht.HLINK),x["r:id"]="rId"+w),(v=y[1].Target.indexOf("#"))>-1&&(x.location=Jt(y[1].Target.slice(v+1))),y[1].Tooltip&&(x.tooltip=Jt(y[1].Tooltip)),s[s.length]=Ye("hyperlink",null,x))}),s[s.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(s[s.length]=b$(d["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=sr("ignoredErrors",Ye("ignoredError",null,{numberStoredAsText:1,sqref:f}))),g.length>0&&(w=Yt(r,-1,"../drawings/drawing"+(e+1)+".xml",Ht.DRAW),s[s.length]=Ye("drawing",null,{"r:id":"rId"+w}),d["!drawing"]=g),d["!comments"].length>0&&(w=Yt(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ht.VML),s[s.length]=Ye("legacyDrawing",null,{"r:id":"rId"+w}),d["!legacy"]=w),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function C$(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=r,a&7&&(n.level=a&7),a&16&&(n.hidden=!0),a&32&&(n.hpt=s/20),n}function k$(e,t,n){var r=Ie(145),s=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var a=320;s.hpx?a=Sh(s.hpx)*20:s.hpt&&(a=s.hpt*20),r.write_shift(2,a),r.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var u=0,d=r.l;r.l+=4;for(var f={r:e,c:0},p=0;p<16;++p)if(!(t.s.c>p+1<<10||t.e.c<p<<10)){for(var g=-1,v=-1,x=p<<10;x<p+1<<10;++x){f.c=x;var w=Array.isArray(n)?(n[f.r]||[])[f.c]:n[Zt(f)];w&&(g<0&&(g=x),v=x)}g<0||(++u,r.write_shift(4,g),r.write_shift(4,v))}var y=r.l;return r.l=d,r.write_shift(4,u),r.l=y,r.length>r.l?r.slice(0,r.l):r}function j$(e,t,n,r){var s=k$(r,n,t);(s.length>17||(t["!rows"]||[])[r])&&$e(e,0,s)}var A$=uo,R$=zl;function O$(){}function M$(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=Hz(e),n}function D$(e,t,n){n==null&&(n=Ie(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var s=1;s<3;++s)n.write_shift(1,0);return yh({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),NT(e,n),n.slice(0,n.l)}function I$(e){var t=ms(e);return[t]}function L$(e,t,n){return n==null&&(n=Ie(8)),oo(t,n)}function P$(e){var t=lo(e);return[t]}function F$(e,t,n){return n==null&&(n=Ie(4)),co(t,n)}function z$(e){var t=ms(e),n=e.read_shift(1);return[t,n,"b"]}function B$(e,t,n){return n==null&&(n=Ie(9)),oo(t,n),n.write_shift(1,e.v?1:0),n}function U$(e){var t=lo(e),n=e.read_shift(1);return[t,n,"b"]}function $$(e,t,n){return n==null&&(n=Ie(5)),co(t,n),n.write_shift(1,e.v?1:0),n}function H$(e){var t=ms(e),n=e.read_shift(1);return[t,n,"e"]}function G$(e,t,n){return n==null&&(n=Ie(9)),oo(t,n),n.write_shift(1,e.v),n}function V$(e){var t=lo(e),n=e.read_shift(1);return[t,n,"e"]}function W$(e,t,n){return n==null&&(n=Ie(8)),co(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function q$(e){var t=ms(e),n=e.read_shift(4);return[t,n,"s"]}function K$(e,t,n){return n==null&&(n=Ie(12)),oo(t,n),n.write_shift(4,t.v),n}function X$(e){var t=lo(e),n=e.read_shift(4);return[t,n,"s"]}function Y$(e,t,n){return n==null&&(n=Ie(8)),co(t,n),n.write_shift(4,t.v),n}function J$(e){var t=ms(e),n=Bl(e);return[t,n,"n"]}function Z$(e,t,n){return n==null&&(n=Ie(16)),oo(t,n),so(e.v,n),n}function Q$(e){var t=lo(e),n=Bl(e);return[t,n,"n"]}function eH(e,t,n){return n==null&&(n=Ie(12)),co(t,n),so(e.v,n),n}function tH(e){var t=ms(e),n=TT(e);return[t,n,"n"]}function nH(e,t,n){return n==null&&(n=Ie(12)),oo(t,n),CT(e.v,n),n}function rH(e){var t=lo(e),n=TT(e);return[t,n,"n"]}function sH(e,t,n){return n==null&&(n=Ie(8)),co(t,n),CT(e.v,n),n}function aH(e){var t=ms(e),n=uv(e);return[t,n,"is"]}function iH(e){var t=ms(e),n=pr(e);return[t,n,"str"]}function oH(e,t,n){return n==null&&(n=Ie(12+4*e.v.length)),oo(t,n),Xn(e.v,n),n.length>n.l?n.slice(0,n.l):n}function lH(e){var t=lo(e),n=pr(e);return[t,n,"str"]}function cH(e,t,n){return n==null&&(n=Ie(8+4*e.v.length)),co(t,n),Xn(e.v,n),n.length>n.l?n.slice(0,n.l):n}function uH(e,t,n){var r=e.l+t,s=ms(e);s.r=n["!row"];var a=e.read_shift(1),o=[s,a,"b"];if(n.cellFormula){e.l+=2;var u=Qh(e,r-e.l,n);o[3]=Sl(u,null,s,n.supbooks,n)}else e.l=r;return o}function dH(e,t,n){var r=e.l+t,s=ms(e);s.r=n["!row"];var a=e.read_shift(1),o=[s,a,"e"];if(n.cellFormula){e.l+=2;var u=Qh(e,r-e.l,n);o[3]=Sl(u,null,s,n.supbooks,n)}else e.l=r;return o}function fH(e,t,n){var r=e.l+t,s=ms(e);s.r=n["!row"];var a=Bl(e),o=[s,a,"n"];if(n.cellFormula){e.l+=2;var u=Qh(e,r-e.l,n);o[3]=Sl(u,null,s,n.supbooks,n)}else e.l=r;return o}function hH(e,t,n){var r=e.l+t,s=ms(e);s.r=n["!row"];var a=pr(e),o=[s,a,"str"];if(n.cellFormula){e.l+=2;var u=Qh(e,r-e.l,n);o[3]=Sl(u,null,s,n.supbooks,n)}else e.l=r;return o}var pH=uo,mH=zl;function gH(e,t){return t==null&&(t=Ie(4)),t.write_shift(4,e),t}function xH(e,t){var n=e.l+t,r=uo(e),s=dv(e),a=pr(e),o=pr(e),u=pr(e);e.l=n;var d={rfx:r,relId:s,loc:a,display:u};return o&&(d.Tooltip=o),d}function vH(e,t){var n=Ie(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));zl({s:Kn(e[0]),e:Kn(e[0])},n),fv("rId"+t,n);var r=e[1].Target.indexOf("#"),s=r==-1?"":e[1].Target.slice(r+1);return Xn(s||"",n),Xn(e[1].Tooltip||"",n),Xn("",n),n.slice(0,n.l)}function yH(){}function wH(e,t,n){var r=e.l+t,s=kT(e),a=e.read_shift(1),o=[s];if(o[2]=a,n.cellFormula){var u=l$(e,r-e.l,n);o[1]=u}else e.l=r;return o}function bH(e,t,n){var r=e.l+t,s=uo(e),a=[s];if(n.cellFormula){var o=u$(e,r-e.l,n);a[1]=o,e.l=r}else e.l=r;return a}function _H(e,t,n){n==null&&(n=Ie(18));var r=e0(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof r.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),n.write_shift(2,s),n}var dC=["left","right","top","bottom","header","footer"];function SH(e){var t={};return dC.forEach(function(n){t[n]=Bl(e)}),t}function EH(e,t){return t==null&&(t=Ie(48)),cC(e),dC.forEach(function(n){so(e[n],t)}),t}function NH(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function TH(e,t,n){n==null&&(n=Ie(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function CH(e){var t=Ie(24);return t.write_shift(4,4),t.write_shift(4,1),zl(e,t),t}function kH(e,t){return t==null&&(t=Ie(66)),t.write_shift(2,e.password?WT(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function jH(){}function AH(){}function RH(e,t,n,r,s,a,o){if(t.v===void 0)return!1;var u="";switch(t.t){case"b":u=t.v?"1":"0";break;case"d":t=Mr(t),t.z=t.z||Sn[14],t.v=Or(wr(t.v)),t.t="n";break;case"n":case"e":u=""+t.v;break;default:u=t.v;break}var d={r:n,c:r};switch(d.s=yi(s.cellXfs,t,s),t.l&&a["!links"].push([Zt(d),t.l]),t.c&&a["!comments"].push([Zt(d),t.c]),t.t){case"s":case"str":return s.bookSST?(u=vv(s.Strings,t.v,s.revStrings),d.t="s",d.v=u,o?$e(e,18,Y$(t,d)):$e(e,7,K$(t,d))):(d.t="str",o?$e(e,17,cH(t,d)):$e(e,6,oH(t,d))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?$e(e,13,sH(t,d)):$e(e,2,nH(t,d)):o?$e(e,16,eH(t,d)):$e(e,5,Z$(t,d)),!0;case"b":return d.t="b",o?$e(e,15,$$(t,d)):$e(e,4,B$(t,d)),!0;case"e":return d.t="e",o?$e(e,14,W$(t,d)):$e(e,3,G$(t,d)),!0}return o?$e(e,12,F$(t,d)):$e(e,1,L$(t,d)),!0}function OH(e,t,n,r){var s=dn(t["!ref"]||"A1"),a,o="",u=[];$e(e,145);var d=Array.isArray(t),f=s.e.r;t["!rows"]&&(f=Math.max(s.e.r,t["!rows"].length-1));for(var p=s.s.r;p<=f;++p){o=ar(p),j$(e,t,s,p);var g=!1;if(p<=s.e.r)for(var v=s.s.c;v<=s.e.c;++v){p===s.s.r&&(u[v]=hr(v)),a=u[v]+o;var x=d?(t[p]||[])[v]:t[a];if(!x){g=!1;continue}g=RH(e,x,p,v,r,t,g)}}$e(e,146)}function MH(e,t){!t||!t["!merges"]||($e(e,177,gH(t["!merges"].length)),t["!merges"].forEach(function(n){$e(e,176,mH(n))}),$e(e,178))}function DH(e,t){!t||!t["!cols"]||($e(e,390),t["!cols"].forEach(function(n,r){n&&$e(e,60,_H(r,n))}),$e(e,391))}function IH(e,t){!t||!t["!ref"]||($e(e,648),$e(e,649,CH(dn(t["!ref"]))),$e(e,650))}function LH(e,t,n){t["!links"].forEach(function(r){if(r[1].Target){var s=Yt(n,-1,r[1].Target.replace(/#.*$/,""),Ht.HLINK);$e(e,494,vH(r,s))}}),delete t["!links"]}function PH(e,t,n,r){if(t["!comments"].length>0){var s=Yt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Ht.VML);$e(e,551,fv("rId"+s)),t["!legacy"]=s}}function FH(e,t,n,r){if(t["!autofilter"]){var s=t["!autofilter"],a=typeof s.ref=="string"?s.ref:Ln(s.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,u=Zr(a);u.s.r==u.e.r&&(u.e.r=Zr(t["!ref"]).e.r,a=Ln(u));for(var d=0;d<o.length;++d){var f=o[d];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+n.SheetNames[r]+"'!"+a;break}}d==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),$e(e,161,zl(dn(a))),$e(e,162)}}function zH(e,t,n){$e(e,133),$e(e,137,TH(t,n)),$e(e,138),$e(e,134)}function BH(e,t){t["!protect"]&&$e(e,535,kH(t["!protect"]))}function UH(e,t,n,r){var s=Rr(),a=n.SheetNames[e],o=n.Sheets[a]||{},u=a;try{n&&n.Workbook&&(u=n.Workbook.Sheets[e].CodeName||u)}catch{}var d=dn(o["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],$e(s,129),(n.vbaraw||o["!outline"])&&$e(s,147,D$(u,o["!outline"])),$e(s,148,R$(d)),zH(s,o,n.Workbook),DH(s,o),OH(s,o,e,t),BH(s,o),FH(s,o,n,e),MH(s,o),LH(s,o,r),o["!margins"]&&$e(s,476,EH(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&IH(s,o),PH(s,o,e,r),$e(s,130),s.end()}function $H(e,t){e.l+=10;var n=pr(e);return{name:n}}var HH=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function GH(e){return!e.Workbook||!e.Workbook.WBProps?"false":bz(e.Workbook.WBProps.date1904)?"true":"false"}var VH="][*?/\\".split("");function fC(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return VH.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function WH(e,t,n){e.forEach(function(r,s){fC(r);for(var a=0;a<s;++a)if(r==e[a])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=t&&t[s]&&t[s].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function qH(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];WH(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)m$(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}function hC(e){var t=[Pn];t[t.length]=Ye("workbook",null,{xmlns:Pl[0],"xmlns:r":qn.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(HH.forEach(function(u){e.Workbook.WBProps[u[0]]!=null&&e.Workbook.WBProps[u[0]]!=u[1]&&(r[u[0]]=e.Workbook.WBProps[u[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Ye("workbookPr",null,r);var s=e.Workbook&&e.Workbook.Sheets||[],a=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!s[a]||!s[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var o={name:Jt(e.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),s[a])switch(s[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Ye("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(u){var d={name:u.Name};u.Comment&&(d.comment=u.Comment),u.Sheet!=null&&(d.localSheetId=""+u.Sheet),u.Hidden&&(d.hidden="1"),u.Ref&&(t[t.length]=Ye("definedName",Jt(u.Ref),d))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function KH(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=nx(e),n.name=pr(e),n}function XH(e,t){return t||(t=Ie(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),fv(e.strRelID,t),Xn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function YH(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var s=t>8?pr(e):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function JH(e,t){t||(t=Ie(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),NT(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function ZH(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),a=Gz(e),o=c$(e,0,n),u=dv(e);e.l=r;var d={Name:a,Ptg:o};return s<268435455&&(d.Sheet=s),u&&(d.Comment=u),d}function QH(e,t){$e(e,143);for(var n=0;n!=t.SheetNames.length;++n){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,s={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};$e(e,156,XH(s))}$e(e,144)}function eG(e,t){t||(t=Ie(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return Xn("SheetJS",t),Xn(dh.version,t),Xn(dh.version,t),Xn("7262",t),t.length>t.l?t.slice(0,t.l):t}function tG(e,t){t||(t=Ie(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function nG(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,r=0,s=-1,a=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&s==-1?s=r:n[r].Hidden==1&&a==-1&&(a=r);a>s||($e(e,135),$e(e,158,tG(s)),$e(e,136))}}function rG(e,t){var n=Rr();return $e(n,131),$e(n,128,eG()),$e(n,153,JH(e.Workbook&&e.Workbook.WBProps||null)),nG(n,e),QH(n,e),$e(n,132),n.end()}function sG(e,t,n){return(t.slice(-4)===".bin"?rG:hC)(e)}function aG(e,t,n,r,s){return(t.slice(-4)===".bin"?UH:uC)(e,n,r,s)}function iG(e,t,n){return(t.slice(-4)===".bin"?EB:XT)(e,n)}function oG(e,t,n){return(t.slice(-4)===".bin"?J9:VT)(e,n)}function lG(e,t,n){return(t.slice(-4)===".bin"?BB:eC)(e)}function cG(e){return(e.slice(-4)===".bin"?OB:ZT)()}function uG(e,t){var n=[];return e.Props&&n.push(i9(e.Props,t)),e.Custprops&&n.push(o9(e.Props,e.Custprops)),n.join("")}function dG(){return""}function fG(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,s){var a=[];a.push(Ye("NumberFormat",null,{"ss:Format":Jt(Sn[r.numFmtId])}));var o={"ss:ID":"s"+(21+s)};n.push(Ye("Style",a.join(""),o))}),Ye("Styles",n.join(""))}function pC(e){return Ye("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+gv(e.Ref,{r:0,c:0})})}function hG(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var s=t[r];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||n.push(pC(s)))}return Ye("Names",n.join(""))}function pG(e,t,n,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var s=r.Workbook.Names,a=[],o=0;o<s.length;++o){var u=s[o];u.Sheet==n&&(u.Name.match(/^_xlfn\./)||a.push(pC(u)))}return a.join("")}function mG(e,t,n,r){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(Ye("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(Ye("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(Ye("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)s.push(Ye("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<n&&!(r.Workbook.Sheets[a]&&!r.Workbook.Sheets[a].Hidden);++a);a==n&&s.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(sr("ProtectContents","True")),e["!protect"].objects&&s.push(sr("ProtectObjects","True")),e["!protect"].scenarios&&s.push(sr("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(sr("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(sr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":Ye("WorksheetOptions",s.join(""),{xmlns:Wr.x})}function gG(e){return e.map(function(t){var n=wz(t.t||""),r=Ye("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ye("Comment",r,{"ss:Author":t.a})}).join("")}function xG(e,t,n,r,s,a,o){if(!e||e.v==null&&e.f==null)return"";var u={};if(e.f&&(u["ss:Formula"]="="+Jt(gv(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var d=Kn(e.F.slice(t.length+1));u["ss:ArrayRange"]="RC:R"+(d.r==o.r?"":"["+(d.r-o.r)+"]")+"C"+(d.c==o.c?"":"["+(d.c-o.c)+"]")}if(e.l&&e.l.Target&&(u["ss:HRef"]=Jt(e.l.Target),e.l.Tooltip&&(u["x:HRefScreenTip"]=Jt(e.l.Tooltip))),n["!merges"])for(var f=n["!merges"],p=0;p!=f.length;++p)f[p].s.c!=o.c||f[p].s.r!=o.r||(f[p].e.c>f[p].s.c&&(u["ss:MergeAcross"]=f[p].e.c-f[p].s.c),f[p].e.r>f[p].s.r&&(u["ss:MergeDown"]=f[p].e.r-f[p].s.r));var g="",v="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":g="Number",v=String(e.v);break;case"b":g="Boolean",v=e.v?"1":"0";break;case"e":g="Error",v=Vu[e.v];break;case"d":g="DateTime",v=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Sn[14]);break;case"s":g="String",v=yz(e.v||"");break}var x=yi(r.cellXfs,e,r);u["ss:StyleID"]="s"+(21+x),u["ss:Index"]=o.c+1;var w=e.v!=null?v:"",y=e.t=="z"?"":'<Data ss:Type="'+g+'">'+w+"</Data>";return(e.c||[]).length>0&&(y+=gG(e.c)),Ye("Cell",y,u)}function vG(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=KT(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function yG(e,t,n,r){if(!e["!ref"])return"";var s=dn(e["!ref"]),a=e["!merges"]||[],o=0,u=[];e["!cols"]&&e["!cols"].forEach(function(_,S){pv(_);var N=!!_.width,T=e0(S,_),C={"ss:Index":S+1};N&&(C["ss:Width"]=bh(T.width)),_.hidden&&(C["ss:Hidden"]="1"),u.push(Ye("Column",null,C))});for(var d=Array.isArray(e),f=s.s.r;f<=s.e.r;++f){for(var p=[vG(f,(e["!rows"]||[])[f])],g=s.s.c;g<=s.e.c;++g){var v=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>g)&&!(a[o].s.r>f)&&!(a[o].e.c<g)&&!(a[o].e.r<f)){(a[o].s.c!=g||a[o].s.r!=f)&&(v=!0);break}if(!v){var x={r:f,c:g},w=Zt(x),y=d?(e[f]||[])[g]:e[w];p.push(xG(y,w,e,t,n,r,x))}}p.push("</Row>"),p.length>2&&u.push(p.join(""))}return u.join("")}function wG(e,t,n){var r=[],s=n.SheetNames[e],a=n.Sheets[s],o=a?pG(a,t,e,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=a?yG(a,t,e,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(mG(a,t,e,n)),r.join("")}function bG(e,t){t||(t={}),e.SSF||(e.SSF=Mr(Sn)),e.SSF&&(Xh(),Kh(e.SSF),t.revssf=Yh(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],yi(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(uG(e,t)),n.push(dG()),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(Ye("Worksheet",wG(r,t,e),{"ss:Name":Jt(e.SheetNames[r])}));return n[2]=fG(e,t),n[3]=hG(e),Pn+Ye("Workbook",n.join(""),{xmlns:Wr.ss,"xmlns:o":Wr.o,"xmlns:x":Wr.x,"xmlns:ss":Wr.ss,"xmlns:dt":Wr.dt,"xmlns:html":Wr.html})}var rg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function _G(e,t){var n=[],r=[],s=[],a=0,o,u=x_(A_,"n"),d=x_(R_,"n");if(e.Props)for(o=ir(e.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(u,o[a])?n:Object.prototype.hasOwnProperty.call(d,o[a])?r:s).push([o[a],e.Props[o[a]]]);if(e.Custprops)for(o=ir(e.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(u,o[a])?n:Object.prototype.hasOwnProperty.call(d,o[a])?r:s).push([o[a],e.Custprops[o[a]]]);var f=[];for(a=0;a<s.length;++a)FT.indexOf(s[a][0])>-1||IT.indexOf(s[a][0])>-1||s[a][1]!=null&&f.push(s[a]);r.length&&nn.utils.cfb_add(t,"/SummaryInformation",L_(r,rg.SI,d,R_)),(n.length||f.length)&&nn.utils.cfb_add(t,"/DocumentSummaryInformation",L_(n,rg.DSI,u,A_,f.length?f:null,rg.UDI))}function SG(e,t){var n=t||{},r=nn.utils.cfb_new({root:"R"}),s="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":s="/Workbook",n.biff=8;break;case"biff5":s="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return nn.utils.cfb_add(r,s,mC(e,n)),n.biff==8&&(e.Props||e.Custprops)&&_G(e,r),n.biff==8&&e.vbaraw&&UB(r,nn.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),r}var EG={0:{f:C$},1:{f:I$},2:{f:tH},3:{f:H$},4:{f:z$},5:{f:J$},6:{f:iH},7:{f:q$},8:{f:hH},9:{f:fH},10:{f:uH},11:{f:dH},12:{f:P$},13:{f:rH},14:{f:V$},15:{f:U$},16:{f:Q$},17:{f:lH},18:{f:X$},19:{f:uv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:ZH},40:{},42:{},43:{f:iB},44:{f:sB},45:{f:cB},46:{f:dB},47:{f:uB},48:{},49:{f:Pz},50:{},51:{f:CB},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:F9},62:{f:aH},63:{f:MB},64:{f:jH},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:qs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:NH},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:M$},148:{f:A$,p:16},151:{f:yH},152:{},153:{f:YH},154:{},155:{},156:{f:KH},157:{},158:{},159:{T:1,f:K9},160:{T:-1},161:{T:1,f:uo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:pH},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:NB},336:{T:-1},337:{f:AB,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:nx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:O9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:wH},427:{f:bH},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:SH},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:O$},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:xH},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:nx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:FB},633:{T:1},634:{T:-1},635:{T:1,f:LB},636:{T:-1},637:{f:Uz},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:$H},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:AH},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ze(e,t,n,r){var s=t;if(!isNaN(s)){var a=r||(n||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,a),a>0&&ov(n)&&e.push(n)}}function NG(e,t,n,r){var s=(n||[]).length||0;if(s<=8224)return Ze(e,t,n,s);var a=t;if(!isNaN(a)){for(var o=n.parts||[],u=0,d=0,f=0;f+(o[u]||8224)<=8224;)f+=o[u]||8224,u++;var p=e.next(4);for(p.write_shift(2,a),p.write_shift(2,f),e.push(n.slice(d,d+f)),d+=f;d<s;){for(p=e.next(4),p.write_shift(2,60),f=0;f+(o[u]||8224)<=8224;)f+=o[u]||8224,u++;p.write_shift(2,f),e.push(n.slice(d,d+f)),d+=f}}}function qu(e,t,n){return e||(e=Ie(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function TG(e,t,n,r){var s=Ie(9);return qu(s,e,t),BT(n,r||"b",s),s}function CG(e,t,n){var r=Ie(8+2*n.length);return qu(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function kG(e,t,n,r){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?Or(wr(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?Ze(e,2,$9(n,r,s)):Ze(e,3,U9(n,r,s));return;case"b":case"e":Ze(e,5,TG(n,r,t.v,t.t));return;case"s":case"str":Ze(e,4,CG(n,r,(t.v||"").slice(0,255)));return}Ze(e,1,qu(null,n,r))}function jG(e,t,n,r){var s=Array.isArray(t),a=dn(t["!ref"]||"A1"),o,u="",d=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=Ln(a)}for(var f=a.s.r;f<=a.e.r;++f){u=ar(f);for(var p=a.s.c;p<=a.e.c;++p){f===a.s.r&&(d[p]=hr(p)),o=d[p]+u;var g=s?(t[f]||[])[p]:t[o];g&&kG(e,g,f,p)}}}function AG(e,t){for(var n=t||{},r=Rr(),s=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==n.sheet&&(s=a);if(s==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Ze(r,n.biff==4?1033:n.biff==3?521:9,hv(e,16,n)),jG(r,e.Sheets[e.SheetNames[s]],s,n),Ze(r,10),r.end()}function RG(e,t,n){Ze(e,49,E9({sz:12,name:"Arial"},n))}function OG(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)t[s]!=null&&Ze(e,1054,C9(s,t[s],n))})}function MG(e,t){var n=Ie(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Ze(e,2151,n),n=Ie(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),HT(dn(t["!ref"]||"A1"),n),n.write_shift(4,4),Ze(e,2152,n)}function DG(e,t){for(var n=0;n<16;++n)Ze(e,224,F_({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){Ze(e,224,F_(r,0,t))})}function IG(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];Ze(e,440,I9(r)),r[1].Tooltip&&Ze(e,2048,L9(r))}delete t["!links"]}function LG(e,t){if(t){var n=0;t.forEach(function(r,s){++n<=256&&r&&Ze(e,125,z9(e0(s,r),s))})}}function PG(e,t,n,r,s){var a=16+yi(s.cellXfs,t,s);if(t.v==null&&!t.bf){Ze(e,513,ao(n,r,a));return}if(t.bf)Ze(e,6,o$(t,n,r,s,a));else switch(t.t){case"d":case"n":var o=t.t=="d"?Or(wr(t.v)):t.v;Ze(e,515,R9(n,r,o,a));break;case"b":case"e":Ze(e,517,A9(n,r,t.v,a,s,t.t));break;case"s":case"str":if(s.bookSST){var u=vv(s.Strings,t.v,s.revStrings);Ze(e,253,N9(n,r,u,a))}else Ze(e,516,T9(n,r,(t.v||"").slice(0,255),a,s));break;default:Ze(e,513,ao(n,r,a))}}function FG(e,t,n){var r=Rr(),s=n.SheetNames[e],a=n.Sheets[s]||{},o=(n||{}).Workbook||{},u=(o.Sheets||[])[e]||{},d=Array.isArray(a),f=t.biff==8,p,g="",v=[],x=dn(a["!ref"]||"A1"),w=f?65536:16384;if(x.e.c>255||x.e.r>=w){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,w-1)}Ze(r,2057,hv(n,16,t)),Ze(r,13,ds(1)),Ze(r,12,ds(100)),Ze(r,15,yr(!0)),Ze(r,17,yr(!1)),Ze(r,16,so(.001)),Ze(r,95,yr(!0)),Ze(r,42,yr(!1)),Ze(r,43,yr(!1)),Ze(r,130,ds(1)),Ze(r,128,j9()),Ze(r,131,yr(!1)),Ze(r,132,yr(!1)),f&&LG(r,a["!cols"]),Ze(r,512,k9(x,t)),f&&(a["!links"]=[]);for(var y=x.s.r;y<=x.e.r;++y){g=ar(y);for(var _=x.s.c;_<=x.e.c;++_){y===x.s.r&&(v[_]=hr(_)),p=v[_]+g;var S=d?(a[y]||[])[_]:a[p];S&&(PG(r,S,y,_,t),f&&S.l&&a["!links"].push([p,S.l]))}}var N=u.CodeName||u.name||s;return f&&Ze(r,574,S9((o.Views||[])[0])),f&&(a["!merges"]||[]).length&&Ze(r,229,D9(a["!merges"])),f&&IG(r,a),Ze(r,442,$T(N)),f&&MG(r,a),Ze(r,10),r.end()}function zG(e,t,n){var r=Rr(),s=(e||{}).Workbook||{},a=s.Sheets||[],o=s.WBProps||{},u=n.biff==8,d=n.biff==5;if(Ze(r,2057,hv(e,5,n)),n.bookType=="xla"&&Ze(r,135),Ze(r,225,u?ds(1200):null),Ze(r,193,u9(2)),d&&Ze(r,191),d&&Ze(r,192),Ze(r,226),Ze(r,92,y9("SheetJS",n)),Ze(r,66,ds(u?1200:1252)),u&&Ze(r,353,ds(0)),u&&Ze(r,448),Ze(r,317,B9(e.SheetNames.length)),u&&e.vbaraw&&Ze(r,211),u&&e.vbaraw){var f=o.CodeName||"ThisWorkbook";Ze(r,442,$T(f))}Ze(r,156,ds(17)),Ze(r,25,yr(!1)),Ze(r,18,yr(!1)),Ze(r,19,ds(0)),u&&Ze(r,431,yr(!1)),u&&Ze(r,444,ds(0)),Ze(r,61,_9()),Ze(r,64,yr(!1)),Ze(r,141,ds(0)),Ze(r,34,yr(GH(e)=="true")),Ze(r,14,yr(!0)),u&&Ze(r,439,yr(!1)),Ze(r,218,ds(0)),RG(r,e,n),OG(r,e.SSF,n),DG(r,n),u&&Ze(r,352,yr(!1));var p=r.end(),g=Rr();u&&Ze(g,140,P9()),u&&n.Strings&&NG(g,252,b9(n.Strings)),Ze(g,10);var v=g.end(),x=Rr(),w=0,y=0;for(y=0;y<e.SheetNames.length;++y)w+=(u?12:11)+(u?2:1)*e.SheetNames[y].length;var _=p.length+w+v.length;for(y=0;y<e.SheetNames.length;++y){var S=a[y]||{};Ze(x,133,w9({pos:_,hs:S.Hidden||0,dt:0,name:e.SheetNames[y]},n)),_+=t[y].length}var N=x.end();if(w!=N.length)throw new Error("BS8 "+w+" != "+N.length);var T=[];return p.length&&T.push(p),N.length&&T.push(N),v.length&&T.push(v),rr(T)}function BG(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=Mr(Sn)),e&&e.SSF&&(Xh(),Kh(e.SSF),n.revssf=Yh(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,yv(n),n.cellXfs=[],yi(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)r[r.length]=FG(s,n,e);return r.unshift(zG(e,r,n)),rr(r)}function mC(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(!(!r||!r["!ref"])){var s=Zr(r["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return BG(e,t);case 4:case 3:case 2:return AG(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function UG(e,t,n,r){for(var s=e["!merges"]||[],a=[],o=t.s.c;o<=t.e.c;++o){for(var u=0,d=0,f=0;f<s.length;++f)if(!(s[f].s.r>n||s[f].s.c>o)&&!(s[f].e.r<n||s[f].e.c<o)){if(s[f].s.r<n||s[f].s.c<o){u=-1;break}u=s[f].e.r-s[f].s.r+1,d=s[f].e.c-s[f].s.c+1;break}if(!(u<0)){var p=Zt({r:n,c:o}),g=r.dense?(e[n]||[])[o]:e[p],v=g&&g.v!=null&&(g.h||vz(g.w||(Aa(g),g.w)||""))||"",x={};u>1&&(x.rowspan=u),d>1&&(x.colspan=d),r.editable?v='<span contenteditable="true">'+v+"</span>":g&&(x["data-t"]=g&&g.t||"z",g.v!=null&&(x["data-v"]=g.v),g.z!=null&&(x["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+g.l.Target+'">'+v+"</a>")),x.id=(r.id||"sjs")+"-"+p,a.push(Ye("td",v,x))}}var w="<tr>";return w+a.join("")+"</tr>"}var $G='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',HG="</body></html>";function GG(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function gC(e,t){var n=t||{},r=n.header!=null?n.header:$G,s=n.footer!=null?n.footer:HG,a=[r],o=Zr(e["!ref"]);n.dense=Array.isArray(e),a.push(GG(e,o,n));for(var u=o.s.r;u<=o.e.r;++u)a.push(UG(e,o,u,n));return a.push("</table>"+s),a.join("")}function xC(e,t,n){var r=n||{},s=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var o=typeof r.origin=="string"?Kn(r.origin):r.origin;s=o.r,a=o.c}var u=t.getElementsByTagName("tr"),d=Math.min(r.sheetRows||1e7,u.length),f={s:{r:0,c:0},e:{r:s,c:a}};if(e["!ref"]){var p=Zr(e["!ref"]);f.s.r=Math.min(f.s.r,p.s.r),f.s.c=Math.min(f.s.c,p.s.c),f.e.r=Math.max(f.e.r,p.e.r),f.e.c=Math.max(f.e.c,p.e.c),s==-1&&(f.e.r=s=p.e.r+1)}var g=[],v=0,x=e["!rows"]||(e["!rows"]=[]),w=0,y=0,_=0,S=0,N=0,T=0;for(e["!cols"]||(e["!cols"]=[]);w<u.length&&y<d;++w){var C=u[w];if(V_(C)){if(r.display)continue;x[y]={hidden:!0}}var A=C.children;for(_=S=0;_<A.length;++_){var z=A[_];if(!(r.display&&V_(z))){var M=z.hasAttribute("data-v")?z.getAttribute("data-v"):z.hasAttribute("v")?z.getAttribute("v"):_z(z.innerHTML),j=z.getAttribute("data-z")||z.getAttribute("z");for(v=0;v<g.length;++v){var O=g[v];O.s.c==S+a&&O.s.r<y+s&&y+s<=O.e.r&&(S=O.e.c+1-a,v=-1)}T=+z.getAttribute("colspan")||1,((N=+z.getAttribute("rowspan")||1)>1||T>1)&&g.push({s:{r:y+s,c:S+a},e:{r:y+s+(N||1)-1,c:S+a+(T||1)-1}});var Y={t:"s",v:M},J=z.getAttribute("data-t")||z.getAttribute("t")||"";M!=null&&(M.length==0?Y.t=J||"z":r.raw||M.trim().length==0||J=="s"||(M==="TRUE"?Y={t:"b",v:!0}:M==="FALSE"?Y={t:"b",v:!1}:isNaN(Ea(M))?isNaN(_u(M).getDate())||(Y={t:"d",v:wr(M)},r.cellDates||(Y={t:"n",v:Or(Y.v)}),Y.z=r.dateNF||Sn[14]):Y={t:"n",v:Ea(M)})),Y.z===void 0&&j!=null&&(Y.z=j);var F="",re=z.getElementsByTagName("A");if(re&&re.length)for(var k=0;k<re.length&&!(re[k].hasAttribute("href")&&(F=re[k].getAttribute("href"),F.charAt(0)!="#"));++k);F&&F.charAt(0)!="#"&&(Y.l={Target:F}),r.dense?(e[y+s]||(e[y+s]=[]),e[y+s][S+a]=Y):e[Zt({c:S+a,r:y+s})]=Y,f.e.c<S+a&&(f.e.c=S+a),S+=T}}++y}return g.length&&(e["!merges"]=(e["!merges"]||[]).concat(g)),f.e.r=Math.max(f.e.r,y-1+s),e["!ref"]=Ln(f),y>=d&&(e["!fullref"]=Ln((f.e.r=u.length-w+y-1+s,f))),e}function vC(e,t){var n=t||{},r=n.dense?[]:{};return xC(r,e,t)}function VG(e,t){return io(vC(e,t),t)}function V_(e){var t="",n=WG(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function WG(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var qG=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Eu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Pn+t}})(),W_=(function(){var e=function(a){return Jt(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(a,o,u){var d=[];d.push('      <table:table table:name="'+Jt(o.SheetNames[u])+`" table:style-name="ta1">
`);var f=0,p=0,g=Zr(a["!ref"]||"A1"),v=a["!merges"]||[],x=0,w=Array.isArray(a);if(a["!cols"])for(p=0;p<=g.e.c;++p)d.push("        <table:table-column"+(a["!cols"][p]?' table:style-name="co'+a["!cols"][p].ods+'"':"")+`></table:table-column>
`);var y="",_=a["!rows"]||[];for(f=0;f<g.s.r;++f)y=_[f]?' table:style-name="ro'+_[f].ods+'"':"",d.push("        <table:table-row"+y+`></table:table-row>
`);for(;f<=g.e.r;++f){for(y=_[f]?' table:style-name="ro'+_[f].ods+'"':"",d.push("        <table:table-row"+y+`>
`),p=0;p<g.s.c;++p)d.push(t);for(;p<=g.e.c;++p){var S=!1,N={},T="";for(x=0;x!=v.length;++x)if(!(v[x].s.c>p)&&!(v[x].s.r>f)&&!(v[x].e.c<p)&&!(v[x].e.r<f)){(v[x].s.c!=p||v[x].s.r!=f)&&(S=!0),N["table:number-columns-spanned"]=v[x].e.c-v[x].s.c+1,N["table:number-rows-spanned"]=v[x].e.r-v[x].s.r+1;break}if(S){d.push(n);continue}var C=Zt({r:f,c:p}),A=w?(a[f]||[])[p]:a[C];if(A&&A.f&&(N["table:formula"]=Jt(h$(A.f)),A.F&&A.F.slice(0,C.length)==C)){var z=Zr(A.F);N["table:number-matrix-columns-spanned"]=z.e.c-z.s.c+1,N["table:number-matrix-rows-spanned"]=z.e.r-z.s.r+1}if(!A){d.push(t);continue}switch(A.t){case"b":T=A.v?"TRUE":"FALSE",N["office:value-type"]="boolean",N["office:boolean-value"]=A.v?"true":"false";break;case"n":T=A.w||String(A.v||0),N["office:value-type"]="float",N["office:value"]=A.v||0;break;case"s":case"str":T=A.v==null?"":A.v,N["office:value-type"]="string";break;case"d":T=A.w||wr(A.v).toISOString(),N["office:value-type"]="date",N["office:date-value"]=wr(A.v).toISOString(),N["table:style-name"]="ce1";break;default:d.push(t);continue}var M=e(T);if(A.l&&A.l.Target){var j=A.l.Target;j=j.charAt(0)=="#"?"#"+p$(j.slice(1)):j,j.charAt(0)!="#"&&!j.match(/^\w+:/)&&(j="../"+j),M=Ye("text:a",M,{"xlink:href":j.replace(/&/g,"&amp;")})}d.push("          "+Ye("table:table-cell",Ye("text:p",M,{}),N)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},s=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var u=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var p=0;p<f["!cols"].length;++p)if(f["!cols"][p]){var g=f["!cols"][p];if(g.width==null&&g.wpx==null&&g.wch==null)continue;pv(g),g.ods=u;var v=f["!cols"][p].wpx+"px";a.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+v+`"/>
`),a.push(`  </style:style>
`),++u}}});var d=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var p=0;p<f["!rows"].length;++p)if(f["!rows"][p]){f["!rows"][p].ods=d;var g=f["!rows"][p].hpx+"px";a.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),a.push(`  </style:style>
`),++d}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,u){var d=[Pn],f=Eu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=Eu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(d.push("<office:document"+f+p+`>
`),d.push(MT().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+f+`>
`),s(d,o),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var g=0;g!=o.SheetNames.length;++g)d.push(r(o.Sheets[o.SheetNames[g]],o,g));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),u.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}})();function yC(e,t){if(t.bookType=="fods")return W_(e,t);var n=rv(),r="",s=[],a=[];return r="mimetype",jt(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",jt(n,r,W_(e,t)),s.push([r,"text/xml"]),a.push([r,"ContentFile"]),r="styles.xml",jt(n,r,qG(e,t)),s.push([r,"text/xml"]),a.push([r,"StylesFile"]),r="meta.xml",jt(n,r,Pn+MT()),s.push([r,"text/xml"]),a.push([r,"MetadataFile"]),r="manifest.rdf",jt(n,r,a9(a)),s.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",jt(n,r,r9(s)),n}function Eh(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function KG(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):js(Su(e))}function XG(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}function vi(e){var t=e.reduce(function(s,a){return s+a.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(s){n.set(s,r),r+=s.length}),n}function YG(e,t,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,s=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(r&127)<<1;for(var a=0;s>=1;++a,s/=256)e[t+a]=s&255;e[t+15]|=n>=0?0:128}function Nu(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function Xt(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function gl(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function $n(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],s=Nu(e,n),a=s&7;s=Math.floor(s/8);var o=0,u;if(s==0)break;switch(a){case 0:{for(var d=n[0];e[n[0]++]>=128;);u=e.slice(d,n[0])}break;case 5:o=4,u=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,u=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Nu(e,n),u=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(r))}var f={data:u,type:a};t[s]==null?t[s]=[f]:t[s].push(f)}return t}function tr(e){var t=[];return e.forEach(function(n,r){n.forEach(function(s){s.data&&(t.push(Xt(r*8+s.type)),s.type==2&&t.push(Xt(s.data.length)),t.push(s.data))})}),vi(t)}function _s(e){for(var t,n=[],r=[0];r[0]<e.length;){var s=Nu(e,r),a=$n(e.slice(r[0],r[0]+s));r[0]+=s;var o={id:gl(a[1][0].data),messages:[]};a[2].forEach(function(u){var d=$n(u.data),f=gl(d[3][0].data);o.messages.push({meta:d,data:e.slice(r[0],r[0]+f)}),r[0]+=f}),(t=a[3])!=null&&t[0]&&(o.merge=gl(a[3][0].data)>>>0>0),n.push(o)}return n}function Ko(e){var t=[];return e.forEach(function(n){var r=[];r[1]=[{data:Xt(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Xt(+!!n.merge),type:0}]);var s=[];n.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:Xt(o.data.length)}],r[2].push({data:tr(o.meta),type:2})});var a=tr(r);t.push(Xt(a.length)),t.push(a),s.forEach(function(o){return t.push(o)})}),vi(t)}function JG(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=Nu(t,n),s=[];n[0]<t.length;){var a=t[n[0]]&3;if(a==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var u=o-59;o=t[n[0]],u>1&&(o|=t[n[0]+1]<<8),u>2&&(o|=t[n[0]+2]<<16),u>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=u}s.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var d=0,f=0;if(a==1?(f=(t[n[0]]>>2&7)+4,d=(t[n[0]++]&224)<<3,d|=t[n[0]++]):(f=(t[n[0]++]>>2)+1,a==2?(d=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(d=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),s=[vi(s)],d==0)throw new Error("Invalid offset 0");if(d>s[0].length)throw new Error("Invalid offset beyond length");if(f>=d)for(s.push(s[0].slice(-d)),f-=d;f>=s[s.length-1].length;)s.push(s[s.length-1]),f-=s[s.length-1].length;s.push(s[0].slice(-d,-d+f))}}var p=vi(s);if(p.length!=r)throw new Error("Unexpected length: ".concat(p.length," != ").concat(r));return p}function Ss(e){for(var t=[],n=0;n<e.length;){var r=e[n++],s=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(JG(r,e.slice(n,n+s))),n+=s}if(n!==e.length)throw new Error("data is not a valid framed stream!");return vi(t)}function Xo(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),s=new Uint8Array(4);t.push(s);var a=Xt(r),o=a.length;t.push(a),r<=60?(o++,t.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),o+=r,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,n+=r}return vi(t)}function sg(e,t){var n=new Uint8Array(32),r=Eh(n),s=12,a=0;switch(n[0]=5,e.t){case"n":n[1]=2,YG(n,s,e.v),a|=1,s+=16;break;case"b":n[1]=6,r.setFloat64(s,e.v?1:0,!0),a|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(s,t.indexOf(e.v),!0),a|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,a,!0),n.slice(0,s)}function ag(e,t){var n=new Uint8Array(32),r=Eh(n),s=12,a=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(s,e.v,!0),a|=32,s+=8;break;case"b":n[2]=6,r.setFloat64(s,e.v?1:0,!0),a|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(s,t.indexOf(e.v),!0),a|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,a,!0),n.slice(0,s)}function si(e){var t=$n(e);return Nu(t[1][0].data)}function ZG(e,t,n){var r,s,a,o;if(!((r=e[6])!=null&&r[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var u=((o=(a=e[8])==null?void 0:a[0])==null?void 0:o.data)&&gl(e[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var d=0,f=Eh(e[7][0].data),p=0,g=[],v=Eh(e[4][0].data),x=0,w=[],y=0;y<t.length;++y){if(t[y]==null){f.setUint16(y*2,65535,!0),v.setUint16(y*2,65535);continue}f.setUint16(y*2,p,!0),v.setUint16(y*2,x,!0);var _,S;switch(typeof t[y]){case"string":_=sg({t:"s",v:t[y]},n),S=ag({t:"s",v:t[y]},n);break;case"number":_=sg({t:"n",v:t[y]},n),S=ag({t:"n",v:t[y]},n);break;case"boolean":_=sg({t:"b",v:t[y]},n),S=ag({t:"b",v:t[y]},n);break;default:throw new Error("Unsupported value "+t[y])}g.push(_),p+=_.length,w.push(S),x+=S.length,++d}for(e[2][0].data=Xt(d);y<e[7][0].data.length/2;++y)f.setUint16(y*2,65535,!0),v.setUint16(y*2,65535,!0);return e[6][0].data=vi(g),e[3][0].data=vi(w),d}function QG(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Zr(n["!ref"]);r.s.r=r.s.c=0;var s=!1;r.e.c>9&&(s=!0,r.e.c=9),r.e.r>49&&(s=!0,r.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Ln(r)));var a=Nh(n,{range:r,header:1}),o=["~Sh33tJ5~"];a.forEach(function(U){return U.forEach(function(B){typeof B=="string"&&o.push(B)})});var u={},d=[],f=nn.read(t.numbers,{type:"base64"});f.FileIndex.map(function(U,B){return[U,f.FullPaths[B]]}).forEach(function(U){var B=U[0],G=U[1];if(B.type==2&&B.name.match(/\.iwa/)){var ue=B.content,ge=Ss(ue),me=_s(ge);me.forEach(function(ve){d.push(ve.id),u[ve.id]={deps:[],location:G,type:gl(ve.messages[0].meta[1][0].data)}})}}),d.sort(function(U,B){return U-B});var p=d.filter(function(U){return U>1}).map(function(U){return[U,Xt(U)]});f.FileIndex.map(function(U,B){return[U,f.FullPaths[B]]}).forEach(function(U){var B=U[0];if(U[1],!!B.name.match(/\.iwa/)){var G=_s(Ss(B.content));G.forEach(function(ue){ue.messages.forEach(function(ge){p.forEach(function(me){ue.messages.some(function(ve){return gl(ve.meta[1][0].data)!=11006&&XG(ve.data,me[1])})&&u[me[0]].deps.push(ue.id)})})})}});for(var g=nn.find(f,u[1].location),v=_s(Ss(g.content)),x,w=0;w<v.length;++w){var y=v[w];y.id==1&&(x=y)}var _=si($n(x.messages[0].data)[1][0].data);for(g=nn.find(f,u[_].location),v=_s(Ss(g.content)),w=0;w<v.length;++w)y=v[w],y.id==_&&(x=y);for(_=si($n(x.messages[0].data)[2][0].data),g=nn.find(f,u[_].location),v=_s(Ss(g.content)),w=0;w<v.length;++w)y=v[w],y.id==_&&(x=y);for(_=si($n(x.messages[0].data)[2][0].data),g=nn.find(f,u[_].location),v=_s(Ss(g.content)),w=0;w<v.length;++w)y=v[w],y.id==_&&(x=y);var S=$n(x.messages[0].data);{S[6][0].data=Xt(r.e.r+1),S[7][0].data=Xt(r.e.c+1);var N=si(S[46][0].data),T=nn.find(f,u[N].location),C=_s(Ss(T.content));{for(var A=0;A<C.length&&C[A].id!=N;++A);if(C[A].id!=N)throw"Bad ColumnRowUIDMapArchive";var z=$n(C[A].messages[0].data);z[1]=[],z[2]=[],z[3]=[];for(var M=0;M<=r.e.c;++M){var j=[];j[1]=j[2]=[{type:0,data:Xt(M+420690)}],z[1].push({type:2,data:tr(j)}),z[2].push({type:0,data:Xt(M)}),z[3].push({type:0,data:Xt(M)})}z[4]=[],z[5]=[],z[6]=[];for(var O=0;O<=r.e.r;++O)j=[],j[1]=j[2]=[{type:0,data:Xt(O+726270)}],z[4].push({type:2,data:tr(j)}),z[5].push({type:0,data:Xt(O)}),z[6].push({type:0,data:Xt(O)});C[A].messages[0].data=tr(z)}T.content=Xo(Ko(C)),T.size=T.content.length,delete S[46];var Y=$n(S[4][0].data);{Y[7][0].data=Xt(r.e.r+1);var J=$n(Y[1][0].data),F=si(J[2][0].data);T=nn.find(f,u[F].location),C=_s(Ss(T.content));{if(C[0].id!=F)throw"Bad HeaderStorageBucket";var re=$n(C[0].messages[0].data);for(O=0;O<a.length;++O){var k=$n(re[2][0].data);k[1][0].data=Xt(O),k[4][0].data=Xt(a[O].length),re[2][O]={type:re[2][0].type,data:tr(k)}}C[0].messages[0].data=tr(re)}T.content=Xo(Ko(C)),T.size=T.content.length;var V=si(Y[2][0].data);T=nn.find(f,u[V].location),C=_s(Ss(T.content));{if(C[0].id!=V)throw"Bad HeaderStorageBucket";for(re=$n(C[0].messages[0].data),M=0;M<=r.e.c;++M)k=$n(re[2][0].data),k[1][0].data=Xt(M),k[4][0].data=Xt(r.e.r+1),re[2][M]={type:re[2][0].type,data:tr(k)};C[0].messages[0].data=tr(re)}T.content=Xo(Ko(C)),T.size=T.content.length;var K=si(Y[4][0].data);(function(){for(var U=nn.find(f,u[K].location),B=_s(Ss(U.content)),G,ue=0;ue<B.length;++ue){var ge=B[ue];ge.id==K&&(G=ge)}var me=$n(G.messages[0].data);{me[3]=[];var ve=[];o.forEach(function(Ve,st){ve[1]=[{type:0,data:Xt(st)}],ve[2]=[{type:0,data:Xt(1)}],ve[3]=[{type:2,data:KG(Ve)}],me[3].push({type:2,data:tr(ve)})})}G.messages[0].data=tr(me);var Re=Ko(B),Ue=Xo(Re);U.content=Ue,U.size=U.content.length})();var H=$n(Y[3][0].data);{var Q=H[1][0];delete H[2];var ee=$n(Q.data);{var ae=si(ee[2][0].data);(function(){for(var U=nn.find(f,u[ae].location),B=_s(Ss(U.content)),G,ue=0;ue<B.length;++ue){var ge=B[ue];ge.id==ae&&(G=ge)}var me=$n(G.messages[0].data);{delete me[6],delete H[7];var ve=new Uint8Array(me[5][0].data);me[5]=[];for(var Re=0,Ue=0;Ue<=r.e.r;++Ue){var Ve=$n(ve);Re+=ZG(Ve,a[Ue],o),Ve[1][0].data=Xt(Ue),me[5].push({data:tr(Ve),type:2})}me[1]=[{type:0,data:Xt(r.e.c+1)}],me[2]=[{type:0,data:Xt(r.e.r+1)}],me[3]=[{type:0,data:Xt(Re)}],me[4]=[{type:0,data:Xt(r.e.r+1)}]}G.messages[0].data=tr(me);var st=Ko(B),I=Xo(st);U.content=I,U.size=U.content.length})()}Q.data=tr(ee)}Y[3][0].data=tr(H)}S[4][0].data=tr(Y)}x.messages[0].data=tr(S);var D=Ko(v),R=Xo(D);return g.content=R,g.size=g.content.length,f}function eV(e){return function(n){for(var r=0;r!=e.length;++r){var s=e[r];n[s[0]]===void 0&&(n[s[0]]=s[1]),s[2]==="n"&&(n[s[0]]=Number(n[s[0]]))}}}function yv(e){eV([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function tV(e,t){return t.bookType=="ods"?yC(e,t):t.bookType=="numbers"?QG(e,t):t.bookType=="xlsb"?nV(e,t):rV(e,t)}function nV(e,t){ll=1024,e&&!e.SSF&&(e.SSF=Mr(Sn)),e&&e.SSF&&(Xh(),Kh(e.SSF),t.revssf=Yh(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ou?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType=="xlsb"?"bin":"xml",r=tC.indexOf(t.bookType)>-1,s=AT();yv(t=t||{});var a=rv(),o="",u=0;if(t.cellXfs=[],yi(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",jt(a,o,DT(e.Props,t)),s.coreprops.push(o),Yt(t.rels,2,o,Ht.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(e.SheetNames[f]);e.Props.SheetNames=d}for(e.Props.Worksheets=e.Props.SheetNames.length,jt(a,o,LT(e.Props)),s.extprops.push(o),Yt(t.rels,3,o,Ht.EXT_PROPS),e.Custprops!==e.Props&&ir(e.Custprops||{}).length>0&&(o="docProps/custom.xml",jt(a,o,PT(e.Custprops)),s.custprops.push(o),Yt(t.rels,4,o,Ht.CUST_PROPS)),u=1;u<=e.SheetNames.length;++u){var p={"!id":{}},g=e.Sheets[e.SheetNames[u-1]],v=(g||{})["!type"]||"sheet";switch(v){case"chart":default:o="xl/worksheets/sheet"+u+"."+n,jt(a,o,aG(u-1,o,t,e,p)),s.sheets.push(o),Yt(t.wbrels,-1,"worksheets/sheet"+u+"."+n,Ht.WS[0])}if(g){var x=g["!comments"],w=!1,y="";x&&x.length>0&&(y="xl/comments"+u+"."+n,jt(a,y,lG(x,y)),s.comments.push(y),Yt(p,-1,"../comments"+u+"."+n,Ht.CMNT),w=!0),g["!legacy"]&&w&&jt(a,"xl/drawings/vmlDrawing"+u+".vml",QT(u,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&jt(a,OT(o),pl(p))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,jt(a,o,oG(t.Strings,o,t)),s.strs.push(o),Yt(t.wbrels,-1,"sharedStrings."+n,Ht.SST)),o="xl/workbook."+n,jt(a,o,sG(e,o)),s.workbooks.push(o),Yt(t.rels,1,o,Ht.WB),o="xl/theme/theme1.xml",jt(a,o,JT(e.Themes,t)),s.themes.push(o),Yt(t.wbrels,-1,"theme/theme1.xml",Ht.THEME),o="xl/styles."+n,jt(a,o,iG(e,o,t)),s.styles.push(o),Yt(t.wbrels,-1,"styles."+n,Ht.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",jt(a,o,e.vbaraw),s.vba.push(o),Yt(t.wbrels,-1,"vbaProject.bin",Ht.VBA)),o="xl/metadata."+n,jt(a,o,cG(o)),s.metadata.push(o),Yt(t.wbrels,-1,"metadata."+n,Ht.XLMETA),jt(a,"[Content_Types].xml",RT(s,t)),jt(a,"_rels/.rels",pl(t.rels)),jt(a,"xl/_rels/workbook."+n+".rels",pl(t.wbrels)),delete t.revssf,delete t.ssf,a}function rV(e,t){ll=1024,e&&!e.SSF&&(e.SSF=Mr(Sn)),e&&e.SSF&&(Xh(),Kh(e.SSF),t.revssf=Yh(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ou?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=tC.indexOf(t.bookType)>-1,s=AT();yv(t=t||{});var a=rv(),o="",u=0;if(t.cellXfs=[],yi(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",jt(a,o,DT(e.Props,t)),s.coreprops.push(o),Yt(t.rels,2,o,Ht.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(e.SheetNames[f]);e.Props.SheetNames=d}e.Props.Worksheets=e.Props.SheetNames.length,jt(a,o,LT(e.Props)),s.extprops.push(o),Yt(t.rels,3,o,Ht.EXT_PROPS),e.Custprops!==e.Props&&ir(e.Custprops||{}).length>0&&(o="docProps/custom.xml",jt(a,o,PT(e.Custprops)),s.custprops.push(o),Yt(t.rels,4,o,Ht.CUST_PROPS));var p=["SheetJ5"];for(t.tcid=0,u=1;u<=e.SheetNames.length;++u){var g={"!id":{}},v=e.Sheets[e.SheetNames[u-1]],x=(v||{})["!type"]||"sheet";switch(x){case"chart":default:o="xl/worksheets/sheet"+u+"."+n,jt(a,o,uC(u-1,t,e,g)),s.sheets.push(o),Yt(t.wbrels,-1,"worksheets/sheet"+u+"."+n,Ht.WS[0])}if(v){var w=v["!comments"],y=!1,_="";if(w&&w.length>0){var S=!1;w.forEach(function(N){N[1].forEach(function(T){T.T==!0&&(S=!0)})}),S&&(_="xl/threadedComments/threadedComment"+u+"."+n,jt(a,_,DB(w,p,t)),s.threadedcomments.push(_),Yt(g,-1,"../threadedComments/threadedComment"+u+"."+n,Ht.TCMNT)),_="xl/comments"+u+"."+n,jt(a,_,eC(w)),s.comments.push(_),Yt(g,-1,"../comments"+u+"."+n,Ht.CMNT),y=!0}v["!legacy"]&&y&&jt(a,"xl/drawings/vmlDrawing"+u+".vml",QT(u,v["!comments"])),delete v["!comments"],delete v["!legacy"]}g["!id"].rId1&&jt(a,OT(o),pl(g))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,jt(a,o,VT(t.Strings,t)),s.strs.push(o),Yt(t.wbrels,-1,"sharedStrings."+n,Ht.SST)),o="xl/workbook."+n,jt(a,o,hC(e)),s.workbooks.push(o),Yt(t.rels,1,o,Ht.WB),o="xl/theme/theme1.xml",jt(a,o,JT(e.Themes,t)),s.themes.push(o),Yt(t.wbrels,-1,"theme/theme1.xml",Ht.THEME),o="xl/styles."+n,jt(a,o,XT(e,t)),s.styles.push(o),Yt(t.wbrels,-1,"styles."+n,Ht.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",jt(a,o,e.vbaraw),s.vba.push(o),Yt(t.wbrels,-1,"vbaProject.bin",Ht.VBA)),o="xl/metadata."+n,jt(a,o,ZT()),s.metadata.push(o),Yt(t.wbrels,-1,"metadata."+n,Ht.XLMETA),p.length>1&&(o="xl/persons/person.xml",jt(a,o,IB(p)),s.people.push(o),Yt(t.wbrels,-1,"persons/person.xml",Ht.PEOPLE)),jt(a,"[Content_Types].xml",RT(s,t)),jt(a,"_rels/.rels",pl(t.rels)),jt(a,"xl/_rels/workbook."+n+".rels",pl(t.wbrels)),delete t.revssf,delete t.ssf,a}function sV(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=ja(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function wC(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Hu(t.file,nn.write(e,{type:Wt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return nn.write(e,t)}function aV(e,t){var n=Mr(t||{}),r=tV(e,n);return iV(r,n)}function iV(e,t){var n={},r=Wt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?nn.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(qh(s))}return t.password&&typeof encrypt_agile<"u"?wC(encrypt_agile(s,t.password),t):t.type==="file"?Hu(t.file,s):t.type=="string"?ru(s):s}function oV(e,t){var n=t||{},r=SG(e,n);return wC(r,n)}function Hs(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return bu(Su(r));case"binary":return Su(r);case"string":return e;case"file":return Hu(t.file,r,"utf8");case"buffer":return Wt?Ra(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Hs(r,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function lV(e,t){switch(t.type){case"base64":return bu(e);case"binary":return e;case"string":return e;case"file":return Hu(t.file,e,"binary");case"buffer":return Wt?Ra(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Cf(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return t.type=="base64"?bu(n):t.type=="string"?ru(n):n;case"file":return Hu(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function bC(e,t){L7(),qH(e);var n=Mr(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=bC(e,n);return n.type="array",qh(r)}var s=0;if(n.sheet&&(typeof n.sheet=="number"?s=n.sheet:s=e.SheetNames.indexOf(n.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Hs(bG(e,n),n);case"slk":case"sylk":return Hs(G9.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"htm":case"html":return Hs(gC(e.Sheets[e.SheetNames[s]],n),n);case"txt":return lV(_C(e.Sheets[e.SheetNames[s]],n),n);case"csv":return Hs(wv(e.Sheets[e.SheetNames[s]],n),n,"\uFEFF");case"dif":return Hs(V9.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"dbf":return Cf(H9.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"prn":return Hs(W9.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"rtf":return Hs(Q9.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"eth":return Hs(GT.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"fods":return Hs(yC(e,n),n);case"wk1":return Cf(z_.sheet_to_wk1(e.Sheets[e.SheetNames[s]],n),n);case"wk3":return Cf(z_.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Cf(mC(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),oV(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return aV(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function cV(e,t,n,r,s,a,o,u){var d=ar(n),f=u.defval,p=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),g=!0,v=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:n,enumerable:!1})}catch{v.__rowNum__=n}else v.__rowNum__=n;if(!o||e[n])for(var x=t.s.c;x<=t.e.c;++x){var w=o?e[n][x]:e[r[x]+d];if(w===void 0||w.t===void 0){if(f===void 0)continue;a[x]!=null&&(v[a[x]]=f);continue}var y=w.v;switch(w.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(a[x]!=null){if(y==null)if(w.t=="e"&&y===null)v[a[x]]=null;else if(f!==void 0)v[a[x]]=f;else if(p&&y===null)v[a[x]]=null;else continue;else v[a[x]]=p&&(w.t!=="n"||w.t==="n"&&u.rawNumbers!==!1)?y:Aa(w,y,u);y!=null&&(g=!1)}}return{row:v,isempty:g}}function Nh(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,s=1,a=[],o=0,u="",d={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},p=f.range!=null?f.range:e["!ref"];switch(f.header===1?r=1:f.header==="A"?r=2:Array.isArray(f.header)?r=3:f.header==null&&(r=0),typeof p){case"string":d=dn(p);break;case"number":d=dn(e["!ref"]),d.s.r=p;break;default:d=p}r>0&&(s=0);var g=ar(d.s.r),v=[],x=[],w=0,y=0,_=Array.isArray(e),S=d.s.r,N=0,T={};_&&!e[S]&&(e[S]=[]);var C=f.skipHidden&&e["!cols"]||[],A=f.skipHidden&&e["!rows"]||[];for(N=d.s.c;N<=d.e.c;++N)if(!(C[N]||{}).hidden)switch(v[N]=hr(N),n=_?e[S][N]:e[v[N]+g],r){case 1:a[N]=N-d.s.c;break;case 2:a[N]=v[N];break;case 3:a[N]=f.header[N-d.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),u=o=Aa(n,null,f),y=T[o]||0,!y)T[o]=1;else{do u=o+"_"+y++;while(T[u]);T[o]=y,T[u]=1}a[N]=u}for(S=d.s.r+s;S<=d.e.r;++S)if(!(A[S]||{}).hidden){var z=cV(e,d,S,v,r,a,_,f);(z.isempty===!1||(r===1?f.blankrows!==!1:f.blankrows))&&(x[w++]=z.row)}return x.length=w,x}var q_=/"/g;function uV(e,t,n,r,s,a,o,u){for(var d=!0,f=[],p="",g=ar(n),v=t.s.c;v<=t.e.c;++v)if(r[v]){var x=u.dense?(e[n]||[])[v]:e[r[v]+g];if(x==null)p="";else if(x.v!=null){d=!1,p=""+(u.rawNumbers&&x.t=="n"?x.v:Aa(x,null,u));for(var w=0,y=0;w!==p.length;++w)if((y=p.charCodeAt(w))===s||y===a||y===34||u.forceQuotes){p='"'+p.replace(q_,'""')+'"';break}p=="ID"&&(p='"ID"')}else x.f!=null&&!x.F?(d=!1,p="="+x.f,p.indexOf(",")>=0&&(p='"'+p.replace(q_,'""')+'"')):p="";f.push(p)}return u.blankrows===!1&&d?null:f.join(o)}function wv(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var s=dn(e["!ref"]),a=r.FS!==void 0?r.FS:",",o=a.charCodeAt(0),u=r.RS!==void 0?r.RS:`
`,d=u.charCodeAt(0),f=new RegExp((a=="|"?"\\|":a)+"+$"),p="",g=[];r.dense=Array.isArray(e);for(var v=r.skipHidden&&e["!cols"]||[],x=r.skipHidden&&e["!rows"]||[],w=s.s.c;w<=s.e.c;++w)(v[w]||{}).hidden||(g[w]=hr(w));for(var y=0,_=s.s.r;_<=s.e.r;++_)(x[_]||{}).hidden||(p=uV(e,s,_,g,o,d,a,r),p!=null&&(r.strip&&(p=p.replace(f,"")),(p||r.blankrows!==!1)&&n.push((y++?u:"")+p)));return delete r.dense,n.join("")}function _C(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=wv(e,t);return n}function dV(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var s=dn(e["!ref"]),a="",o=[],u,d=[],f=Array.isArray(e);for(u=s.s.c;u<=s.e.c;++u)o[u]=hr(u);for(var p=s.s.r;p<=s.e.r;++p)for(a=ar(p),u=s.s.c;u<=s.e.c;++u)if(t=o[u]+a,n=f?(e[p]||[])[u]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}d[d.length]=t+"="+r}return d}function SC(e,t,n){var r=n||{},s=+!r.skipHeader,a=e||{},o=0,u=0;if(a&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var d=typeof r.origin=="string"?Kn(r.origin):r.origin;o=d.r,u=d.c}var f,p={s:{c:0,r:0},e:{c:u,r:o+t.length-1+s}};if(a["!ref"]){var g=dn(a["!ref"]);p.e.c=Math.max(p.e.c,g.e.c),p.e.r=Math.max(p.e.r,g.e.r),o==-1&&(o=g.e.r+1,p.e.r=o+t.length-1+s)}else o==-1&&(o=0,p.e.r=t.length-1+s);var v=r.header||[],x=0;t.forEach(function(y,_){ir(y).forEach(function(S){(x=v.indexOf(S))==-1&&(v[x=v.length]=S);var N=y[S],T="z",C="",A=Zt({c:u+x,r:o+_+s});f=Tu(a,A),N&&typeof N=="object"&&!(N instanceof Date)?a[A]=N:(typeof N=="number"?T="n":typeof N=="boolean"?T="b":typeof N=="string"?T="s":N instanceof Date?(T="d",r.cellDates||(T="n",N=Or(N)),C=r.dateNF||Sn[14]):N===null&&r.nullError&&(T="e",N=0),f?(f.t=T,f.v=N,delete f.w,delete f.R,C&&(f.z=C)):a[A]=f={t:T,v:N},C&&(f.z=C))})}),p.e.c=Math.max(p.e.c,u+v.length-1);var w=ar(o);if(s)for(x=0;x<v.length;++x)a[hr(x+u)+w]={t:"s",v:v[x]};return a["!ref"]=Ln(p),a}function fV(e,t){return SC(null,e,t)}function Tu(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=Kn(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Tu(e,Zt(t)):Tu(e,Zt({r:t,c:n||0}))}function hV(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function pV(){return{SheetNames:[],Sheets:{}}}function mV(e,t,n,r){var s=1;if(!n)for(;s<=65535&&e.SheetNames.indexOf(n="Sheet"+s)!=-1;++s,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var o=a&&a[1]||n;for(++s;s<=65535&&e.SheetNames.indexOf(n=o+s)!=-1;++s);}if(fC(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function gV(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=hV(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function xV(e,t){return e.z=t,e}function EC(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function vV(e,t,n){return EC(e,"#"+t,n)}function yV(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function wV(e,t,n,r){for(var s=typeof t!="string"?t:dn(t),a=typeof t=="string"?t:Ln(t),o=s.s.r;o<=s.e.r;++o)for(var u=s.s.c;u<=s.e.c;++u){var d=Tu(e,o,u);d.t="n",d.F=a,delete d.v,o==s.s.r&&u==s.s.c&&(d.f=n,r&&(d.D=!0))}return e}var ig={encode_col:hr,encode_row:ar,encode_cell:Zt,encode_range:Ln,decode_col:cv,decode_row:lv,split_cell:Lz,decode_cell:Kn,decode_range:Zr,format_cell:Aa,sheet_add_aoa:ET,sheet_add_json:SC,sheet_add_dom:xC,aoa_to_sheet:Fl,json_to_sheet:fV,table_to_sheet:vC,table_to_book:VG,sheet_to_csv:wv,sheet_to_txt:_C,sheet_to_json:Nh,sheet_to_html:gC,sheet_to_formulae:dV,sheet_to_row_object_array:Nh,sheet_get_cell:Tu,book_new:pV,book_append_sheet:mV,book_set_sheet_visibility:gV,cell_set_number_format:xV,cell_set_hyperlink:EC,cell_set_internal_link:vV,cell_add_comment:yV,sheet_set_array_formula:wV,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Wf={exports:{}},bV=Wf.exports,K_;function _V(){return K_||(K_=1,(function(e,t){(function(n,r){r()})(bV,function(){function n(f,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function r(f,p,g){var v=new XMLHttpRequest;v.open("GET",f),v.responseType="blob",v.onload=function(){d(v.response,p,g)},v.onerror=function(){console.error("could not download file")},v.send()}function s(f){var p=new XMLHttpRequest;p.open("HEAD",f,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function a(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(p)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ci=="object"&&ci.global===ci?ci:void 0,u=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(f,p,g){var v=o.URL||o.webkitURL,x=document.createElement("a");p=p||f.name||"download",x.download=p,x.rel="noopener",typeof f=="string"?(x.href=f,x.origin===location.origin?a(x):s(x.href)?r(f,p,g):a(x,x.target="_blank")):(x.href=v.createObjectURL(f),setTimeout(function(){v.revokeObjectURL(x.href)},4e4),setTimeout(function(){a(x)},0))}:"msSaveOrOpenBlob"in navigator?function(f,p,g){if(p=p||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(n(f,g),p);else if(s(f))r(f,p,g);else{var v=document.createElement("a");v.href=f,v.target="_blank",setTimeout(function(){a(v)})}}:function(f,p,g,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof f=="string")return r(f,p,g);var x=f.type==="application/octet-stream",w=/constructor/i.test(o.HTMLElement)||o.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||x&&w||u)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var T=_.result;T=y?T:T.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=T:location=T,v=null},_.readAsDataURL(f)}else{var S=o.URL||o.webkitURL,N=S.createObjectURL(f);v?v.location=N:location.href=N,v=null,setTimeout(function(){S.revokeObjectURL(N)},4e4)}});o.saveAs=d.saveAs=d,e.exports=d})})(Wf)),Wf.exports}var bv=_V();const SV=async(e,t={})=>new Promise(n=>{const r=new FileReader;r.onload=s=>{const u=(s.target?.result).split(/\r?\n/).filter(d=>d.trim()).map(d=>({text:d.trim(),ws:0,qws:0,bws:0,status:"pending",groupId:t.groupId||null}));n({phrases:u,errors:[]})},r.onerror=()=>{n({phrases:[],errors:["  "]})},r.readAsText(e,"UTF-8")}),EV=async(e,t={})=>new Promise(n=>{GN.parse(e,{header:!0,skipEmptyLines:!0,complete:r=>{const s=[],a=[];r.data.forEach((o,u)=>{if(!o.text&&!o.){a.push(` ${u+1}:   `);return}s.push({text:(o.text||o.||"").trim(),ws:parseInt(o.ws||o.ws||"0",10),qws:parseInt(o.qws||o.qws||"0",10),bws:parseInt(o.bws||o.bws||"0",10),status:"pending",groupId:t.groupId||null})}),n({phrases:s,errors:a})},error:r=>{n({phrases:[],errors:[r.message]})}})}),NV=async(e,t={})=>({phrases:e.split(/\r?\n/).filter(s=>s.trim()).map(s=>({text:s.trim(),ws:0,qws:0,bws:0,status:"pending",groupId:t.groupId||null})),errors:[]}),TV=e=>{const{phrases:t,filename:n}=e,r=t.map(o=>({:o.text,ws:o.ws,qws:o.qws,bws:o.bws,:o.status})),s=GN.unparse(r,{delimiter:",",header:!0}),a=new Blob(["\uFEFF"+s],{type:"text/csv;charset=utf-8;"});bv.saveAs(a,`${n}.csv`)},CV=e=>{const{phrases:t,filename:n}=e,r=t.map(f=>({:f.text,ws:f.ws,qws:f.qws,bws:f.bws,:f.status})),s=ig.json_to_sheet(r),a=[{wch:50},{wch:10},{wch:10},{wch:10},{wch:12}];s["!cols"]=a;const o=ig.book_new();ig.book_append_sheet(o,s,"");const u=bC(o,{bookType:"xlsx",type:"array"}),d=new Blob([u],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});bv.saveAs(d,`${n}.xlsx`)},kV=e=>{const{phrases:t,filename:n}=e,r=t.map(a=>a.text).join(`
`),s=new Blob([r],{type:"text/plain;charset=utf-8"});bv.saveAs(s,`${n}.txt`)},jV=({isOpen:e,onClose:t})=>{const{addPhrases:n}=Et(),[r,s]=Te.useState(!1),[a,o]=Te.useState(null),u=Te.useRef(null),d=async v=>{s(!0),o(null);try{const x=v.name.split(".").pop()?.toLowerCase();let w;if(x==="txt")w=await SV(v);else if(x==="csv")w=await EV(v);else throw new Error("  ");w.errors.length>0&&o(`  : ${w.errors.join(", ")}`),w.phrases.length>0?(await n(w.phrases),t()):o("   ")}catch(x){o(x instanceof Error?x.message:" ")}finally{s(!1)}},f=async()=>{s(!0),o(null);try{const v=await navigator.clipboard.readText();if(!v.trim())throw new Error("  ");const x=await NV(v);x.phrases.length>0?(await n(x.phrases),t()):o("   ")}catch(v){o(v instanceof Error?v.message:"   ")}finally{s(!1)}},p=v=>{v.preventDefault(),v.stopPropagation();const x=v.dataTransfer.files[0];x&&d(x)},g=v=>{v.preventDefault(),v.stopPropagation()};return c.jsx(Gn,{isOpen:e,onClose:t,title:" ",size:"md",footer:c.jsx(Xe,{variant:"secondary",onClick:t,children:""}),children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{onDrop:p,onDragOver:g,className:"border-2 border-dashed border-gray-300 rounded-md p-8 text-center hover:border-blue-400 transition-colors cursor-pointer",onClick:()=>u.current?.click(),children:[c.jsx(L5,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"      "}),c.jsx("p",{className:"text-xs text-gray-500",children:" : TXT, CSV"}),c.jsx("input",{ref:u,type:"file",accept:".txt,.csv",onChange:v=>{const x=v.target.files?.[0];x&&d(x)},className:"hidden"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(Xe,{variant:"secondary",icon:c.jsx(JS,{className:"w-4 h-4"}),onClick:()=>u.current?.click(),disabled:r,className:"w-full",children:" TXT"}),c.jsx(Xe,{variant:"secondary",icon:c.jsx(Sg,{className:"w-4 h-4"}),onClick:()=>u.current?.click(),disabled:r,className:"w-full",children:" CSV"}),c.jsx(Xe,{variant:"secondary",icon:c.jsx(CR,{className:"w-4 h-4"}),onClick:f,disabled:r,className:"w-full col-span-2",children:"   "})]}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[c.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:" :"}),c.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[c.jsx("li",{children:" TXT:   =  "}),c.jsx("li",{children:" CSV:  , ws, qws, bws ()"}),c.jsx("li",{children:"  :   "})]})]}),a&&c.jsx("div",{className:"bg-error-100 border border-error-300 rounded-md p-3",children:c.jsx("p",{className:"text-sm text-error-600",children:a})}),r&&c.jsxs("div",{className:"text-center py-4",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"..."})]})]})})},AV=({isOpen:e,onClose:t})=>{const{phrases:n,selectedPhraseIds:r,selectedGroupId:s,groups:a}=Et(),[o,u]=Te.useState("all"),[d,f]=Te.useState("keyset_phrases"),p=()=>{switch(o){case"selected":return n.filter(w=>r.has(w.id));case"group":return s?n.filter(w=>w.groupId===s):n;default:return n}},g=w=>{const y=p();if(y.length===0){alert("   ");return}const _={phrases:y,filename:d};switch(w){case"csv":TV(_);break;case"xlsx":CV(_);break;case"txt":kV(_);break}t()},v=p().length,x=s?a.find(w=>w.id===s):null;return c.jsx(Gn,{isOpen:e,onClose:t,title:" ",size:"md",footer:c.jsx(Xe,{variant:"secondary",onClick:t,children:""}),children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:" :"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-md hover:bg-gray-50 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"scope",value:"all",checked:o==="all",onChange:w=>u(w.target.value),className:"w-4 h-4 text-blue-500"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-sm font-medium text-gray-700",children:" "}),c.jsxs("div",{className:"text-xs text-gray-500",children:[n.length," "]})]})]}),c.jsxs("label",{className:`flex items-center gap-3 p-3 border border-gray-200 rounded-md ${r.size===0?"opacity-50 cursor-not-allowed":"hover:bg-gray-50 cursor-pointer"}`,children:[c.jsx("input",{type:"radio",name:"scope",value:"selected",checked:o==="selected",onChange:w=>u(w.target.value),disabled:r.size===0,className:"w-4 h-4 text-blue-500"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-sm font-medium text-gray-700",children:" "}),c.jsxs("div",{className:"text-xs text-gray-500",children:[r.size," "]})]})]}),c.jsxs("label",{className:`flex items-center gap-3 p-3 border border-gray-200 rounded-md ${s?"hover:bg-gray-50 cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[c.jsx("input",{type:"radio",name:"scope",value:"group",checked:o==="group",onChange:w=>u(w.target.value),disabled:!s,className:"w-4 h-4 text-blue-500"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-sm font-medium text-gray-700",children:" "}),c.jsxs("div",{className:"text-xs text-gray-500",children:[x?.name||"  "," (",n.filter(w=>w.groupId===s).length," )"]})]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" :"}),c.jsx("input",{type:"text",value:d,onChange:w=>f(w.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-sm focus:outline-none focus:ring-2 focus:ring-blue-300 focus:border-blue-500",placeholder:"keyset_phrases"}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"   "})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:" :"}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsxs(Xe,{variant:"secondary",icon:c.jsx(Sg,{className:"w-5 h-5"}),onClick:()=>g("csv"),className:"w-full flex flex-col items-center py-4 h-auto",disabled:v===0,children:[c.jsx("span",{className:"mt-2",children:"CSV"}),c.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Excel-"})]}),c.jsxs(Xe,{variant:"secondary",icon:c.jsx(Sg,{className:"w-5 h-5"}),onClick:()=>g("xlsx"),className:"w-full flex flex-col items-center py-4 h-auto",disabled:v===0,children:[c.jsx("span",{className:"mt-2",children:"XLSX"}),c.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Microsoft Excel"})]}),c.jsxs(Xe,{variant:"secondary",icon:c.jsx(JS,{className:"w-5 h-5"}),onClick:()=>g("txt"),className:"w-full flex flex-col items-center py-4 h-auto",disabled:v===0,children:[c.jsx("span",{className:"mt-2",children:"TXT"}),c.jsx("span",{className:"text-xs text-gray-500 mt-1",children:""})]})]})]}),v>0&&c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:c.jsxs("p",{className:"text-sm text-blue-800",children:["  : ",c.jsx("span",{className:"font-medium",children:v})]})})]})})};let og=new Map;function NC(e){if(!e||typeof e!="string")return"";if(og.has(e))return og.get(e);const t=e.toLowerCase().replace(/[^-a-z]/gi,"");if(!t)return"";const n=t.replace(/(?:||||||)$/,"").replace(/(?:||||||||)$/,"").replace(/(?:|||||)$/,""),r=n.length>=3?n:t;return og.set(e,r),r}function RV(e){if(!e||typeof e!="string")return"";const t=e.toLowerCase().replace(/[^-]/gi,"");if(!t)return"";const n={:"",:"",:"",:"",:"",:"",:""},r={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},s={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};return n[t]?n[t]:r[t]?r[t]:s[t]?s[t]:NC(t)}function Cu(e){try{if(!e||typeof e!="string")return{original:"",tokens:[],stems:[],lemmas:[]};const t=e.toLowerCase().replace(/[^\w\s-]/gi," ").split(/\s+/).filter(s=>s.length>0&&s.length<50).slice(0,20),n=t.map(NC).filter(s=>s.length>0),r=t.map(RV).filter(s=>s.length>0);return{original:e,tokens:t,stems:n,lemmas:r}}catch(t){return console.warn("   :",e,t),{original:e||"",tokens:[],stems:[],lemmas:[]}}}function TC(e){try{return!e||typeof e!="string"?"":[...Cu(e).lemmas].filter(s=>s&&s.length>0).slice(0,15).sort().join("|")||"empty"}catch(t){return console.warn("    :",e,t),"error"}}function _v(e){const t=new Map;return e.forEach(n=>{const r=TC(n.text);t.has(r)||t.set(r,[]),t.get(r).push(n)}),[...t.values()].filter(n=>n.length>1).map(n=>n.sort((r,s)=>(s.ws||0)-(r.ws||0)))}function Sv(e){const t=new Map;return e.forEach(n=>{const r=n.text.toLowerCase();t.has(r)||t.set(r,[]),t.get(r).push(n)}),[...t.values()].filter(n=>n.length>1)}function t0(e){const t=new Map;for(const n of e.sort((r,s)=>(s.ws||0)-(r.ws||0))){const r=n.text.toLowerCase();t.has(r)||t.set(r,n)}return[...t.values()]}function CC(e){const t=new Map;for(const n of e.sort((r,s)=>(s.ws||0)-(r.ws||0))){const r=TC(n.text);t.has(r)||t.set(r,n)}return[...t.values()]}const OV=({isOpen:e,onClose:t})=>{const{phrases:n,deletePhrases:r,addLog:s}=Et(),[a,o]=Te.useState(null),[u,d]=Te.useState(!1),f=()=>{d(!0),setTimeout(()=>{const g=Sv(n),v=_v(n),x=g.reduce((w,y)=>w+y.length-1,0)+v.reduce((w,y)=>w+y.length-1,0);o({exact:g,morphological:v,totalDuplicates:x}),d(!1),s("info",` : ${x} (: ${g.length}, : ${v.length})`)},300)},p=g=>{if(!a)return;const v=[];(g==="exact"||g==="all")&&a.exact.forEach(w=>{w.slice(1).forEach(y=>v.push(y.id))}),(g==="morphological"||g==="all")&&a.morphological.forEach(w=>{w.slice(1).forEach(y=>v.push(y.id))}),window.confirm(` ${v.length}  ( )?`)&&(r(v),s("success",` : ${v.length}`),f())};return Te.useEffect(()=>{e&&!a&&f()},[e]),Te.useEffect(()=>{e||o(null)},[e]),c.jsx(Gn,{isOpen:e,onClose:t,title:" ",size:"lg",footer:c.jsxs(c.Fragment,{children:[c.jsx(Xe,{variant:"secondary",onClick:t,children:""}),a&&a.totalDuplicates>0&&c.jsxs(c.Fragment,{children:[c.jsx(Xe,{variant:"secondary",icon:c.jsx(wl,{className:"w-4 h-4"}),onClick:()=>p("exact"),children:"  "}),c.jsx(Xe,{variant:"secondary",icon:c.jsx(KR,{className:"w-4 h-4"}),onClick:()=>p("morphological"),children:"  "}),c.jsx(Xe,{variant:"danger",icon:c.jsx(wl,{className:"w-4 h-4"}),onClick:()=>p("all"),children:"  "})]})]}),children:c.jsxs("div",{className:"space-y-4",children:[u&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mb-3"}),c.jsx("p",{className:"text-sm text-gray-600",children:" ..."})]}),a&&!u&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`p-4 rounded-md border ${a.totalDuplicates>0?"bg-warning-100 border-warning-300":"bg-success-100 border-success-300"}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(fu,{className:`w-5 h-5 ${a.totalDuplicates>0?"text-warning-500":"text-success-500"}`}),c.jsx("span",{className:"font-medium text-gray-800",children:a.totalDuplicates===0?"  ":` : ${a.totalDuplicates}`})]}),a.totalDuplicates>0&&c.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[c.jsxs("div",{children:["  : ",a.exact.reduce((g,v)=>g+v.length-1,0)]}),c.jsxs("div",{children:["  : ",a.morphological.reduce((g,v)=>g+v.length-1,0)]})]})]}),a.exact.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h4",{className:"font-medium text-gray-800",children:["  (",a.exact.length," )"]}),c.jsx(Xe,{size:"sm",variant:"danger",onClick:()=>p("exact"),children:" "})]}),c.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:a.exact.map((g,v)=>c.jsx("div",{className:"bg-gray-50 p-3 rounded border border-gray-200",children:c.jsxs("div",{className:"text-sm",children:[c.jsxs("div",{className:"font-medium text-gray-800 mb-2",children:[': "',g[0].text,'" (WS: ',g[0].ws,")"]}),c.jsx("div",{className:"text-gray-600 space-y-1",children:g.slice(1).map((x,w)=>c.jsxs("div",{className:"pl-4 border-l-2 border-error-300",children:[" ",w+1,': "',x.text,'" (WS: ',x.ws,")"]},w))})]})},v))})]}),a.morphological.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h4",{className:"font-medium text-gray-800",children:["  (",a.morphological.length," )"]}),c.jsx(Xe,{size:"sm",variant:"danger",onClick:()=>p("morphological"),children:" "})]}),c.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:a.morphological.map((g,v)=>c.jsx("div",{className:"bg-gray-50 p-3 rounded border border-gray-200",children:c.jsxs("div",{className:"text-sm",children:[c.jsxs("div",{className:"font-medium text-gray-800 mb-2",children:[': "',g[0].text,'" (WS: ',g[0].ws,")"]}),c.jsx("div",{className:"text-gray-600 space-y-1",children:g.slice(1).map((x,w)=>c.jsxs("div",{className:"pl-4 border-l-2 border-warning-300",children:["  ",w+1,': "',x.text,'" (WS: ',x.ws,")"]},w))})]})},v))})]}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:c.jsxs("p",{className:"text-xs text-blue-800",children:[c.jsx("strong",{children:" :"}),"    (  )",c.jsx("br",{}),c.jsx("strong",{children:" :"}),"    ,   ",c.jsx("br",{}),"      (),  ."]})})]})]})})},Ev=Te.forwardRef(({label:e,error:t,className:n="",...r},s)=>c.jsxs("div",{className:"w-full",children:[e&&c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),c.jsx("textarea",{ref:s,className:`
            w-full px-3 py-2 
            text-sm text-gray-900
            border border-gray-300 rounded-lg
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
            disabled:bg-gray-100 disabled:cursor-not-allowed
            resize-vertical
            ${t?"border-red-500":""}
            ${n}
          `,...r}),t&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]}));Ev.displayName="Textarea";const MV=({isOpen:e,onClose:t})=>{const{stopwords:n,addStopword:r,deleteStopword:s,updateStopword:a,phrases:o,updatePhrase:u,selectedPhraseIds:d,addLog:f}=Et(),[p,g]=Te.useState("geo"),[v,x]=Te.useState(""),[w,y]=Te.useState("partial"),[_,S]=Te.useState(!1),[N,T]=Te.useState(""),[C,A]=Te.useState(null),z=Te.useMemo(()=>{const V={geo:"",commercial:"",info:""};return n.filter(K=>K.category===V[p])},[n,p]),M=()=>{if(!v.trim())return;const V={geo:"",commercial:"",info:""},K={id:$r(),text:v.trim(),matchType:w,useMorphology:_,category:V[p]};r(K),x("")},j=()=>{if(!N.trim())return;const V=N.split(`
`).filter(H=>H.trim()),K={geo:"",commercial:"",info:""};V.forEach(H=>{const Q={id:$r(),text:H.trim(),matchType:w,useMorphology:_,category:K[p]};r(Q)}),T(""),f("success",` -: ${V.length}`)},O=(V,K)=>{const H=V.toLowerCase(),Q=K.text.toLowerCase();switch(K.matchType){case"exact":return H.split(/\s+/).includes(Q);case"partial":return H.includes(Q);case"independent":if(K.useMorphology){const ae=Q.slice(0,Math.min(5,Q.length-2));return H.includes(ae)}return H.includes(Q);default:return H.includes(Q)}},Y=()=>{let V=0;o.forEach(K=>{const H=n.some(Q=>O(K.text,Q));H!==K.hasStopword&&(u(K.id,{hasStopword:H}),H&&V++)}),f("success",`   -: ${V}`)},J=()=>{o.forEach(V=>{V.hasStopword&&u(V.id,{hasStopword:!1})}),f("info","    ")},F=()=>{const V=n.map(ae=>({word:ae.text,matchType:ae.matchType,morphology:ae.useMorphology,category:ae.category})),K=JSON.stringify(V,null,2),H=new Blob([K],{type:"application/json"}),Q=URL.createObjectURL(H),ee=document.createElement("a");ee.href=Q,ee.download="stopwords.json",ee.click(),URL.revokeObjectURL(Q),f("success","- ")},re=V=>{const K=V.target.files?.[0];if(!K)return;const H=new FileReader;H.onload=Q=>{try{const ee=JSON.parse(Q.target?.result);ee.forEach(ae=>{const D={id:$r(),text:ae.word,matchType:ae.matchType||"partial",useMorphology:ae.morphology||!1,category:ae.category||""};r(D)}),f("success",` -: ${ee.length}`)}catch{f("error","  -")}},H.readAsText(K)},k=V=>{switch(V){case"exact":return" ( )";case"partial":return" ()";case"independent":return"  ";default:return V}};return c.jsx(Gn,{isOpen:e,onClose:t,title:" -",size:"lg",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[c.jsxs("button",{onClick:()=>g("geo"),className:`px-4 py-2 font-medium transition-colors ${p==="geo"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[" (",n.filter(V=>V.category==="").length,")"]}),c.jsxs("button",{onClick:()=>g("commercial"),className:`px-4 py-2 font-medium transition-colors ${p==="commercial"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[" (",n.filter(V=>V.category==="").length,")"]}),c.jsxs("button",{onClick:()=>g("info"),className:`px-4 py-2 font-medium transition-colors ${p==="info"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[" (",n.filter(V=>V.category==="").length,")"]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ka,{value:v,onChange:V=>x(V.target.value),placeholder:" -...",onKeyPress:V=>V.key==="Enter"&&M()}),c.jsx(Xe,{variant:"primary",icon:c.jsx(Ax,{className:"w-4 h-4"}),onClick:M,children:""})]}),c.jsxs("div",{className:"flex gap-4 items-center text-sm",children:[c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-gray-700",children:":"}),c.jsxs("select",{value:w,onChange:V=>y(V.target.value),className:"px-2 py-1 border border-gray-300 rounded",children:[c.jsx("option",{value:"exact",children:" ()"}),c.jsx("option",{value:"partial",children:""}),c.jsx("option",{value:"independent",children:"  "})]})]}),c.jsx(fr,{checked:_,onChange:()=>S(!_),label:""})]}),c.jsxs("details",{className:"mt-3",children:[c.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700",children:"  (   )"}),c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsx(Ev,{value:N,onChange:V=>T(V.target.value),placeholder:`

`,rows:5}),c.jsx(Xe,{variant:"secondary",onClick:j,children:" "})]})]})]}),c.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:z.length===0?c.jsx("div",{className:"text-center text-gray-500 py-8",children:" -   "}):z.map(V=>c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white border border-gray-200 rounded hover:bg-gray-50",children:[c.jsx("span",{className:"flex-1 font-medium",children:V.text}),c.jsx("span",{className:"text-xs text-gray-500",children:k(V.matchType)}),V.useMorphology&&c.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:""}),c.jsx(Xe,{variant:"ghost",size:"sm",icon:c.jsx(wl,{className:"w-3 h-3"}),onClick:()=>s(V.id)})]},V.id))}),c.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-200",children:[c.jsx(Xe,{variant:"primary",icon:c.jsx(Cx,{className:"w-4 h-4"}),onClick:Y,children:" "}),c.jsx(Xe,{variant:"secondary",icon:c.jsx(Al,{className:"w-4 h-4"}),onClick:J,children:" "}),c.jsx("div",{className:"flex-1"}),c.jsx(Xe,{variant:"secondary",icon:c.jsx(YS,{className:"w-4 h-4"}),onClick:F,children:""}),c.jsx(Xe,{variant:"secondary",icon:c.jsx(UR,{className:"w-4 h-4"}),onClick:()=>{const V=document.createElement("input");V.type="file",V.accept=".json",V.onchange=re,V.click()},children:""})]}),c.jsxs("div",{className:"bg-blue-50 p-3 rounded text-sm text-blue-800",children:[c.jsx("strong",{children:":"}),"  -: ",n.length," |   -: ",o.filter(V=>V.hasStopword).length]})]})})},DV=({onClose:e})=>{const{filters:t,setFilters:n,savedFilters:r,saveCurrentFilter:s,applyFilter:a,addLog:o}=Et(),[u,d]=P.useState("numbers"),[f,p]=P.useState("");return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg w-[700px] h-[650px] flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[c.jsx("h2",{className:"text-xl font-bold",children:" "}),c.jsx("button",{onClick:e,className:"text-gray-500 hover:text-black text-2xl leading-none",children:""})]}),c.jsxs("div",{className:"flex border-b",children:[c.jsx("button",{onClick:()=>d("numbers"),className:`px-6 py-2 ${u==="numbers"?"border-b-2 border-blue-500":""}`,children:""}),c.jsx("button",{onClick:()=>d("text"),className:`px-6 py-2 ${u==="text"?"border-b-2 border-blue-500":""}`,children:""}),c.jsx("button",{onClick:()=>d("quick"),className:`px-6 py-2 ${u==="quick"?"border-b-2 border-blue-500":""}`,children:""}),c.jsx("button",{onClick:()=>d("saved"),className:`px-6 py-2 ${u==="saved"?"border-b-2 border-blue-500":""}`,children:""})]}),c.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[u==="numbers"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-sm font-medium",children:"ws :"}),c.jsx("input",{type:"number",value:t.wsMin||"",onChange:g=>n({wsMin:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-sm font-medium",children:"ws :"}),c.jsx("input",{type:"number",value:t.wsMax||"",onChange:g=>n({wsMax:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-sm font-medium",children:"qws :"}),c.jsx("input",{type:"number",value:t.qwsMin||"",onChange:g=>n({qwsMin:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-sm font-medium",children:"qws :"}),c.jsx("input",{type:"number",value:t.qwsMax||"",onChange:g=>n({qwsMax:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-sm font-medium",children:"bws :"}),c.jsx("input",{type:"number",value:t.bwsMin||"",onChange:g=>n({bwsMin:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-sm font-medium",children:"bws :"}),c.jsx("input",{type:"number",value:t.bwsMax||"",onChange:g=>n({bwsMax:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-sm font-medium",children:"  :"}),c.jsx("input",{type:"number",value:t.lengthMin||"",onChange:g=>n({lengthMin:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-sm font-medium",children:":"}),c.jsx("input",{type:"number",value:t.lengthMax||"",onChange:g=>n({lengthMax:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-sm font-medium",children:" :"}),c.jsx("input",{type:"number",value:t.wordCountMin||"",onChange:g=>n({wordCountMin:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-sm font-medium",children:":"}),c.jsx("input",{type:"number",value:t.wordCountMax||"",onChange:g=>n({wordCountMax:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]})]})]}),u==="text"&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:" :"}),c.jsx("input",{type:"text",value:t.contains||"",onChange:g=>n({contains:g.target.value}),className:"w-full px-3 py-2 border rounded"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:" :"}),c.jsx("input",{type:"text",value:t.notContains||"",onChange:g=>n({notContains:g.target.value}),className:"w-full px-3 py-2 border rounded"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:" :"}),c.jsx("input",{type:"text",value:t.startsWith||"",onChange:g=>n({startsWith:g.target.value}),className:"w-full px-3 py-2 border rounded"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:" :"}),c.jsx("input",{type:"text",value:t.endsWith||"",onChange:g=>n({endsWith:g.target.value}),className:"w-full px-3 py-2 border rounded"})]})]}),u==="quick"&&c.jsx("div",{className:"space-y-2",children:[{key:"showOnlyHighFreq",label:"  (ws > 1000)"},{key:"showOnlyLowFreq",label:"  (ws < 100)"},{key:"showOnlyZeroFreq",label:"  (ws = 0)"},{key:"showOnlyDuplicates",label:" "},{key:"showOnlyWithStopwords",label:" -"},{key:"showOnlySelected",label:" "}].map(g=>c.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 rounded cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:t[g.key]===!0,onChange:v=>n({[g.key]:v.target.checked}),className:"w-4 h-4"}),g.label]},g.key))}),u==="saved"&&c.jsx("div",{className:"space-y-2",children:r.length===0?c.jsx("p",{className:"text-gray-500",children:"  "}):r.map(g=>c.jsx("button",{onClick:()=>{a(g.id)},className:"w-full px-3 py-2 border rounded hover:bg-blue-50 text-left",children:g.name},g.id))})]}),c.jsxs("div",{className:"border-t p-4 flex gap-2",children:[c.jsx("input",{type:"text",value:f,onChange:g=>p(g.target.value),placeholder:"  ",className:"flex-1 px-3 py-2 border rounded"}),c.jsx("button",{onClick:()=>{f.trim()&&(s(f),p(""))},className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:""}),c.jsx("button",{onClick:e,className:"px-4 py-2 border rounded hover:bg-gray-100",children:""})]})]})})},IV=({onClose:e})=>{const{columnVisibility:t,setColumnVisibility:n,addLog:r}=Et(),[s,a]=P.useState(t||{phrase:!0,ws:!0,qws:!0,bws:!0,status:!0,dateAdded:!1}),o=d=>{const f={...s,[d]:!s[d]};a(f),n(f)},u=()=>{r("success","  "),e()};return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 w-[400px]",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),c.jsx("div",{className:"space-y-2 mb-6",children:[{key:"phrase",label:""},{key:"ws",label:"ws ( )"},{key:"qws",label:"qws ( )"},{key:"bws",label:"bws ( )"},{key:"status",label:" "},{key:"dateAdded",label:" "}].map(d=>c.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 rounded cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:s[d.key]===!0,onChange:()=>o(d.key),className:"w-4 h-4"}),d.label]},d.key))}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:u,className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:""}),c.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 border rounded hover:bg-gray-100",children:""})]})]})})},LV=({isOpen:e,onClose:t})=>{const{phrases:n,groups:r}=Et(),s=Te.useMemo(()=>{const a=n.length,o=n.filter(N=>N.status==="success"||N.status==="done").length,u=n.filter(N=>N.status==="pending").length,d=n.filter(N=>N.status==="error").length,f=n.map(N=>N.ws).filter(N=>N>0),p=f.reduce((N,T)=>N+T,0),g=f.length>0?Math.round(p/f.length):0,v=f.length>0?Math.max(...f):0,x=f.length>0?Math.min(...f):0,w=n.filter(N=>!N.groupId).length,y=new Set,_=n.filter(N=>{const T=N.text.toLowerCase();return y.has(T)?!0:(y.add(T),!1)}).length,S=n.filter(N=>N.hasStopword).length;return{total:a,parsed:o,pending:u,errors:d,sumWs:p,avgWs:g,maxWs:v,minWs:x,groups:r.length,ungrouped:w,duplicates:_,withStopwords:S}},[n,r]);return e?c.jsx(Gn,{isOpen:e,onClose:t,title:"  ",size:"lg",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-blue-600",children:s.total}),c.jsx("div",{className:"text-sm text-gray-600 mt-1",children:" "})]}),c.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-green-600",children:s.parsed}),c.jsx("div",{className:"text-sm text-gray-600 mt-1",children:""}),c.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[s.total>0?Math.round(s.parsed/s.total*100):0,"%"]})]}),c.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-orange-600",children:s.pending}),c.jsx("div",{className:"text-sm text-gray-600 mt-1",children:" "}),c.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[s.total>0?Math.round(s.pending/s.total*100):0,"%"]})]})]}),s.errors>0&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-6",children:c.jsxs("div",{className:"text-sm text-red-800",children:["   : ",c.jsx("strong",{children:s.errors})]})}),c.jsxs("div",{className:"border-t pt-4 mb-6",children:[c.jsx("h3",{className:"font-bold text-lg mb-3",children:"  (ws):"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[c.jsx("div",{className:"text-sm text-gray-600",children:""}),c.jsx("div",{className:"text-xl font-bold text-gray-900",children:s.sumWs.toLocaleString("ru-RU")})]}),c.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[c.jsx("div",{className:"text-sm text-gray-600",children:""}),c.jsx("div",{className:"text-xl font-bold text-gray-900",children:s.avgWs.toLocaleString("ru-RU")})]}),c.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[c.jsx("div",{className:"text-sm text-gray-600",children:""}),c.jsx("div",{className:"text-xl font-bold text-gray-900",children:s.maxWs.toLocaleString("ru-RU")})]}),c.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[c.jsx("div",{className:"text-sm text-gray-600",children:""}),c.jsx("div",{className:"text-xl font-bold text-gray-900",children:s.minWs.toLocaleString("ru-RU")})]})]})]}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h3",{className:"font-bold text-lg mb-3",children:" :"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:" :"}),c.jsx("span",{className:"font-semibold text-gray-900",children:s.groups})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"  :"}),c.jsx("span",{className:"font-semibold text-orange-600",children:s.ungrouped})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:":"}),c.jsx("span",{className:"font-semibold text-red-600",children:s.duplicates})]}),s.withStopwords>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"  -:"}),c.jsx("span",{className:"font-semibold text-red-600",children:s.withStopwords})]})]})]}),c.jsx("div",{className:"flex justify-end mt-6 pt-4 border-t",children:c.jsx(Xe,{onClick:t,variant:"primary",children:""})})]})}):null},PV=({isOpen:e,onClose:t})=>{const{phrases:n,selectedPhraseIds:r,updatePhrase:s,addLog:a}=Et(),[o,u]=Te.useState(""),[d,f]=Te.useState(""),[p,g]=Te.useState(!1),[v,x]=Te.useState(!1),[w,y]=Te.useState(!1),_=w&&r.size>0?n.filter(T=>r.has(T.id)):n,S=()=>{if(!o.trim()){alert("   ");return}let T=0;_.forEach(C=>{let A=C.text;if(v){const z=new RegExp(`\\b${o}\\b`,p?"g":"gi"),M=A.replace(z,d);M!==A&&(A=M,T++)}else{const z=p?o:o.toLowerCase();if((p?A:A.toLowerCase()).includes(z)){const j=new RegExp(o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),p?"g":"gi");A=A.replace(j,d),T++}}A!==C.text&&s(C.id,{text:A})}),a("success",` :  ${T} `),t()},N=()=>{if(!o.trim()){alert("   ");return}window.confirm(` "${o}"  "${d}"   ${w?" ()":""}?`)&&S()};return e?c.jsx(Gn,{isOpen:e,onClose:t,title:"   ",size:"md",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:":"}),c.jsx(ka,{value:o,onChange:T=>u(T.target.value),placeholder:"   ",autoFocus:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" :"}),c.jsx(ka,{value:d,onChange:T=>f(T.target.value),placeholder:"   "})]}),c.jsxs("div",{className:"space-y-2 border-t pt-4",children:[c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx(fr,{checked:p,onChange:()=>g(!p)}),c.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx(fr,{checked:v,onChange:()=>x(!v)}),c.jsx("span",{className:"text-sm text-gray-700",children:"  "})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx(fr,{checked:w,onChange:()=>y(!w)}),c.jsxs("span",{className:"text-sm text-gray-700",children:["   ",r.size>0&&`(${r.size})`]})]})]}),o&&c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[c.jsx("div",{className:"text-xs text-blue-700 font-medium mb-1",children:":"}),c.jsxs("div",{className:"text-sm text-gray-700",children:["  : ",c.jsx("strong",{children:_.filter(T=>{const C=p?T.text:T.text.toLowerCase(),A=p?o:o.toLowerCase();return C.includes(A)}).length})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t",children:[c.jsx(Xe,{onClick:t,variant:"secondary",children:""}),c.jsx(Xe,{onClick:N,variant:"primary",children:" "})]})]})}):null},FV=({phraseId:e,onClose:t})=>{const{phrases:n}=Et(),r=n.find(u=>u.id===e);if(!r)return null;const s=r.history||[],a=u=>({created:" ",edited:" ",moved:" ",colored:"  ",locked:" ",unlocked:" "})[u]||u,o=u=>new Date(u).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg w-[700px] max-h-[600px] flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[c.jsx("h2",{className:"text-xl font-bold",children:"  "}),c.jsx("button",{onClick:t,className:"text-gray-500 hover:text-black transition",children:c.jsx(Al,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b",children:[c.jsx("div",{className:"text-sm text-gray-600",children:":"}),c.jsx("div",{className:"text-lg font-semibold",children:r.text})]}),c.jsx("div",{className:"flex-1 overflow-auto p-6",children:s.length===0?c.jsxs("div",{className:"text-center text-gray-500 py-12",children:[c.jsx("p",{className:"text-lg mb-2",children:"  "}),c.jsx("p",{className:"text-sm",children:"     "})]}):c.jsx("div",{className:"space-y-4",children:s.map((u,d)=>c.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-gray-50 rounded",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"font-semibold",children:a(u.action)}),c.jsx("span",{className:"text-sm text-gray-500",children:o(u.timestamp)})]}),u.oldValue&&u.newValue&&c.jsxs("div",{className:"mt-2 text-sm",children:[c.jsxs("div",{className:"text-gray-600",children:[c.jsx("span",{className:"font-medium",children:":"})," ",c.jsx("span",{className:"line-through",children:u.oldValue})]}),c.jsxs("div",{className:"text-green-700",children:[c.jsx("span",{className:"font-medium",children:":"})," ",c.jsx("span",{children:u.newValue})]})]}),u.details&&c.jsx("div",{className:"mt-1 text-sm text-gray-600",children:u.details})]},d))})}),c.jsxs("div",{className:"border-t p-4 flex justify-between items-center",children:[c.jsxs("div",{className:"text-sm text-gray-600",children:[" : ",s.length]}),c.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 transition",children:""})]})]})})},zV=({onClose:e})=>{const{phrases:t,stopwords:n,addGroup:r,movePhrases:s,addLog:a}=Et(),[o,u]=P.useState(3),[d,f]=P.useState(!0),[p,g]=P.useState(!1),v=P.useMemo(()=>{const _=new Map,S=new Set(n.map(T=>T.text.toLowerCase()));t.forEach(T=>{T.text.toLowerCase().split(/\s+/).forEach(A=>{A.length<3||d&&S.has(A)||(_.has(A)||_.set(A,[]),_.get(A).push(T.id))})});const N=[];return _.forEach((T,C)=>{const A=[...new Set(T)];A.length>=o&&N.push({word:C,count:A.length,phrases:A})}),N.sort((T,C)=>C.count-T.count)},[t,n,o,d]),x=()=>{g(!0),a("info",` :  ${v.length}  `)},w=_=>{const S=` "${_.word}"`;r(S,null);const N=Et.getState().groups[Et.getState().groups.length-1]?.id;N&&(s(_.phrases,N),a("success",`  "${S}" (${_.count} )`))},y=()=>{let _=0;v.slice(0,20).forEach(S=>{w(S),_++}),a("success",` : ${_}`),e()};return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg w-[800px] max-h-[700px] flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[c.jsx("h2",{className:"text-xl font-bold",children:"   "}),c.jsx("button",{onClick:e,className:"text-gray-500 hover:text-black transition",children:c.jsx(Al,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-6 bg-gray-50 border-b space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"  :"}),c.jsx("input",{type:"number",min:"2",max:"10",value:o,onChange:_=>u(parseInt(_.target.value)||2),className:"w-24 px-3 py-2 border rounded"}),c.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"(       )"})]}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:d,onChange:_=>f(_.target.checked),className:"w-4 h-4"}),c.jsx("span",{children:" -  "})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:x,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition flex items-center gap-2",children:[c.jsx(Lh,{className:"w-4 h-4"}),""]}),p&&v.length>0&&c.jsx("button",{onClick:y,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition",children:"   ( 20)"})]})]}),c.jsx("div",{className:"flex-1 overflow-auto p-6",children:p?v.length===0?c.jsxs("div",{className:"text-center text-gray-500 py-12",children:[c.jsx("p",{className:"text-lg mb-2",children:"  "}),c.jsx("p",{className:"text-sm",children:"       -"})]}):c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[" : ",v.length]}),v.map((_,S)=>c.jsxs("div",{className:"border rounded p-4 hover:bg-gray-50 transition",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"font-semibold text-lg",children:['"',_.word,'"']}),c.jsxs("span",{className:"ml-3 text-gray-600",children:[_.count," ",_.count===1?"":_.count<5?"":""]})]}),c.jsx("button",{onClick:()=>w(_),className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 transition",children:" "})]}),c.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[_.phrases.slice(0,3).map(N=>{const T=t.find(C=>C.id===N);return T?c.jsxs("div",{className:"truncate",children:[" ",T.text]},N):null}),_.phrases.length>3&&c.jsxs("div",{className:"text-gray-500 italic",children:["...   ",_.phrases.length-3]})]})]},S))]}):c.jsxs("div",{className:"text-center text-gray-500 py-12",children:[c.jsx("p",{className:"text-lg mb-2",children:'    ""'}),c.jsx("p",{className:"text-sm",children:"  ,      "})]})}),c.jsx("div",{className:"border-t p-4 flex justify-end",children:c.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 transition",children:""})})]})})},BV=({onClose:e})=>{const{addLog:t}=Et(),[n,r]=P.useState([{id:"1",name:"  ",action:"parse",interval:24,enabled:!1,nextRun:Date.now()+1440*60*1e3},{id:"2",name:" -  ",action:"stopwords",interval:0,enabled:!0,nextRun:0},{id:"3",name:" ",action:"duplicates",interval:168,enabled:!1,nextRun:Date.now()+10080*60*1e3},{id:"4",name:"  ",action:"backup",interval:24,enabled:!1,nextRun:Date.now()+1440*60*1e3}]),s=f=>({parse:"  ",stopwords:"  -",duplicates:"  ",backup:"  "})[f]||f,a=f=>f===0?" ":new Date(f).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),o=f=>{r(g=>g.map(v=>v.id===f?{...v,enabled:!v.enabled}:v));const p=n.find(g=>g.id===f);p&&t(p.enabled?"warning":"success",`${p.enabled?"":""} : ${p.name}`)},u=(f,p)=>{r(g=>g.map(v=>v.id===f?{...v,interval:p,nextRun:Date.now()+p*60*60*1e3}:v))},d=()=>{t("success","  "),e()};return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg w-[800px] max-h-[700px] flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[c.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(XS,{className:"w-6 h-6"})," "]}),c.jsx("button",{onClick:e,className:"text-gray-500 hover:text-black transition",children:c.jsx(Al,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[c.jsx("div",{className:"space-y-4",children:n.map(f=>c.jsxs("div",{className:`border rounded-lg p-4 ${f.enabled?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>o(f.id),className:`p-2 rounded transition ${f.enabled?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-600 hover:bg-gray-400"}`,children:f.enabled?c.jsx(m5,{className:"w-4 h-4"}):c.jsx(d5,{className:"w-4 h-4"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold",children:s(f.action)}),c.jsx("div",{className:"text-sm text-gray-600",children:f.name})]})]}),f.interval>0&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-sm text-gray-600",children:":"}),c.jsx("input",{type:"number",min:"1",max:"720",value:f.interval,onChange:p=>u(f.id,parseInt(p.target.value)||1),disabled:!f.enabled,className:"w-20 px-2 py-1 border rounded text-center disabled:bg-gray-100"}),c.jsx("span",{className:"text-sm text-gray-600",children:""})]})]}),f.enabled&&c.jsxs("div",{className:"text-sm text-gray-600 pl-11",children:[" : ",a(f.nextRun)]})]},f.id))}),c.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded",children:[c.jsx("div",{className:"font-semibold mb-2",children:"  :"}),c.jsxs("ul",{className:"text-sm text-gray-700 space-y-1 list-disc list-inside",children:[c.jsx("li",{children:"     "}),c.jsx("li",{children:"    -"}),c.jsx("li",{children:"    (localStorage)"})]})]})]}),c.jsxs("div",{className:"border-t p-4 flex justify-between items-center",children:[c.jsxs("div",{className:"text-sm text-gray-600",children:[" : ",n.filter(f=>f.enabled).length,"  ",n.length]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 border rounded hover:bg-gray-100 transition",children:""}),c.jsx("button",{onClick:d,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:""})]})]})]})})},UV=({onClose:e})=>{const{addGroup:t,phrases:n,stopwords:r,addLog:s}=Et(),[a,o]=P.useState("normal"),[u,d]=P.useState(""),[f,p]=P.useState(""),[g,v]=P.useState(1e3),[x,w]=P.useState(new Set),y=()=>{if(!u.trim()){s("warning","  ");return}t(u,null);const S=Et.getState(),N=S.groups[S.groups.length-1];if(!N)return;S.updateGroup(N.id,{type:a});let T=0;switch(a){case"mask":{if(!f.trim()){s("warning","  ");return}try{const C=new RegExp(f,"i"),A=n.filter(z=>C.test(z.text)).map(z=>z.id);A.length>0&&(S.movePhrases(A,N.id),T=A.length)}catch{s("error","  ");return}break}case"stopwords":{if(x.size===0){s("warning","    -");return}const C=n.filter(A=>{const z=A.text.toLowerCase();return Array.from(x).some(M=>z.includes(M.toLowerCase()))}).map(A=>A.id);C.length>0&&(S.movePhrases(C,N.id),T=C.length);break}case"frequency":{const C=n.filter(A=>A.ws>=g).map(A=>A.id);C.length>0&&(S.movePhrases(C,N.id),T=C.length);break}}s("success",` "${u}"  (${T}  )`),e()},_=S=>{const N=new Set(x);N.has(S)?N.delete(S):N.add(S),w(N)};return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg w-[700px] max-h-[700px] flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[c.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(ZS,{className:"w-6 h-6"}),"  "]}),c.jsx("button",{onClick:e,className:"text-gray-500 hover:text-black transition",children:c.jsx(Al,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:" :"}),c.jsx("input",{type:"text",value:u,onChange:S=>d(S.target.value),placeholder:" ",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium mb-3",children:" :"}),c.jsx("div",{className:"space-y-2",children:[{value:"normal",label:"  ",desc:"    "},{value:"mask",label:"   ( )",desc:",   "},{value:"stopwords",label:"  -",desc:",   -"},{value:"frequency",label:"  ",desc:"     "}].map(S=>c.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded cursor-pointer transition ${a===S.value?"border-blue-500 bg-blue-50":"border-gray-300 hover:bg-gray-50"}`,children:[c.jsx("input",{type:"radio",name:"groupType",value:S.value,checked:a===S.value,onChange:()=>o(S.value),className:"mt-1"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:S.label}),c.jsx("div",{className:"text-sm text-gray-600",children:S.desc})]})]},S.value))})]}),a==="mask"&&c.jsxs("div",{className:"p-4 bg-gray-50 rounded border",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:" :"}),c.jsx("input",{type:"text",value:f,onChange:S=>p(S.target.value),placeholder:": ^\\d+$",className:"w-full px-3 py-2 border rounded"}),c.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[": ",c.jsx("code",{children:"^\\d+$"})," ( ), ",c.jsx("code",{children:".*"})," (  )"]})]}),a==="stopwords"&&c.jsxs("div",{className:"p-4 bg-gray-50 rounded border max-h-60 overflow-auto",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:" -:"}),r.length===0?c.jsx("div",{className:"text-sm text-gray-500",children:"-  "}):c.jsx("div",{className:"space-y-1",children:r.map(S=>c.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-white rounded cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:x.has(S.text),onChange:()=>_(S.text),className:"w-4 h-4"}),c.jsx("span",{children:S.text}),c.jsxs("span",{className:"text-xs text-gray-500",children:["(",S.category,")"]})]},S.id))})]}),a==="frequency"&&c.jsxs("div",{className:"p-4 bg-gray-50 rounded border",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"  (ws):"}),c.jsx("input",{type:"number",min:"0",step:"100",value:g,onChange:S=>v(parseInt(S.target.value)||0),className:"w-32 px-3 py-2 border rounded"}),c.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["    ws  ",g]})]})]}),c.jsxs("div",{className:"border-t p-4 flex justify-end gap-2",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 border rounded hover:bg-gray-100 transition",children:""}),c.jsx("button",{onClick:y,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:" "})]})]})})},$V=({isOpen:e,onClose:t})=>{const n=Et(),r=Array.isArray(n.viewTemplates)?n.viewTemplates:[],s=n.columnVisibility??{},a=Array.isArray(n.columnOrder)?n.columnOrder:[],o=n.columnPinning??{left:[],right:[]},{saveViewTemplate:u,loadViewTemplate:d,deleteViewTemplate:f,addLog:p}=n,[g,v]=Te.useState(""),[x,w]=Te.useState(!1),y=()=>{if(!g.trim()){p?.("warning","   ");return}u?.(g.trim()),v(""),w(!1)},_=N=>{d?.(N),t()},S=N=>{confirm("   ?")&&f?.(N)};return c.jsx(Gn,{isOpen:e,onClose:t,title:"  ",size:"md",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded",children:[c.jsx("div",{className:"font-medium text-sm text-blue-900 mb-2",children:" :"}),c.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[c.jsxs("div",{children:[" : ",Object.entries(s).filter(([N,T])=>!!T).length]}),c.jsxs("div",{children:[" : ",(o.left?.length||0)+(o.right?.length||0)]}),c.jsxs("div",{children:[" : ",a.length>0?"":" "]})]}),x?c.jsxs("div",{className:"mt-3 flex gap-2",children:[c.jsx(ka,{value:g,onChange:N=>v(N.target.value),placeholder:" ",autoFocus:!0,onKeyPress:N=>{N.key==="Enter"&&y()},className:"flex-1"}),c.jsx(Xe,{onClick:y,variant:"primary",children:""}),c.jsx(Xe,{onClick:()=>{w(!1),v("")},variant:"secondary",children:""})]}):c.jsx(Xe,{onClick:()=>w(!0),variant:"primary",className:"mt-3 text-sm",children:"  "})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-medium text-gray-800 mb-3",children:["  (",r.length,")"]}),r.length===0?c.jsxs("div",{className:"text-center py-8 text-gray-500 text-sm",children:["  .",c.jsx("br",{}),"       ."]}):c.jsx("div",{className:"space-y-2",children:r.map(N=>c.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded hover:bg-gray-50",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-sm text-gray-800",children:N.name}),c.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Object.entries(N.columnVisibility??{}).filter(([T,C])=>!!C).length,"  ",(N.columnPinning?.left?.length||0)+(N.columnPinning?.right?.length||0)>0&&`  ${(N.columnPinning?.left?.length||0)+(N.columnPinning?.right?.length||0)} `]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Xe,{onClick:()=>_(N.id),variant:"secondary",className:"text-sm",children:""}),c.jsx(Xe,{onClick:()=>S(N.id),variant:"danger",className:"text-sm",children:""})]})]},N.id))})]}),c.jsxs("div",{className:"mt-6 p-3 bg-gray-50 border border-gray-200 rounded text-xs text-gray-600",children:[c.jsx("strong",{children:":"}),"      (, , ).         ."]})]})})};function Nv(e,t=!0,n=50){const r=Date.now(),s=[],a=e.map(p=>({id:p.id,text:p.text,tokens:t?Cu(p.text).stems:p.text.toLowerCase().replace(/[^\w\s]/gi," ").split(/\s+/).filter(g=>g.length>0)}));let o=0,u=0;for(let p=0;p<a.length;p++)for(let g=p+1;g<a.length;g++){o++;const v=a[p],x=a[g],w=new Set(v.tokens),y=new Set(x.tokens),_=[...w].every(A=>y.has(A)),S=[...y].every(A=>w.has(A)),N=[...w].filter(A=>y.has(A)),T=new Set([...w,...y]),C=N.length/T.size*100;if(_&&y.size>w.size){const A=[...y].filter(z=>!w.has(z));s.push({sourcePhrase:e[p],targetPhrase:e[g],sourceTokens:v.tokens,targetTokens:x.tokens,additionalTokens:A,overlapPercentage:C,reason:"subset"}),u+=C}else if(S&&w.size>y.size){const A=[...w].filter(z=>!y.has(z));s.push({sourcePhrase:e[g],targetPhrase:e[p],sourceTokens:x.tokens,targetTokens:v.tokens,additionalTokens:A,overlapPercentage:C,reason:"subset"}),u+=C}else if(C>=n){const A=[...y].filter(M=>!w.has(M)),z=[...w].filter(M=>!y.has(M));A.length>0&&(s.push({sourcePhrase:e[p],targetPhrase:e[g],sourceTokens:v.tokens,targetTokens:x.tokens,additionalTokens:A,overlapPercentage:C,reason:"significant_overlap"}),u+=C),z.length>0&&(s.push({sourcePhrase:e[g],targetPhrase:e[p],sourceTokens:x.tokens,targetTokens:v.tokens,additionalTokens:z,overlapPercentage:C,reason:"significant_overlap"}),u+=C)}}const d=Date.now()-r,f=s.length>0?u/s.length:0;return{matches:s,statistics:{totalComparisons:o,foundMatches:s.length,averageOverlap:f,processingTime:d}}}function kC(e,t=!0){const{matches:n}=Nv(e,t),r=new Map;return n.forEach(s=>{r.has(s.sourcePhrase.id)||r.set(s.sourcePhrase.id,new Set),s.additionalTokens.forEach(a=>{r.get(s.sourcePhrase.id).add(a)})}),e.map(s=>{const a=r.get(s.id);return a&&a.size>0?{...s,minusTerms:[...s.minusTerms||[],...Array.from(a)]}:s})}const HV=({isOpen:e,onClose:t})=>{const{phrases:n,updatePhrase:r,addLog:s}=Et(),a=Array.isArray(n)?n:[],[o,u]=Te.useState(!0),[d,f]=Te.useState(50),[p,g]=Te.useState(!1),[v,x]=Te.useState([]),[w,y]=Te.useState(new Set),[_,S]=Te.useState(!1),N=()=>{if(g(!0),S(!1),a.length===0){s?.("warning","   ");return}try{const M=Nv(a,o,d);x(M.matches),y(new Set(M.matches.map((j,O)=>O))),s?.("success",` : ${M.matches.length}`)}catch(M){s?.("error",` -: ${M instanceof Error?M.message:" "}`)}finally{g(!1)}},T=()=>{let M=0;v.forEach((j,O)=>{if(w.has(O)){const Y=j.sourcePhrase.minusTerms||[],J=[...new Set([...Y,...j.additionalTokens])];r(j.sourcePhrase.id,{minusTerms:J}),M++}}),S(!0),s?.("success",` -: ${M} `)},C=M=>{const j=new Set(w);j.has(M)?j.delete(M):j.add(M),y(j)},A=()=>{y(new Set(v.map((M,j)=>j)))},z=()=>{y(new Set)};return c.jsx(Gn,{isOpen:e,onClose:t,title:"-",size:"lg",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex gap-2",children:[c.jsx(jx,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"  -?"}),c.jsx("p",{children:"  -      .   A     B  ,    B  -  ."})]})]}),c.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[c.jsx("h3",{className:"font-medium text-sm text-gray-700",children:" "}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(fr,{checked:o,onChange:()=>u(!o)}),c.jsx("label",{className:"text-sm text-gray-700",children:"   ( )"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-sm text-gray-700 block mb-1",children:["  : ",d,"%"]}),c.jsx("input",{type:"range",min:"30",max:"100",value:d,onChange:M=>f(Number(M.target.value)),className:"w-full"}),c.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[c.jsx("span",{children:" "}),c.jsx("span",{children:" "})]})]}),c.jsx(Xe,{onClick:N,disabled:p,variant:"primary",size:"sm",children:p?"...":" "})]}),v.length>0&&c.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h3",{className:"font-medium text-sm text-gray-700",children:[" : ",v.length]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:A,className:"text-xs text-blue-600 hover:text-blue-700",children:" "}),c.jsx("button",{onClick:z,className:"text-xs text-gray-600 hover:text-gray-700",children:" "})]})]}),c.jsxs("div",{className:"max-h-96 overflow-y-auto space-y-2",children:[v.slice(0,50).map((M,j)=>c.jsx("div",{className:"border rounded p-3 hover:bg-gray-50 cursor-pointer",onClick:()=>C(j),children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(fr,{checked:w.has(j),onChange:()=>C(j)}),c.jsxs("div",{className:"flex-1 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"font-medium text-gray-900",children:M.sourcePhrase.text}),c.jsxs("span",{className:"text-xs text-gray-500",children:["(",M.overlapPercentage,"% )"]})]}),c.jsxs("div",{className:"text-gray-600 mb-1",children:[" : ",M.targetPhrase.text]}),c.jsxs("div",{className:"text-xs bg-red-50 text-red-700 px-2 py-1 rounded inline-block",children:["-: ",M.additionalTokens.join(", ")]})]})]})},j)),v.length>50&&c.jsxs("div",{className:"text-center text-sm text-gray-500 py-2",children:["  50  ",v.length,'.      "".']})]})]}),v.length===0&&!p&&c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(Ih,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),c.jsx("p",{children:' " "   '})]}),_&&c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 flex gap-2",children:[c.jsx(Cx,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("div",{className:"text-sm text-green-800",children:"-  !   ."})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[c.jsx(Xe,{onClick:t,variant:"secondary",size:"sm",children:""}),v.length>0&&!_&&c.jsxs(Xe,{onClick:T,variant:"primary",size:"sm",disabled:w.size===0,children:[" (",w.size,")"]})]})]})})},GV=({isOpen:e,onClose:t})=>{const{phrases:n,deletePhrases:r,addLog:s}=Et(),a=Array.isArray(n)?n:[],[o,u]=Te.useState("morph"),[d,f]=Te.useState([]),[p,g]=Te.useState(new Set),[v,x]=Te.useState(!1);Te.useEffect(()=>{e&&w()},[e,o,a]);const w=()=>{x(!0),g(new Set);try{if(a.length===0){f([]),s?.("warning","    ");return}const N=o==="morph"?_v(a):Sv(a);f(N);const T=new Set;N.forEach(C=>{C.slice(1).forEach(A=>T.add(A.id))}),g(T),s?.("info",`  : ${N.length}`)}catch(N){s?.("error",`  : ${N instanceof Error?N.message:" "}`)}finally{x(!1)}},y=N=>{const T=new Set(p);T.has(N)?T.delete(N):T.add(N),g(T)},_=()=>{if(p.size===0){s("warning","    ");return}r(Array.from(p)),s?.("success",` : ${p.size}`),t()},S=d.reduce((N,T)=>N+T.length-1,0);return c.jsx(Gn,{isOpen:e,onClose:t,title:"   ",size:"lg",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex gap-2",children:[c.jsx(jx,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),c.jsx("div",{className:"text-sm text-blue-800",children:c.jsxs("p",{children:[c.jsx("strong",{children:" "})," -    .",c.jsx("br",{}),c.jsx("strong",{children:" "}),' -      (, " "  " ").']})})]}),c.jsxs("div",{className:"flex gap-2 border-b",children:[c.jsx("button",{onClick:()=>u("morph"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${o==="morph"?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-800"}`,children:" "}),c.jsx("button",{onClick:()=>u("exact"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${o==="exact"?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-800"}`,children:" "})]}),d.length>0&&c.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm text-gray-700",children:[" : ",c.jsx("strong",{children:d.length})]}),c.jsxs("p",{className:"text-sm text-gray-700",children:[" : ",c.jsx("strong",{children:S})]})]}),c.jsxs("div",{className:"text-sm text-gray-700",children:[" : ",c.jsx("strong",{className:"text-red-600",children:p.size})]})]}),c.jsxs("div",{className:"max-h-96 overflow-y-auto space-y-3",children:[v&&c.jsx("div",{className:"text-center py-8 text-gray-500",children:" ..."}),!v&&d.length===0&&c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(fu,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),c.jsx("p",{children:"  "})]}),!v&&d.map((N,T)=>c.jsxs("div",{className:"border rounded-lg p-3 bg-white",children:[c.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[" ",T+1," (",N.length," )"]}),c.jsx("div",{className:"space-y-2",children:N.map((C,A)=>{const z=A===0,M=p.has(C.id);return c.jsxs("div",{className:`flex items-start gap-2 p-2 rounded ${z?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[!z&&c.jsx(fr,{checked:M,onChange:()=>y(C.id)}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-gray-900",children:C.text}),z&&c.jsx("span",{className:"text-xs bg-green-600 text-white px-2 py-0.5 rounded",children:""})]}),c.jsxs("div",{className:"flex gap-3 text-xs text-gray-500 mt-1",children:[c.jsxs("span",{children:["ws: ",C.ws||0]}),c.jsxs("span",{children:["qws: ",C.qws||0]}),c.jsxs("span",{children:["bws: ",C.bws||0]})]})]})]},C.id)})})]},T))]}),p.size>0&&c.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 flex gap-2",children:[c.jsx(fu,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"text-sm text-yellow-800",children:["  ",c.jsx("strong",{children:p.size})," .        ws."]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[c.jsx(Xe,{onClick:w,variant:"secondary",size:"sm",disabled:v,children:" "}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Xe,{onClick:t,variant:"secondary",size:"sm",children:""}),c.jsxs(Xe,{onClick:_,variant:"danger",size:"sm",disabled:p.size===0,icon:c.jsx(wl,{className:"w-4 h-4"}),children:[" (",p.size,")"]})]})]})]})})};function VV(e){const t=e.trim();return t.length<2?{isNoise:!0,reason:"too_short"}:(t.match(/\d/g)||[]).length/t.length>.4?{isNoise:!0,reason:"too_many_digits"}:/https?:\/\/|utm_|www\.|\.com|\.ru/.test(t)?{isNoise:!0,reason:"looks_like_url"}:/\+?\d{10,}|8\(\d{3}\)|\(\d{3}\)\d{3}/.test(t)?{isNoise:!0,reason:"looks_like_phone"}:/[a-z]{1,3}\d{3,}|sku\d+|model\d+/i.test(t)?{isNoise:!0,reason:"looks_like_sku"}:(t.match(/[^-a-z0-9\s]/gi)||[]).length/t.length>.2?{isNoise:!0,reason:"too_many_special_chars"}:/[-a-z]/i.test(t)?/(.)\1{3,}/.test(t)?{isNoise:!0,reason:"repeating_chars"}:{isNoise:!1}:{isNoise:!0,reason:"no_letters"}}function ku(e){const t=[],n=[];for(const r of e){const s=VV(r.text);s.isNoise?n.push({phrase:r,reason:s.reason||"unknown"}):t.push(r)}return{cleaned:t,removed:n}}function WV(e){return e.toLowerCase().replace(//g,"").replace(/[""]/g,'"').replace(/['']/g,"'").replace(/|/g,"-").replace(/\s{2,}/g," ").replace(/\s+([.,!?;:])/g,"$1").replace(/([.,!?;:])+(?=[.,!?;:])/g,"").trim().replace(/[]/,"-")}function n0(e){return e.map(t=>({...t,text:WV(t.text)}))}const X_={general:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],prepositions:["","","","","","","","","","","","","","","","","","","","","","","","",""],pronouns:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],auxiliary:["","","","","","","","","","","","","","","","","","","","","",""],adverbs:["","","","","","","","","","","","","","","","","","","",""],particles:["","","","","","","","","","","","","",""],interjections:["","","","","","","",""," "," "],articles:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]};function qV(e,t=!0){if(!e||typeof e!="string")return{isStopword:!1};const n=e.toLowerCase().trim(),r=t?Cu(n):{stems:[n]};for(const[s,a]of Object.entries(X_))for(const o of a)if(n===o.toLowerCase())return{isStopword:!0,category:s,matchedForm:o};if(t)for(const[s,a]of Object.entries(X_))for(const o of a){const u=Cu(o);if(u.stems.length>0&&r.stems.length>0){const d=u.stems[0],f=r.stems[0];if(d===f||f.startsWith(d)||d.startsWith(f))return{isStopword:!0,category:s,matchedForm:o,stem:f}}}return{isStopword:!1}}function KV(e,t){return e.filter(n=>!t.some(s=>{const a=n.text.toLowerCase(),o=s.text.toLowerCase();switch(s.matchType){case"exact":return a.split(/\s+/).includes(o);case"partial":return a.includes(o);case"independent":return a.split(/\s+/).some(u=>u===o);default:return!1}}))}class Tv{phrases;groups;options;constructor(t,n,r={}){this.phrases=t,this.groups=n,this.options={useMorphology:!0,crossMinusation:!1,removeMorphDuplicates:!1,smartNoise:!1,normalizeText:!1,applyPipelines:[],createSnapshot:!1,snapshotName:"",...r}}async process(){const t=Date.now();let n=[...this.phrases],r=0,s=0,a=0;const o=[],u=[];try{if(this.options.normalizeText){const f=n.length;n=n0(n),r+=f,a+=f,u.push(`: ${f} `)}if(this.options.smartNoise){const f=ku(n),p=n.length;n=f.cleaned,s+=p-n.length,r+=p,u.push(` : ${p-n.length} `)}if(this.options.removeMorphDuplicates){const f=n.length;n=this.options.useMorphology?CC(n):t0(n),s+=f-n.length,r+=f,u.push(` : ${f-n.length}`)}if(this.options.crossMinusation){const f=n.length;n=kC(n,this.options.useMorphology||!1),a+=f,r+=f,u.push(" -")}const d=Date.now()-t;return{success:!0,processed:r,removed:s,modified:a,errors:o,warnings:u,processingTime:d,phrases:n,groups:this.groups}}catch(d){return o.push(d instanceof Error?d.message:" "),{success:!1,processed:r,removed:s,modified:a,errors:o,warnings:u,processingTime:Date.now()-t,phrases:n,groups:this.groups}}}async analyzeQuality(){const t=this.phrases.length,r=Sv(this.phrases).reduce((A,z)=>A+z.length-1,0),a=_v(this.phrases).reduce((A,z)=>A+z.length-1,0),u=ku(this.phrases).removed.length,d=this.phrases.filter(A=>A.text.toLowerCase().split(/\s+/).some(M=>qV(M))).length,p=this.phrases.map(A=>A.text.length).reduce((A,z)=>A+z,0)/t,v=this.phrases.map(A=>A.text.split(/\s+/).length).reduce((A,z)=>A+z,0)/t,w=new Set(this.phrases.map(A=>A.text.toLowerCase())).size,y=w/t*30,_=(t-u)/t*30,S=(t-a)/t*20,N=(t-d)/t*20,T=Math.round(y+_+S+N),C=[];return r>0&&C.push(` ${r}  .  .`),a>r&&C.push(` ${a-r}   .`),u>0&&C.push(` ${u}   (URL, , SKU).`),d>t*.3&&C.push(" 30%   -."),v<2&&C.push("    2 . ,   ."),T>=80?C.push("  !"):T>=60?C.push("  .   ."):T>=40?C.push("  .  ."):C.push("  .   ."),{totalPhrases:t,uniquePhrases:w,duplicates:r,morphDuplicates:a,noiseCount:u,stopwordCount:d,averageLength:Math.round(p*10)/10,averageWords:Math.round(v*10)/10,qualityScore:T,recommendations:C}}computeCrossMinusation(t=50){const n=Nv(this.phrases,this.options.useMorphology||!1,t),r=new Set(n.matches.map(u=>u.sourcePhrase.id)).size,s=n.matches.reduce((u,d)=>u+d.additionalTokens.length,0),a=this.phrases.reduce((u,d)=>u+(d.ws||0),0)/this.phrases.length,o=`${Math.round(s*a*.1)} RUB/`;return{matches:n.matches.length,phrasesAffected:r,minusTermsAdded:s,estimatedSavings:o}}getMorphologyStats(){const t=new Map;let n=0;this.phrases.forEach(s=>{const a=Cu(s.text);n+=a.stems.length,a.stems.forEach(o=>{t.set(o,(t.get(o)||0)+1)})});const r=Array.from(t.entries()).sort((s,a)=>a[1]-s[1]).slice(0,20).map(([s,a])=>({stem:s,count:a}));return{totalTokens:n,uniqueStems:t.size,averageTokensPerPhrase:Math.round(n/this.phrases.length*10)/10,mostCommonStems:r}}}async function XV(e,t=!0){return new Tv(e,[],{useMorphology:t,removeMorphDuplicates:!0,smartNoise:!0,normalizeText:!0}).process()}async function YV(e,t=!0){return new Tv(e,[],{useMorphology:t,removeMorphDuplicates:!0,smartNoise:!0,normalizeText:!0,crossMinusation:!0}).process()}async function JV(e){return new Tv(e,[]).analyzeQuality()}const ZV=({isOpen:e,onClose:t})=>{const{phrases:n,setPhrases:r,addLog:s}=Et(),a=Array.isArray(n)?n:[],[o,u]=Te.useState(!1),[d,f]=Te.useState(!1),[p,g]=Te.useState(null),[v,x]=Te.useState(null),[w,y]=Te.useState(!0);Te.useEffect(()=>{e&&!p&&_()},[e]);const _=async()=>{u(!0),x(null);try{if(a.length===0){s?.("warning","    ");return}const A=await JV(a);g(A),s?.("info",`  . : ${A.qualityScore}/100`)}catch(A){s?.("error",` : ${A instanceof Error?A.message:" "}`)}finally{u(!1)}},S=async()=>{f(!0);try{if(a.length===0){s?.("warning","   ");return}const A=await XV(a,w);A.success?(r(A.phrases),x(A),s?.("success",` :  ${A.removed},  ${A.modified} `),await _()):s?.("error",`  : ${A.errors.join(", ")}`)}catch(A){s?.("error",` : ${A instanceof Error?A.message:" "}`)}finally{f(!1)}},N=async()=>{f(!0);try{if(a.length===0){s?.("warning","   ");return}const A=await YV(a,w);A.success?(r(A.phrases),x(A),s?.("success",` :  ${A.removed},  ${A.modified} `),await _()):s?.("error",`  : ${A.errors.join(", ")}`)}catch(A){s?.("error",` : ${A instanceof Error?A.message:" "}`)}finally{f(!1)}},T=A=>A>=80?"text-green-600 bg-green-100":A>=60?"text-blue-600 bg-blue-100":A>=40?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",C=A=>A>=80?"":A>=60?"":A>=40?"":"";return c.jsx(Gn,{isOpen:e,onClose:t,title:"  ",size:"lg",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex gap-2",children:[c.jsx(jx,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),c.jsx("div",{className:"text-sm text-blue-800",children:"     , , -   .         ."})]}),c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[c.jsx(fr,{checked:w,onChange:()=>y(!w)}),c.jsx("label",{className:"text-sm text-gray-700",children:"   ()"})]}),o&&c.jsx("div",{className:"text-center py-8 text-gray-500",children:" ..."}),!o&&p&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg",children:[c.jsx("div",{className:`inline-flex items-center justify-center w-24 h-24 rounded-full text-3xl font-bold ${T(p.qualityScore)}`,children:p.qualityScore}),c.jsxs("p",{className:"mt-3 text-lg font-medium text-gray-700",children:[C(p.qualityScore)," "]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"border rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.totalPhrases.toLocaleString()})]}),c.jsxs("div",{className:"border rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.uniquePhrases.toLocaleString()})]}),c.jsxs("div",{className:"border rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsx("p",{className:"text-2xl font-bold text-red-600",children:p.duplicates.toLocaleString()})]}),c.jsxs("div",{className:"border rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:". "}),c.jsx("p",{className:"text-2xl font-bold text-orange-600",children:p.morphDuplicates.toLocaleString()})]}),c.jsxs("div",{className:"border rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),c.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:p.noiseCount.toLocaleString()})]}),c.jsxs("div",{className:"border rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"-"}),c.jsx("p",{className:"text-2xl font-bold text-purple-600",children:p.stopwordCount.toLocaleString()})]}),c.jsxs("div",{className:"border rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.averageLength})]}),c.jsxs("div",{className:"border rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.averageWords})]})]}),c.jsxs("div",{className:"border rounded-lg p-4",children:[c.jsx("h3",{className:"font-medium text-sm text-gray-700 mb-2",children:""}),c.jsx("ul",{className:"space-y-2",children:p.recommendations.map((A,z)=>c.jsxs("li",{className:"flex gap-2 text-sm text-gray-600",children:[A.includes("")||A.includes("")?c.jsx(kx,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-0.5"}):c.jsx(Ih,{className:"w-4 h-4 text-yellow-500 flex-shrink-0 mt-0.5"}),c.jsx("span",{children:A})]},z))})]})]}),v&&c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[c.jsx("p",{className:"text-sm font-medium text-green-800 mb-2",children:"  !"}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-green-700",children:[c.jsxs("div",{children:[": ",v.processed]}),c.jsxs("div",{children:[": ",v.removed]}),c.jsxs("div",{children:[": ",v.modified]})]}),v.warnings.length>0&&c.jsx("div",{className:"mt-2 space-y-1",children:v.warnings.map((A,z)=>c.jsx("p",{className:"text-xs text-green-600",children:A},z))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t",children:[c.jsx(Xe,{onClick:S,disabled:d||o,variant:"secondary",size:"sm",icon:c.jsx(aE,{className:"w-4 h-4"}),children:" "}),c.jsx(Xe,{onClick:N,disabled:d||o,variant:"primary",size:"sm",icon:c.jsx(rE,{className:"w-4 h-4"}),children:" "})]}),c.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:" :"}),"  , ,  "]}),c.jsxs("p",{children:[c.jsx("strong",{children:" :"})," + -   "]})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[c.jsx(Xe,{onClick:_,variant:"secondary",size:"sm",disabled:o,children:" "}),c.jsx(Xe,{onClick:t,variant:"secondary",size:"sm",children:""})]})]})})},QV=[e=>({...e,phrases:t0(e.phrases)}),e=>({...e,phrases:n0(e.phrases)}),e=>{const{cleaned:t}=ku(e.phrases);return{...e,phrases:t}},e=>({...e,phrases:CC(e.phrases)}),e=>({...e,phrases:KV(e.phrases,e.stopwords)}),e=>({...e,phrases:kC(e.phrases,!0)}),e=>({...e,phrases:e.phrases.filter(t=>(t.ws||0)>=100)})],eW=[e=>({...e,phrases:n0(e.phrases)}),e=>({...e,phrases:t0(e.phrases)}),e=>{const{cleaned:t}=ku(e.phrases);return{...e,phrases:t}},e=>({...e,phrases:e.phrases.map(t=>({...t,tags:[...t.tags||[],/\b(|||||||)\b/i.test(t.text)?"info":"commercial"]}))}),e=>({...e,phrases:e.phrases.filter(t=>!/\b(|||||)\b/i.test(t.text))}),e=>({...e,phrases:e.phrases.filter(t=>(t.ws||0)>=50)})],tW=[e=>({...e,phrases:t0(e.phrases)}),e=>({...e,phrases:n0(e.phrases)}),e=>{const{cleaned:t}=ku(e.phrases);return{...e,phrases:t}}],lg={ppc:{name:" PPC",description:"     (./Google Ads)",steps:QV,stepNames:["  "," "," ","  "," -","-","  (<100)"]},seo:{name:" SEO",description:"  ( /)",steps:eW,stepNames:[" ","  "," ","  ","  ","  (<50)"]},quick:{name:" ",description:" :  +  + ",steps:tW,stepNames:["  "," "," "]}},nW=({isOpen:e,onClose:t})=>{const{phrases:n,stopwords:r,setPhrases:s,addLog:a}=Et(),o=Array.isArray(n)?n:[],u=Array.isArray(r)?r:[],[d,f]=P.useState("quick"),[p,g]=P.useState(!1),[v,x]=P.useState(0),[w,y]=P.useState([]),[_,S]=P.useState(!1),N=lg[d],T=async()=>{if(o.length===0){a?.("warning","   ");return}g(!0),y([]),x(0),S(!1);try{const z={phrases:o,stopwords:u},M=[];let j={...z};const O=j.phrases?.length||0;for(let F=0;F<N.steps.length;F++){x(F+1);const re=j.phrases?.length||0;await new Promise(H=>setTimeout(H,100)),j=await N.steps[F](j);const k=j.phrases?.length||0,V=re-k,K=V>0?` ${F+1}/${N.steps.length}: ${N.stepNames[F]} -  ${V}  ( ${k})`:` ${F+1}/${N.steps.length}: ${N.stepNames[F]} -  ( ${k})`;M.push(K),y([...M])}const Y=O-j.phrases.length,J=`! : ${Y}/${O} (${(Y/O*100).toFixed(1)}%)`;M.push(J),y([...M]),Array.isArray(j.phrases)&&s(j.phrases),a?.("success",`${N.name}:  ${Y} `)}catch(z){const M=z instanceof Error?z.message:" ";a?.("error",`  : ${M}`),y(j=>[...j,`: ${M}`])}finally{g(!1),x(0)}},C=()=>{S(!0);const z=N.stepNames.map((M,j)=>`${j+1}. ${M}`);y(z)},A=()=>{p||(y([]),S(!1),x(0),t())};return c.jsx(Gn,{isOpen:e,onClose:A,title:" ",size:"lg",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),c.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.keys(lg).map(z=>{const M=lg[z];return c.jsxs("button",{onClick:()=>f(z),disabled:p,className:`
                    p-4 border rounded-lg text-left transition-all
                    ${d===z?"border-indigo-500 bg-indigo-50 ring-2 ring-indigo-200":"border-gray-300 hover:border-indigo-300 hover:bg-gray-50"}
                    ${p?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                  `,children:[c.jsx("div",{className:"font-medium text-gray-900",children:M.name}),c.jsx("div",{className:"text-sm text-gray-600 mt-1",children:M.description}),c.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[": ",M.steps.length]})]},z)})})]}),!p&&!_&&c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:" :"}),c.jsx("ol",{className:"space-y-2",children:N.stepNames.map((z,M)=>c.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[c.jsxs("span",{className:"inline-block w-6 text-gray-500",children:[M+1,"."]}),c.jsx("span",{children:z})]},M))})]}),p&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("span",{className:"text-gray-700",children:[": ",v,"/",N.steps.length]}),c.jsxs("span",{className:"text-gray-500",children:[(v/N.steps.length*100).toFixed(0),"%"]})]}),c.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-300",style:{width:`${v/N.steps.length*100}%`}})})]}),w.length>0&&c.jsx("div",{className:"bg-gray-900 rounded-lg p-4 max-h-64 overflow-y-auto",children:c.jsx("div",{className:"space-y-1",children:w.map((z,M)=>c.jsx("div",{className:"text-xs font-mono text-gray-300",children:z},M))})}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx("div",{className:"text-blue-600 mt-0.5",children:c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-sm font-medium text-blue-900",children:" "}),c.jsxs("div",{className:"text-sm text-blue-700 mt-1",children:["  : ",n.length," | -: ",r.length]})]})]})}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[!p&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:C,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""}),c.jsx("button",{onClick:T,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors",children:" "})]}),c.jsx("button",{onClick:A,disabled:p,className:`
              px-4 py-2 text-sm font-medium rounded-lg transition-colors
              ${p?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}
            `,children:p?"...":""})]})]})})},rW=[{id:"text",label:""},{id:"ws",label:" (ws)"},{id:"qws",label:"   (qws)"},{id:"bws",label:"  ! (bws)"},{id:"group",label:""},{id:"groupPath",label:" "},{id:"status",label:""},{id:"tags",label:""},{id:"minusTerms",label:"-"}],sW=[{name:" .",columns:["text","ws","groupPath"],includeGroupPath:!0,csvDelimiter:";",encoding:"utf-8"},{name:" Google Ads",columns:["text","ws","qws","group"],includeGroupPath:!1,csvDelimiter:",",encoding:"utf-8"},{name:" Excel ()",columns:["text","ws","qws","bws","groupPath","status","tags"],includeGroupPath:!0,csvDelimiter:";",encoding:"windows-1251"}],aW=({isOpen:e,onClose:t})=>{const{exportPresets:n,saveExportPreset:r,loadExportPreset:s,deleteExportPreset:a,addLog:o}=Et(),[u,d]=P.useState("list"),[f,p]=P.useState(null),[g,v]=P.useState({name:"",columns:["text","ws"],includeGroupPath:!1,csvDelimiter:";",encoding:"utf-8"}),x=()=>{v({name:"",columns:["text","ws"],includeGroupPath:!1,csvDelimiter:";",encoding:"utf-8"}),d("create")},w=C=>{p(C),v({name:C.name,columns:C.columns,includeGroupPath:C.includeGroupPath,csvDelimiter:C.csvDelimiter,encoding:C.encoding}),d("edit")},y=()=>{if(!g.name.trim()){o("warning","  ");return}if(g.columns.length===0){o("warning","    ");return}u==="edit"&&f&&a(f.id),r(g),d("list"),o("success",` : ${g.name}`)},_=C=>{confirm(" ?")&&(a(C),o("success"," "))},S=C=>{r(C),o("success",`  : ${C.name}`)},N=()=>{d("list"),p(null)},T=C=>{v(A=>({...A,columns:A.columns.includes(C)?A.columns.filter(z=>z!==C):[...A.columns,C]}))};return c.jsx(Gn,{isOpen:e,onClose:t,title:"  ",size:"lg",children:c.jsxs("div",{className:"space-y-6",children:[u==="list"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:" "}),c.jsx("div",{className:"space-y-2",children:sW.map((C,A)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-gray-900",children:C.name}),c.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[C.columns.length,"   ",C.encoding,"  : ",C.csvDelimiter===";"?"  ":C.csvDelimiter===","?"":""]})]}),c.jsx("button",{onClick:()=>S(C),className:"ml-4 px-3 py-1.5 text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:""})]},A))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["  (",n.length,")"]}),c.jsx("button",{onClick:x,className:"px-3 py-1.5 text-sm text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors",children:""})]}),n.length===0?c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx("div",{className:"text-sm",children:"  "}),c.jsx("div",{className:"text-xs mt-1",children:"    "})]}):c.jsx("div",{className:"space-y-2",children:n.map(C=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-gray-900",children:C.name}),c.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[C.columns.length,"   ",C.encoding,"  : ",C.csvDelimiter===";"?"  ":C.csvDelimiter===","?"":""]})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c.jsx("button",{onClick:()=>w(C),className:"px-3 py-1.5 text-sm text-gray-700 hover:text-gray-900 font-medium",children:""}),c.jsx("button",{onClick:()=>_(C.id),className:"px-3 py-1.5 text-sm text-red-600 hover:text-red-700 font-medium",children:""})]})]},C.id))})]})]}),(u==="create"||u==="edit")&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),c.jsx("input",{type:"text",value:g.name,onChange:C=>v({...g,name:C.target.value}),placeholder:":   ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   "}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:rW.map(C=>c.jsxs("label",{className:"flex items-center space-x-2 p-2 border border-gray-200 rounded hover:bg-gray-50 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:g.columns.includes(C.id),onChange:()=>T(C.id),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),c.jsx("span",{className:"text-sm text-gray-700",children:C.label})]},C.id))})]}),c.jsx("div",{children:c.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:g.includeGroupPath,onChange:C=>v({...g,includeGroupPath:C.target.checked}),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),c.jsx("span",{className:"text-sm text-gray-700",children:"   (  )"})]})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" CSV"}),c.jsxs("select",{value:g.csvDelimiter,onChange:C=>v({...g,csvDelimiter:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:";",children:"   (;)"}),c.jsx("option",{value:",",children:" (,)"}),c.jsx("option",{value:"\\t",children:" (TAB)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),c.jsxs("select",{value:g.encoding,onChange:C=>v({...g,encoding:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"utf-8",children:"UTF-8 ()"}),c.jsx("option",{value:"windows-1251",children:"Windows-1251 (  )"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[c.jsx("button",{onClick:N,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""}),c.jsx("button",{onClick:y,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors",children:u==="edit"?" ":" "})]})]}),u==="list"&&c.jsx("div",{className:"flex justify-end pt-4 border-t",children:c.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:""})})]})})},iW=({isOpen:e,onClose:t})=>{const{snapshots:n,phrases:r,groups:s,createSnapshot:a,restoreSnapshot:o,deleteSnapshot:u,addLog:d}=Et(),f=Array.isArray(n)?n:[],p=Array.isArray(r)?r:[],g=Array.isArray(s)?s:[],[v,x]=P.useState("list"),[w,y]=P.useState({name:"",description:""}),_=()=>{y({name:"",description:""}),x("create")},S=()=>{if(!w.name.trim()){d?.("warning","  ");return}a(w.name,w.description),x("list"),d?.("success",` : ${w.name}`)},N=M=>{confirm(`  "${M.name}"?

   .`)&&(o(M.id),d?.("success",` : ${M.name}`))},T=M=>{confirm(`  "${M.name}"?`)&&(u(M.id),d?.("success",` : ${M.name}`))},C=()=>{x("list")},A=M=>new Date(M).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),z=M=>{const j=Array.isArray(M.data?.phrases)?M.data.phrases.length:0,O=Array.isArray(M.data?.groups)?M.data.groups.length:0;return`${j} , ${O} `};return c.jsx(Gn,{isOpen:e,onClose:t,title:" ",size:"lg",children:c.jsxs("div",{className:"space-y-6",children:[v==="list"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx("div",{className:"text-blue-600 mt-0.5",children:c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-sm font-medium text-blue-900",children:" "}),c.jsx("div",{className:"text-sm text-blue-700 mt-1",children:"     (, , ).     . : 50 ."})]})]})}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:" "}),c.jsxs("div",{className:"text-sm text-gray-600",children:[": ",p.length," | : ",g.length]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["  (",f.length,"/50)"]}),c.jsx("button",{onClick:_,disabled:f.length>=50,className:`
                    px-3 py-1.5 text-sm text-white rounded-lg transition-colors
                    ${f.length>=50?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}
                  `,children:" "})]}),f.length===0?c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx("div",{className:"text-sm",children:"  "}),c.jsx("div",{className:"text-xs mt-1",children:"     "})]}):c.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:f.slice().reverse().map(M=>c.jsx("div",{className:"p-4 bg-white rounded-lg border border-gray-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-gray-900",children:M.name}),M.description&&c.jsx("div",{className:"text-sm text-gray-600 mt-1",children:M.description}),c.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[c.jsx("span",{children:A(M.timestamp)}),c.jsx("span",{children:z(M)})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c.jsx("button",{onClick:()=>N(M),className:"px-3 py-1.5 text-sm text-white bg-indigo-600 rounded hover:bg-indigo-700 transition-colors",children:""}),c.jsx("button",{onClick:()=>T(M),className:"px-3 py-1.5 text-sm text-red-600 hover:text-red-700 font-medium",children:""})]})]})},M.id))})]}),c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx("div",{className:"text-yellow-600 mt-0.5",children:c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-sm font-medium text-yellow-900",children:" "}),c.jsx("div",{className:"text-sm text-yellow-700 mt-1",children:"        .     Undo/Redo."})]})]})})]}),v==="create"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),c.jsx("input",{type:"text",value:w.name,onChange:M=>y({...w,name:M.target.value}),placeholder:":  ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ()"}),c.jsx("textarea",{value:w.description,onChange:M=>y({...w,description:M.target.value}),placeholder:"   ",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm text-gray-600",children:[c.jsx("div",{className:"font-medium mb-1",children:" :"}),c.jsxs("ul",{className:"space-y-1 ml-4",children:[c.jsxs("li",{children:[" : ",p.length]}),c.jsxs("li",{children:[" : ",g.length]}),c.jsx("li",{children:"   "})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[c.jsx("button",{onClick:C,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""}),c.jsx("button",{onClick:S,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors",children:" "})]})]}),v==="list"&&c.jsx("div",{className:"flex justify-end pt-4 border-t",children:c.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:""})})]})})},oW=["#ef4444","#f97316","#f59e0b","#eab308","#84cc16","#22c55e","#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899"],lW=({isOpen:e,onClose:t})=>{const n=Et(),r=Array.isArray(n.phraseTags)?n.phraseTags:[],s=Array.isArray(n.phrases)?n.phrases:[],a=n.selectedPhraseIds,o=a instanceof Set?a:new Set(Array.isArray(a)?a:[]),{addPhraseTag:u,assignTagToPhrase:d,removeTagFromPhrase:f,deletePhraseTag:p,addLog:g}=n,[v,x]=P.useState("list"),[w,y]=P.useState({name:"",color:"#6366f1"}),[_,S]=P.useState(null),N=()=>{y({name:"",color:"#6366f1"}),x("create")},T=()=>{if(!w.name.trim()){g?.("warning","  ");return}u?.(w.name,w.color),x("list"),g?.("success",` : ${w.name}`)},C=J=>{const F=s.filter(k=>Array.isArray(k.tags)&&k.tags.includes(J.id)).length,re=F>0?`  "${J.name}"?

   ${F} .`:`  "${J.name}"?`;confirm(re)&&(p?.(J.id),g?.("success",` : ${J.name}`))},A=J=>{if(o.size===0){g?.("warning","    ");return}Array.from(o).forEach(re=>{const k=s.find(V=>V.id===re);k&&!(k.tags||[]).includes(J)&&d?.(re,J)});const F=r.find(re=>re.id===J);g?.("success",` "${F?.name}"  ${o.size} `)},z=J=>{if(o.size===0){g?.("warning","    ");return}Array.from(o).forEach(re=>{f?.(re,J)});const F=r.find(re=>re.id===J);g?.("success",` "${F?.name}"   ${o.size} `)},M=()=>{x("list")},j=J=>s.filter(F=>Array.isArray(F.tags)&&F.tags.includes(J)).length,O=J=>new Date(J).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),Y=_?s.filter(J=>J.tags?.includes(_)):s;return c.jsx(Gn,{isOpen:e,onClose:t,title:" ",size:"lg",children:c.jsxs("div",{className:"space-y-6",children:[v==="list"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx("div",{className:"text-blue-600 mt-0.5",children:c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-sm font-medium text-blue-900",children:" "}),c.jsx("div",{className:"text-sm text-blue-700 mt-1",children:"   .      ,     .    ."})]})]})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["  (",r.length,")"]}),c.jsx("button",{onClick:N,className:"px-3 py-1.5 text-sm text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors",children:" "})]}),r.length===0?c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx("div",{className:"text-sm",children:"  "}),c.jsx("div",{className:"text-xs mt-1",children:"    "})]}):c.jsx("div",{className:"space-y-2",children:r.map(J=>{const F=j(J.id);return c.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:J.color}}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-gray-900",children:J.name}),c.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[": ",F,"   : ",O(J.created)]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c.jsx("button",{onClick:()=>A(J.id),disabled:o.size===0,className:`
                                px-2 py-1 text-xs rounded transition-colors
                                ${o.size===0?"text-gray-400 bg-gray-100 cursor-not-allowed":"text-green-700 bg-green-50 hover:bg-green-100"}
                              `,title:"  ",children:""}),c.jsx("button",{onClick:()=>z(J.id),disabled:o.size===0,className:`
                                px-2 py-1 text-xs rounded transition-colors
                                ${o.size===0?"text-gray-400 bg-gray-100 cursor-not-allowed":"text-orange-700 bg-orange-50 hover:bg-orange-100"}
                              `,title:"   ",children:""}),c.jsx("button",{onClick:()=>S(_===J.id?null:J.id),className:`
                                px-2 py-1 text-xs rounded transition-colors
                                ${_===J.id?"text-indigo-700 bg-indigo-100":"text-gray-700 bg-gray-100 hover:bg-gray-200"}
                              `,title:"    ",children:""}),c.jsx("button",{onClick:()=>C(J),className:"px-2 py-1 text-xs text-red-600 hover:text-red-700 font-medium",children:""})]})]})},J.id)})})]}),o.size>0&&c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx("div",{className:"text-yellow-600 mt-0.5",children:c.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),c.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"text-sm font-medium text-yellow-900",children:[" : ",o.size]}),c.jsx("div",{className:"text-sm text-yellow-700 mt-1",children:'  ""  ""     '})]})]})}),_&&c.jsx("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm text-indigo-900",children:["   : ",c.jsx("span",{className:"font-medium",children:r.find(J=>J.id===_)?.name})," (",Y.length,")"]}),c.jsx("button",{onClick:()=>S(null),className:"text-sm text-indigo-700 hover:text-indigo-800 font-medium",children:" "})]})})]}),v==="create"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),c.jsx("input",{type:"text",value:w.name,onChange:J=>y({...w,name:J.target.value}),placeholder:": , , ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),c.jsx("div",{className:"grid grid-cols-8 gap-2",children:oW.map(J=>c.jsx("button",{onClick:()=>y({...w,color:J}),className:`
                      w-10 h-10 rounded-lg transition-all
                      ${w.color===J?"ring-2 ring-offset-2 ring-gray-900":"hover:scale-110"}
                    `,style:{backgroundColor:J}},J))})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[c.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:":"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:w.color}}),c.jsx("span",{className:"text-sm text-gray-900",children:w.name||" "})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[c.jsx("button",{onClick:M,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""}),c.jsx("button",{onClick:T,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors",children:" "})]})]}),v==="list"&&c.jsx("div",{className:"flex justify-end pt-4 border-t",children:c.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:""})})]})})},cW=({isOpen:e,onClose:t,selectedIds:n})=>{const{phrases:r,updatePhrase:s,addLog:a}=Et(),[o,u]=Te.useState("replace"),[d,f]=Te.useState(""),[p,g]=Te.useState(""),v=()=>{if(!d.trim()&&o!=="prefix"&&o!=="suffix"){alert("   ");return}let x=0;r.filter(y=>n.includes(y.id)).forEach(y=>{let _=y.text;switch(o){case"replace":_.includes(d)&&(_=_.replace(new RegExp(d,"g"),p),x++);break;case"prefix":_=p+_,x++;break;case"suffix":_=_+p,x++;break;case"remove":_.includes(d)&&(_=_.replace(new RegExp(d,"g"),""),x++);break}_!==y.text&&s(y.id,{text:_.trim()})}),a("success",` :  ${x} `),t()};return e?c.jsx(Gn,{isOpen:e,onClose:t,title:"  ",size:"md",children:c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded",children:c.jsxs("div",{className:"text-sm text-blue-800",children:[" : ",c.jsx("strong",{children:n.length})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:":"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",checked:o==="replace",onChange:()=>u("replace"),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:" "})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",checked:o==="prefix",onChange:()=>u("prefix"),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:" "})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",checked:o==="suffix",onChange:()=>u("suffix"),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:" "})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",checked:o==="remove",onChange:()=>u("remove"),className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:" "})]})]})]}),(o==="replace"||o==="remove")&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:":"}),c.jsx(ka,{value:d,onChange:x=>f(x.target.value),placeholder:"  "})]}),(o==="replace"||o==="prefix"||o==="suffix")&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:o==="replace"?" :":o==="prefix"?":":":"}),c.jsx(ka,{value:p,onChange:x=>g(x.target.value),placeholder:o==="replace"?" ":o==="prefix"?"  ":"  "})]}),d&&c.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded p-3",children:[c.jsx("div",{className:"text-xs text-gray-600 mb-1",children:":"}),c.jsxs("div",{className:"text-sm",children:[" : ",c.jsx("strong",{children:r.filter(x=>n.includes(x.id)&&(o==="prefix"||o==="suffix"||x.text.includes(d))).length})," "]})]})]}),c.jsxs("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t",children:[c.jsx(Xe,{onClick:t,variant:"secondary",children:""}),c.jsx(Xe,{onClick:v,variant:"primary",children:""})]})]})}):null},uW=({selectedCount:e,selectedIds:t})=>{const{groups:n,movePhrasesToGroup:r,copyPhrasesToGroup:s,deleteSelectedPhrases:a,addLog:o}=Et(),[u,d]=Te.useState(null),[f,p]=Te.useState(!1),g=async(w,y)=>{y==="move"?(await r(t,w),o("success",` ${e} `)):(s(t,w),o("success",` ${e} `)),d(null)},v=async()=>{confirm(`   (${e} .)?`)&&await a(t)},x=()=>{const{phrases:w}=Et.getState(),_=w.filter(S=>t.includes(S.id)).map(S=>S.text).join(`
`);navigator.clipboard.writeText(_),o("success",` ${e}   `)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-3 flex items-center gap-3 shadow-lg z-10",children:[c.jsxs("span",{className:"font-semibold",children:[": ",e]}),c.jsxs("div",{className:"flex gap-2 flex-1",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Xe,{onClick:()=>d(u==="move"?null:"move"),variant:"secondary",className:"text-sm bg-white/20 hover:bg-white/30 text-white border-white/30",children:" "}),u==="move"&&c.jsx("div",{className:"absolute bottom-full mb-2 left-0 bg-white rounded shadow-lg py-1 min-w-[200px] max-h-[200px] overflow-auto z-50",children:n.length===0?c.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:" "}):n.map(w=>c.jsx("button",{onClick:()=>g(w.id,"move"),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm text-gray-900",children:w.name},w.id))})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Xe,{onClick:()=>d(u==="copy"?null:"copy"),variant:"secondary",className:"text-sm bg-white/20 hover:bg-white/30 text-white border-white/30",children:" "}),u==="copy"&&c.jsx("div",{className:"absolute bottom-full mb-2 left-0 bg-white rounded shadow-lg py-1 min-w-[200px] max-h-[200px] overflow-auto z-50",children:n.length===0?c.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:" "}):n.map(w=>c.jsx("button",{onClick:()=>g(w.id,"copy"),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm text-gray-900",children:w.name},w.id))})]}),c.jsx(Xe,{onClick:()=>p(!0),variant:"secondary",className:"text-sm bg-white/20 hover:bg-white/30 text-white border-white/30",children:" "}),c.jsx(Xe,{onClick:x,variant:"secondary",className:"text-sm bg-white/20 hover:bg-white/30 text-white border-white/30",children:"  "}),c.jsx(Xe,{onClick:v,variant:"danger",className:"text-sm bg-red-500/80 hover:bg-red-600 text-white border-red-400",children:" "})]})]}),c.jsx(cW,{isOpen:f,onClose:()=>p(!1),selectedIds:t})]})},dW=Te.lazy(()=>kl(()=>Promise.resolve().then(()=>mX),void 0).then(e=>({default:e.WordstatModal})));function fW(){const[e,t]=Te.useState(!1),[n,r]=Te.useState(!1),[s,a]=Te.useState(!1),[o,u]=Te.useState(!1),[d,f]=Te.useState(!1),[p,g]=Te.useState(!1),[v,x]=Te.useState(!1),[w,y]=Te.useState(!1),[_,S]=Te.useState(!1),[N,T]=Te.useState(null),[C,A]=Te.useState(!1),[z,M]=Te.useState(!1),[j,O]=Te.useState(!1),[Y,J]=Te.useState(!1),[F,re]=Te.useState(!1),[k,V]=Te.useState(!1),[K,H]=Te.useState(!1),[Q,ee]=Te.useState(!1),[ae,D]=Te.useState(!1),[R,U]=Te.useState(!1),[B,G]=Te.useState(!1),[ue,ge]=Te.useState(null),{selectedPhraseIds:me,phrases:ve,groups:Re,clearFilters:Ue,deletePhrases:Ve,selectAll:st,deselectAll:I,invertSelection:ye,undo:ne,redo:q,canUndo:X,canRedo:le,addLog:pe,movePhrasesToGroup:be,copyPhrasesToGroup:fe,updateGroupParent:Me,loadInitialData:we,isDataLoaded:je,isDataLoading:He,dataError:et}=Et(),Ge=me instanceof Set?me:new Set(Array.isArray(me)?me:[]),mt=Array.isArray(ve)?ve:[],Gt=Array.isArray(Re)?Re:[],vt=Te.useRef(!1);Te.useEffect(()=>{vt.current||(vt.current=!0,!je&&!He&&we())},[]);const Mt=uL(cL(Xx,{activationConstraint:{distance:8}})),xt=rt=>{const{active:Dt,over:At}=rt;if(!At||!Dt.data.current||!At.data.current)return;const ze=Dt.data.current.type,tt=At.data.current.type;if(ze==="phrase"&&(tt==="group"||tt==="group-target")){const ht=Dt.id,Tt=At.id,yt=mt.find(St=>St.id===ht);if(!yt||yt.groupId===Tt)return;ge({phraseIds:[ht],targetGroupId:Tt})}if(ze==="group"&&tt==="group-target"){const ht=Dt.data.current.group.id,Tt=At.data.current.group.id;if(ht===Tt)return;const yt=(St,Ot)=>{const Bt=Gt.find(vn=>vn.id===Ot);return Bt?Bt.parentId===St?!0:Bt.parentId?yt(St,Bt.parentId):!1:!1};if(yt(ht,Tt)){pe("warning","     ");return}Me(ht,Tt)}};return bs("ctrl+a",rt=>{rt.preventDefault(),st()},{enableOnFormTags:!1}),bs("delete",()=>{Ge.size>0&&window.confirm(`   (${Ge.size} .)?`)&&Ve(Array.from(Ge))},{enableOnFormTags:!1}),bs("escape",()=>{I()}),bs("ctrl+f",rt=>{rt.preventDefault(),pe("info","  -  ")}),bs("ctrl+h",rt=>{rt.preventDefault(),S(!0)},{enableOnFormTags:!1}),bs("ctrl+i",rt=>{rt.preventDefault(),ye()},{enableOnFormTags:!1}),bs("ctrl+l",rt=>{rt.preventDefault(),Ue()},{enableOnFormTags:!1}),bs("f5",rt=>{rt.preventDefault(),we(),pe("info","   ")}),bs("ctrl+d",rt=>{rt.preventDefault(),Ge.size>0&&pe("info","  -    ")},{enableOnFormTags:!1}),bs("ctrl+z",rt=>{rt.preventDefault(),X()&&ne()},{enableOnFormTags:!1}),bs("ctrl+y",rt=>{rt.preventDefault(),le()&&q()},{enableOnFormTags:!1}),et?c.jsx("div",{className:"h-screen flex flex-col items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"max-w-md w-full bg-white border border-red-200 shadow-sm rounded-lg p-8 text-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-red-700 mb-3",children:"   "}),c.jsx("p",{className:"text-sm text-gray-600 mb-6",children:et}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsx(Xe,{variant:"primary",onClick:()=>we(),className:"w-full",children:" "}),c.jsx(Xe,{variant:"secondary",onClick:()=>window.location.reload(),children:" "})]})]})}):je?c.jsx(fP,{sensors:Mt,onDragEnd:xt,children:c.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 font-sans",children:[c.jsx(kF,{onImportClick:()=>t(!0),onExportClick:()=>r(!0),onDuplicatesClick:()=>a(!0),onStopwordsClick:()=>u(!0),onParsingClick:()=>f(!0),onFiltersClick:()=>g(!0),onColumnSettingsClick:()=>x(!0),onStatisticsClick:()=>y(!0),onSimilarPhrasesClick:()=>A(!0),onAutomationClick:()=>M(!0),onGroupTypeManagerClick:()=>O(!0),onViewTemplatesClick:()=>J(!0),onCrossMinusationClick:()=>re(!0),onMorphDuplicatesClick:()=>V(!0),onDataQualityClick:()=>H(!0),onPipelinesClick:()=>ee(!0),onExportPresetsClick:()=>D(!0),onSnapshotsClick:()=>U(!0),onTagsClick:()=>G(!0)}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[c.jsx(N7,{onShowHistory:rt=>T(rt)}),c.jsx(j7,{}),c.jsx(A7,{}),Ge.size>0&&c.jsx(uW,{selectedCount:Ge.size,selectedIds:Array.from(Ge)})]}),c.jsx("div",{className:"w-[30%] min-w-[280px] max-w-[400px]",children:c.jsx(k7,{})})]}),c.jsx(jV,{isOpen:e,onClose:()=>t(!1)}),c.jsx(AV,{isOpen:n,onClose:()=>r(!1)}),c.jsx(OV,{isOpen:s,onClose:()=>a(!1)}),c.jsx(MV,{isOpen:o,onClose:()=>u(!1)}),d&&c.jsx(Te.Suspense,{fallback:c.jsx(Gn,{isOpen:!0,onClose:()=>f(!1),title:"Wordstat",children:c.jsx("div",{className:"p-6 text-sm text-gray-500",children:"  Wordstat"})}),children:c.jsx(dW,{isOpen:!0,onClose:()=>f(!1)})}),p&&c.jsx(DV,{onClose:()=>g(!1)}),v&&c.jsx(IV,{onClose:()=>x(!1)}),c.jsx(LV,{isOpen:w,onClose:()=>y(!1)}),c.jsx(PV,{isOpen:_,onClose:()=>S(!1)}),N&&c.jsx(FV,{phraseId:N,onClose:()=>T(null)}),C&&c.jsx(zV,{onClose:()=>A(!1)}),z&&c.jsx(BV,{onClose:()=>M(!1)}),j&&c.jsx(UV,{onClose:()=>O(!1)}),Y&&c.jsx($V,{isOpen:!0,onClose:()=>J(!1)}),F&&c.jsx(HV,{isOpen:!0,onClose:()=>re(!1)}),k&&c.jsx(GV,{isOpen:!0,onClose:()=>V(!1)}),K&&c.jsx(ZV,{isOpen:!0,onClose:()=>H(!1)}),Q&&c.jsx(nW,{isOpen:!0,onClose:()=>ee(!1)}),ae&&c.jsx(aW,{isOpen:!0,onClose:()=>D(!1)}),R&&c.jsx(iW,{isOpen:!0,onClose:()=>U(!1)}),B&&c.jsx(lW,{isOpen:!0,onClose:()=>G(!1)}),ue&&c.jsx(Gn,{isOpen:!0,onClose:()=>ge(null),title:"  ",size:"sm",children:c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"mb-4 text-sm text-gray-600",children:"    :"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(Xe,{onClick:()=>{be(ue.phraseIds,ue.targetGroupId);const rt=Gt.find(Dt=>Dt.id===ue.targetGroupId);pe("success",`   "${rt?.name}"`),ge(null)},variant:"primary",className:"flex-1",children:""}),c.jsx(Xe,{onClick:()=>{fe(ue.phraseIds,ue.targetGroupId);const rt=Gt.find(Dt=>Dt.id===ue.targetGroupId);pe("success",`   "${rt?.name}"`),ge(null)},variant:"secondary",className:"flex-1",children:""})]})]})})]})}):c.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-gray-50 text-gray-600",children:[c.jsx(yl,{className:"w-10 h-10 animate-spin mb-3"}),c.jsx("p",{className:"text-lg font-medium",children:"    ..."})]})}function hW(){return c.jsx(DI,{children:c.jsx(fW,{})})}const pW=Object.freeze(Object.defineProperty({__proto__:null,default:hW},Symbol.toStringTag,{value:"Module"})),Gs={TITLE1_MAX:35,TITLE2_MAX:30,TEXT_MAX:81,QUICKLINK_TITLE_MAX:30,QUICKLINK_DESC_MAX:60,DISPLAY_URL_MAX:20};function Y_(e,t=20){const n={:"a",:"b",:"v",:"g",:"d",:"e",:"e",:"zh",:"z",:"i",:"y",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"h",:"ts",:"ch",:"sh",:"sch",:"",:"y",:"",:"e",:"yu",:"ya"};return e.toLowerCase().split("").map(r=>n[r]??r).join("").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").substring(0,t)}function mW(e,t,n){if(!e)return"";let s=`https://${e.replace(/^https?:\/\//i,"").replace(/^www\./i,"").replace(/\/$/,"")}`;if(t&&t.trim()){const a=t.replace(/{key}/g,encodeURIComponent(n)).replace(/{group}/g,encodeURIComponent(n.substring(0,40)));s+=`?${a}`}return s}function J_(e,t){if(!e)return"";const n=e.split("?")[0].replace(/^https?:\/\//i,"");return t?`${n}/${t}`:n}function gW(e){return e.charAt(0).toUpperCase()+e.slice(1)}function qf(e,t){return e.length<=t?e:e.slice(0,t-1)+""}function Yo(e,t){let n=e;return n=n.replace(/\{phrase\}/g,t),n=n.replace(/\{Phrase\}/g,gW(t)),n=n.replace(/\{PHRASE\}/g,t.toUpperCase()),n}function xl(e,t){const n=e.trim();return n.length===0?{text:"",warning:" "}:n.length>t?{text:qf(n,t),warning:`   ${n.length}  ${t} `}:{text:n}}function xW(e){const t=e.trim();if(!t)return{text:""};const n=t.split(/\s+/);let r="";for(const s of n){const a=r?`${r} ${s}`:s;if(a.length<=Gs.TITLE1_MAX)r=a;else break}return r||(r=t),xl(r,Gs.TITLE1_MAX)}function vW(e,t,n){if(!e||e.length===0)return null;const r=e[t%e.length]?.trim();if(!r)return null;const s=Math.max(0,65-n.length);if(s===0)return null;const a=Math.min(Gs.TITLE2_MAX,s);return a<=0?null:xl(r,a)}function yW(e){if(e)return xl(e,Gs.TEXT_MAX)}function wW(e,t){const n=[];let r=t.title1;t.usePhraseInTitle&&(r=Yo(r,e.text));const s=xl(r,Gs.TITLE1_MAX);s.warning&&n.push(` 1: ${s.warning}`);let a;if(t.title2){a=t.usePhraseInTitle?Yo(t.title2,e.text):t.title2;const p=xl(a,Gs.TITLE2_MAX);p.warning&&n.push(` 2: ${p.warning}`),a=p.text}let o=t.text;t.usePhraseInText&&(o=Yo(o,e.text));const u=xl(o,Gs.TEXT_MAX);u.warning&&n.push(`: ${u.warning}`);const d=t.quickLinks?.map(p=>{const g=Yo(p.title,e.text),v=p.description?Yo(p.description,e.text):void 0;return{title:qf(g,Gs.QUICKLINK_TITLE_MAX),description:v?qf(v,Gs.QUICKLINK_DESC_MAX):void 0,url:p.url}}),f=t.displayUrl?qf(Yo(t.displayUrl,e.text),Gs.DISPLAY_URL_MAX):void 0;return{id:`ad_${e.id}_${t.id}_${Date.now()}`,phraseId:e.id,phrase:e.text,templateId:t.id,title1:s.text,title2:a,text:u.text,displayUrl:f,quickLinks:d,status:n.length>0?"draft":"ready",warnings:n.length>0?n:void 0,createdAt:Date.now()}}function bW(e,t,n){const r=[],s=e.length;return e.forEach((a,o)=>{const u=wW(a,t);r.push(u),n&&n(o+1,s)}),r}function _W(e,t="",n=" "){const r=["Campaign","AdGroup","Keyword","Title1","Title2","Text","DisplayUrl","QuickLink1Title","QuickLink1Desc","QuickLink2Title","QuickLink2Desc","QuickLink3Title","QuickLink3Desc","QuickLink4Title","QuickLink4Desc"],s=e.map(o=>{const u=[t,n,o.phrase,o.title1,o.title2||"",o.text,o.displayUrl||""];for(let d=0;d<4;d++){const f=o.quickLinks?.[d];u.push(f?.title||""),u.push(f?.description||"")}return u});return[r,...s].map(o=>o.map(u=>`"${u.replace(/"/g,'""')}"`).join(",")).join(`
`)}const SW={name:"  ",title1:"{Phrase} -   ",title2:" ,  ",text:"  {phrase}.  .    . !",displayUrl:"site.ru/{phrase}",quickLinks:[{title:"",description:"  "},{title:"",description:"  50%"},{title:"",description:"   "},{title:"",description:" "}],usePhraseInTitle:!0,usePhraseInText:!0},EW=ON((e,t)=>({templates:[{...SW,id:"template_default",createdAt:Date.now()}],generatedAds:[],selectedTemplateId:"template_default",selectedAdIds:new Set,isGenerating:!1,progress:0,totalToGenerate:0,addTemplate:n=>{const r={...n,id:`template_${Date.now()}`,createdAt:Date.now()};e(s=>({templates:[...s.templates,r]}))},updateTemplate:(n,r)=>{e(s=>({templates:s.templates.map(a=>a.id===n?{...a,...r}:a)}))},deleteTemplate:n=>{e(r=>({templates:r.templates.filter(s=>s.id!==n),selectedTemplateId:r.selectedTemplateId===n?null:r.selectedTemplateId}))},selectTemplate:n=>{e({selectedTemplateId:n})},generateAds:async(n,r)=>{const{templateId:s,phraseIds:a,replaceExisting:o,domain:u,utm:d,clarifications:f,quickLinks:p,addons:g=[],bodyText:v,groupId:x,useDynamicDisplayUrl:w=!0,customDisplayPath:y}=r,_=t().templates.find(A=>A.id===s);if(!_)throw new Error("  ");const S=n.filter(A=>a.includes(A.id));if(S.length===0)throw new Error("    ");e({isGenerating:!0,progress:0,totalToGenerate:S.length});const N=bW(S,_,(A,z)=>{e({progress:A,totalToGenerate:z})}),T=yW(v),C=N.map((A,z)=>{const M=xW(A.phrase),j=vW(g,z,M.text),O=A.warnings?[...A.warnings]:[];M.warning&&O.push(` 1: ${M.warning}`),j?.warning&&O.push(` 2: ${j.warning}`),T?.warning&&O.push(`: ${T.warning}`);const Y=u?mW(u,d,A.phrase):A.url,J=y?.trim().replace(/^\/+|\/+$/g,"")||void 0,F=w?Y_(A.phrase):J,re=Y?J_(Y,F):A.displayUrl;return{...A,title1:M.text,title2:j?.text??A.title2,text:T?.text??A.text,url:Y,displayUrl:re,clarifications:f??A.clarifications,quickLinks:p??A.quickLinks,groupId:x||A.groupId,warnings:O.length?O:void 0}});e(A=>{let z=[...A.generatedAds];return o&&(z=z.filter(M=>!a.includes(M.phraseId))),{generatedAds:[...z,...C],isGenerating:!1,progress:0,totalToGenerate:0}})},deleteAd:n=>{e(r=>({generatedAds:r.generatedAds.filter(s=>s.id!==n),selectedAdIds:new Set(Array.from(r.selectedAdIds).filter(s=>s!==n))}))},deleteAds:n=>{e(r=>({generatedAds:r.generatedAds.filter(s=>!n.includes(s.id)),selectedAdIds:new Set(Array.from(r.selectedAdIds).filter(s=>!n.includes(s)))}))},updateAd:(n,r)=>{e(s=>({generatedAds:s.generatedAds.map(a=>a.id===n?{...a,...r}:a)}))},selectAds:n=>{e({selectedAdIds:new Set(n)})},selectAllAds:()=>{e(n=>({selectedAdIds:new Set(n.generatedAds.map(r=>r.id))}))},deselectAllAds:()=>{e({selectedAdIds:new Set})},applyCommonSettings:n=>{e(r=>({generatedAds:r.generatedAds.map(s=>({...s,clarifications:n.clarifications??s.clarifications,quickLinks:n.quickLinks??s.quickLinks}))}))},applyDisplaySettings:({useDynamicDisplayUrl:n,customDisplayPath:r})=>{const s=a=>a&&a.trim().replace(/^\/+|\/+$/g,"")||void 0;e(a=>({generatedAds:a.generatedAds.map(o=>{if(!o.url)return o;const u=n?Y_(o.phrase):s(r);return{...o,displayUrl:J_(o.url,u)}})}))},clearAll:()=>{e({generatedAds:[],selectedAdIds:new Set})},getAdsByTemplate:n=>t().generatedAds.filter(r=>r.templateId===n),getAdsByPhrase:n=>t().generatedAds.filter(r=>r.phraseId===n)}));function NW({ads:e}){return e.length?c.jsxs("div",{className:"generated-ads-table-section",children:[c.jsx("div",{className:"generated-ads-header",children:c.jsxs("h2",{children:["  (",c.jsx("span",{children:e.length}),")"]})}),c.jsx("div",{className:"generated-ads-table-wrapper",children:c.jsxs("table",{className:"generated-ads-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:""}),c.jsx("th",{children:" ( -)"}),c.jsx("th",{children:" 1"}),c.jsx("th",{children:" 2"}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:" "}),c.jsx("th",{children:"  "}),c.jsx("th",{children:"  "}),c.jsx("th",{children:"  "}),c.jsx("th",{children:""})]})}),c.jsx("tbody",{children:e.map((t,n)=>{const r=t.quickLinks??[],s=r.map(d=>d.title||"").filter(Boolean).join("||"),a=r.map(d=>d.description||"").filter(Boolean).join("||"),o=r.map(d=>d.url||"").filter(Boolean).join("||"),u=(t.clarifications||"").split(/\r?\n/).map(d=>d.trim()).filter(Boolean).join("||");return c.jsxs("tr",{children:[c.jsx("td",{children:n+1}),c.jsx("td",{children:t.phrase}),c.jsx("td",{children:t.title1}),c.jsx("td",{children:t.title2||""}),c.jsx("td",{children:t.text}),c.jsx("td",{className:"url-cell",title:t.url||"",children:t.url||""}),c.jsx("td",{className:"url-cell",title:t.displayUrl||"",children:t.displayUrl||""}),c.jsx("td",{children:s}),c.jsx("td",{children:a}),c.jsx("td",{className:"url-cell",title:o,children:o}),c.jsx("td",{children:u})]},t.id)})})]})})]}):c.jsx("div",{className:"generated-ads-empty",children:"   .       ."})}const TW=e=>{if(!e)return"";let t=e.trim();return t=t.replace(/^https?:\/\//i,""),t=t.replace(/\/+$/g,""),t},Z_=e=>e.split(/\r?\n/).map(t=>t.trim()).filter(Boolean),CW=(e,t)=>{if(!e.length)return"";let n="";return e.forEach(r=>{const s=r.trim();if(!s)return;s.length<=t&&s.length>n.length&&(n=s)}),n||(n=e[0].trim()),n};function kW(){const{templates:e,generatedAds:t,selectedTemplateId:n,selectedAdIds:r,isGenerating:s,progress:a,totalToGenerate:o,selectTemplate:u,generateAds:d,selectAllAds:f,deselectAllAds:p,deleteAds:g,applyCommonSettings:v,applyDisplaySettings:x}=EW(),[w,y]=P.useState(""),[_,S]=P.useState("example.com"),[N,T]=P.useState("utm_source=yandex&utm_medium=cpc&utm_campaign={group}&utm_term={key}"),[C,A]=P.useState(""),[z,M]=P.useState(` 
  30%
 1 
  `),[j,O]=P.useState("       1 ."),[Y,J]=P.useState(0),[F]=P.useState([{id:"1",text:" ",ws:15e3},{id:"2",text:"  ",ws:8500},{id:"3",text:"  ",ws:12e3},{id:"4",text:" ",ws:6200},{id:"5",text:" ",ws:5800}]),[re,k]=P.useState(new Set),[V,K]=P.useState(" "),[H,Q]=P.useState(" "),[ee,ae]=P.useState("  "),[D,R]=P.useState(!0),[U,B]=P.useState(""),[G,ue]=P.useState(` 

 
 `),[ge,me]=P.useState(null),[ve,Re]=P.useState("+7 (800) 0000-000  - 9:00-18:00,  9:30-17:00"),[Ue,Ve]=P.useState(".    -"),[st,I]=P.useState([{title:"",description:" ",url:"",anchor:"#1"},{title:" 30%  15.05",description:"    ",url:"",anchor:"#2"},{title:" ",description:"  ",url:"",anchor:"#3"},{title:"",description:"  ",url:"",anchor:"#4"}]),ye=P.useMemo(()=>Z_(z),[z]),ne=P.useMemo(()=>Z_(j),[j]),q=P.useMemo(()=>CW(ne,81),[ne]),X=P.useMemo(()=>TW(_),[_]),le=P.useMemo(()=>X?/^https?:\/\//i.test(X)?X:`https://${X}`:"",[X]),pe=P.useRef(null);P.useEffect(()=>{le&&(I(ze=>{let tt=!1;const ht=ze.map(Tt=>{const yt=pe.current;return!Tt.url||yt&&Tt.url===yt||!yt&&Tt.url?.match(/example\.com|ya\.ru/)?(tt=!0,{...Tt,url:le}):Tt});return tt?ht:ze}),pe.current=le)},[le]);const be=P.useMemo(()=>st.map(ze=>{const tt=ze.anchor?.trim().replace(/^#+/,""),ht=ze.url?.trim()||le,Tt=ht&&tt?`${ht}#${tt}`:ht||void 0;return{title:ze.title,description:ze.description,url:Tt||void 0}}),[st,le]),fe=ze=>{ue(ze),v({clarifications:ze,quickLinks:be})},Me=(ze,tt)=>{const ht=G.split(/\r?\n/).map(yt=>yt.trim()).filter(Boolean);for(;ht.length<4;)ht.push("");ht[ze]=tt;const Tt=ht.join(`
`);fe(Tt)},we=(ze,tt,ht)=>{const Tt=st.map((St,Ot)=>Ot===ze?{...St,[tt]:ht}:St);I(Tt);const yt=Tt.map(St=>({title:St.title,description:St.description,url:St.url}));v({clarifications:G,quickLinks:yt})},je=P.useMemo(()=>[...new Set(w.split(/\r?\n/).map(ze=>ze.trim()).filter(Boolean))],[w]);e.find(ze=>ze.id===n);const He=async()=>{if(!je.length){alert("  ");return}const ze=je.map((tt,ht)=>({id:String(ht+1),text:tt,ws:0}));try{const tt=n||e[0]?.id;if(!tt){alert("  ");return}await d(ze,{templateId:tt,phraseIds:ze.map(ht=>ht.id),replaceExisting:!0,domain:_,utm:N,clarifications:G,quickLinks:be,addons:ye,bodyText:q,groupId:C||void 0,useDynamicDisplayUrl:D,customDisplayPath:U}),v({clarifications:G,quickLinks:be})}catch(tt){console.error("  :",tt),alert("   ")}},et=()=>{if(t.length===0){alert("   ");return}const ze=_W(t,V,H),tt=new Blob([ze],{type:"text/csv;charset=utf-8;"}),ht=document.createElement("a"),Tt=URL.createObjectURL(tt);ht.setAttribute("href",Tt),ht.setAttribute("download",`yandex_direct_ads_${Date.now()}.csv`),ht.style.visibility="hidden",document.body.appendChild(ht),ht.click(),document.body.removeChild(ht)},Ge=async()=>{if(t.length===0){alert("   ");return}const ze=yt=>yt==null?"":String(yt).replace(/\t/g," ").replace(/\r?\n/g," ").trim(),tt=[" "," ","-  ","",".  "," ","ID "," "," ","ID "," ( -)","ID "," 1"," 2","",""," ",""," "," ","  ","  ","  "," 1"," 2","","","-  "],ht=t.map((yt,St)=>{const Bt=[...yt.quickLinks?.length?yt.quickLinks:be];for(;Bt.length<4;)Bt.push({title:"",description:"",url:""});const vn=Bt.map(fn=>fn.title||"").join("||"),kn=Bt.map(fn=>fn.description||"").join("||"),yn=Bt.map(fn=>fn.url||"").join("||"),jn=(yt.clarifications||"").split(/\r?\n/).map(fn=>fn.trim()).filter(Boolean).join("||");return[ze("-"),ze(""),ze(""),ze(""),ze(""),ze("-"),ze(yt.groupId||""),ze(H||""),ze(String(St+1)),ze(yt.phraseId),ze(yt.phrase),ze(yt.id),ze(yt.title1),ze(yt.title2||""),ze(yt.text),ze(yt.url||""),ze(yt.displayUrl||""),ze(""),ze(""),ze(""),ze(vn),ze(kn),ze(yn),ze(""),ze(""),ze(""),ze(jn),ze("")]}),Tt=[tt,...ht].map(yt=>yt.join("	")).join(`
`);try{await navigator.clipboard.writeText(Tt),alert("TSV .     Direct Commander.")}catch(yt){console.error("  TSV",yt),alert("   TSV.")}},mt=t[Y],Gt={phrase:"  ",title1:"  ",title2:"  ",text:"        ."},vt=mt??Gt,Mt=P.useMemo(()=>{const ze=st.map((tt,ht)=>({title:tt.title||"",description:tt.description||"",url:tt.url||le,anchor:tt.anchor||`#${ht+1}`}));for(;ze.length<4;){const tt=ze.length;ze.push({title:"",description:"",url:le,anchor:`#${tt+1}`})}return ze},[st,le]),xt=P.useMemo(()=>{if(!mt?.displayUrl)return"";const[,...ze]=mt.displayUrl.split("/");return ze.join("/")},[mt]),Dt=(mt?.clarifications??G).split(/\r?\n/).map(ze=>ze.trim()).filter(Boolean);for(;Dt.length<4;)Dt.push("");const At=X;return P.useEffect(()=>{ae(mt?mt.phrase:Gt.phrase)},[mt]),P.useEffect(()=>{x({useDynamicDisplayUrl:D,customDisplayPath:U})},[D,U,x]),c.jsxs("div",{className:"announcements-app ads-app",children:[c.jsxs("div",{className:"announcements-header ads-header",children:[c.jsx("h1",{children:"  ."}),c.jsx("div",{className:"announcements-subtitle ads-subtitle",children:"     "})]}),c.jsxs("div",{className:"announcements-content ads-content",children:[c.jsxs("div",{className:"announcements-sidebar ads-sidebar",children:[c.jsx("button",{className:"btn-generate btn-generate-top",onClick:He,disabled:!je.length,children:"  "}),c.jsxs("div",{className:"announcements-sidebar-scroll",children:[c.jsxs("div",{className:"announcements-section ads-section",children:[c.jsx("h2",{children:" URL"}),c.jsx("label",{children:" / "}),c.jsx("input",{className:"ads-input",placeholder:"example.com",value:_,onChange:ze=>S(ze.target.value)}),c.jsx("label",{children:"UTM-"}),c.jsx("input",{className:"ads-input",placeholder:"utm_source=yandex&utm_term={key}",value:N,onChange:ze=>T(ze.target.value)}),c.jsx("label",{children:"ID  ()"}),c.jsx("input",{className:"ads-input",placeholder:"grp-1, grp-2 ...",value:C,onChange:ze=>A(ze.target.value)})]}),c.jsxs("div",{className:"announcements-section ads-section",children:[c.jsx("h2",{children:"   2"}),c.jsx("textarea",{className:"ads-textarea",placeholder:`  16 990!
   70 190!
 16 990!`,value:z,onChange:ze=>M(ze.target.value)}),c.jsx("div",{className:"ads-hint",children:"     ( 56 .)"})]}),c.jsxs("div",{className:"announcements-section ads-section",children:[c.jsx("h2",{children:" "}),c.jsx("textarea",{className:"ads-textarea",placeholder:`    1 !
  5    .`,value:j,onChange:ze=>O(ze.target.value)}),c.jsx("div",{className:"ads-hint",children:"  ( 81 .).   ."})]}),c.jsxs("div",{className:"announcements-section ads-section",children:[c.jsx("h2",{children:" "}),c.jsx("textarea",{className:"ads-textarea",style:{minHeight:"80px"},placeholder:`   
  
 `,value:w,onChange:ze=>y(ze.target.value)}),c.jsxs("div",{className:"ads-hint",children:[": ",je.length,".   ."]})]})]}),c.jsx("button",{className:"btn-generate",onClick:He,disabled:!je.length,children:"  "})]}),c.jsx("div",{className:"announcements-main",children:c.jsxs("div",{className:"announcements-main-inner",children:[c.jsx("div",{className:"yandex-preview-wrapper",children:c.jsxs("div",{className:"yandex-preview-page page",children:[c.jsxs("div",{className:"yandex-top-row",children:[c.jsxs("div",{className:"yandex-logo",children:[c.jsxs("div",{className:"yandex-logo-main",children:[c.jsx("span",{children:""}),""]}),c.jsx("div",{className:"yandex-logo-sub",children:" 1  *"})]}),c.jsxs("div",{className:"yandex-search-area",children:[c.jsxs("div",{className:"yandex-search-top",children:[c.jsx("input",{className:"yandex-search-input",type:"text",value:ee,onChange:ze=>ae(ze.target.value)}),c.jsxs("div",{className:"yandex-search-controls",children:[c.jsx("div",{className:"yandex-icon-btn",children:""}),c.jsx("div",{className:"yandex-icon-btn",children:""}),c.jsx("div",{className:"yandex-icon-btn",children:""}),c.jsx("button",{className:"yandex-search-button",children:""})]})]}),c.jsxs("div",{className:"yandex-search-nav",children:[c.jsx("a",{href:"#",className:"active",children:c.jsx("span",{children:""})}),c.jsx("a",{href:"#",children:""}),c.jsx("a",{href:"#",children:""}),c.jsx("a",{href:"#",children:""}),c.jsx("a",{href:"#",children:""}),c.jsx("a",{href:"#",children:""}),c.jsx("a",{href:"#",children:""}),c.jsx("a",{href:"#",children:""})]})]})]}),c.jsxs("div",{className:"yandex-main",children:[c.jsx("aside",{className:"yandex-sidebar",children:c.jsxs("div",{className:"yandex-side-block",children:[c.jsx("div",{className:"yandex-side-block-title",children:"  "}),c.jsxs("div",{className:"yandex-side-row",children:[c.jsx("span",{className:"yandex-side-label",children:""})," ",c.jsx("span",{className:"yandex-side-arrow",children:">"})," "]})]})}),c.jsxs("section",{className:"yandex-content",children:[c.jsx("div",{className:"yandex-crumbs",children:" >  > "}),c.jsxs("div",{className:"yandex-ad",children:[c.jsxs("div",{className:"yandex-ad-row yandex-ad-row-title",children:[c.jsx("div",{className:"yandex-ad-label"}),c.jsx("div",{className:"yandex-ad-row-main",children:c.jsx("div",{className:"yandex-ad-title",children:c.jsxs("a",{href:"#",children:[vt.title1,vt.title2&&`  ${vt.title2}`]})})})]}),c.jsxs("div",{className:"yandex-ad-row",children:[c.jsxs("div",{className:"yandex-ad-label",children:["  ",c.jsx("span",{className:"yandex-side-arrow",children:">"})]}),c.jsx("div",{className:"yandex-ad-row-main",children:c.jsx("div",{className:"yandex-ad-quick-links",children:Mt.map((ze,tt)=>c.jsx("div",{className:ge===tt?"active":void 0,onClick:()=>me(tt),children:c.jsx("input",{className:"preview-input",value:ze.title,placeholder:` ${tt+1}`,onFocus:()=>me(tt),onChange:ht=>we(tt,"title",ht.target.value)})},`preview-ql-${tt}`))})})]}),c.jsxs("div",{className:"yandex-ad-row",children:[c.jsxs("div",{className:"yandex-ad-label",children:["  ",c.jsx("span",{className:"yandex-side-arrow",children:">"})]}),c.jsx("div",{className:"yandex-ad-row-main",children:c.jsxs("div",{className:"yandex-ad-url-row",children:[c.jsxs("div",{className:"yandex-ad-url-domain",children:[At,"/"]}),D?c.jsx("div",{className:"yandex-ad-url-text",children:xt||""}):c.jsx("input",{className:"preview-input",value:U,placeholder:"catalog/offers",onChange:ze=>B(ze.target.value)})]})})]}),c.jsxs("div",{className:"yandex-ad-row yandex-ad-row-text",children:[c.jsxs("div",{className:"yandex-ad-label",children:[" ",c.jsx("span",{className:"yandex-side-arrow",children:">"})]}),c.jsx("div",{className:"yandex-ad-row-main",children:c.jsx("span",{className:"yandex-ad-text",children:vt.text})})]}),c.jsxs("div",{className:"yandex-ad-row yandex-ad-row-clarify",children:[c.jsxs("div",{className:"yandex-ad-label",children:[" ",c.jsx("span",{className:"yandex-side-arrow",children:">"})]}),c.jsx("div",{className:"yandex-ad-row-main",children:c.jsx("table",{className:"yandex-sitelinks yandex-sitelinks-clarify",children:c.jsx("tbody",{children:c.jsx("tr",{children:Dt.map((ze,tt)=>c.jsx("td",{children:c.jsx("input",{className:"preview-input",value:ze,placeholder:` ${tt+1}`,onChange:ht=>Me(tt,ht.target.value)})},`clar-${tt}`))})})})})]}),c.jsxs("div",{className:"yandex-ad-row yandex-ad-row-contacts",children:[c.jsx("div",{className:"yandex-ad-label"}),c.jsx("div",{className:"yandex-ad-row-main",children:c.jsxs("div",{className:"yandex-ad-body",children:[c.jsx("div",{style:{marginTop:"4px"},children:c.jsx("a",{href:"#",children:" "})}),c.jsxs("div",{className:"yandex-contact-lines",children:[c.jsx("input",{className:"preview-input",value:ve,placeholder:"+7 (800) 0000-000  - 9:00-18:00,  9:30-17:00",onChange:ze=>{Re(ze.target.value)}}),c.jsx("input",{className:"preview-input",value:Ue,placeholder:".    -",onChange:ze=>{Ve(ze.target.value)}})]})]})})]}),c.jsxs("div",{className:"yandex-ad-row yandex-ad-row-sitelinks",children:[c.jsxs("div",{className:"yandex-ad-label yandex-ad-label-sitelinks",children:[c.jsxs("div",{children:["   ",c.jsx("span",{className:"yandex-side-arrow",children:">"})]}),c.jsxs("div",{children:["   ",c.jsx("span",{className:"yandex-side-arrow",children:">"})]}),c.jsxs("div",{children:["   ",c.jsx("span",{className:"yandex-side-arrow",children:">"})]})]}),c.jsx("div",{className:"yandex-ad-row-main",children:c.jsx("table",{className:"yandex-sitelinks",children:c.jsxs("tbody",{children:[c.jsx("tr",{children:Mt.map((ze,tt)=>c.jsx("td",{children:c.jsx("input",{className:"preview-input",value:ze.url,placeholder:le||`https://site${tt+1}.com`,onChange:ht=>we(tt,"url",ht.target.value)})},`ql-url-${tt}`))}),c.jsx("tr",{children:Mt.map((ze,tt)=>c.jsx("td",{children:c.jsx("input",{className:"preview-input",value:ze.anchor,placeholder:`#${tt+1}`,onChange:ht=>we(tt,"anchor",ht.target.value)})},`ql-title-${tt}`))}),c.jsx("tr",{children:Mt.map((ze,tt)=>c.jsx("td",{children:c.jsx("input",{className:"preview-input",value:ze.description,placeholder:` ${tt+1}`,onChange:ht=>we(tt,"description",ht.target.value)})},`ql-desc-${tt}`))})]})})})]}),c.jsxs("div",{className:"yandex-dynamic-flag",children:[c.jsx("span",{className:"yandex-dynamic-flag-label",children:"  "}),c.jsxs("div",{className:`yandex-toggle-switch ${D?"yandex-toggle-on":""}`,onClick:()=>R(ze=>!ze),children:[c.jsx("span",{className:`yandex-toggle-option ${D?"":"yandex-active"}`,children:""}),c.jsx("div",{className:"yandex-toggle-track",children:c.jsx("div",{className:"yandex-toggle-knob"})}),c.jsx("span",{className:`yandex-toggle-option ${D?"yandex-active":""}`,children:""})]})]})]})]})]})]})}),c.jsx("div",{className:"announcements-results",children:c.jsxs("div",{className:"generated-ads-container",children:[c.jsxs("div",{className:"generated-ads-controls",children:[c.jsx("button",{className:"btn",onClick:Ge,disabled:t.length===0,children:"   (TSV)"}),c.jsx("button",{className:"btn btn-primary",onClick:et,disabled:t.length===0,children:" CSV"})]}),c.jsx(NW,{ads:t})]})})]})})]})]})}const jW=Object.freeze(Object.defineProperty({__proto__:null,default:kW},Symbol.toStringTag,{value:"Module"})),AW=e=>e instanceof Error?e.message+`
`+e.stack:JSON.stringify(e,null,2);class RW extends Te.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?c.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[c.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),c.jsx("pre",{className:"mt-2 text-sm",children:AW(this.state.error)})]}):this.props.children}}var sx=function(e,t){return sx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},sx(e,t)};function jC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");sx(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Th=function(){return Th=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Th.apply(this,arguments)};function Ul(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function AC(e,t,n,r){var s=arguments.length,a=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a}function RC(e,t){return function(n,r){t(n,r,e)}}function OC(e,t,n,r,s,a){function o(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var u=r.kind,d=u==="getter"?"get":u==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,p=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),g,v=!1,x=n.length-1;x>=0;x--){var w={};for(var y in r)w[y]=y==="access"?{}:r[y];for(var y in r.access)w.access[y]=r.access[y];w.addInitializer=function(S){if(v)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(S||null))};var _=(0,n[x])(u==="accessor"?{get:p.get,set:p.set}:p[d],w);if(u==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(g=o(_.get))&&(p.get=g),(g=o(_.set))&&(p.set=g),(g=o(_.init))&&s.unshift(g)}else(g=o(_))&&(u==="field"?s.unshift(g):p[d]=g)}f&&Object.defineProperty(f,r.name,p),v=!0}function MC(e,t,n){for(var r=arguments.length>2,s=0;s<t.length;s++)n=r?t[s].call(e,n):t[s].call(e);return r?n:void 0}function DC(e){return typeof e=="symbol"?e:"".concat(e)}function IC(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function LC(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function dt(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(p){try{f(r.next(p))}catch(g){o(g)}}function d(p){try{f(r.throw(p))}catch(g){o(g)}}function f(p){p.done?a(p.value):s(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})}function PC(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(p){return d([f,p])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],s=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var r0=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function FC(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&r0(t,e,n)}function Ch(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cv(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,a=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(u){o={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function zC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Cv(arguments[t]));return e}function BC(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var a=arguments[t],o=0,u=a.length;o<u;o++,s++)r[s]=a[o];return r}function UC(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function El(e){return this instanceof El?(this.v=e,this):new El(e)}function $C(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(x){return function(w){return Promise.resolve(w).then(x,g)}}function u(x,w){r[x]&&(s[x]=function(y){return new Promise(function(_,S){a.push([x,y,_,S])>1||d(x,y)})},w&&(s[x]=w(s[x])))}function d(x,w){try{f(r[x](w))}catch(y){v(a[0][3],y)}}function f(x){x.value instanceof El?Promise.resolve(x.value.v).then(p,g):v(a[0][2],x)}function p(x){d("next",x)}function g(x){d("throw",x)}function v(x,w){x(w),a.shift(),a.length&&d(a[0][0],a[0][1])}}function HC(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,a){t[s]=e[s]?function(o){return(n=!n)?{value:El(e[s](o)),done:!1}:a?a(o):o}:a}}function GC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ch=="function"?Ch(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(u,d){o=e[a](o),s(u,d,o.done,o.value)})}}function s(a,o,u,d){Promise.resolve(d).then(function(f){a({value:f,done:u})},o)}}function VC(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var OW=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},ax=function(e){return ax=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},ax(e)};function WC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=ax(e),r=0;r<n.length;r++)n[r]!=="default"&&r0(t,e,n[r]);return OW(t,e),t}function qC(e){return e&&e.__esModule?e:{default:e}}function KC(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function XC(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function YC(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function JC(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var MW=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function ZC(e){function t(a){e.error=e.hasError?new MW(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(s,function(o){return t(o),s()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function QC(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,a,o){return r?t?".jsx":".js":s&&(!a||!o)?n:s+a+"."+o.toLowerCase()+"js"}):e}const DW={__extends:jC,__assign:Th,__rest:Ul,__decorate:AC,__param:RC,__esDecorate:OC,__runInitializers:MC,__propKey:DC,__setFunctionName:IC,__metadata:LC,__awaiter:dt,__generator:PC,__createBinding:r0,__exportStar:FC,__values:Ch,__read:Cv,__spread:zC,__spreadArrays:BC,__spreadArray:UC,__await:El,__asyncGenerator:$C,__asyncDelegator:HC,__asyncValues:GC,__makeTemplateObject:VC,__importStar:WC,__importDefault:qC,__classPrivateFieldGet:KC,__classPrivateFieldSet:XC,__classPrivateFieldIn:YC,__addDisposableResource:JC,__disposeResources:ZC,__rewriteRelativeImportExtension:QC},IW=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:JC,get __assign(){return Th},__asyncDelegator:HC,__asyncGenerator:$C,__asyncValues:GC,__await:El,__awaiter:dt,__classPrivateFieldGet:KC,__classPrivateFieldIn:YC,__classPrivateFieldSet:XC,__createBinding:r0,__decorate:AC,__disposeResources:ZC,__esDecorate:OC,__exportStar:FC,__extends:jC,__generator:PC,__importDefault:qC,__importStar:WC,__makeTemplateObject:VC,__metadata:LC,__param:RC,__propKey:DC,__read:Cv,__rest:Ul,__rewriteRelativeImportExtension:QC,__runInitializers:MC,__setFunctionName:IC,__spread:zC,__spreadArray:UC,__spreadArrays:BC,__values:Ch,default:DW},Symbol.toStringTag,{value:"Module"})),LW=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class kv extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Q_ extends kv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class eS extends kv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class tS extends kv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ix;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ix||(ix={}));class PW{constructor(t,{headers:n={},customFetch:r,region:s=ix.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=LW(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return dt(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:a,method:o,body:u,signal:d}=r;let f={},{region:p}=r;p||(p=this.region);const g=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let v;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;const x=yield this.fetch(g.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:v,signal:d}).catch(S=>{throw S.name==="AbortError"?S:new Q_(S)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new eS(x);if(!x.ok)throw new tS(x);let y=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield x.json():y==="application/octet-stream"||y==="application/pdf"?_=yield x.blob():y==="text/event-stream"?_=x:y==="multipart/form-data"?_=yield x.formData():_=yield x.text(),{data:_,error:null,response:x}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new Q_(a)}:{data:null,error:a,response:a instanceof tS||a instanceof eS?a.context:void 0}}})}}var ur={};const $l=AA(IW);var kf={},jf={},Af={},Rf={},Of={},Mf={},nS;function ek(){if(nS)return Mf;nS=1,Object.defineProperty(Mf,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Mf.default=e,Mf}var rS;function tk(){if(rS)return Of;rS=1,Object.defineProperty(Of,"__esModule",{value:!0});const t=$l.__importDefault(ek());class n{constructor(s){var a,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let u=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,p,g,v;let x=null,w=null,y=null,_=d.status,S=d.statusText;if(d.ok){if(this.method!=="HEAD"){const A=await d.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?w=A:w=JSON.parse(A))}const T=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),C=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");T&&C&&C.length>1&&(y=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(x={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,y=null,_=406,S="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const T=await d.text();try{x=JSON.parse(T),Array.isArray(x)&&d.status===404&&(w=[],x=null,_=200,S="OK")}catch{d.status===404&&T===""?(_=204,S="No Content"):x={message:T}}if(x&&this.isMaybeSingle&&(!((v=x?.details)===null||v===void 0)&&v.includes("0 rows"))&&(x=null,_=200,S="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:w,count:y,status:_,statusText:S}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,p,g;return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:`${(p=d?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=d?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,a)}returns(){return this}overrideTypes(){return this}}return Of.default=n,Of}var sS;function nk(){if(sS)return Rf;sS=1,Object.defineProperty(Rf,"__esModule",{value:!0});const t=$l.__importDefault(tk());class n extends t.default{select(s){let a=!1;const o=(s??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:o,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${s}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,a,{foreignTable:o,referencedTable:u=o}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${s}`),this.url.searchParams.set(f,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:o=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var p;const g=[s?"analyze":null,a?"verbose":null,o?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Rf.default=n,Rf}var aS;function jv(){if(aS)return Af;aS=1,Object.defineProperty(Af,"__esModule",{value:!0});const t=$l.__importDefault(nk()),n=new RegExp("[,()]");class r extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const u=Array.from(new Set(o)).map(d=>typeof d=="string"&&n.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${f}fts${p}.${o}`),this}match(a){return Object.entries(a).forEach(([o,u])=>{this.url.searchParams.append(o,`eq.${u}`)}),this}not(a,o,u){return this.url.searchParams.append(a,`not.${o}.${u}`),this}or(a,{foreignTable:o,referencedTable:u=o}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,o,u){return this.url.searchParams.append(a,`${o}.${u}`),this}}return Af.default=r,Af}var iS;function rk(){if(iS)return jf;iS=1,Object.defineProperty(jf,"__esModule",{value:!0});const t=$l.__importDefault(jv());class n{constructor(s,{headers:a={},schema:o,fetch:u}){this.url=s,this.headers=new Headers(a),this.schema=o,this.fetch=u}select(s,a){const{head:o=!1,count:u}=a??{},d=o?"HEAD":"GET";let f=!1;const p=(s??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:o=!0}={}){var u;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:o=!1,count:u,defaultToNull:d=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(g.length>0){const v=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(s,{count:a}={}){var o;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var a;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return jf.default=n,jf}var oS;function FW(){if(oS)return kf;oS=1,Object.defineProperty(kf,"__esModule",{value:!0});const e=$l,t=e.__importDefault(rk()),n=e.__importDefault(jv());class r{constructor(a,{headers:o={},schema:u,fetch:d}={}){this.url=a,this.headers=new Headers(o),this.schemaName=u,this.fetch=d}from(a){const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:u=!1,get:d=!1,count:f}={}){var p;let g;const v=new URL(`${this.url}/rpc/${a}`);let x;u||d?(g=u?"HEAD":"GET",Object.entries(o).filter(([y,_])=>_!==void 0).map(([y,_])=>[y,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([y,_])=>{v.searchParams.append(y,_)})):(g="POST",x=o);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new n.default({method:g,url:v,headers:w,schema:this.schemaName,body:x,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return kf.default=r,kf}var lS;function zW(){if(lS)return ur;lS=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.PostgrestError=ur.PostgrestBuilder=ur.PostgrestTransformBuilder=ur.PostgrestFilterBuilder=ur.PostgrestQueryBuilder=ur.PostgrestClient=void 0;const e=$l,t=e.__importDefault(FW());ur.PostgrestClient=t.default;const n=e.__importDefault(rk());ur.PostgrestQueryBuilder=n.default;const r=e.__importDefault(jv());ur.PostgrestFilterBuilder=r.default;const s=e.__importDefault(nk());ur.PostgrestTransformBuilder=s.default;const a=e.__importDefault(tk());ur.PostgrestBuilder=a.default;const o=e.__importDefault(ek());return ur.PostgrestError=o.default,ur.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:a.default,PostgrestError:o.default},ur}var sk=zW();const ak=Rh(sk),BW=jA({__proto__:null,default:ak},[sk]),{PostgrestClient:UW,PostgrestQueryBuilder:vX,PostgrestFilterBuilder:yX,PostgrestTransformBuilder:wX,PostgrestBuilder:bX,PostgrestError:_X}=ak||BW;class $W{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const HW="2.80.0",GW=`realtime-js/${HW}`,VW="1.0.0",ox=1e4,WW=1e3,qW=100;var lu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(lu||(lu={}));var Un;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Un||(Un={}));var Cs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Cs||(Cs={}));var lx;(function(e){e.websocket="websocket"})(lx||(lx={}));var qi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(qi||(qi={}));class KW{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const u=r.decode(t.slice(o,o+s));o=o+s;const d=r.decode(t.slice(o,o+a));o=o+a;const f=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:u,event:d,payload:f}}}class ik{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ln;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ln||(ln={}));const cS=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=XW(o,e,t,s),a),{}):{}},XW=(e,t,n,r)=>{const s=t.find(u=>u.name===e),a=s?.type,o=n[e];return a&&!r.includes(a)?ok(a,o):cx(o)},ok=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return QW(t,n)}switch(e){case ln.bool:return YW(t);case ln.float4:case ln.float8:case ln.int2:case ln.int4:case ln.int8:case ln.numeric:case ln.oid:return JW(t);case ln.json:case ln.jsonb:return ZW(t);case ln.timestamp:return eq(t);case ln.abstime:case ln.date:case ln.daterange:case ln.int4range:case ln.int8range:case ln.money:case ln.reltime:case ln.text:case ln.time:case ln.timestamptz:case ln.timetz:case ln.tsrange:case ln.tstzrange:return cx(t);default:return cx(t)}},cx=e=>e,YW=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},JW=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ZW=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},QW=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(u=>ok(t,u))}return e},eq=e=>typeof e=="string"?e.replace(" ","T"):e,lk=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class cg{constructor(t,n,r={},s=ox){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var uS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(uS||(uS={}));class cu{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cu.syncState(this.state,s,a,o),this.pendingDiffs.forEach(d=>{this.state=cu.syncDiff(this.state,d,a,o)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=cu.syncDiff(this.state,s,a,o),u())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const a=this.cloneDeep(t),o=this.transformState(n),u={},d={};return this.map(a,(f,p)=>{o[f]||(d[f]=p)}),this.map(o,(f,p)=>{const g=a[f];if(g){const v=p.map(_=>_.presence_ref),x=g.map(_=>_.presence_ref),w=p.filter(_=>x.indexOf(_.presence_ref)<0),y=g.filter(_=>v.indexOf(_.presence_ref)<0);w.length>0&&(u[f]=w),y.length>0&&(d[f]=y)}else u[f]=p}),this.syncDiff(a,{joins:u,leaves:d},r,s)}static syncDiff(t,n,r,s){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(u,d)=>{var f;const p=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),p.length>0){const g=t[u].map(x=>x.presence_ref),v=p.filter(x=>g.indexOf(x.presence_ref)<0);t[u].unshift(...v)}r(u,p,d)}),this.map(o,(u,d)=>{let f=t[u];if(!f)return;const p=d.map(g=>g.presence_ref);f=f.filter(g=>p.indexOf(g.presence_ref)<0),t[u]=f,s(u,f,d),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dS||(dS={}));var uu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(uu||(uu={}));var va;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(va||(va={}));class Av{constructor(t,n={config:{}},r){var s,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new cg(this,Cs.join,this.params,this.timeout),this.rejoinTimer=new ik(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Un.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cs.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new cu(this),this.broadcastEndpointURL=lk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Un.closed){const{config:{broadcast:o,presence:u,private:d}}=this.params,f=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[uu.PRESENCE]&&this.bindings[uu.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,g={},v={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(va.CHANNEL_ERROR,x)),this._onClose(()=>t?.(va.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var w;if(this.socket.setAuth(),x===void 0){t?.(va.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,_=(w=y?.length)!==null&&w!==void 0?w:0,S=[];for(let N=0;N<_;N++){const T=y[N],{filter:{event:C,schema:A,table:z,filter:M}}=T,j=x&&x[N];if(j&&j.event===C&&j.schema===A&&j.table===z&&j.filter===M)S.push(Object.assign(Object.assign({},T),{id:j.id}));else{this.unsubscribe(),this.state=Un.errored,t?.(va.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(va.SUBSCRIBED);return}}).receive("error",x=>{this.state=Un.errored,t?.(va.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(va.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Un.joined&&t===uu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,u,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Un.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new cg(this,Cs.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Un.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new cg(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>qW){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,a;const o=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:p}=Cs;if(r&&[u,d,f,p].indexOf(o)>=0&&r!==this._joinRef())return;let v=this._onMessage(o,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var w,y,_;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(y=x.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(x=>x.callback(v,r)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var w,y,_,S,N,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const C=x.id,A=(w=x.filter)===null||w===void 0?void 0:w.event;return C&&((y=n.ids)===null||y===void 0?void 0:y.includes(C))&&(A==="*"||A?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(N=(S=x?.filter)===null||S===void 0?void 0:S.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return C==="*"||C===((T=n?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:y,table:_,commit_timestamp:S,type:N,errors:T}=w;v=Object.assign(Object.assign({},{schema:y,table:_,commit_timestamp:S,eventType:N,new:{},old:{},errors:T}),this._getPayloadRecords(w))}x.callback(v,r)})}_isClosed(){return this.state===Un.closed}_isJoined(){return this.state===Un.joined}_isJoining(){return this.state===Un.joining}_isLeaving(){return this.state===Un.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Av.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Cs.close,{},t)}_onError(t){this._on(Cs.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Un.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=cS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=cS(t.columns,t.old_record)),n}}const ug=()=>{},Df={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tq=[1e3,2e3,5e3,1e4],nq=1e4,rq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sq{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ox,this.transport=null,this.heartbeatIntervalMs=Df.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ug,this.ref=0,this.reconnectTimer=null,this.logger=ug,this.conn=null,this.sendBuffer=[],this.serializer=new KW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${lx.websocket}`,this.httpEndpoint=lk(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$W.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VW}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case lu.connecting:return qi.Connecting;case lu.open:return qi.Open;case lu.closing:return qi.Closing;default:return qi.Closed}}isConnected(){return this.connectionState()===qi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new Av(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:s,ref:a}=t,o=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(WW,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Df.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:a,ref:o}=n,u=o?`(${o})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${s} ${u}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(s,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Cs.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([rq],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:GW};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Cs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ik(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Df.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,a,o,u,d,f,p;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:ox,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:Df.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:ug,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(g=>tq[g-1]||nq),this.encode=(f=t?.encode)!==null&&f!==void 0?f:((g,v)=>v(JSON.stringify(g))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Rv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class aq extends Rv{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ux extends Rv{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Ov=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iq=()=>Response,dx=e=>{if(Array.isArray(e))return e.map(n=>dx(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=dx(r)}),t},oq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},dg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},lq=(e,t,n)=>dt(void 0,void 0,void 0,function*(){const r=yield iq();e instanceof r&&!n?.noResolveJson?e.json().then(s=>{const a=e.status||500,o=s?.statusCode||a+"";t(new aq(dg(s),a,o))}).catch(s=>{t(new ux(dg(s),s))}):t(new ux(dg(e),e))}),cq=(e,t,n,r)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||!r?s:(oq(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(r)):s.body=r,t?.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Ku(e,t,n,r,s,a){return dt(this,void 0,void 0,function*(){return new Promise((o,u)=>{e(n,cq(t,r,s,a)).then(d=>{if(!d.ok)throw d;return r?.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>lq(d,u,r))})})}function ju(e,t,n,r){return dt(this,void 0,void 0,function*(){return Ku(e,"GET",t,n,r)})}function Ts(e,t,n,r,s){return dt(this,void 0,void 0,function*(){return Ku(e,"POST",t,r,s,n)})}function fx(e,t,n,r,s){return dt(this,void 0,void 0,function*(){return Ku(e,"PUT",t,r,s,n)})}function uq(e,t,n,r){return dt(this,void 0,void 0,function*(){return Ku(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Mv(e,t,n,r,s){return dt(this,void 0,void 0,function*(){return Ku(e,"DELETE",t,r,s,n)})}class dq{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return dt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(xn(t))return{data:null,error:t};throw t}})}}var ck;class fq{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[ck]="BlobDownloadBuilder",this.promise=null}asStream(){return new dq(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return dt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(xn(t))return{data:null,error:t};throw t}})}}ck=Symbol.toStringTag;const hq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pq{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Ov(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return dt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},fS),s);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),d&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(d))):(a=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),s?.headers&&(u=Object.assign(Object.assign({},u),s.headers));const f=this._removeEmptyFolders(n),p=this._getFinalPath(f),g=yield(t=="PUT"?fx:Ts)(this.fetch,`${this.url}/object/${p}`,a,Object.assign({headers:u},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return dt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:fS.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const g=yield fx(this.fetch,u.toString(),d,{headers:p});return{data:{path:a,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(xn(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return dt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n?.upsert&&(s["x-upsert"]="true");const a=yield Ts(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+a.url),u=o.searchParams.get("token");if(!u)throw new Rv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}update(t,n,r){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return dt(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xn(s))return{data:null,error:s};throw s}})}copy(t,n,r){return dt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xn(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return dt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Ts(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xn(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return dt(this,void 0,void 0,function*(){try{const s=yield Ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xn(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",u=this._getFinalPath(t),d=()=>ju(this.fetch,`${this.url}/${s}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new fq(d,this.shouldThrowOnError)}info(t){return dt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ju(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:dx(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}exists(t){return dt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield uq(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r)&&r instanceof ux){const s=r.originalError;if([400,404].includes(s?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const u=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&s.push(d);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Mv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}list(t,n,r){return dt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},hq),n),{prefix:t||""});return{data:yield Ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xn(s))return{data:null,error:s};throw s}})}listV2(t,n){return dt(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ts(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const uk="2.80.0",dk={"X-Client-Info":`storage-js/${uk}`};class mq{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const a=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dk),n),this.fetch=Ov(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return dt(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield ju(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}getBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield ju(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}createBucket(t){return dt(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ts(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xn(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return dt(this,void 0,void 0,function*(){try{return{data:yield fx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Mv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class gq{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dk),n),this.fetch=Ov(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}listBuckets(t){return dt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield ju(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Mv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}}const Dv={"X-Client-Info":`storage-js/${uk}`,"Content-Type":"application/json"};class fk extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Kr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class fg extends fk{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xq extends fk{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var hS;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(hS||(hS={}));const Iv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},pS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yq=(e,t,n)=>dt(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const s=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const u=o?.statusCode||o?.code||s+"";t(new fg(pS(o),s,u))}).catch(()=>{const o=s+"",u=a.statusText||`HTTP ${s} error`;t(new fg(u,s,o))});else{const o=s+"",u=a.statusText||`HTTP ${s} error`;t(new fg(u,s,o))}}else t(new xq(pS(e),e))}),wq=(e,t,n,r)=>{const s={method:e,headers:t?.headers||{}};return r?(vq(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function bq(e,t,n,r,s,a){return dt(this,void 0,void 0,function*(){return new Promise((o,u)=>{e(n,wq(t,r,s,a)).then(d=>{if(!d.ok)throw d;if(r?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>o(d)).catch(d=>yq(d,u,r))})})}function Xr(e,t,n,r,s){return dt(this,void 0,void 0,function*(){return bq(e,"POST",t,r,s,n)})}class _q{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dv),n),this.fetch=Iv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return dt(this,void 0,void 0,function*(){try{return{data:(yield Xr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kr(n))return{data:null,error:n};throw n}})}getIndex(t,n){return dt(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kr(r))return{data:null,error:r};throw r}})}listIndexes(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kr(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return dt(this,void 0,void 0,function*(){try{return{data:(yield Xr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kr(r))return{data:null,error:r};throw r}})}}class Sq{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dv),n),this.fetch=Iv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return dt(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Xr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kr(n))return{data:null,error:n};throw n}})}getVectors(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kr(n))return{data:null,error:n};throw n}})}listVectors(t){return dt(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Xr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kr(n))return{data:null,error:n};throw n}})}queryVectors(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kr(n))return{data:null,error:n};throw n}})}deleteVectors(t){return dt(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Xr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kr(n))return{data:null,error:n};throw n}})}}class Eq{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dv),n),this.fetch=Iv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:(yield Xr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kr(n))return{data:null,error:n};throw n}})}getBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kr(n))return{data:null,error:n};throw n}})}listBuckets(){return dt(this,arguments,void 0,function*(t={}){try{return{data:yield Xr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:(yield Xr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kr(n))return{data:null,error:n};throw n}})}}class Nq extends Eq{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new Tq(this.url,this.headers,t,this.fetch)}}class Tq extends _q{constructor(t,n,r,s){super(t,n,s),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return dt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return dt(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return dt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return dt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Cq(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Cq extends Sq{constructor(t,n,r,s,a){super(t,n,a),this.vectorBucketName=r,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return dt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return dt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return dt(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return dt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return dt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class kq extends mq{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new pq(this.url,this.headers,t,this.fetch)}get vectors(){return new Nq(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gq(this.url+"/iceberg",this.headers,this.fetch)}}const jq="2.80.0";let Jc="";typeof Deno<"u"?Jc="deno":typeof document<"u"?Jc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jc="react-native":Jc="node";const Aq={"X-Client-Info":`supabase-js-${Jc}/${jq}`},Rq={headers:Aq},Oq={schema:"public"},Mq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dq={},Iq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Lq=()=>Headers,Pq=(e,t,n)=>{const r=Iq(n),s=Lq();return async(a,o)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let f=new s(o?.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},o),{headers:f}))}};function Fq(e){return e.endsWith("/")?e:e+"/"}function zq(e,t){var n,r;const{db:s,auth:a,realtime:o,global:u}=e,{db:d,auth:f,realtime:p,global:g}=t,v={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},p),o),storage:{},global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(n=g?.headers)!==null&&n!==void 0?n:{}),(r=u?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function Bq(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Fq(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const hk="2.80.0",sl=30*1e3,hx=3,hg=hx*sl,Uq="http://localhost:9999",$q="supabase.auth.token",Hq={"X-Client-Info":`gotrue-js/${hk}`},px="X-Supabase-Api-Version",pk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vq=600*1e3;class Au extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ft(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Wq extends Au{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function qq(e){return ft(e)&&e.name==="AuthApiError"}class Ki extends Au{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class wi extends Au{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Es extends wi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Kq(e){return ft(e)&&e.name==="AuthSessionMissingError"}class Jo extends wi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class If extends wi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Lf extends wi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xq(e){return ft(e)&&e.name==="AuthImplicitGrantRedirectError"}class mS extends wi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mx extends wi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function pg(e){return ft(e)&&e.name==="AuthRetryableFetchError"}class gS extends wi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class gx extends wi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const kh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xS=` 	
\r=`.split(""),Yq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xS.length;t+=1)e[xS[t].charCodeAt(0)]=-2;for(let t=0;t<kh.length;t+=1)e[kh[t].charCodeAt(0)]=t;return e})();function vS(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(kh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(kh[r]),t.queuedBits-=6}}function mk(e,t,n){const r=Yq[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yS(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{Qq(o,r,n)};for(let o=0;o<e.length;o+=1)mk(e.charCodeAt(o),s,a);return t.join("")}function Jq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Zq(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Jq(r,t)}}function Qq(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function vl(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)mk(e.charCodeAt(s),n,r);return new Uint8Array(t)}function eK(e){const t=[];return Zq(e,n=>t.push(n)),new Uint8Array(t)}function Zi(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>vS(s,n,r)),vS(null,n,r),t.join("")}function tK(e){return Math.round(Date.now()/1e3)+e}function nK(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const dr=()=>typeof window<"u"&&typeof document<"u",$i={tested:!1,writable:!1},gk=()=>{if(!dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($i.tested)return $i.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),$i.tested=!0,$i.writable=!0}catch{$i.tested=!0,$i.writable=!1}return $i.writable};function rK(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const xk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),sK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",al=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Hi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ai=async(e,t)=>{await e.removeItem(t)};class s0{constructor(){this.promise=new s0.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}s0.promiseConstructor=Promise;function mg(e){const t=e.split(".");if(t.length!==3)throw new gx("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Gq.test(t[r]))throw new gx("JWT not in base64url format");return{header:JSON.parse(yS(t[0])),payload:JSON.parse(yS(t[1])),signature:vl(t[2]),raw:{header:t[0],payload:t[1]}}}async function aK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function iK(e,t){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function oK(e){return("0"+e.toString(16)).substr(-2)}function lK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,oK).join("")}async function cK(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function uK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await cK(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zo(e,t,n=!1){const r=lK();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await al(e,`${t}-code-verifier`,s);const a=await uK(r);return[a,r===a?"plain":"s256"]}const dK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fK(e){const t=e.headers.get(px);if(!t||!t.match(dK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function hK(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function pK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qo(e){if(!mK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gK(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function wS(e){return JSON.parse(JSON.stringify(e))}const Gi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xK=[502,503,504];async function bS(e){var t;if(!sK(e))throw new mx(Gi(e),0);if(xK.includes(e.status))throw new mx(Gi(e),e.status);let n;try{n=await e.json()}catch(a){throw new Ki(Gi(a),a)}let r;const s=fK(e);if(s&&s.getTime()>=pk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new gS(Gi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Es}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new gS(Gi(n),e.status,n.weak_password.reasons);throw new Wq(Gi(n),e.status||500,r)}const vK=(e,t,n,r)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function wt(e,t,n,r){var s;const a=Object.assign({},r?.headers);a[px]||(a[px]=pk["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(s=r?.query)!==null&&s!==void 0?s:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await yK(e,t,n+u,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(d):{data:Object.assign({},d),error:null}}async function yK(e,t,n,r,s,a){const o=vK(t,r,s,a);let u;try{u=await e(n,Object.assign({},o))}catch(d){throw console.error(d),new mx(Gi(d),0)}if(u.ok||await bS(u),r?.noResolveJson)return u;try{return await u.json()}catch(d){await bS(d)}}function Ns(e){var t;let n=null;_K(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=tK(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function _S(e){const t=Ns(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function li(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function wK(e){return{data:e,error:null}}function bK(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,o=Ul(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},d=Object.assign({},o);return{data:{properties:u,user:d},error:null}}function SS(e){return e}function _K(e){return e.access_token&&e.refresh_token&&e.expires_in}const xg=["global","local","others"];class SK{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=xk(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=xg[0]){if(xg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xg.join(", ")}`);try{return await wt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await wt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:li})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ul(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r?.newEmail,delete s.newEmail),await wt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:bK,redirectTo:n?.redirectTo})}catch(n){if(ft(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await wt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:li})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,a,o,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await wt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:SS});if(p.error)throw p.error;const g=await p.json(),v=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);f[`${_}Page`]=y}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(ft(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Qo(t);try{return await wt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:li})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Qo(t);try{return await wt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:li})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Qo(t);try{return await wt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:li})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Qo(t.userId);try{const{data:n,error:r}=await wt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Qo(t.userId),Qo(t.id);try{return{data:await wt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,a,o,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await wt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:SS});if(p.error)throw p.error;const g=await p.json(),v=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);f[`${_}Page`]=y}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(ft(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await wt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await wt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await wt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ft(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await wt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await wt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}}function ES(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const el={debug:!!(globalThis&&gk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class EK extends vk{}async function NK(e,t,n){el.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),el.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){el.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{el.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw el.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new EK(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(el.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function TK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yk(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function CK(e){return parseInt(e,16)}function kK(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function jK(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:u,requestId:d,resources:f,scheme:p,uri:g,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=yk(e.address),w=p?`${p}://${r}`:r,y=e.statement?`${e.statement}
`:"",_=`${w} wants you to sign in with your Ethereum account:
${x}

${y}`;let S=`URI: ${g}
Version: ${v}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(S+=`
Expiration Time: ${s.toISOString()}`),u&&(S+=`
Not Before: ${u.toISOString()}`),d&&(S+=`
Request ID: ${d}`),f){let N=`
Resources:`;for(const T of f){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);N+=`
- ${T}`}S+=N}return`${_}
${S}`}class In extends Error{constructor({message:t,code:n,cause:r,name:s}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=s??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class jh extends In{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function AK({error:e,options:t}){var n,r,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new In({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new In({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new In({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new In({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new In({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new In({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new In({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new In({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(wk(o)){if(a.rp.id!==o)return new In({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new In({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new In({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new In({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new In({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function RK({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new In({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new In({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(wk(r)){if(n.rpId!==r)return new In({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new In({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new In({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new In({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class OK{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const MK=new OK;function DK(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Ul(e,["challenge","user","excludeCredentials"]),a=vl(t).buffer,o=Object.assign(Object.assign({},n),{id:vl(n.id).buffer}),u=Object.assign(Object.assign({},s),{challenge:a,user:o});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:vl(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function IK(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Ul(e,["challenge","allowCredentials"]),s=vl(t).buffer,a=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const u=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},u),{id:vl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function LK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Zi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Zi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function PK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Zi(new Uint8Array(s.authenticatorData)),clientDataJSON:Zi(new Uint8Array(s.clientDataJSON)),signature:Zi(new Uint8Array(s.signature)),userHandle:s.userHandle?Zi(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function NS(){var e,t;return!!(dr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function FK(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jh("Browser returned unexpected credential type",t)}:{data:null,error:new jh("Empty credential response",t)}}catch(t){return{data:null,error:AK({error:t,options:e})}}}async function zK(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jh("Browser returned unexpected credential type",t)}:{data:null,error:new jh("Empty credential response",t)}}catch(t){return{data:null,error:RK({error:t,options:e})}}}const BK={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},UK={userVerification:"preferred",hints:["security-key"]};function Ah(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const u=r[a];t(u)?r[a]=Ah(u,o):r[a]=Ah(o)}else r[a]=o}return r}function $K(e,t){return Ah(BK,e,t||{})}function HK(e,t){return Ah(UK,e,t||{})}class GK{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},a){try{const{data:o,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:u};const d=s??MK.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=$K(o.webauthn.credential_options.publicKey,a?.create),{data:p,error:g}=await FK({publicKey:f,signal:d});return p?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const f=HK(o.webauthn.credential_options.publicKey,a?.request),{data:p,error:g}=await zK(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(o){return ft(o)?{data:null,error:o}:{data:null,error:new Ki("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},a){if(!n)return{data:null,error:new Au("rpId is required for WebAuthn authentication")};try{if(!NS())return{data:null,error:new Ki("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:a});if(!o)return{data:null,error:u};const{webauthn:d}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(o){return ft(o)?{data:null,error:o}:{data:null,error:new Ki("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},a){if(!n)return{data:null,error:new Au("rpId is required for WebAuthn registration")};try{if(!NS())return{data:null,error:new Ki("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:a});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(o){return ft(o)?{data:null,error:o}:{data:null,error:new Ki("Unexpected error in register",o)}}}}TK();const VK={url:Uq,storageKey:$q,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function TS(e,t,n){return await n()}const tl={};class Ru{get jwks(){var t,n;return(n=(t=tl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){tl[this.storageKey]=Object.assign(Object.assign({},tl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=tl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){tl[this.storageKey]=Object.assign(Object.assign({},tl[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},VK),t);if(this.storageKey=a.storageKey,this.instanceID=(n=Ru.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ru.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&dr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new SK({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=xk(a.fetch),this.lock=a.lock||TS,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:dr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=NK:this.lock=TS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new GK(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:gk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ES(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=ES(this.memoryStorage)),dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hk}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(dr()&&(n=rK(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),dr()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Xq(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ft(n)?this._returnResult({error:n}):this._returnResult({error:new Ki("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const a=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ns}),{data:o,error:u}=a;if(u||!o)return this._returnResult({data:{user:null,session:null},error:u});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(ft(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,s;try{let a;if("email"in t){const{email:p,password:g,options:v}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await Zo(this.storage,this.storageKey)),a=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:g,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:x,code_challenge_method:w},xform:Ns})}else if("phone"in t){const{phone:p,password:g,options:v}=t;a=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(s=v?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Ns})}else throw new If("You must provide either an email or phone number and a password");const{data:o,error:u}=a;if(u||!o)return this._returnResult({data:{user:null,session:null},error:u});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(ft(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:u}=t;n=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:_S})}else if("phone"in t){const{phone:a,password:o,options:u}=t;n=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:_S})}else throw new If("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const a=new Jo;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ft(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,a,o,u,d,f,p,g,v;let x,w;if("message"in t)x=t.message,w=t.signature;else{const{chain:y,wallet:_,statement:S,options:N}=t;let T;if(dr())if(typeof _=="object")T=_;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")T=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=_}const C=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),A=await T.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=yk(A[0]);let M=(r=N?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const O=await T.request({method:"eth_chainId"});M=CK(O)}const j={domain:C.host,address:z,statement:S,uri:C.href,version:"1",chainId:M,nonce:(s=N?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=N?.signInWithEthereum)===null||p===void 0?void 0:p.resources};x=jK(j),w=await T.request({method:"personal_sign",params:[kK(x),z]})}try{const{data:y,error:_}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:w},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ns});if(_)throw _;if(!y||!y.session||!y.user){const S=new Jo;return this._returnResult({data:{user:null,session:null},error:S})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:_})}catch(y){if(ft(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var n,r,s,a,o,u,d,f,p,g,v,x;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:_,wallet:S,statement:N,options:T}=t;let C;if(dr())if(typeof S=="object")C=S;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))C=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=S}const A=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const z=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),N?{statement:N}:null));let M;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")M=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)M=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)w=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),y=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${A.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(s=(r=T?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=T?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((o=T?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((g=(p=T?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...T.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const z=await C.signMessage(new TextEncoder().encode(w),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=z}}try{const{data:_,error:S}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Zi(y)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ns});if(S)throw S;if(!_||!_.session||!_.user){const N=new Jo;return this._returnResult({data:{user:null,session:null},error:N})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:S})}catch(_){if(ft(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await Hi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:o}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ns});if(await ai(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const u=new Jo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(ft(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:a,nonce:o}=t,u=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ns}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new Jo;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(ft(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,a,o;try{if("email"in t){const{email:u,options:d}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Zo(this.storage,this.storageKey));const{error:g}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:p}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=d?.data)!==null&&s!==void 0?s:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new If("You must provide either an email or phone number.")}catch(u){if(ft(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:u}=await wt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Ns});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,f=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(ft(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s;try{let a=null,o=null;this.flowType==="pkce"&&([a,o]=await Zo(this.storage,this.storageKey));const u=await wt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:wK});return this._returnResult(u)}catch(a){if(ft(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Es;const{error:s}=await wt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ft(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:a}=t,{error:o}=await wt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:a}=t,{data:o,error:u}=await wt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:u})}throw new If("You must provide either an email or phone number and a type")}catch(n){if(ft(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Hi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<hg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Hi(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=gg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=gK(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:li}):await this._useSession(async n=>{var r,s,a;const{data:o,error:u}=n;if(u)throw u;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Es}:await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:li})})}catch(n){if(ft(n))return Kq(n)&&(await this._removeSession(),await ai(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new Es;const o=s.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Zo(this.storage,this.storageKey));const{data:f,error:p}=await wt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:o.access_token,xform:li});if(p)throw p;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(ft(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Es;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:o}=mg(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(ft(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:u}=n;if(u)throw u;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Es;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ft(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!dr())throw new Lf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Lf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new mS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mS("No code detected.");const{data:N,error:T}=await this._exchangeCodeForSession(t.code);if(T)throw T;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:u,expires_at:d,token_type:f}=t;if(!a||!u||!o||!f)throw new Lf("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let v=p+g;d&&(v=parseInt(d));const x=v-p;x*1e3<=sl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const w=v-g;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,p);const{data:y,error:_}=await this._getUser(a);if(_)throw _;const S={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:g,expires_at:v,refresh_token:o,token_type:f,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:t.type},error:null})}catch(r){if(ft(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Hi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:u}=await this.admin.signOut(o,t);if(u&&!(qq(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await ai(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=nK(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Zo(this.storage,this.storageKey,!0));try{return await wt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ft(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ft(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var o,u,d,f,p;const{data:g,error:v}=a;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await wt(this.fetch,"GET",x,{headers:this.headers,jwt:(p=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return dr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(ft(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:a}}=n;if(s)throw s;const{options:o,provider:u,token:d,access_token:f,nonce:p}=t,g=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ns}),{data:v,error:x}=g;return x?this._returnResult({data:{user:null,session:null},error:x}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Jo}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:x}))}catch(s){if(ft(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)throw o;return await wt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ft(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await iK(async s=>(s>0&&await aK(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await wt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ns})),(s,a)=>{const o=200*Math.pow(2,s);return a&&pg(a)&&Date.now()+o-r<sl})}catch(r){if(this._debug(n,"error",r),ft(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),dr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Hi(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Hi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await al(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o?.user)!==null&&t!==void 0?t:gg()}else if(s&&!s.user&&!s.user){const o=await Hi(this.storage,this.storageKey+"-user");o&&o?.user?(s.user=o.user,await ai(this.storage,this.storageKey+"-user"),await al(this.storage,this.storageKey,s)):s.user=gg()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<hg;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${hg}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),pg(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(s.access_token);!u&&o?.user?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Es;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new s0;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Es;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(s,"error",a),ft(a)){const o={data:null,error:a};return pg(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){a.push(d)}});if(await Promise.all(o),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await al(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=wS(s);await al(this.storage,this.storageKey,a)}else{const s=wS(n);await al(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ai(this.storage,this.storageKey),await ai(this.storage,this.storageKey+"-code-verifier"),await ai(this.storage,this.storageKey+"-user"),this.userStorage&&await ai(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/sl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${sl}ms, refresh threshold is ${hx} ticks`),s<=hx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof vk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Zo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(u.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r?.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?this._returnResult({data:null,error:a}):await wt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ft(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await wt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((s=d?.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(ft(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?LK(t.webauthn.credential_response):PK(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await wt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(n){if(ft(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await wt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:DK(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:IK(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ft(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=mg(r.access_token);let o=null;a.aal&&(o=a.aal);let u=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await wt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Es})})}catch(n){if(ft(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Es});const o=await wt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&dr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Es});const o=await wt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&dr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+Vq>s)return r;const{data:a,error:o}=await wt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,r=a.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:w}=await this.getSession();if(w||!x.session)return this._returnResult({data:null,error:w});r=x.session.access_token}const{header:s,payload:a,signature:o,raw:{header:u,payload:d}}=mg(r);n?.allowExpired||hK(a.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:a,header:s,signature:o},error:null}}const p=pK(s.alg),g=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,o,eK(`${u}.${d}`)))throw new gx("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}}}Ru.nextInstanceID={};const WK=Ru;class qK extends WK{constructor(t){super(t)}}class KK{constructor(t,n,r){var s,a,o;this.supabaseUrl=t,this.supabaseKey=n;const u=Bq(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:Oq,realtime:Dq,auth:Object.assign(Object.assign({},Mq),{storageKey:d}),global:Rq},p=zq(r??{},f);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=Pq(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new UW(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new kq(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new PW(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:a,storageKey:o,flowType:u,lock:d,debug:f,throwOnError:p},g,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qK({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),g),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:a,flowType:u,lock:d,debug:f,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new sq(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const XK=(e,t,n)=>new KK(e,t,n);function YK(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}YK()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const JK="https://qyjwaadlrkrxpnpkjlvn.supabase.co",ZK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF5andhYWRscmtyeHBucGtqbHZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5MjMxODgsImV4cCI6MjA3NzQ5OTE4OH0.xAFYsRUt_qG-djMKLcQxPqSL8LwtavrYmoiysIaLg8c",Ws=XK(JK,ZK);function QK(){const[e,t]=P.useState(null),[n,r]=P.useState(!0),[s,a]=P.useState(!1),[o,u]=P.useState("0"),[d,f]=P.useState(!1),[p,g]=P.useState(null),[v,x]=P.useState(null);P.useEffect(()=>{w();const S=localStorage.getItem("lastSyncTime");S&&x(S)},[]),P.useEffect(()=>{p&&y()},[p]);const w=async()=>{const S=localStorage.getItem("userId"),N=localStorage.getItem("isConnected")==="true";if(f(N),N&&S)try{const{data:T,error:C}=await Ws.from("accounts").select("id").eq("org_id",S).limit(1);!C&&T&&T.length>0?g(T[0].id):r(!1)}catch(T){console.error("Error fetching account:",T),r(!1)}else r(!1)},y=async()=>{if(p)try{const{data:S,error:N}=await Ws.functions.invoke("get-analytics",{body:{accountId:p,dateFrom:new Date(Date.now()-6048e5).toISOString().split("T")[0],dateTo:new Date().toISOString().split("T")[0]}});if(N)throw N;S?.data?(t(S.data.metrics),u(S.data.potentialSaving||"0")):t(null)}catch(S){console.error("Error loading dashboard data:",S),t(null)}finally{r(!1)}},_=async()=>{if(!(!p||s)){a(!0);try{const S=new Date(Date.now()-2592e6).toISOString().split("T")[0],N=new Date().toISOString().split("T")[0];await Ws.functions.invoke("sync-direct-data",{body:{accountId:p,dateFrom:S,dateTo:N,reportType:"search-queries"}});const T=new Date().toISOString();localStorage.setItem("lastSyncTime",T),x(T),await y()}catch(S){console.error("Sync error:",S),alert(" .  .")}finally{a(!1)}}};return n?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):d?p?!e&&!n?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),c.jsxs("button",{onClick:_,disabled:s,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2 disabled:opacity-50",children:[c.jsx(Yf,{className:`w-4 h-4 ${s?"animate-spin":""}`}),c.jsx("span",{children:s?"...":""})]})]}),c.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[c.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:" "}),c.jsx("p",{className:"text-gray-700 mb-4",children:'    .   ""     ..'})]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),c.jsxs("div",{className:"flex items-center space-x-4",children:[v&&c.jsxs("span",{className:"text-sm text-gray-600",children:[" : ",new Date(v).toLocaleString("ru-RU")]}),c.jsxs("button",{onClick:_,disabled:s,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2 disabled:opacity-50",children:[c.jsx(Yf,{className:`w-4 h-4 ${s?"animate-spin":""}`}),c.jsx("span",{children:s?"...":" "})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsx(nl,{title:" ",value:`${parseFloat(e?.totalCost||"0").toLocaleString("ru-RU")} `,icon:c.jsx(Vb,{className:"w-6 h-6"}),trend:{value:"-12%",isPositive:!0},color:"blue"}),c.jsx(nl,{title:"",value:e?.totalClicks.toLocaleString("ru-RU")||"0",icon:c.jsx(c5,{className:"w-6 h-6"}),trend:{value:"+8%",isPositive:!0},color:"green"}),c.jsx(nl,{title:"",value:e?.totalImpressions.toLocaleString("ru-RU")||"0",icon:c.jsx(LR,{className:"w-6 h-6"}),trend:{value:"+15%",isPositive:!0},color:"purple"}),c.jsx(nl,{title:"",value:e?.totalConversions.toLocaleString("ru-RU")||"0",icon:c.jsx(sE,{className:"w-6 h-6"}),trend:{value:"+5%",isPositive:!0},color:"orange"}),c.jsx(nl,{title:"CTR",value:`${e?.avgCtr||"0"}%`,icon:c.jsx(Jf,{className:"w-6 h-6"}),trend:{value:"+0.3%",isPositive:!0},color:"cyan"}),c.jsx(nl,{title:"CPA",value:`${parseFloat(e?.avgCpa||"0").toLocaleString("ru-RU")} `,icon:c.jsx(Vb,{className:"w-6 h-6"}),trend:{value:"-18%",isPositive:!0},color:"pink"})]}),c.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100/50 border border-green-200 rounded-lg p-6 shadow-sm",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-green-700 mb-2",children:" "}),c.jsxs("p",{className:"text-4xl font-bold text-green-600",children:[parseFloat(o).toLocaleString("ru-RU")," "]}),c.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["  ",e?.totalClicks||0,"    7 "]})]}),c.jsx("div",{className:"bg-green-100 rounded-full p-4",children:c.jsx(Jf,{className:"w-12 h-12 text-green-600"})})]})})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"  "}),c.jsx("p",{className:"text-gray-700 mb-4",children:"    .. ,   ."}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:" "})]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),c.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[c.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:".  "}),c.jsx("p",{className:"text-gray-700 mb-4",children:"       ."}),c.jsx("a",{href:"/settings",className:"inline-block px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"  "})]})]})}function nl({title:e,value:t,icon:n,trend:r,color:s}){const a={blue:"from-blue-50 to-blue-100/50 border-blue-200 text-blue-600",green:"from-green-50 to-green-100/50 border-green-200 text-green-600",purple:"from-purple-50 to-purple-100/50 border-purple-200 text-purple-600",orange:"from-orange-50 to-orange-100/50 border-orange-200 text-orange-600",cyan:"from-cyan-50 to-cyan-100/50 border-cyan-200 text-cyan-600",pink:"from-pink-50 to-pink-100/50 border-pink-200 text-pink-600"};return c.jsxs("div",{className:`bg-gradient-to-br ${a[s]} border rounded-lg p-6 shadow-sm`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:e}),n]}),c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsx("span",{className:"text-2xl font-bold text-gray-900",children:t}),r&&c.jsxs("div",{className:`flex items-center space-x-1 text-sm ${r.isPositive?"text-green-600":"text-red-600"}`,children:[r.isPositive?c.jsx(Jf,{className:"w-4 h-4"}):c.jsx(A5,{className:"w-4 h-4"}),c.jsx("span",{children:r.value})]})]})]})}function eX(){const[e,t]=P.useState([]),[n,r]=P.useState([]),[s,a]=P.useState(!0);P.useEffect(()=>{o()},[]);const o=async()=>{try{const u=await fetch(Du("/api/analytics"));if(!u.ok)throw new Error(`Failed to load analytics: ${u.status}`);const d=await u.json();t(d.topWastefulQueries??[]),r(d.topExpensiveConversions??[])}catch(u){console.error("Error loading analytics:",u)}finally{a(!1)}};return s?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-3xl font-bold",children:""}),c.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start space-x-3 shadow-sm",children:[c.jsx(fu,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-yellow-700 mb-1",children:"  "}),c.jsx("p",{className:"text-sm text-gray-700",children:"         .    ."})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx(Lh,{className:"w-5 h-5 text-red-600"}),c.jsx("h2",{className:"text-xl font-bold",children:"    ( )"})]}),c.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),c.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:""}),c.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:""}),c.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:""}),c.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:""}),c.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"CTR"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map((u,d)=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:u.query}),c.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:u.impressions.toLocaleString("ru-RU")}),c.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:u.clicks.toLocaleString("ru-RU")}),c.jsxs("td",{className:"px-4 py-3 text-sm text-right font-semibold text-red-600",children:[u.cost.toLocaleString("ru-RU")," "]}),c.jsx("td",{className:"px-4 py-3 text-sm text-right text-red-600",children:u.conversions}),c.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:[u.ctr?.toFixed(2),"%"]})]},d))})]})})]}),c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx(fu,{className:"w-5 h-5 text-orange-600"}),c.jsx("h2",{className:"text-xl font-bold",children:"   ( CPA)"})]}),c.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),c.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:""}),c.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:""}),c.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:""}),c.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:""}),c.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"CPA"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map((u,d)=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:u.query}),c.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:u.impressions.toLocaleString("ru-RU")}),c.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:u.clicks.toLocaleString("ru-RU")}),c.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:[u.cost.toLocaleString("ru-RU")," "]}),c.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:u.conversions}),c.jsxs("td",{className:"px-4 py-3 text-sm text-right font-semibold text-orange-600",children:[u.cpa?.toLocaleString("ru-RU")," "]})]},d))})]})})]})]})]})}function tX(){const[e,t]=P.useState([]),[n,r]=P.useState(!0),[s,a]=P.useState(!1),[o,u]=P.useState(null);P.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:g,error:v}=await Ws.from("recommendations").select("*").eq("account_id","33333333-3333-3333-3333-333333333333").order("priority",{ascending:!1}).order("created_at",{ascending:!1}).limit(20);if(v)throw v;t(g||[])}catch(g){console.error("Error loading recommendations:",g)}finally{r(!1)}},f=async()=>{a(!0);try{const{data:g,error:v}=await Ws.functions.invoke("generate-recommendations",{body:{accountId:"33333333-3333-3333-3333-333333333333",dateFrom:new Date(Date.now()-6048e5).toISOString().split("T")[0],dateTo:new Date().toISOString().split("T")[0]}});if(v)throw v;await d()}catch(g){console.error("Error generating recommendations:",g)}finally{a(!1)}},p=async(g,v)=>{u(g);try{const{data:x,error:w}=await Ws.functions.invoke("apply-action",{body:{recommendationId:g,mode:v}});if(w)throw w;await d()}catch(x){console.error("Error applying recommendation:",x)}finally{u(null)}};return n?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"  "}),c.jsxs("button",{onClick:f,disabled:s,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 rounded-lg transition-colors flex items-center space-x-2",children:[c.jsx(qb,{className:"w-4 h-4"}),c.jsx("span",{children:s?"...":" "})]})]}),e.length===0?c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-12 text-center shadow-sm",children:[c.jsx(qb,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"  "}),c.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:" "})]}):c.jsx("div",{className:"space-y-4",children:e.map(g=>c.jsx(nX,{recommendation:g,onApply:p,isApplying:o===g.id},g.id))})]})}function nX({recommendation:e,onApply:t,isApplying:n}){const r={high:"border-red-200 bg-red-50",medium:"border-orange-200 bg-orange-50",low:"border-blue-200 bg-blue-50"},s={proposed:c.jsx(Ih,{className:"w-5 h-5 text-yellow-600"}),approved:c.jsx(_g,{className:"w-5 h-5 text-green-600"}),sandbox_applied:c.jsx(ER,{className:"w-5 h-5 text-blue-600"}),applied:c.jsx(_g,{className:"w-5 h-5 text-green-600"})},a={add_negative_keyword:" -",pause_keyword:"   ",optimize_ad:" "};return c.jsxs("div",{className:`border rounded-lg p-6 shadow-sm ${r[e.priority]||r.low}`,children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[s[e.status],c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:a[e.type]||e.type}),c.jsxs("p",{className:"text-sm text-gray-600",children:[": ",c.jsx("span",{className:"capitalize",children:e.priority})," | : ",c.jsx("span",{className:"capitalize",children:e.status})]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-gray-600",children:""}),c.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[e.estimated_saving.toLocaleString("ru-RU")," "]}),c.jsxs("p",{className:"text-xs text-gray-500",children:[": ",e.confidence,"%"]})]})]}),c.jsx("p",{className:"text-gray-700 mb-4",children:e.reason}),e.status==="proposed"&&c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:()=>t(e.id,"sandbox"),disabled:n,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors text-sm",children:n?"...":"  "}),c.jsx("button",{onClick:()=>t(e.id,"production"),disabled:n,className:"px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white rounded-lg transition-colors text-sm",children:"  "})]}),e.status==="sandbox_applied"&&c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-700",children:"  .     24 ."}),e.status==="applied"&&c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 text-sm text-green-700",children:"   ."})]})}function rX(){const[e,t]=P.useState("ecommerce"),[n,r]=P.useState(!1),[s,a]=P.useState(!1),[o,u]=P.useState("checking"),[d,f]=P.useState(null),[p,g]=P.useState(null),[v,x]=P.useState(!1),w=[{value:"ecommerce",label:"E-commerce (-)"},{value:"leadgen",label:"Lead Generation ()"},{value:"brand",label:"Brand (-)"},{value:"local",label:"Local ( )"},{value:"mobile_app",label:"Mobile App ( )"},{value:"b2b",label:"B2B (  )"},{value:"finance",label:"Finance ()"},{value:"travel",label:"Travel ()"}];P.useEffect(()=>{y()},[]);const y=()=>{const T=localStorage.getItem("userId"),C=localStorage.getItem("connectionId"),A=localStorage.getItem("isConnected")==="true";f(T),g(C),a(A),u(A?"connected":"disconnected")},_=()=>{localStorage.setItem("businessType",e),r(!0),setTimeout(()=>r(!1),3e3)},S=async()=>{x(!0);try{const T="https://el6p1zne1dhx.space.minimax.io/callback",{data:C,error:A}=await Ws.functions.invoke("oauth-start",{body:{provider:"direct",redirectUri:T}});if(A)throw new Error(A.message||"   OAuth");if(C?.error)throw new Error(C.error.message||" ");if(C?.data?.authUrl)window.location.href=C.data.authUrl;else throw new Error("  URL ")}catch(T){console.error("Connection error:",T),alert(T instanceof Error?T.message:" "),x(!1)}},N=()=>{confirm(" ,    .?")&&(localStorage.removeItem("userId"),localStorage.removeItem("connectionId"),localStorage.removeItem("isConnected"),a(!1),u("disconnected"),f(null),g(null))};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(nE,{className:"w-8 h-8 text-blue-600"}),c.jsx("h1",{className:"text-3xl font-bold",children:""})]}),c.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-6 shadow-sm",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:" ."}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),o==="checking"&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(yl,{className:"w-4 h-4 text-gray-400 animate-spin"}),c.jsx("span",{className:"text-gray-600",children:" ..."})]}),o==="connected"&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(kx,{className:"w-5 h-5 text-green-600"}),c.jsx("span",{className:"text-green-600 font-medium",children:""})]}),d&&c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsxs("p",{children:["User ID: ",d.slice(0,8),"..."]}),p&&c.jsxs("p",{children:["Connection ID: ",p.slice(0,8),"..."]})]}),c.jsxs("button",{onClick:N,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[c.jsx(D5,{className:"w-4 h-4"}),c.jsx("span",{children:""})]})]}),o==="disconnected"&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(KS,{className:"w-5 h-5 text-gray-400"}),c.jsx("span",{className:"text-gray-600",children:" "})]}),c.jsx("button",{onClick:S,disabled:v,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg transition-all flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:v?c.jsxs(c.Fragment,{children:[c.jsx(yl,{className:"w-5 h-5 animate-spin"}),c.jsx("span",{children:"..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Xf,{className:"w-5 h-5"}),c.jsx("span",{children:" ."})]})}),c.jsx("p",{className:"text-sm text-gray-600",children:"          ID"})]})]})})]})}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-6 shadow-sm",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:" "}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),c.jsx("select",{value:e,onChange:T=>t(T.target.value),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:w.map(T=>c.jsx("option",{value:T.value,children:T.label},T.value))}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"      "})]})})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:" "}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" CPA ()"}),c.jsx("input",{type:"number",defaultValue:"1500",className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"    ()"}),c.jsx("input",{type:"number",defaultValue:"2000",className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" CTR (%)"}),c.jsx("input",{type:"number",step:"0.1",defaultValue:"1.5",className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (%)"}),c.jsx("input",{type:"number",step:"0.1",defaultValue:"1.0",className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[n&&c.jsx("span",{className:"text-green-600 text-sm",children:" "}),c.jsxs("button",{onClick:_,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[c.jsx(tE,{className:"w-4 h-4"}),c.jsx("span",{children:" "})]})]})]}),!s&&c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 shadow-sm",children:[c.jsx("h3",{className:"font-semibold text-blue-700 mb-2",children:"  .?"}),c.jsxs("ol",{className:"text-sm text-gray-700 space-y-1 list-decimal list-inside",children:[c.jsx("li",{children:'  " ."'}),c.jsx("li",{children:"   ID"}),c.jsx("li",{children:"   API ."}),c.jsx("li",{children:"  "})]})]})]})}function sX(){const e=Xs(),[t,n]=P.useState(!1);P.useEffect(()=>{const s=()=>{const a=localStorage.getItem("isConnected")==="true";n(a)};return s(),window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)},[]);const r=s=>e.pathname.endsWith(s);return c.jsx("nav",{className:"bg-white border-b border-gray-200 shadow-sm",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsxs("div",{className:"flex items-center space-x-8",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(bg,{className:"w-8 h-8 text-blue-600"}),c.jsx("span",{className:"text-xl font-bold text-gray-900",children:". "})]}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs(il,{to:"dashboard",className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("dashboard")?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[c.jsx(JR,{className:"w-4 h-4"}),c.jsx("span",{children:"Dashboard"})]}),c.jsxs(il,{to:"analytics",className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("analytics")?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[c.jsx(Jf,{className:"w-4 h-4"}),c.jsx("span",{children:""})]}),c.jsxs(il,{to:"recommendations",className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("recommendations")?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[c.jsx(bg,{className:"w-4 h-4"}),c.jsx("span",{children:""})]}),c.jsxs(il,{to:"settings",className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("settings")?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[c.jsx(nE,{className:"w-4 h-4"}),c.jsx("span",{children:""})]})]})]}),c.jsx("div",{className:"flex items-center space-x-4",children:t?c.jsxs("div",{className:"px-3 py-1 bg-green-50 text-green-700 rounded-full text-xs font-medium border border-green-200 flex items-center space-x-1",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),c.jsx("span",{children:""})]}):c.jsx("div",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-medium border border-gray-300",children:" "})})]})})})}function aX(){const[e]=n4(),t=Mh(),[n,r]=P.useState("processing"),[s,a]=P.useState(" ...");P.useEffect(()=>{o()},[]);const o=async()=>{try{const u=e.get("code"),d=e.get("state"),f=e.get("error");if(f)throw new Error(` : ${f}`);if(!u||!d)throw new Error("  ");a("   ...");const{data:p,error:g}=await Ws.functions.invoke("oauth-callback",{body:{code:u,state:d}});if(g)throw new Error(g.message||"     ");if(p?.error)throw new Error(p.error.message||" ");p?.data&&(localStorage.setItem("userId",p.data.userId),localStorage.setItem("connectionId",p.data.connectionId),localStorage.setItem("isConnected","true")),a(" !   ...");const{data:v,error:x}=await Ws.from("accounts").select("id").eq("org_id",p.data.userId);if(x||!v||v.length===0){r("success"),a(" !   ."),setTimeout(()=>t("/dashboard"),2e3);return}a(` : ${v.length}.  ...`);const w=v[0].id,y=new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],_=new Date().toISOString().split("T")[0];try{await Ws.functions.invoke("sync-direct-data",{body:{accountId:w,dateFrom:y,dateTo:_,reportType:"search-queries"}}),r("success"),a("  !"),localStorage.setItem("lastSyncTime",new Date().toISOString())}catch(S){console.warn("Data sync warning:",S),r("success"),a(" .    .")}setTimeout(()=>{t("/dashboard")},2e3)}catch(u){console.error("OAuth callback error:",u),r("error"),a(u instanceof Error?u.message:" "),setTimeout(()=>{t("/settings")},3e3)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:c.jsxs("div",{className:"text-center",children:[n==="processing"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx(yl,{className:"w-16 h-16 mx-auto text-blue-600 animate-spin"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:""}),c.jsx("p",{className:"text-gray-600",children:s})]}),n==="success"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx(kx,{className:"w-16 h-16 mx-auto text-green-600"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"!"}),c.jsx("p",{className:"text-gray-600",children:s}),c.jsx("p",{className:"text-sm text-gray-500",children:"  dashboard..."})]}),n==="error"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx(KS,{className:"w-16 h-16 mx-auto text-red-600"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:""}),c.jsx("p",{className:"text-gray-600",children:s}),c.jsx("p",{className:"text-sm text-gray-500",children:"  ..."})]})]})})})}function iX(){return c.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[c.jsx(sX,{}),c.jsx("main",{className:"container mx-auto px-4 py-8",children:c.jsxs(FS,{children:[c.jsx(Vr,{path:"/",element:c.jsx(PS,{to:"dashboard",replace:!0})}),c.jsx(Vr,{path:"callback",element:c.jsx(aX,{})}),c.jsx(Vr,{path:"dashboard",element:c.jsx(QK,{})}),c.jsx(Vr,{path:"analytics",element:c.jsx(eX,{})}),c.jsx(Vr,{path:"recommendations",element:c.jsx(tX,{})}),c.jsx(Vr,{path:"settings",element:c.jsx(rX,{})})]})})]})}function oX(){return c.jsx(RW,{children:c.jsx(iX,{})})}const lX=Object.freeze(Object.defineProperty({__proto__:null,default:oX},Symbol.toStringTag,{value:"Module"})),cX=Du("/api/wordstat");async function uX(e){try{const t=await e.json();return typeof t=="string"?t:t?.detail?typeof t.detail=="string"?t.detail:JSON.stringify(t.detail):JSON.stringify(t)}catch{try{return await e.text()}catch{return`Wordstat API error (${e.status})`}}}async function bk(e,t){const n=await fetch(`${cX}${e}`,{headers:{"Content-Type":"application/json",...t?.headers??{}},...t});if(!n.ok)throw new Error(await uX(n));return await n.json()}function dX(){return bk("/regions")}function fX(e,t){return bk("/multi-collect",{method:"POST",body:JSON.stringify({phrases:e,regions:t})})}const xx=225,hX=({isOpen:e,onClose:t})=>{const n=Et(B=>B.phrases),r=Et(B=>B.selectedPhraseIds),s=Et(B=>B.addLog),a=Et(B=>B.setProcessProgress),o=Et(B=>B.resetProgress),u=Et(B=>B.applyWordstatResults),d=Et(B=>B.loadInitialData),f=Array.isArray(n)?n:[],p=r instanceof Set?r:new Set(Array.isArray(r)?r:[]),[g,v]=Te.useState([]),[x,w]=Te.useState({ws:!0,qws:!1,bws:!1}),[y,_]=Te.useState(()=>new Set([xx])),[S,N]=Te.useState(!1),[T,C]=Te.useState(!1),[A,z]=Te.useState(null),[M,j]=Te.useState(""),[O,Y]=Te.useState(!1),[J,F]=Te.useState(null),re=Te.useMemo(()=>Array.from(p),[p]),k=Te.useMemo(()=>{const B=re.length>0?f.filter(ue=>p.has(ue.id)):f,G=new Set;return B.forEach(ue=>{const ge=(ue.text||"").trim();ge&&G.add(ge)}),Array.from(G)},[f,re.length,p]),V=Te.useMemo(()=>Array.from(y),[y]),K=Te.useCallback(async()=>{N(!0);try{const B=await dX();v(B)}catch(B){z(B.message||"    Wordstat.")}finally{N(!1)}},[]);Te.useEffect(()=>{e&&(z(null),K())},[e,K]),Te.useEffect(()=>{e||(C(!1),z(null),o(),j(""),F(null))},[e,o]);const H=re.length>0?` ${re.length}  ${f.length}`:` ${f.length}`,Q=Te.useMemo(()=>{if(!g.length||y.size===0)return[];const B=new Map;return g.forEach(G=>B.set(G.id,G)),Array.from(y).map(G=>B.get(G)).filter(G=>!!G)},[g,y]),ee=Te.useMemo(()=>Array.from(new Set(M.split(/\r?\n/).map(B=>B.trim()).filter(Boolean))),[M]),ae=Te.useCallback(async()=>{if(!ee.length){z("    .");return}Y(!0),z(null);try{const{inserted:B}=await DN({phrases:ee});await d?.(),j(""),F({submitted:ee.length,inserted:B}),s("success",`   ${B} ${B!==ee.length?` ( ${ee.length})`:""}.`)}catch(B){const G=B.message||"   .";z(G),s("error",G)}finally{Y(!1)}},[ee,d,s]),D=ee.length>0,R=async()=>{if(T)return;if(!x.ws&&!x.qws&&!x.bws){z("     .");return}if(k.length===0){z("   .      .");return}const B=V.length?V:[xx];C(!0),z(null),a(10,0,k.length);try{const ue=(await fX(k,B)).map(ge=>({...ge,ws:x.ws?ge.ws:0,qws:x.qws?ge.qws:0,bws:x.bws?ge.bws:0}));u(ue),await d?.(),a(100,k.length,k.length),s("success",`Wordstat:    ${ue.length||0} `),t()}catch(G){const ue=G.message||"     Wordstat.  .";z(ue),s("error",ue)}finally{o(),C(!1)}},U=B=>{w(G=>({...G,[B]:!G[B]}))};return c.jsx(Gn,{isOpen:e,onClose:()=>{T||t()},title:"  (Yandex Wordstat)",size:"lg",footer:c.jsxs(c.Fragment,{children:[c.jsx(Xe,{onClick:t,disabled:T,children:""}),c.jsx(Xe,{variant:"primary",onClick:R,disabled:T||O||k.length===0||!x.ws&&!x.qws&&!x.bws,icon:T?c.jsx(yl,{className:"w-4 h-4 animate-spin"}):void 0,children:T?"...":" "})]}),children:c.jsxs("div",{className:"space-y-6",children:[A&&c.jsxs("div",{className:"flex items-start gap-2 rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:[c.jsx(Ih,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),c.jsx("span",{children:A})]}),c.jsxs("section",{className:"grid gap-3 sm:grid-cols-3",children:[c.jsxs("div",{className:"rounded-md border border-gray-200 p-3",children:[c.jsx("div",{className:"text-xs uppercase text-gray-500",children:""}),c.jsx("div",{className:"text-lg font-semibold text-gray-900",children:H})]}),c.jsxs("div",{className:"rounded-md border border-gray-200 p-3",children:[c.jsx("div",{className:"text-xs uppercase text-gray-500",children:""}),c.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[y.size||0," ."]})]}),c.jsxs("div",{className:"rounded-md border border-gray-200 p-3",children:[c.jsx("div",{className:"text-xs uppercase text-gray-500",children:" "}),c.jsx("div",{className:"text-lg font-semibold text-gray-900",children:ee.length})]})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("span",{className:"font-semibold text-gray-800",children:" "})}),c.jsxs("div",{className:"flex flex-wrap gap-4",children:[c.jsx(fr,{checked:x.ws,onChange:()=>U("ws"),label:"WS ( )"}),c.jsx(fr,{checked:x.qws,onChange:()=>U("qws"),label:'"WS" ( )'}),c.jsx(fr,{checked:x.bws,onChange:()=>U("bws"),label:"!WS ()"})]})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"font-semibold text-gray-800",children:" "}),J&&c.jsxs("span",{className:"text-xs text-gray-500",children:[" : ",J.inserted,"/",J.submitted]})]}),c.jsx(Ev,{label:"  (   )",rows:5,value:M,onChange:B=>j(B.target.value),placeholder:`  
   
 `}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.jsx(Xe,{variant:"secondary",onClick:ae,disabled:!D||O,icon:O?c.jsx(yl,{className:"w-4 h-4 animate-spin"}):void 0,children:O?"...":"  "}),c.jsx("span",{className:"text-xs text-gray-500",children:"           ."})]})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[c.jsx(eE,{className:"w-4 h-4 text-gray-500"}),"  "]}),c.jsx(Xe,{size:"sm",variant:"ghost",icon:c.jsx(Yf,{className:"w-4 h-4"}),onClick:K,disabled:S,children:""})]}),c.jsx(pX,{regions:g,isLoading:S,selected:y,onChange:B=>_(new Set(B))}),Q.length>0&&c.jsxs("div",{className:"flex flex-wrap gap-2",children:[Q.slice(0,6).map(B=>c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-blue-50 px-3 py-1 text-xs text-blue-700",children:[B.name,c.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>{const G=new Set(y);G.delete(B.id),_(G)},"aria-label":`  ${B.name}`,children:""})]},B.id)),Q.length>6&&c.jsxs("span",{className:"text-xs text-gray-500",children:["+ ",Q.length-6," "]})]})]}),c.jsx("section",{className:"rounded-md border border-blue-100 bg-blue-50 p-4 text-sm text-blue-900",children:c.jsxs("p",{className:"flex items-start gap-2",children:[c.jsx(sE,{className:"w-4 h-4 flex-shrink-0 text-blue-500 mt-0.5"}),c.jsxs("span",{children:["  "," ",c.jsx("strong",{children:re.length>0?`${re.length} `:`${f.length} `})," ",". : ",y.size||1,".      ."]})]})})]})})},pX=({regions:e,selected:t,onChange:n,isLoading:r})=>{const[s,a]=Te.useState(""),[o,u]=Te.useState(new Set),d=Te.useRef({}),f=Te.useMemo(()=>{const S=new Map,N=new Map,T=new Map;return e.forEach(C=>{const A=C.parentId??null;S.has(A)||S.set(A,[]),S.get(A).push(C),N.set(C.id,C.parentId??null),C.parentId!=null&&(T.has(C.parentId)||T.set(C.parentId,[]),T.get(C.parentId).push(C.id))}),{byParent:S,parent:N,children:T}},[e]);Te.useEffect(()=>{if(!e.length)return;const S=new Set;e.forEach(N=>{N.depth<=1&&N.hasChildren&&S.add(N.id)}),u(S)},[e]);const p=S=>{u(N=>{const T=new Set(N);return T.has(S)?T.delete(S):T.add(S),T})},g=Te.useCallback((S,N)=>{(f.children.get(S)||[]).forEach(C=>{N.delete(C),g(C,N)})},[f.children]),v=Te.useCallback((S,N)=>{let T=f.parent.get(S)??null;for(;T!=null;)N.delete(T),T=f.parent.get(T)??null},[f.parent]),x=(S,N)=>{const T=new Set(t);N?(T.add(S),g(S,T),v(S,T)):T.delete(S),n(T)},w=Te.useMemo(()=>{if(!s.trim())return[];const S=s.trim().toLowerCase();return e.filter(N=>N.name.toLowerCase().includes(S)||N.path.toLowerCase().includes(S))},[e,s]),y=Te.useCallback(S=>{const N=new Set(o);let T=S;for(;T;){const C=f.parent.get(T);if(C===void 0)break;C!==null&&N.add(C),T=C}u(N),requestAnimationFrame(()=>{d.current[S]?.scrollIntoView({behavior:"smooth",block:"center"})})},[o,f.parent]),_=(S,N=0)=>(f.byParent.get(S)||[]).map(C=>{const A=(f.byParent.get(C.id)||[]).length>0,z=o.has(C.id),M=t.has(C.id);return c.jsxs("div",{ref:j=>{d.current[C.id]=j},children:[c.jsxs("div",{className:"flex items-center gap-2 py-1",style:{paddingLeft:N*16},children:[A?c.jsx("button",{type:"button",onClick:()=>p(C.id),className:"flex h-5 w-5 items-center justify-center rounded border border-gray-300 text-xs text-gray-600 hover:bg-gray-100",children:z?"":"+"}):c.jsx("span",{className:"w-5"}),c.jsx(fr,{checked:M,onChange:j=>x(C.id,j.target.checked),label:C.name})]}),A&&z&&c.jsx("div",{children:_(C.id,N+1)})]},C.id)});return c.jsxs("div",{className:"space-y-3 rounded-md border border-gray-200 p-4",children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(eE,{className:"w-4 h-4 text-gray-500"})," : ",c.jsx("strong",{className:"text-gray-900",children:t.size})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(Xe,{size:"sm",variant:"ghost",onClick:()=>n(new Set([xx])),children:" (225)"}),c.jsx(Xe,{size:"sm",variant:"ghost",onClick:()=>n(new Set([159])),children:" (159)"}),c.jsx(Xe,{size:"sm",variant:"ghost",onClick:()=>n(new Set([149])),children:" (149)"}),c.jsx(Xe,{size:"sm",variant:"ghost",onClick:()=>n(new Set),children:""})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx(ka,{placeholder:"    ",value:s,onChange:S=>a(S.target.value),className:"pl-9"}),c.jsx(Lh,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"})]}),r?c.jsx("div",{className:"h-64 animate-pulse rounded-md bg-gray-100"}):c.jsx("div",{className:"h-64 overflow-y-auto rounded-md border border-gray-200 bg-white",children:s.trim()?w.length>0?w.map(S=>c.jsxs("div",{className:"flex items-center justify-between gap-3 border-b border-gray-100 px-3 py-2 text-sm last:border-none",children:[c.jsxs("button",{type:"button",className:"flex items-center gap-2 text-left text-gray-700 hover:text-gray-900",onClick:()=>y(S.id),children:[c.jsx(yR,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{children:S.path})]}),c.jsx(fr,{checked:t.has(S.id),onChange:N=>x(S.id,N.target.checked)})]},S.id)):c.jsx("div",{className:"p-4 text-sm text-gray-500",children:"  ."}):c.jsx("div",{className:"space-y-1 py-2",children:_(null)})})]})},mX=Object.freeze(Object.defineProperty({__proto__:null,WordstatModal:hX},Symbol.toStringTag,{value:"Module"}));
