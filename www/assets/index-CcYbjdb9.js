function $k(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var sa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ph(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Hk(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Xp={exports:{}},wc={};var Qw;function Vk(){if(Qw)return wc;Qw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var c in s)c!=="key"&&(i[c]=s[c])}else i=s;return s=i.ref,{$$typeof:e,type:r,key:o,ref:s!==void 0?s:null,props:i}}return wc.Fragment=t,wc.jsx=n,wc.jsxs=n,wc}var eb;function Gk(){return eb||(eb=1,Xp.exports=Vk()),Xp.exports}var u=Gk(),Yp={exports:{}},mt={};var tb;function qk(){if(tb)return mt;tb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,_={};function E(M,A,U){this.props=M,this.context=A,this.refs=_,this.updater=U||b}E.prototype.isReactComponent={},E.prototype.setState=function(M,A){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,A,"setState")},E.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function T(){}T.prototype=E.prototype;function C(M,A,U){this.props=M,this.context=A,this.refs=_,this.updater=U||b}var N=C.prototype=new T;N.constructor=C,y(N,E.prototype),N.isPureReactComponent=!0;var R=Array.isArray;function P(){}var j={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function D(M,A,U){var F=U.ref;return{$$typeof:e,type:M,key:A,ref:F!==void 0?F:null,props:U}}function Y(M,A){return D(M.type,A,M.props)}function Z(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function z(M){var A={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(U){return A[U]})}var re=/\/+/g;function k(M,A){return typeof M=="object"&&M!==null&&M.key!=null?z(""+M.key):A.toString(36)}function K(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(P,P):(M.status="pending",M.then(function(A){M.status==="pending"&&(M.status="fulfilled",M.value=A)},function(A){M.status==="pending"&&(M.status="rejected",M.reason=A)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function X(M,A,U,F,B){var ue=typeof M;(ue==="undefined"||ue==="boolean")&&(M=null);var xe=!1;if(M===null)xe=!0;else switch(ue){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(M.$$typeof){case e:case t:xe=!0;break;case p:return xe=M._init,X(xe(M._payload),A,U,F,B)}}if(xe)return B=B(M),xe=F===""?"."+k(M,0):F,R(B)?(U="",xe!=null&&(U=xe.replace(re,"$&/")+"/"),X(B,A,U,"",function(je){return je})):B!=null&&(Z(B)&&(B=Y(B,U+(B.key==null||M&&M.key===B.key?"":(""+B.key).replace(re,"$&/")+"/")+xe)),A.push(B)),1;xe=0;var ge=F===""?".":F+":";if(R(M))for(var ve=0;ve<M.length;ve++)F=M[ve],ue=ge+k(F,ve),xe+=X(F,A,U,ue,B);else if(ve=x(M),typeof ve=="function")for(M=ve.call(M),ve=0;!(F=M.next()).done;)F=F.value,ue=ge+k(F,ve++),xe+=X(F,A,U,ue,B);else if(ue==="object"){if(typeof M.then=="function")return X(K(M),A,U,F,B);throw A=String(M),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.")}return xe}function H(M,A,U){if(M==null)return M;var F=[],B=0;return X(M,F,"","",function(ue){return A.call(U,ue,B++)}),F}function ne(M){if(M._status===-1){var A=M._result;A=A(),A.then(function(U){(M._status===0||M._status===-1)&&(M._status=1,M._result=U)},function(U){(M._status===0||M._status===-1)&&(M._status=2,M._result=U)}),M._status===-1&&(M._status=0,M._result=A)}if(M._status===1)return M._result.default;throw M._result}var se=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},oe={map:H,forEach:function(M,A,U){H(M,function(){A.apply(this,arguments)},U)},count:function(M){var A=0;return H(M,function(){A++}),A},toArray:function(M){return H(M,function(A){return A})||[]},only:function(M){if(!Z(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return mt.Activity=g,mt.Children=oe,mt.Component=E,mt.Fragment=n,mt.Profiler=s,mt.PureComponent=C,mt.StrictMode=r,mt.Suspense=h,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,mt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return j.H.useMemoCache(M)}},mt.cache=function(M){return function(){return M.apply(null,arguments)}},mt.cacheSignal=function(){return null},mt.cloneElement=function(M,A,U){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var F=y({},M.props),B=M.key;if(A!=null)for(ue in A.key!==void 0&&(B=""+A.key),A)!O.call(A,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&A.ref===void 0||(F[ue]=A[ue]);var ue=arguments.length-2;if(ue===1)F.children=U;else if(1<ue){for(var xe=Array(ue),ge=0;ge<ue;ge++)xe[ge]=arguments[ge+2];F.children=xe}return D(M.type,B,F)},mt.createContext=function(M){return M={$$typeof:o,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:i,_context:M},M},mt.createElement=function(M,A,U){var F,B={},ue=null;if(A!=null)for(F in A.key!==void 0&&(ue=""+A.key),A)O.call(A,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(B[F]=A[F]);var xe=arguments.length-2;if(xe===1)B.children=U;else if(1<xe){for(var ge=Array(xe),ve=0;ve<xe;ve++)ge[ve]=arguments[ve+2];B.children=ge}if(M&&M.defaultProps)for(F in xe=M.defaultProps,xe)B[F]===void 0&&(B[F]=xe[F]);return D(M,ue,B)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(M){return{$$typeof:c,render:M}},mt.isValidElement=Z,mt.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:ne}},mt.memo=function(M,A){return{$$typeof:d,type:M,compare:A===void 0?null:A}},mt.startTransition=function(M){var A=j.T,U={};j.T=U;try{var F=M(),B=j.S;B!==null&&B(U,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(P,se)}catch(ue){se(ue)}finally{A!==null&&U.types!==null&&(A.types=U.types),j.T=A}},mt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},mt.use=function(M){return j.H.use(M)},mt.useActionState=function(M,A,U){return j.H.useActionState(M,A,U)},mt.useCallback=function(M,A){return j.H.useCallback(M,A)},mt.useContext=function(M){return j.H.useContext(M)},mt.useDebugValue=function(){},mt.useDeferredValue=function(M,A){return j.H.useDeferredValue(M,A)},mt.useEffect=function(M,A){return j.H.useEffect(M,A)},mt.useEffectEvent=function(M){return j.H.useEffectEvent(M)},mt.useId=function(){return j.H.useId()},mt.useImperativeHandle=function(M,A,U){return j.H.useImperativeHandle(M,A,U)},mt.useInsertionEffect=function(M,A){return j.H.useInsertionEffect(M,A)},mt.useLayoutEffect=function(M,A){return j.H.useLayoutEffect(M,A)},mt.useMemo=function(M,A){return j.H.useMemo(M,A)},mt.useOptimistic=function(M,A){return j.H.useOptimistic(M,A)},mt.useReducer=function(M,A,U){return j.H.useReducer(M,A,U)},mt.useRef=function(M){return j.H.useRef(M)},mt.useState=function(M){return j.H.useState(M)},mt.useSyncExternalStore=function(M,A,U){return j.H.useSyncExternalStore(M,A,U)},mt.useTransition=function(){return j.H.useTransition()},mt.version="19.2.0",mt}var nb;function Zg(){return nb||(nb=1,Yp.exports=qk()),Yp.exports}var q=Zg();const ke=ph(q);var Jp={exports:{}},bc={},Zp={exports:{}},Qp={};var rb;function Wk(){return rb||(rb=1,(function(e){function t(X,H){var ne=X.length;X.push(H);e:for(;0<ne;){var se=ne-1>>>1,oe=X[se];if(0<s(oe,H))X[se]=H,X[ne]=oe,ne=se;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var H=X[0],ne=X.pop();if(ne!==H){X[0]=ne;e:for(var se=0,oe=X.length,M=oe>>>1;se<M;){var A=2*(se+1)-1,U=X[A],F=A+1,B=X[F];if(0>s(U,ne))F<oe&&0>s(B,U)?(X[se]=B,X[F]=ne,se=F):(X[se]=U,X[A]=ne,se=A);else if(F<oe&&0>s(B,ne))X[se]=B,X[F]=ne,se=F;else break e}}return H}function s(X,H){var ne=X.sortIndex-H.sortIndex;return ne!==0?ne:X.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var h=[],d=[],p=1,g=null,v=3,x=!1,b=!1,y=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function N(X){for(var H=n(d);H!==null;){if(H.callback===null)r(d);else if(H.startTime<=X)r(d),H.sortIndex=H.expirationTime,t(h,H);else break;H=n(d)}}function R(X){if(y=!1,N(X),!b)if(n(h)!==null)b=!0,P||(P=!0,z());else{var H=n(d);H!==null&&K(R,H.startTime-X)}}var P=!1,j=-1,O=5,D=-1;function Y(){return _?!0:!(e.unstable_now()-D<O)}function Z(){if(_=!1,P){var X=e.unstable_now();D=X;var H=!0;try{e:{b=!1,y&&(y=!1,T(j),j=-1),x=!0;var ne=v;try{t:{for(N(X),g=n(h);g!==null&&!(g.expirationTime>X&&Y());){var se=g.callback;if(typeof se=="function"){g.callback=null,v=g.priorityLevel;var oe=se(g.expirationTime<=X);if(X=e.unstable_now(),typeof oe=="function"){g.callback=oe,N(X),H=!0;break t}g===n(h)&&r(h),N(X)}else r(h);g=n(h)}if(g!==null)H=!0;else{var M=n(d);M!==null&&K(R,M.startTime-X),H=!1}}break e}finally{g=null,v=ne,x=!1}H=void 0}}finally{H?z():P=!1}}}var z;if(typeof C=="function")z=function(){C(Z)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,k=re.port2;re.port1.onmessage=Z,z=function(){k.postMessage(null)}}else z=function(){E(Z,0)};function K(X,H){j=E(function(){X(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(X){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var ne=v;v=H;try{return X()}finally{v=ne}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(X,H){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ne=v;v=X;try{return H()}finally{v=ne}},e.unstable_scheduleCallback=function(X,H,ne){var se=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?se+ne:se):ne=se,X){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ne+oe,X={id:p++,callback:H,priorityLevel:X,startTime:ne,expirationTime:oe,sortIndex:-1},ne>se?(X.sortIndex=ne,t(d,X),n(h)===null&&X===n(d)&&(y?(T(j),j=-1):y=!0,K(R,ne-se))):(X.sortIndex=oe,t(h,X),b||x||(b=!0,P||(P=!0,z()))),X},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(X){var H=v;return function(){var ne=v;v=H;try{return X.apply(this,arguments)}finally{v=ne}}}})(Qp)),Qp}var sb;function Kk(){return sb||(sb=1,Zp.exports=Wk()),Zp.exports}var em={exports:{}},er={};var ib;function Xk(){if(ib)return er;ib=1;var e=Zg();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(h,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:h,containerInfo:d,implementation:p}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return er.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,er.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(h,d,null,p)},er.flushSync=function(h){var d=o.T,p=r.p;try{if(o.T=null,r.p=2,h)return h()}finally{o.T=d,r.p=p,r.d.f()}},er.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},er.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},er.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:x}):p==="script"&&r.d.X(h,{crossOrigin:g,integrity:v,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},er.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},er.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin);r.d.L(h,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},er.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},er.requestFormReset=function(h){r.d.r(h)},er.unstable_batchedUpdates=function(h,d){return h(d)},er.useFormState=function(h,d,p){return o.H.useFormState(h,d,p)},er.useFormStatus=function(){return o.H.useHostTransitionStatus()},er.version="19.2.0",er}var ab;function U2(){if(ab)return em.exports;ab=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),em.exports=Xk(),em.exports}var ob;function Yk(){if(ob)return bc;ob=1;var e=Kk(),t=Zg(),n=U2();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function i(a){var l=a,f=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(f=l.return),a=l.return;while(a)}return l.tag===3?f:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function h(a){if(i(a)!==a)throw Error(r(188))}function d(a){var l=a.alternate;if(!l){if(l=i(a),l===null)throw Error(r(188));return l!==a?null:a}for(var f=a,m=l;;){var w=f.return;if(w===null)break;var S=w.alternate;if(S===null){if(m=w.return,m!==null){f=m;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===f)return h(w),a;if(S===m)return h(w),l;S=S.sibling}throw Error(r(188))}if(f.return!==m.return)f=w,m=S;else{for(var L=!1,J=w.child;J;){if(J===f){L=!0,f=w,m=S;break}if(J===m){L=!0,m=w,f=S;break}J=J.sibling}if(!L){for(J=S.child;J;){if(J===f){L=!0,f=S,m=w;break}if(J===m){L=!0,m=S,f=w;break}J=J.sibling}if(!L)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:l}function p(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=p(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function z(a){return a===null||typeof a!="object"?null:(a=Z&&a[Z]||a["@@iterator"],typeof a=="function"?a:null)}var re=Symbol.for("react.client.reference");function k(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===re?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case y:return"Fragment";case E:return"Profiler";case _:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList";case D:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case C:return a.displayName||"Context";case T:return(a._context.displayName||"Context")+".Consumer";case N:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case j:return l=a.displayName||null,l!==null?l:k(a.type)||"Memo";case O:l=a._payload,a=a._init;try{return k(a(l))}catch{}}return null}var K=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},se=[],oe=-1;function M(a){return{current:a}}function A(a){0>oe||(a.current=se[oe],se[oe]=null,oe--)}function U(a,l){oe++,se[oe]=a.current,a.current=l}var F=M(null),B=M(null),ue=M(null),xe=M(null);function ge(a,l){switch(U(ue,l),U(B,a),U(F,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?_w(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=_w(l),a=Sw(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}A(F),U(F,a)}function ve(){A(F),A(B),A(ue)}function je(a){a.memoizedState!==null&&U(xe,a);var l=F.current,f=Sw(l,a.type);l!==f&&(U(B,a),U(F,f))}function Be(a){B.current===a&&(A(F),A(B)),xe.current===a&&(A(xe),gc._currentValue=ne)}var Ge,at;function I(a){if(Ge===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);Ge=l&&l[1]||"",at=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ge+a+at}var ye=!1;function ee(a,l){if(!a||ye)return"";ye=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(Oe){var Ne=Oe}Reflect.construct(a,[],Pe)}else{try{Pe.call()}catch(Oe){Ne=Oe}a.call(Pe.prototype)}}else{try{throw Error()}catch(Oe){Ne=Oe}(Pe=a())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(Oe){if(Oe&&Ne&&typeof Oe.stack=="string")return[Oe.stack,Ne.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),L=S[0],J=S[1];if(L&&J){var fe=L.split(`
`),be=J.split(`
`);for(w=m=0;m<fe.length&&!fe[m].includes("DetermineComponentFrameRoot");)m++;for(;w<be.length&&!be[w].includes("DetermineComponentFrameRoot");)w++;if(m===fe.length||w===be.length)for(m=fe.length-1,w=be.length-1;1<=m&&0<=w&&fe[m]!==be[w];)w--;for(;1<=m&&0<=w;m--,w--)if(fe[m]!==be[w]){if(m!==1||w!==1)do if(m--,w--,0>w||fe[m]!==be[w]){var Ie=`
`+fe[m].replace(" at new "," at ");return a.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",a.displayName)),Ie}while(1<=m&&0<=w);break}}}finally{ye=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?I(f):""}function V(a,l){switch(a.tag){case 26:case 27:case 5:return I(a.type);case 16:return I("Lazy");case 13:return a.child!==l&&l!==null?I("Suspense Fallback"):I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return ee(a.type,!1);case 11:return ee(a.type.render,!1);case 1:return ee(a.type,!0);case 31:return I("Activity");default:return""}}function G(a){try{var l="",f=null;do l+=V(a,f),f=a,a=a.return;while(a);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ce=Object.prototype.hasOwnProperty,pe=e.unstable_scheduleCallback,Te=e.unstable_cancelCallback,de=e.unstable_shouldYield,Me=e.unstable_requestPaint,_e=e.unstable_now,Re=e.unstable_getCurrentPriorityLevel,Ue=e.unstable_ImmediatePriority,Ze=e.unstable_UserBlockingPriority,$e=e.unstable_NormalPriority,wt=e.unstable_LowPriority,Qt=e.unstable_IdlePriority,bt=e.log,Lt=e.unstable_setDisableYieldValue,gt=null,Qe=null;function Ht(a){if(typeof bt=="function"&&Lt(a),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(gt,a)}catch{}}var kt=Math.clz32?Math.clz32:or,ds=Math.log,Ar=Math.LN2;function or(a){return a>>>=0,a===0?32:31-(ds(a)/Ar|0)|0}var Rn=256,zn=262144,At=4194304;function jt(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function en(a,l,f){var m=a.pendingLanes;if(m===0)return 0;var w=0,S=a.suspendedLanes,L=a.pingedLanes;a=a.warmLanes;var J=m&134217727;return J!==0?(m=J&~S,m!==0?w=jt(m):(L&=J,L!==0?w=jt(L):f||(f=J&~a,f!==0&&(w=jt(f))))):(J=m&~S,J!==0?w=jt(J):L!==0?w=jt(L):f||(f=m&~a,f!==0&&(w=jt(f)))),w===0?0:l!==0&&l!==w&&(l&S)===0&&(S=w&-w,f=l&-l,S>=f||S===32&&(f&4194048)!==0)?l:w}function On(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Zn(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mn(){var a=At;return At<<=1,(At&62914560)===0&&(At=4194304),a}function Qn(a){for(var l=[],f=0;31>f;f++)l.push(a);return l}function hr(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function hn(a,l,f,m,w,S){var L=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var J=a.entanglements,fe=a.expirationTimes,be=a.hiddenUpdates;for(f=L&~f;0<f;){var Ie=31-kt(f),Pe=1<<Ie;J[Ie]=0,fe[Ie]=-1;var Ne=be[Ie];if(Ne!==null)for(be[Ie]=null,Ie=0;Ie<Ne.length;Ie++){var Oe=Ne[Ie];Oe!==null&&(Oe.lane&=-536870913)}f&=~Pe}m!==0&&jr(a,m,0),S!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=S&~(L&~l))}function jr(a,l,f){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-kt(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|f&261930}function Bn(a,l){var f=a.entangledLanes|=l;for(a=a.entanglements;f;){var m=31-kt(f),w=1<<m;w&l|a[m]&l&&(a[m]|=l),f&=~w}}function pr(a,l){var f=l&-l;return f=(f&42)!==0?1:hs(f),(f&(a.suspendedLanes|l))!==0?0:f}function hs(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ps(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function W(){var a=H.p;return a!==0?a:(a=window.event,a===void 0?32:qw(a.type))}function ae(a,l){var f=H.p;try{return H.p=a,l()}finally{H.p=f}}var Q=Math.random().toString(36).slice(2),te="__reactFiber$"+Q,ie="__reactProps$"+Q,le="__reactContainer$"+Q,Se="__reactEvents$"+Q,Le="__reactListeners$"+Q,Ee="__reactHandles$"+Q,Ce="__reactResources$"+Q,Ae="__reactMarker$"+Q;function He(a){delete a[te],delete a[ie],delete a[Se],delete a[Le],delete a[Ee]}function qe(a){var l=a[te];if(l)return l;for(var f=a.parentNode;f;){if(l=f[le]||f[te]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(a=jw(a);a!==null;){if(f=a[te])return f;a=jw(a)}return l}a=f,f=a.parentNode}return null}function Je(a){if(a=a[te]||a[le]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Ve(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function Ye(a){var l=a[Ce];return l||(l=a[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function rt(a){a[Ae]=!0}var Yt=new Set,Jt={};function sn(a,l){Kr(a,l),Kr(a+"Capture",l)}function Kr(a,l){for(Jt[a]=l,a=0;a<l.length;a++)Yt.add(l[a])}var ga=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ki={},Ds={};function Ol(a){return ce.call(Ds,a)?!0:ce.call(ki,a)?!1:ga.test(a)?Ds[a]=!0:(ki[a]=!0,!1)}function mr(a,l,f){if(Ol(l))if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+f)}}function Du(a,l,f){if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+f)}}function Ws(a,l,f,m){if(m===null)a.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(f);return}a.setAttributeNS(l,f,""+m)}}function Xr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function pv(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function IN(a,l,f){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,S=m.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return w.call(this)},set:function(L){f=""+L,S.call(this,L)}}),Object.defineProperty(a,l,{enumerable:m.enumerable}),{getValue:function(){return f},setValue:function(L){f=""+L},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function $h(a){if(!a._valueTracker){var l=pv(a)?"checked":"value";a._valueTracker=IN(a,l,""+a[l])}}function mv(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var f=l.getValue(),m="";return a&&(m=pv(a)?a.checked?"true":"false":a.value),a=m,a!==f?(l.setValue(a),!0):!1}function Iu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var LN=/[\n"\\]/g;function Yr(a){return a.replace(LN,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Hh(a,l,f,m,w,S,L,J){a.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?a.type=L:a.removeAttribute("type"),l!=null?L==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Xr(l)):a.value!==""+Xr(l)&&(a.value=""+Xr(l)):L!=="submit"&&L!=="reset"||a.removeAttribute("value"),l!=null?Vh(a,L,Xr(l)):f!=null?Vh(a,L,Xr(f)):m!=null&&a.removeAttribute("value"),w==null&&S!=null&&(a.defaultChecked=!!S),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?a.name=""+Xr(J):a.removeAttribute("name")}function gv(a,l,f,m,w,S,L,J){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),l!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||l!=null)){$h(a);return}f=f!=null?""+Xr(f):"",l=l!=null?""+Xr(l):f,J||l===a.value||(a.value=l),a.defaultValue=l}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=J?a.checked:!!m,a.defaultChecked=!!m,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(a.name=L),$h(a)}function Vh(a,l,f){l==="number"&&Iu(a.ownerDocument)===a||a.defaultValue===""+f||(a.defaultValue=""+f)}function ao(a,l,f,m){if(a=a.options,l){l={};for(var w=0;w<f.length;w++)l["$"+f[w]]=!0;for(f=0;f<a.length;f++)w=l.hasOwnProperty("$"+a[f].value),a[f].selected!==w&&(a[f].selected=w),w&&m&&(a[f].defaultSelected=!0)}else{for(f=""+Xr(f),l=null,w=0;w<a.length;w++){if(a[w].value===f){a[w].selected=!0,m&&(a[w].defaultSelected=!0);return}l!==null||a[w].disabled||(l=a[w])}l!==null&&(l.selected=!0)}}function xv(a,l,f){if(l!=null&&(l=""+Xr(l),l!==a.value&&(a.value=l),f==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=f!=null?""+Xr(f):""}function vv(a,l,f,m){if(l==null){if(m!=null){if(f!=null)throw Error(r(92));if(K(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),l=f}f=Xr(l),a.defaultValue=f,m=a.textContent,m===f&&m!==""&&m!==null&&(a.value=m),$h(a)}function oo(a,l){if(l){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=l;return}}a.textContent=l}var FN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yv(a,l,f){var m=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":m?a.setProperty(l,f):typeof f!="number"||f===0||FN.has(l)?l==="float"?a.cssFloat=f:a[l]=(""+f).trim():a[l]=f+"px"}function wv(a,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var w in l)m=l[w],l.hasOwnProperty(w)&&f[w]!==m&&yv(a,w,m)}else for(var S in l)l.hasOwnProperty(S)&&yv(a,S,l[S])}function Gh(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lu(a){return zN.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ks(){}var qh=null;function Wh(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var lo=null,co=null;function bv(a){var l=Je(a);if(l&&(a=l.stateNode)){var f=a[ie]||null;e:switch(a=l.stateNode,l.type){case"input":if(Hh(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Yr(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var m=f[l];if(m!==a&&m.form===a.form){var w=m[ie]||null;if(!w)throw Error(r(90));Hh(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<f.length;l++)m=f[l],m.form===a.form&&mv(m)}break e;case"textarea":xv(a,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&ao(a,!!f.multiple,l,!1)}}}var Kh=!1;function _v(a,l,f){if(Kh)return a(l,f);Kh=!0;try{var m=a(l);return m}finally{if(Kh=!1,(lo!==null||co!==null)&&(Ef(),lo&&(l=lo,a=co,co=lo=null,bv(l),a)))for(l=0;l<a.length;l++)bv(a[l])}}function Ml(a,l){var f=a.stateNode;if(f===null)return null;var m=f[ie]||null;if(m===null)return null;f=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xh=!1;if(Xs)try{var Dl={};Object.defineProperty(Dl,"passive",{get:function(){Xh=!0}}),window.addEventListener("test",Dl,Dl),window.removeEventListener("test",Dl,Dl)}catch{Xh=!1}var Ai=null,Yh=null,Fu=null;function Sv(){if(Fu)return Fu;var a,l=Yh,f=l.length,m,w="value"in Ai?Ai.value:Ai.textContent,S=w.length;for(a=0;a<f&&l[a]===w[a];a++);var L=f-a;for(m=1;m<=L&&l[f-m]===w[S-m];m++);return Fu=w.slice(a,1<m?1-m:void 0)}function Pu(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function zu(){return!0}function Ev(){return!1}function gr(a){function l(f,m,w,S,L){this._reactName=f,this._targetInst=w,this.type=m,this.nativeEvent=S,this.target=L,this.currentTarget=null;for(var J in a)a.hasOwnProperty(J)&&(f=a[J],this[J]=f?f(S):S[J]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?zu:Ev,this.isPropagationStopped=Ev,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=zu)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=zu)},persist:function(){},isPersistent:zu}),l}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bu=gr(xa),Il=g({},xa,{view:0,detail:0}),BN=gr(Il),Jh,Zh,Ll,Uu=g({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:e0,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ll&&(Ll&&a.type==="mousemove"?(Jh=a.screenX-Ll.screenX,Zh=a.screenY-Ll.screenY):Zh=Jh=0,Ll=a),Jh)},movementY:function(a){return"movementY"in a?a.movementY:Zh}}),Tv=gr(Uu),UN=g({},Uu,{dataTransfer:0}),$N=gr(UN),HN=g({},Il,{relatedTarget:0}),Qh=gr(HN),VN=g({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),GN=gr(VN),qN=g({},xa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),WN=gr(qN),KN=g({},xa,{data:0}),Cv=gr(KN),XN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZN(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=JN[a])?!!l[a]:!1}function e0(){return ZN}var QN=g({},Il,{key:function(a){if(a.key){var l=XN[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Pu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?YN[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:e0,charCode:function(a){return a.type==="keypress"?Pu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Pu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),e4=gr(QN),t4=g({},Uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nv=gr(t4),n4=g({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:e0}),r4=gr(n4),s4=g({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),i4=gr(s4),a4=g({},Uu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),o4=gr(a4),l4=g({},xa,{newState:0,oldState:0}),c4=gr(l4),u4=[9,13,27,32],t0=Xs&&"CompositionEvent"in window,Fl=null;Xs&&"documentMode"in document&&(Fl=document.documentMode);var f4=Xs&&"TextEvent"in window&&!Fl,kv=Xs&&(!t0||Fl&&8<Fl&&11>=Fl),Av=" ",jv=!1;function Rv(a,l){switch(a){case"keyup":return u4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ov(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var uo=!1;function d4(a,l){switch(a){case"compositionend":return Ov(l);case"keypress":return l.which!==32?null:(jv=!0,Av);case"textInput":return a=l.data,a===Av&&jv?null:a;default:return null}}function h4(a,l){if(uo)return a==="compositionend"||!t0&&Rv(a,l)?(a=Sv(),Fu=Yh=Ai=null,uo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return kv&&l.locale!=="ko"?null:l.data;default:return null}}var p4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mv(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!p4[a.type]:l==="textarea"}function Dv(a,l,f,m){lo?co?co.push(m):co=[m]:lo=m,l=Rf(l,"onChange"),0<l.length&&(f=new Bu("onChange","change",null,f,m),a.push({event:f,listeners:l}))}var Pl=null,zl=null;function m4(a){gw(a,0)}function $u(a){var l=Ve(a);if(mv(l))return a}function Iv(a,l){if(a==="change")return l}var Lv=!1;if(Xs){var n0;if(Xs){var r0="oninput"in document;if(!r0){var Fv=document.createElement("div");Fv.setAttribute("oninput","return;"),r0=typeof Fv.oninput=="function"}n0=r0}else n0=!1;Lv=n0&&(!document.documentMode||9<document.documentMode)}function Pv(){Pl&&(Pl.detachEvent("onpropertychange",zv),zl=Pl=null)}function zv(a){if(a.propertyName==="value"&&$u(zl)){var l=[];Dv(l,zl,a,Wh(a)),_v(m4,l)}}function g4(a,l,f){a==="focusin"?(Pv(),Pl=l,zl=f,Pl.attachEvent("onpropertychange",zv)):a==="focusout"&&Pv()}function x4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return $u(zl)}function v4(a,l){if(a==="click")return $u(l)}function y4(a,l){if(a==="input"||a==="change")return $u(l)}function w4(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Rr=typeof Object.is=="function"?Object.is:w4;function Bl(a,l){if(Rr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var f=Object.keys(a),m=Object.keys(l);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var w=f[m];if(!ce.call(l,w)||!Rr(a[w],l[w]))return!1}return!0}function Bv(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Uv(a,l){var f=Bv(a);a=0;for(var m;f;){if(f.nodeType===3){if(m=a+f.textContent.length,a<=l&&m>=l)return{node:f,offset:l-a};a=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Bv(f)}}function $v(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?$v(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Hv(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Iu(a.document);l instanceof a.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)a=l.contentWindow;else break;l=Iu(a.document)}return l}function s0(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var b4=Xs&&"documentMode"in document&&11>=document.documentMode,fo=null,i0=null,Ul=null,a0=!1;function Vv(a,l,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;a0||fo==null||fo!==Iu(m)||(m=fo,"selectionStart"in m&&s0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ul&&Bl(Ul,m)||(Ul=m,m=Rf(i0,"onSelect"),0<m.length&&(l=new Bu("onSelect","select",null,l,f),a.push({event:l,listeners:m}),l.target=fo)))}function va(a,l){var f={};return f[a.toLowerCase()]=l.toLowerCase(),f["Webkit"+a]="webkit"+l,f["Moz"+a]="moz"+l,f}var ho={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},o0={},Gv={};Xs&&(Gv=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function ya(a){if(o0[a])return o0[a];if(!ho[a])return a;var l=ho[a],f;for(f in l)if(l.hasOwnProperty(f)&&f in Gv)return o0[a]=l[f];return a}var qv=ya("animationend"),Wv=ya("animationiteration"),Kv=ya("animationstart"),_4=ya("transitionrun"),S4=ya("transitionstart"),E4=ya("transitioncancel"),Xv=ya("transitionend"),Yv=new Map,l0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");l0.push("scrollEnd");function ms(a,l){Yv.set(a,l),sn(l,[a])}var Hu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Jr=[],po=0,c0=0;function Vu(){for(var a=po,l=c0=po=0;l<a;){var f=Jr[l];Jr[l++]=null;var m=Jr[l];Jr[l++]=null;var w=Jr[l];Jr[l++]=null;var S=Jr[l];if(Jr[l++]=null,m!==null&&w!==null){var L=m.pending;L===null?w.next=w:(w.next=L.next,L.next=w),m.pending=w}S!==0&&Jv(f,w,S)}}function Gu(a,l,f,m){Jr[po++]=a,Jr[po++]=l,Jr[po++]=f,Jr[po++]=m,c0|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function u0(a,l,f,m){return Gu(a,l,f,m),qu(a)}function wa(a,l){return Gu(a,null,null,l),qu(a)}function Jv(a,l,f){a.lanes|=f;var m=a.alternate;m!==null&&(m.lanes|=f);for(var w=!1,S=a.return;S!==null;)S.childLanes|=f,m=S.alternate,m!==null&&(m.childLanes|=f),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(w=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,w&&l!==null&&(w=31-kt(f),a=S.hiddenUpdates,m=a[w],m===null?a[w]=[l]:m.push(l),l.lane=f|536870912),S):null}function qu(a){if(50<cc)throw cc=0,yp=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var mo={};function T4(a,l,f,m){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(a,l,f,m){return new T4(a,l,f,m)}function f0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ys(a,l){var f=a.alternate;return f===null?(f=Or(a.tag,l,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=l,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,l=a.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function Zv(a,l){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,l=f.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Wu(a,l,f,m,w,S){var L=0;if(m=a,typeof a=="function")f0(a)&&(L=1);else if(typeof a=="string")L=jk(a,f,F.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case D:return a=Or(31,f,l,w),a.elementType=D,a.lanes=S,a;case y:return ba(f.children,w,S,l);case _:L=8,w|=24;break;case E:return a=Or(12,f,l,w|2),a.elementType=E,a.lanes=S,a;case R:return a=Or(13,f,l,w),a.elementType=R,a.lanes=S,a;case P:return a=Or(19,f,l,w),a.elementType=P,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:L=10;break e;case T:L=9;break e;case N:L=11;break e;case j:L=14;break e;case O:L=16,m=null;break e}L=29,f=Error(r(130,a===null?"null":typeof a,"")),m=null}return l=Or(L,f,l,w),l.elementType=a,l.type=m,l.lanes=S,l}function ba(a,l,f,m){return a=Or(7,a,m,l),a.lanes=f,a}function d0(a,l,f){return a=Or(6,a,null,l),a.lanes=f,a}function Qv(a){var l=Or(18,null,null,0);return l.stateNode=a,l}function h0(a,l,f){return l=Or(4,a.children!==null?a.children:[],a.key,l),l.lanes=f,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var e1=new WeakMap;function Zr(a,l){if(typeof a=="object"&&a!==null){var f=e1.get(a);return f!==void 0?f:(l={value:a,source:l,stack:G(l)},e1.set(a,l),l)}return{value:a,source:l,stack:G(l)}}var go=[],xo=0,Ku=null,$l=0,Qr=[],es=0,ji=null,Is=1,Ls="";function Js(a,l){go[xo++]=$l,go[xo++]=Ku,Ku=a,$l=l}function t1(a,l,f){Qr[es++]=Is,Qr[es++]=Ls,Qr[es++]=ji,ji=a;var m=Is;a=Ls;var w=32-kt(m)-1;m&=~(1<<w),f+=1;var S=32-kt(l)+w;if(30<S){var L=w-w%5;S=(m&(1<<L)-1).toString(32),m>>=L,w-=L,Is=1<<32-kt(l)+w|f<<w|m,Ls=S+a}else Is=1<<S|f<<w|m,Ls=a}function p0(a){a.return!==null&&(Js(a,1),t1(a,1,0))}function m0(a){for(;a===Ku;)Ku=go[--xo],go[xo]=null,$l=go[--xo],go[xo]=null;for(;a===ji;)ji=Qr[--es],Qr[es]=null,Ls=Qr[--es],Qr[es]=null,Is=Qr[--es],Qr[es]=null}function n1(a,l){Qr[es++]=Is,Qr[es++]=Ls,Qr[es++]=ji,Is=l.id,Ls=l.overflow,ji=a}var Un=null,tn=null,Nt=!1,Ri=null,ts=!1,g0=Error(r(519));function Oi(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(Zr(l,a)),g0}function r1(a){var l=a.stateNode,f=a.type,m=a.memoizedProps;switch(l[te]=a,l[ie]=m,f){case"dialog":Et("cancel",l),Et("close",l);break;case"iframe":case"object":case"embed":Et("load",l);break;case"video":case"audio":for(f=0;f<fc.length;f++)Et(fc[f],l);break;case"source":Et("error",l);break;case"img":case"image":case"link":Et("error",l),Et("load",l);break;case"details":Et("toggle",l);break;case"input":Et("invalid",l),gv(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Et("invalid",l);break;case"textarea":Et("invalid",l),vv(l,m.value,m.defaultValue,m.children)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||m.suppressHydrationWarning===!0||ww(l.textContent,f)?(m.popover!=null&&(Et("beforetoggle",l),Et("toggle",l)),m.onScroll!=null&&Et("scroll",l),m.onScrollEnd!=null&&Et("scrollend",l),m.onClick!=null&&(l.onclick=Ks),l=!0):l=!1,l||Oi(a,!0)}function s1(a){for(Un=a.return;Un;)switch(Un.tag){case 5:case 31:case 13:ts=!1;return;case 27:case 3:ts=!0;return;default:Un=Un.return}}function vo(a){if(a!==Un)return!1;if(!Nt)return s1(a),Nt=!0,!1;var l=a.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=a.type,f=!(f!=="form"&&f!=="button")||Dp(a.type,a.memoizedProps)),f=!f),f&&tn&&Oi(a),s1(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));tn=Aw(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));tn=Aw(a)}else l===27?(l=tn,qi(a.type)?(a=zp,zp=null,tn=a):tn=l):tn=Un?rs(a.stateNode.nextSibling):null;return!0}function _a(){tn=Un=null,Nt=!1}function x0(){var a=Ri;return a!==null&&(wr===null?wr=a:wr.push.apply(wr,a),Ri=null),a}function Hl(a){Ri===null?Ri=[a]:Ri.push(a)}var v0=M(null),Sa=null,Zs=null;function Mi(a,l,f){U(v0,l._currentValue),l._currentValue=f}function Qs(a){a._currentValue=v0.current,A(v0)}function y0(a,l,f){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===f)break;a=a.return}}function w0(a,l,f,m){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var S=w.dependencies;if(S!==null){var L=w.child;S=S.firstContext;e:for(;S!==null;){var J=S;S=w;for(var fe=0;fe<l.length;fe++)if(J.context===l[fe]){S.lanes|=f,J=S.alternate,J!==null&&(J.lanes|=f),y0(S.return,f,a),m||(L=null);break e}S=J.next}}else if(w.tag===18){if(L=w.return,L===null)throw Error(r(341));L.lanes|=f,S=L.alternate,S!==null&&(S.lanes|=f),y0(L,f,a),L=null}else L=w.child;if(L!==null)L.return=w;else for(L=w;L!==null;){if(L===a){L=null;break}if(w=L.sibling,w!==null){w.return=L.return,L=w;break}L=L.return}w=L}}function yo(a,l,f,m){a=null;for(var w=l,S=!1;w!==null;){if(!S){if((w.flags&524288)!==0)S=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var L=w.alternate;if(L===null)throw Error(r(387));if(L=L.memoizedProps,L!==null){var J=w.type;Rr(w.pendingProps.value,L.value)||(a!==null?a.push(J):a=[J])}}else if(w===xe.current){if(L=w.alternate,L===null)throw Error(r(387));L.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(gc):a=[gc])}w=w.return}a!==null&&w0(l,a,f,m),l.flags|=262144}function Xu(a){for(a=a.firstContext;a!==null;){if(!Rr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ea(a){Sa=a,Zs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function $n(a){return i1(Sa,a)}function Yu(a,l){return Sa===null&&Ea(a),i1(a,l)}function i1(a,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},Zs===null){if(a===null)throw Error(r(308));Zs=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Zs=Zs.next=l;return f}var C4=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(f,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(f){return f()})}},N4=e.unstable_scheduleCallback,k4=e.unstable_NormalPriority,xn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function b0(){return{controller:new C4,data:new Map,refCount:0}}function Vl(a){a.refCount--,a.refCount===0&&N4(k4,function(){a.controller.abort()})}var Gl=null,_0=0,wo=0,bo=null;function A4(a,l){if(Gl===null){var f=Gl=[];_0=0,wo=Tp(),bo={status:"pending",value:void 0,then:function(m){f.push(m)}}}return _0++,l.then(a1,a1),l}function a1(){if(--_0===0&&Gl!==null){bo!==null&&(bo.status="fulfilled");var a=Gl;Gl=null,wo=0,bo=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function j4(a,l){var f=[],m={status:"pending",value:null,reason:null,then:function(w){f.push(w)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var w=0;w<f.length;w++)(0,f[w])(l)},function(w){for(m.status="rejected",m.reason=w,w=0;w<f.length;w++)(0,f[w])(void 0)}),m}var o1=X.S;X.S=function(a,l){Vy=_e(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&A4(a,l),o1!==null&&o1(a,l)};var Ta=M(null);function S0(){var a=Ta.current;return a!==null?a:Kt.pooledCache}function Ju(a,l){l===null?U(Ta,Ta.current):U(Ta,l.pool)}function l1(){var a=S0();return a===null?null:{parent:xn._currentValue,pool:a}}var _o=Error(r(460)),E0=Error(r(474)),Zu=Error(r(542)),Qu={then:function(){}};function c1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function u1(a,l,f){switch(f=a[f],f===void 0?a.push(l):f!==l&&(l.then(Ks,Ks),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,d1(a),a;default:if(typeof l.status=="string")l.then(Ks,Ks);else{if(a=Kt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=m}},function(m){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,d1(a),a}throw Na=l,_o}}function Ca(a){try{var l=a._init;return l(a._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Na=f,_o):f}}var Na=null;function f1(){if(Na===null)throw Error(r(459));var a=Na;return Na=null,a}function d1(a){if(a===_o||a===Zu)throw Error(r(483))}var So=null,ql=0;function ef(a){var l=ql;return ql+=1,So===null&&(So=[]),u1(So,a,l)}function Wl(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function tf(a,l){throw l.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function h1(a){function l(me,he){if(a){var we=me.deletions;we===null?(me.deletions=[he],me.flags|=16):we.push(he)}}function f(me,he){if(!a)return null;for(;he!==null;)l(me,he),he=he.sibling;return null}function m(me){for(var he=new Map;me!==null;)me.key!==null?he.set(me.key,me):he.set(me.index,me),me=me.sibling;return he}function w(me,he){return me=Ys(me,he),me.index=0,me.sibling=null,me}function S(me,he,we){return me.index=we,a?(we=me.alternate,we!==null?(we=we.index,we<he?(me.flags|=67108866,he):we):(me.flags|=67108866,he)):(me.flags|=1048576,he)}function L(me){return a&&me.alternate===null&&(me.flags|=67108866),me}function J(me,he,we,Fe){return he===null||he.tag!==6?(he=d0(we,me.mode,Fe),he.return=me,he):(he=w(he,we),he.return=me,he)}function fe(me,he,we,Fe){var lt=we.type;return lt===y?Ie(me,he,we.props.children,Fe,we.key):he!==null&&(he.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===O&&Ca(lt)===he.type)?(he=w(he,we.props),Wl(he,we),he.return=me,he):(he=Wu(we.type,we.key,we.props,null,me.mode,Fe),Wl(he,we),he.return=me,he)}function be(me,he,we,Fe){return he===null||he.tag!==4||he.stateNode.containerInfo!==we.containerInfo||he.stateNode.implementation!==we.implementation?(he=h0(we,me.mode,Fe),he.return=me,he):(he=w(he,we.children||[]),he.return=me,he)}function Ie(me,he,we,Fe,lt){return he===null||he.tag!==7?(he=ba(we,me.mode,Fe,lt),he.return=me,he):(he=w(he,we),he.return=me,he)}function Pe(me,he,we){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=d0(""+he,me.mode,we),he.return=me,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case x:return we=Wu(he.type,he.key,he.props,null,me.mode,we),Wl(we,he),we.return=me,we;case b:return he=h0(he,me.mode,we),he.return=me,he;case O:return he=Ca(he),Pe(me,he,we)}if(K(he)||z(he))return he=ba(he,me.mode,we,null),he.return=me,he;if(typeof he.then=="function")return Pe(me,ef(he),we);if(he.$$typeof===C)return Pe(me,Yu(me,he),we);tf(me,he)}return null}function Ne(me,he,we,Fe){var lt=he!==null?he.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return lt!==null?null:J(me,he,""+we,Fe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case x:return we.key===lt?fe(me,he,we,Fe):null;case b:return we.key===lt?be(me,he,we,Fe):null;case O:return we=Ca(we),Ne(me,he,we,Fe)}if(K(we)||z(we))return lt!==null?null:Ie(me,he,we,Fe,null);if(typeof we.then=="function")return Ne(me,he,ef(we),Fe);if(we.$$typeof===C)return Ne(me,he,Yu(me,we),Fe);tf(me,we)}return null}function Oe(me,he,we,Fe,lt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return me=me.get(we)||null,J(he,me,""+Fe,lt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case x:return me=me.get(Fe.key===null?we:Fe.key)||null,fe(he,me,Fe,lt);case b:return me=me.get(Fe.key===null?we:Fe.key)||null,be(he,me,Fe,lt);case O:return Fe=Ca(Fe),Oe(me,he,we,Fe,lt)}if(K(Fe)||z(Fe))return me=me.get(we)||null,Ie(he,me,Fe,lt,null);if(typeof Fe.then=="function")return Oe(me,he,we,ef(Fe),lt);if(Fe.$$typeof===C)return Oe(me,he,we,Yu(he,Fe),lt);tf(he,Fe)}return null}function et(me,he,we,Fe){for(var lt=null,Rt=null,st=he,vt=he=0,Ct=null;st!==null&&vt<we.length;vt++){st.index>vt?(Ct=st,st=null):Ct=st.sibling;var Ot=Ne(me,st,we[vt],Fe);if(Ot===null){st===null&&(st=Ct);break}a&&st&&Ot.alternate===null&&l(me,st),he=S(Ot,he,vt),Rt===null?lt=Ot:Rt.sibling=Ot,Rt=Ot,st=Ct}if(vt===we.length)return f(me,st),Nt&&Js(me,vt),lt;if(st===null){for(;vt<we.length;vt++)st=Pe(me,we[vt],Fe),st!==null&&(he=S(st,he,vt),Rt===null?lt=st:Rt.sibling=st,Rt=st);return Nt&&Js(me,vt),lt}for(st=m(st);vt<we.length;vt++)Ct=Oe(st,me,vt,we[vt],Fe),Ct!==null&&(a&&Ct.alternate!==null&&st.delete(Ct.key===null?vt:Ct.key),he=S(Ct,he,vt),Rt===null?lt=Ct:Rt.sibling=Ct,Rt=Ct);return a&&st.forEach(function(Ji){return l(me,Ji)}),Nt&&Js(me,vt),lt}function ut(me,he,we,Fe){if(we==null)throw Error(r(151));for(var lt=null,Rt=null,st=he,vt=he=0,Ct=null,Ot=we.next();st!==null&&!Ot.done;vt++,Ot=we.next()){st.index>vt?(Ct=st,st=null):Ct=st.sibling;var Ji=Ne(me,st,Ot.value,Fe);if(Ji===null){st===null&&(st=Ct);break}a&&st&&Ji.alternate===null&&l(me,st),he=S(Ji,he,vt),Rt===null?lt=Ji:Rt.sibling=Ji,Rt=Ji,st=Ct}if(Ot.done)return f(me,st),Nt&&Js(me,vt),lt;if(st===null){for(;!Ot.done;vt++,Ot=we.next())Ot=Pe(me,Ot.value,Fe),Ot!==null&&(he=S(Ot,he,vt),Rt===null?lt=Ot:Rt.sibling=Ot,Rt=Ot);return Nt&&Js(me,vt),lt}for(st=m(st);!Ot.done;vt++,Ot=we.next())Ot=Oe(st,me,vt,Ot.value,Fe),Ot!==null&&(a&&Ot.alternate!==null&&st.delete(Ot.key===null?vt:Ot.key),he=S(Ot,he,vt),Rt===null?lt=Ot:Rt.sibling=Ot,Rt=Ot);return a&&st.forEach(function(Uk){return l(me,Uk)}),Nt&&Js(me,vt),lt}function qt(me,he,we,Fe){if(typeof we=="object"&&we!==null&&we.type===y&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case x:e:{for(var lt=we.key;he!==null;){if(he.key===lt){if(lt=we.type,lt===y){if(he.tag===7){f(me,he.sibling),Fe=w(he,we.props.children),Fe.return=me,me=Fe;break e}}else if(he.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===O&&Ca(lt)===he.type){f(me,he.sibling),Fe=w(he,we.props),Wl(Fe,we),Fe.return=me,me=Fe;break e}f(me,he);break}else l(me,he);he=he.sibling}we.type===y?(Fe=ba(we.props.children,me.mode,Fe,we.key),Fe.return=me,me=Fe):(Fe=Wu(we.type,we.key,we.props,null,me.mode,Fe),Wl(Fe,we),Fe.return=me,me=Fe)}return L(me);case b:e:{for(lt=we.key;he!==null;){if(he.key===lt)if(he.tag===4&&he.stateNode.containerInfo===we.containerInfo&&he.stateNode.implementation===we.implementation){f(me,he.sibling),Fe=w(he,we.children||[]),Fe.return=me,me=Fe;break e}else{f(me,he);break}else l(me,he);he=he.sibling}Fe=h0(we,me.mode,Fe),Fe.return=me,me=Fe}return L(me);case O:return we=Ca(we),qt(me,he,we,Fe)}if(K(we))return et(me,he,we,Fe);if(z(we)){if(lt=z(we),typeof lt!="function")throw Error(r(150));return we=lt.call(we),ut(me,he,we,Fe)}if(typeof we.then=="function")return qt(me,he,ef(we),Fe);if(we.$$typeof===C)return qt(me,he,Yu(me,we),Fe);tf(me,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,he!==null&&he.tag===6?(f(me,he.sibling),Fe=w(he,we),Fe.return=me,me=Fe):(f(me,he),Fe=d0(we,me.mode,Fe),Fe.return=me,me=Fe),L(me)):f(me,he)}return function(me,he,we,Fe){try{ql=0;var lt=qt(me,he,we,Fe);return So=null,lt}catch(st){if(st===_o||st===Zu)throw st;var Rt=Or(29,st,null,me.mode);return Rt.lanes=Fe,Rt.return=me,Rt}finally{}}}var ka=h1(!0),p1=h1(!1),Di=!1;function T0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function C0(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ii(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Li(a,l,f){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Dt&2)!==0){var w=m.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),m.pending=l,l=qu(a),Jv(a,null,f),l}return Gu(a,m,l,f),qu(a)}function Kl(a,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,f|=m,l.lanes=f,Bn(a,f)}}function N0(a,l){var f=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var w=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var L={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?w=S=L:S=S.next=L,f=f.next}while(f!==null);S===null?w=S=l:S=S.next=l}else w=S=l;f={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=l:a.next=l,f.lastBaseUpdate=l}var k0=!1;function Xl(){if(k0){var a=bo;if(a!==null)throw a}}function Yl(a,l,f,m){k0=!1;var w=a.updateQueue;Di=!1;var S=w.firstBaseUpdate,L=w.lastBaseUpdate,J=w.shared.pending;if(J!==null){w.shared.pending=null;var fe=J,be=fe.next;fe.next=null,L===null?S=be:L.next=be,L=fe;var Ie=a.alternate;Ie!==null&&(Ie=Ie.updateQueue,J=Ie.lastBaseUpdate,J!==L&&(J===null?Ie.firstBaseUpdate=be:J.next=be,Ie.lastBaseUpdate=fe))}if(S!==null){var Pe=w.baseState;L=0,Ie=be=fe=null,J=S;do{var Ne=J.lane&-536870913,Oe=Ne!==J.lane;if(Oe?(Tt&Ne)===Ne:(m&Ne)===Ne){Ne!==0&&Ne===wo&&(k0=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var et=a,ut=J;Ne=l;var qt=f;switch(ut.tag){case 1:if(et=ut.payload,typeof et=="function"){Pe=et.call(qt,Pe,Ne);break e}Pe=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=ut.payload,Ne=typeof et=="function"?et.call(qt,Pe,Ne):et,Ne==null)break e;Pe=g({},Pe,Ne);break e;case 2:Di=!0}}Ne=J.callback,Ne!==null&&(a.flags|=64,Oe&&(a.flags|=8192),Oe=w.callbacks,Oe===null?w.callbacks=[Ne]:Oe.push(Ne))}else Oe={lane:Ne,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ie===null?(be=Ie=Oe,fe=Pe):Ie=Ie.next=Oe,L|=Ne;if(J=J.next,J===null){if(J=w.shared.pending,J===null)break;Oe=J,J=Oe.next,Oe.next=null,w.lastBaseUpdate=Oe,w.shared.pending=null}}while(!0);Ie===null&&(fe=Pe),w.baseState=fe,w.firstBaseUpdate=be,w.lastBaseUpdate=Ie,S===null&&(w.shared.lanes=0),Ui|=L,a.lanes=L,a.memoizedState=Pe}}function m1(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function g1(a,l){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)m1(f[a],l)}var Eo=M(null),nf=M(0);function x1(a,l){a=li,U(nf,a),U(Eo,l),li=a|l.baseLanes}function A0(){U(nf,li),U(Eo,Eo.current)}function j0(){li=nf.current,A(Eo),A(nf)}var Mr=M(null),ns=null;function Fi(a){var l=a.alternate;U(pn,pn.current&1),U(Mr,a),ns===null&&(l===null||Eo.current!==null||l.memoizedState!==null)&&(ns=a)}function R0(a){U(pn,pn.current),U(Mr,a),ns===null&&(ns=a)}function v1(a){a.tag===22?(U(pn,pn.current),U(Mr,a),ns===null&&(ns=a)):Pi()}function Pi(){U(pn,pn.current),U(Mr,Mr.current)}function Dr(a){A(Mr),ns===a&&(ns=null),A(pn)}var pn=M(0);function rf(a){for(var l=a;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Fp(f)||Pp(f)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ei=0,xt=null,Vt=null,vn=null,sf=!1,To=!1,Aa=!1,af=0,Jl=0,Co=null,R4=0;function cn(){throw Error(r(321))}function O0(a,l){if(l===null)return!1;for(var f=0;f<l.length&&f<a.length;f++)if(!Rr(a[f],l[f]))return!1;return!0}function M0(a,l,f,m,w,S){return ei=S,xt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,X.H=a===null||a.memoizedState===null?ty:K0,Aa=!1,S=f(m,w),Aa=!1,To&&(S=w1(l,f,m,w)),y1(a),S}function y1(a){X.H=ec;var l=Vt!==null&&Vt.next!==null;if(ei=0,vn=Vt=xt=null,sf=!1,Jl=0,Co=null,l)throw Error(r(300));a===null||yn||(a=a.dependencies,a!==null&&Xu(a)&&(yn=!0))}function w1(a,l,f,m){xt=a;var w=0;do{if(To&&(Co=null),Jl=0,To=!1,25<=w)throw Error(r(301));if(w+=1,vn=Vt=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}X.H=ny,S=l(f,m)}while(To);return S}function O4(){var a=X.H,l=a.useState()[0];return l=typeof l.then=="function"?Zl(l):l,a=a.useState()[0],(Vt!==null?Vt.memoizedState:null)!==a&&(xt.flags|=1024),l}function D0(){var a=af!==0;return af=0,a}function I0(a,l,f){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~f}function L0(a){if(sf){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}sf=!1}ei=0,vn=Vt=xt=null,To=!1,Jl=af=0,Co=null}function lr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?xt.memoizedState=vn=a:vn=vn.next=a,vn}function mn(){if(Vt===null){var a=xt.alternate;a=a!==null?a.memoizedState:null}else a=Vt.next;var l=vn===null?xt.memoizedState:vn.next;if(l!==null)vn=l,Vt=a;else{if(a===null)throw xt.alternate===null?Error(r(467)):Error(r(310));Vt=a,a={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},vn===null?xt.memoizedState=vn=a:vn=vn.next=a}return vn}function of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(a){var l=Jl;return Jl+=1,Co===null&&(Co=[]),a=u1(Co,a,l),l=xt,(vn===null?l.memoizedState:vn.next)===null&&(l=l.alternate,X.H=l===null||l.memoizedState===null?ty:K0),a}function lf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Zl(a);if(a.$$typeof===C)return $n(a)}throw Error(r(438,String(a)))}function F0(a){var l=null,f=xt.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var m=xt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=of(),xt.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(a),m=0;m<a;m++)f[m]=Y;return l.index++,f}function ti(a,l){return typeof l=="function"?l(a):l}function cf(a){var l=mn();return P0(l,Vt,a)}function P0(a,l,f){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var w=a.baseQueue,S=m.pending;if(S!==null){if(w!==null){var L=w.next;w.next=S.next,S.next=L}l.baseQueue=w=S,m.pending=null}if(S=a.baseState,w===null)a.memoizedState=S;else{l=w.next;var J=L=null,fe=null,be=l,Ie=!1;do{var Pe=be.lane&-536870913;if(Pe!==be.lane?(Tt&Pe)===Pe:(ei&Pe)===Pe){var Ne=be.revertLane;if(Ne===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,gesture:null,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),Pe===wo&&(Ie=!0);else if((ei&Ne)===Ne){be=be.next,Ne===wo&&(Ie=!0);continue}else Pe={lane:0,revertLane:be.revertLane,gesture:null,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},fe===null?(J=fe=Pe,L=S):fe=fe.next=Pe,xt.lanes|=Ne,Ui|=Ne;Pe=be.action,Aa&&f(S,Pe),S=be.hasEagerState?be.eagerState:f(S,Pe)}else Ne={lane:Pe,revertLane:be.revertLane,gesture:be.gesture,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},fe===null?(J=fe=Ne,L=S):fe=fe.next=Ne,xt.lanes|=Pe,Ui|=Pe;be=be.next}while(be!==null&&be!==l);if(fe===null?L=S:fe.next=J,!Rr(S,a.memoizedState)&&(yn=!0,Ie&&(f=bo,f!==null)))throw f;a.memoizedState=S,a.baseState=L,a.baseQueue=fe,m.lastRenderedState=S}return w===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function z0(a){var l=mn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var m=f.dispatch,w=f.pending,S=l.memoizedState;if(w!==null){f.pending=null;var L=w=w.next;do S=a(S,L.action),L=L.next;while(L!==w);Rr(S,l.memoizedState)||(yn=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),f.lastRenderedState=S}return[S,m]}function b1(a,l,f){var m=xt,w=mn(),S=Nt;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=l();var L=!Rr((Vt||w).memoizedState,f);if(L&&(w.memoizedState=f,yn=!0),w=w.queue,$0(E1.bind(null,m,w,a),[a]),w.getSnapshot!==l||L||vn!==null&&vn.memoizedState.tag&1){if(m.flags|=2048,No(9,{destroy:void 0},S1.bind(null,m,w,f,l),null),Kt===null)throw Error(r(349));S||(ei&127)!==0||_1(m,l,f)}return f}function _1(a,l,f){a.flags|=16384,a={getSnapshot:l,value:f},l=xt.updateQueue,l===null?(l=of(),xt.updateQueue=l,l.stores=[a]):(f=l.stores,f===null?l.stores=[a]:f.push(a))}function S1(a,l,f,m){l.value=f,l.getSnapshot=m,T1(l)&&C1(a)}function E1(a,l,f){return f(function(){T1(l)&&C1(a)})}function T1(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!Rr(a,f)}catch{return!0}}function C1(a){var l=wa(a,2);l!==null&&br(l,a,2)}function B0(a){var l=lr();if(typeof a=="function"){var f=a;if(a=f(),Aa){Ht(!0);try{f()}finally{Ht(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:a},l}function N1(a,l,f,m){return a.baseState=f,P0(a,Vt,typeof m=="function"?m:ti)}function M4(a,l,f,m,w){if(df(a))throw Error(r(485));if(a=l.action,a!==null){var S={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){S.listeners.push(L)}};X.T!==null?f(!0):S.isTransition=!1,m(S),f=l.pending,f===null?(S.next=l.pending=S,k1(l,S)):(S.next=f.next,l.pending=f.next=S)}}function k1(a,l){var f=l.action,m=l.payload,w=a.state;if(l.isTransition){var S=X.T,L={};X.T=L;try{var J=f(w,m),fe=X.S;fe!==null&&fe(L,J),A1(a,l,J)}catch(be){U0(a,l,be)}finally{S!==null&&L.types!==null&&(S.types=L.types),X.T=S}}else try{S=f(w,m),A1(a,l,S)}catch(be){U0(a,l,be)}}function A1(a,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){j1(a,l,m)},function(m){return U0(a,l,m)}):j1(a,l,f)}function j1(a,l,f){l.status="fulfilled",l.value=f,R1(l),a.state=f,l=a.pending,l!==null&&(f=l.next,f===l?a.pending=null:(f=f.next,l.next=f,k1(a,f)))}function U0(a,l,f){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=f,R1(l),l=l.next;while(l!==m)}a.action=null}function R1(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function O1(a,l){return l}function M1(a,l){if(Nt){var f=Kt.formState;if(f!==null){e:{var m=xt;if(Nt){if(tn){t:{for(var w=tn,S=ts;w.nodeType!==8;){if(!S){w=null;break t}if(w=rs(w.nextSibling),w===null){w=null;break t}}S=w.data,w=S==="F!"||S==="F"?w:null}if(w){tn=rs(w.nextSibling),m=w.data==="F!";break e}}Oi(m)}m=!1}m&&(l=f[0])}}return f=lr(),f.memoizedState=f.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O1,lastRenderedState:l},f.queue=m,f=Z1.bind(null,xt,m),m.dispatch=f,m=B0(!1),S=W0.bind(null,xt,!1,m.queue),m=lr(),w={state:l,dispatch:null,action:a,pending:null},m.queue=w,f=M4.bind(null,xt,w,S,f),w.dispatch=f,m.memoizedState=a,[l,f,!1]}function D1(a){var l=mn();return I1(l,Vt,a)}function I1(a,l,f){if(l=P0(a,l,O1)[0],a=cf(ti)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Zl(l)}catch(L){throw L===_o?Zu:L}else m=l;l=mn();var w=l.queue,S=w.dispatch;return f!==l.memoizedState&&(xt.flags|=2048,No(9,{destroy:void 0},D4.bind(null,w,f),null)),[m,S,a]}function D4(a,l){a.action=l}function L1(a){var l=mn(),f=Vt;if(f!==null)return I1(l,f,a);mn(),l=l.memoizedState,f=mn();var m=f.queue.dispatch;return f.memoizedState=a,[l,m,!1]}function No(a,l,f,m){return a={tag:a,create:f,deps:m,inst:l,next:null},l=xt.updateQueue,l===null&&(l=of(),xt.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=a.next=a:(m=f.next,f.next=a,a.next=m,l.lastEffect=a),a}function F1(){return mn().memoizedState}function uf(a,l,f,m){var w=lr();xt.flags|=a,w.memoizedState=No(1|l,{destroy:void 0},f,m===void 0?null:m)}function ff(a,l,f,m){var w=mn();m=m===void 0?null:m;var S=w.memoizedState.inst;Vt!==null&&m!==null&&O0(m,Vt.memoizedState.deps)?w.memoizedState=No(l,S,f,m):(xt.flags|=a,w.memoizedState=No(1|l,S,f,m))}function P1(a,l){uf(8390656,8,a,l)}function $0(a,l){ff(2048,8,a,l)}function I4(a){xt.flags|=4;var l=xt.updateQueue;if(l===null)l=of(),xt.updateQueue=l,l.events=[a];else{var f=l.events;f===null?l.events=[a]:f.push(a)}}function z1(a){var l=mn().memoizedState;return I4({ref:l,nextImpl:a}),function(){if((Dt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function B1(a,l){return ff(4,2,a,l)}function U1(a,l){return ff(4,4,a,l)}function $1(a,l){if(typeof l=="function"){a=a();var f=l(a);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function H1(a,l,f){f=f!=null?f.concat([a]):null,ff(4,4,$1.bind(null,l,a),f)}function H0(){}function V1(a,l){var f=mn();l=l===void 0?null:l;var m=f.memoizedState;return l!==null&&O0(l,m[1])?m[0]:(f.memoizedState=[a,l],a)}function G1(a,l){var f=mn();l=l===void 0?null:l;var m=f.memoizedState;if(l!==null&&O0(l,m[1]))return m[0];if(m=a(),Aa){Ht(!0);try{a()}finally{Ht(!1)}}return f.memoizedState=[m,l],m}function V0(a,l,f){return f===void 0||(ei&1073741824)!==0&&(Tt&261930)===0?a.memoizedState=l:(a.memoizedState=f,a=qy(),xt.lanes|=a,Ui|=a,f)}function q1(a,l,f,m){return Rr(f,l)?f:Eo.current!==null?(a=V0(a,f,m),Rr(a,l)||(yn=!0),a):(ei&42)===0||(ei&1073741824)!==0&&(Tt&261930)===0?(yn=!0,a.memoizedState=f):(a=qy(),xt.lanes|=a,Ui|=a,l)}function W1(a,l,f,m,w){var S=H.p;H.p=S!==0&&8>S?S:8;var L=X.T,J={};X.T=J,W0(a,!1,l,f);try{var fe=w(),be=X.S;if(be!==null&&be(J,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ie=j4(fe,m);Ql(a,l,Ie,Fr(a))}else Ql(a,l,m,Fr(a))}catch(Pe){Ql(a,l,{then:function(){},status:"rejected",reason:Pe},Fr())}finally{H.p=S,L!==null&&J.types!==null&&(L.types=J.types),X.T=L}}function L4(){}function G0(a,l,f,m){if(a.tag!==5)throw Error(r(476));var w=K1(a).queue;W1(a,w,l,ne,f===null?L4:function(){return X1(a),f(m)})}function K1(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:ne},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:f},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function X1(a){var l=K1(a);l.next===null&&(l=a.alternate.memoizedState),Ql(a,l.next.queue,{},Fr())}function q0(){return $n(gc)}function Y1(){return mn().memoizedState}function J1(){return mn().memoizedState}function F4(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var f=Fr();a=Ii(f);var m=Li(l,a,f);m!==null&&(br(m,l,f),Kl(m,l,f)),l={cache:b0()},a.payload=l;return}l=l.return}}function P4(a,l,f){var m=Fr();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},df(a)?Q1(l,f):(f=u0(a,l,f,m),f!==null&&(br(f,a,m),ey(f,l,m)))}function Z1(a,l,f){var m=Fr();Ql(a,l,f,m)}function Ql(a,l,f,m){var w={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(df(a))Q1(l,w);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var L=l.lastRenderedState,J=S(L,f);if(w.hasEagerState=!0,w.eagerState=J,Rr(J,L))return Gu(a,l,w,0),Kt===null&&Vu(),!1}catch{}finally{}if(f=u0(a,l,w,m),f!==null)return br(f,a,m),ey(f,l,m),!0}return!1}function W0(a,l,f,m){if(m={lane:2,revertLane:Tp(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},df(a)){if(l)throw Error(r(479))}else l=u0(a,f,m,2),l!==null&&br(l,a,2)}function df(a){var l=a.alternate;return a===xt||l!==null&&l===xt}function Q1(a,l){To=sf=!0;var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}function ey(a,l,f){if((f&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,f|=m,l.lanes=f,Bn(a,f)}}var ec={readContext:$n,use:lf,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};ec.useEffectEvent=cn;var ty={readContext:$n,use:lf,useCallback:function(a,l){return lr().memoizedState=[a,l===void 0?null:l],a},useContext:$n,useEffect:P1,useImperativeHandle:function(a,l,f){f=f!=null?f.concat([a]):null,uf(4194308,4,$1.bind(null,l,a),f)},useLayoutEffect:function(a,l){return uf(4194308,4,a,l)},useInsertionEffect:function(a,l){uf(4,2,a,l)},useMemo:function(a,l){var f=lr();l=l===void 0?null:l;var m=a();if(Aa){Ht(!0);try{a()}finally{Ht(!1)}}return f.memoizedState=[m,l],m},useReducer:function(a,l,f){var m=lr();if(f!==void 0){var w=f(l);if(Aa){Ht(!0);try{f(l)}finally{Ht(!1)}}}else w=l;return m.memoizedState=m.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},m.queue=a,a=a.dispatch=P4.bind(null,xt,a),[m.memoizedState,a]},useRef:function(a){var l=lr();return a={current:a},l.memoizedState=a},useState:function(a){a=B0(a);var l=a.queue,f=Z1.bind(null,xt,l);return l.dispatch=f,[a.memoizedState,f]},useDebugValue:H0,useDeferredValue:function(a,l){var f=lr();return V0(f,a,l)},useTransition:function(){var a=B0(!1);return a=W1.bind(null,xt,a.queue,!0,!1),lr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,f){var m=xt,w=lr();if(Nt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Kt===null)throw Error(r(349));(Tt&127)!==0||_1(m,l,f)}w.memoizedState=f;var S={value:f,getSnapshot:l};return w.queue=S,P1(E1.bind(null,m,S,a),[a]),m.flags|=2048,No(9,{destroy:void 0},S1.bind(null,m,S,f,l),null),f},useId:function(){var a=lr(),l=Kt.identifierPrefix;if(Nt){var f=Ls,m=Is;f=(m&~(1<<32-kt(m)-1)).toString(32)+f,l="_"+l+"R_"+f,f=af++,0<f&&(l+="H"+f.toString(32)),l+="_"}else f=R4++,l="_"+l+"r_"+f.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:q0,useFormState:M1,useActionState:M1,useOptimistic:function(a){var l=lr();l.memoizedState=l.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=W0.bind(null,xt,!0,f),f.dispatch=l,[a,l]},useMemoCache:F0,useCacheRefresh:function(){return lr().memoizedState=F4.bind(null,xt)},useEffectEvent:function(a){var l=lr(),f={impl:a};return l.memoizedState=f,function(){if((Dt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},K0={readContext:$n,use:lf,useCallback:V1,useContext:$n,useEffect:$0,useImperativeHandle:H1,useInsertionEffect:B1,useLayoutEffect:U1,useMemo:G1,useReducer:cf,useRef:F1,useState:function(){return cf(ti)},useDebugValue:H0,useDeferredValue:function(a,l){var f=mn();return q1(f,Vt.memoizedState,a,l)},useTransition:function(){var a=cf(ti)[0],l=mn().memoizedState;return[typeof a=="boolean"?a:Zl(a),l]},useSyncExternalStore:b1,useId:Y1,useHostTransitionStatus:q0,useFormState:D1,useActionState:D1,useOptimistic:function(a,l){var f=mn();return N1(f,Vt,a,l)},useMemoCache:F0,useCacheRefresh:J1};K0.useEffectEvent=z1;var ny={readContext:$n,use:lf,useCallback:V1,useContext:$n,useEffect:$0,useImperativeHandle:H1,useInsertionEffect:B1,useLayoutEffect:U1,useMemo:G1,useReducer:z0,useRef:F1,useState:function(){return z0(ti)},useDebugValue:H0,useDeferredValue:function(a,l){var f=mn();return Vt===null?V0(f,a,l):q1(f,Vt.memoizedState,a,l)},useTransition:function(){var a=z0(ti)[0],l=mn().memoizedState;return[typeof a=="boolean"?a:Zl(a),l]},useSyncExternalStore:b1,useId:Y1,useHostTransitionStatus:q0,useFormState:L1,useActionState:L1,useOptimistic:function(a,l){var f=mn();return Vt!==null?N1(f,Vt,a,l):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:F0,useCacheRefresh:J1};ny.useEffectEvent=z1;function X0(a,l,f,m){l=a.memoizedState,f=f(m,l),f=f==null?l:g({},l,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var Y0={enqueueSetState:function(a,l,f){a=a._reactInternals;var m=Fr(),w=Ii(m);w.payload=l,f!=null&&(w.callback=f),l=Li(a,w,m),l!==null&&(br(l,a,m),Kl(l,a,m))},enqueueReplaceState:function(a,l,f){a=a._reactInternals;var m=Fr(),w=Ii(m);w.tag=1,w.payload=l,f!=null&&(w.callback=f),l=Li(a,w,m),l!==null&&(br(l,a,m),Kl(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var f=Fr(),m=Ii(f);m.tag=2,l!=null&&(m.callback=l),l=Li(a,m,f),l!==null&&(br(l,a,f),Kl(l,a,f))}};function ry(a,l,f,m,w,S,L){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,S,L):l.prototype&&l.prototype.isPureReactComponent?!Bl(f,m)||!Bl(w,S):!0}function sy(a,l,f,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,m),l.state!==a&&Y0.enqueueReplaceState(l,l.state,null)}function ja(a,l){var f=l;if("ref"in l){f={};for(var m in l)m!=="ref"&&(f[m]=l[m])}if(a=a.defaultProps){f===l&&(f=g({},f));for(var w in a)f[w]===void 0&&(f[w]=a[w])}return f}function iy(a){Hu(a)}function ay(a){console.error(a)}function oy(a){Hu(a)}function hf(a,l){try{var f=a.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function ly(a,l,f){try{var m=a.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function J0(a,l,f){return f=Ii(f),f.tag=3,f.payload={element:null},f.callback=function(){hf(a,l)},f}function cy(a){return a=Ii(a),a.tag=3,a}function uy(a,l,f,m){var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var S=m.value;a.payload=function(){return w(S)},a.callback=function(){ly(l,f,m)}}var L=f.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(a.callback=function(){ly(l,f,m),typeof w!="function"&&($i===null?$i=new Set([this]):$i.add(this));var J=m.stack;this.componentDidCatch(m.value,{componentStack:J!==null?J:""})})}function z4(a,l,f,m,w){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=f.alternate,l!==null&&yo(l,f,w,!0),f=Mr.current,f!==null){switch(f.tag){case 31:case 13:return ns===null?Tf():f.alternate===null&&un===0&&(un=3),f.flags&=-257,f.flags|=65536,f.lanes=w,m===Qu?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([m]):l.add(m),_p(a,m,w)),!1;case 22:return f.flags|=65536,m===Qu?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([m]):f.add(m)),_p(a,m,w)),!1}throw Error(r(435,f.tag))}return _p(a,m,w),Tf(),!1}if(Nt)return l=Mr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,m!==g0&&(a=Error(r(422),{cause:m}),Hl(Zr(a,f)))):(m!==g0&&(l=Error(r(423),{cause:m}),Hl(Zr(l,f))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,m=Zr(m,f),w=J0(a.stateNode,m,w),N0(a,w),un!==4&&(un=2)),!1;var S=Error(r(520),{cause:m});if(S=Zr(S,f),lc===null?lc=[S]:lc.push(S),un!==4&&(un=2),l===null)return!0;m=Zr(m,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,a=w&-w,f.lanes|=a,a=J0(f.stateNode,m,a),N0(f,a),!1;case 1:if(l=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&($i===null||!$i.has(S))))return f.flags|=65536,w&=-w,f.lanes|=w,w=cy(w),uy(w,a,f,m),N0(f,w),!1}f=f.return}while(f!==null);return!1}var Z0=Error(r(461)),yn=!1;function Hn(a,l,f,m){l.child=a===null?p1(l,null,f,m):ka(l,a.child,f,m)}function fy(a,l,f,m,w){f=f.render;var S=l.ref;if("ref"in m){var L={};for(var J in m)J!=="ref"&&(L[J]=m[J])}else L=m;return Ea(l),m=M0(a,l,f,L,S,w),J=D0(),a!==null&&!yn?(I0(a,l,w),ni(a,l,w)):(Nt&&J&&p0(l),l.flags|=1,Hn(a,l,m,w),l.child)}function dy(a,l,f,m,w){if(a===null){var S=f.type;return typeof S=="function"&&!f0(S)&&S.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=S,hy(a,l,S,m,w)):(a=Wu(f.type,null,m,l,l.mode,w),a.ref=l.ref,a.return=l,l.child=a)}if(S=a.child,!ap(a,w)){var L=S.memoizedProps;if(f=f.compare,f=f!==null?f:Bl,f(L,m)&&a.ref===l.ref)return ni(a,l,w)}return l.flags|=1,a=Ys(S,m),a.ref=l.ref,a.return=l,l.child=a}function hy(a,l,f,m,w){if(a!==null){var S=a.memoizedProps;if(Bl(S,m)&&a.ref===l.ref)if(yn=!1,l.pendingProps=m=S,ap(a,w))(a.flags&131072)!==0&&(yn=!0);else return l.lanes=a.lanes,ni(a,l,w)}return Q0(a,l,f,m,w)}function py(a,l,f,m){var w=m.children,S=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(S=S!==null?S.baseLanes|f:f,a!==null){for(m=l.child=a.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~S}else m=0,l.child=null;return my(a,l,S,f,m)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ju(l,S!==null?S.cachePool:null),S!==null?x1(l,S):A0(),v1(l);else return m=l.lanes=536870912,my(a,l,S!==null?S.baseLanes|f:f,f,m)}else S!==null?(Ju(l,S.cachePool),x1(l,S),Pi(),l.memoizedState=null):(a!==null&&Ju(l,null),A0(),Pi());return Hn(a,l,w,f),l.child}function tc(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function my(a,l,f,m,w){var S=S0();return S=S===null?null:{parent:xn._currentValue,pool:S},l.memoizedState={baseLanes:f,cachePool:S},a!==null&&Ju(l,null),A0(),v1(l),a!==null&&yo(a,l,m,!0),l.childLanes=w,null}function pf(a,l){return l=gf({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function gy(a,l,f){return ka(l,a.child,null,f),a=pf(l,l.pendingProps),a.flags|=2,Dr(l),l.memoizedState=null,a}function B4(a,l,f){var m=l.pendingProps,w=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(Nt){if(m.mode==="hidden")return a=pf(l,m),l.lanes=536870912,tc(null,a);if(R0(l),(a=tn)?(a=kw(a,ts),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:ji!==null?{id:Is,overflow:Ls}:null,retryLane:536870912,hydrationErrors:null},f=Qv(a),f.return=l,l.child=f,Un=l,tn=null)):a=null,a===null)throw Oi(l);return l.lanes=536870912,null}return pf(l,m)}var S=a.memoizedState;if(S!==null){var L=S.dehydrated;if(R0(l),w)if(l.flags&256)l.flags&=-257,l=gy(a,l,f);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(yn||yo(a,l,f,!1),w=(f&a.childLanes)!==0,yn||w){if(m=Kt,m!==null&&(L=pr(m,f),L!==0&&L!==S.retryLane))throw S.retryLane=L,wa(a,L),br(m,a,L),Z0;Tf(),l=gy(a,l,f)}else a=S.treeContext,tn=rs(L.nextSibling),Un=l,Nt=!0,Ri=null,ts=!1,a!==null&&n1(l,a),l=pf(l,m),l.flags|=4096;return l}return a=Ys(a.child,{mode:m.mode,children:m.children}),a.ref=l.ref,l.child=a,a.return=l,a}function mf(a,l){var f=l.ref;if(f===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(a===null||a.ref!==f)&&(l.flags|=4194816)}}function Q0(a,l,f,m,w){return Ea(l),f=M0(a,l,f,m,void 0,w),m=D0(),a!==null&&!yn?(I0(a,l,w),ni(a,l,w)):(Nt&&m&&p0(l),l.flags|=1,Hn(a,l,f,w),l.child)}function xy(a,l,f,m,w,S){return Ea(l),l.updateQueue=null,f=w1(l,m,f,w),y1(a),m=D0(),a!==null&&!yn?(I0(a,l,S),ni(a,l,S)):(Nt&&m&&p0(l),l.flags|=1,Hn(a,l,f,S),l.child)}function vy(a,l,f,m,w){if(Ea(l),l.stateNode===null){var S=mo,L=f.contextType;typeof L=="object"&&L!==null&&(S=$n(L)),S=new f(m,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Y0,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=m,S.state=l.memoizedState,S.refs={},T0(l),L=f.contextType,S.context=typeof L=="object"&&L!==null?$n(L):mo,S.state=l.memoizedState,L=f.getDerivedStateFromProps,typeof L=="function"&&(X0(l,f,L,m),S.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(L=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),L!==S.state&&Y0.enqueueReplaceState(S,S.state,null),Yl(l,m,S,w),Xl(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){S=l.stateNode;var J=l.memoizedProps,fe=ja(f,J);S.props=fe;var be=S.context,Ie=f.contextType;L=mo,typeof Ie=="object"&&Ie!==null&&(L=$n(Ie));var Pe=f.getDerivedStateFromProps;Ie=typeof Pe=="function"||typeof S.getSnapshotBeforeUpdate=="function",J=l.pendingProps!==J,Ie||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(J||be!==L)&&sy(l,S,m,L),Di=!1;var Ne=l.memoizedState;S.state=Ne,Yl(l,m,S,w),Xl(),be=l.memoizedState,J||Ne!==be||Di?(typeof Pe=="function"&&(X0(l,f,Pe,m),be=l.memoizedState),(fe=Di||ry(l,f,fe,m,Ne,be,L))?(Ie||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=be),S.props=m,S.state=be,S.context=L,m=fe):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{S=l.stateNode,C0(a,l),L=l.memoizedProps,Ie=ja(f,L),S.props=Ie,Pe=l.pendingProps,Ne=S.context,be=f.contextType,fe=mo,typeof be=="object"&&be!==null&&(fe=$n(be)),J=f.getDerivedStateFromProps,(be=typeof J=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L!==Pe||Ne!==fe)&&sy(l,S,m,fe),Di=!1,Ne=l.memoizedState,S.state=Ne,Yl(l,m,S,w),Xl();var Oe=l.memoizedState;L!==Pe||Ne!==Oe||Di||a!==null&&a.dependencies!==null&&Xu(a.dependencies)?(typeof J=="function"&&(X0(l,f,J,m),Oe=l.memoizedState),(Ie=Di||ry(l,f,Ie,m,Ne,Oe,fe)||a!==null&&a.dependencies!==null&&Xu(a.dependencies))?(be||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,Oe,fe),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,Oe,fe)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||L===a.memoizedProps&&Ne===a.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===a.memoizedProps&&Ne===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Oe),S.props=m,S.state=Oe,S.context=fe,m=Ie):(typeof S.componentDidUpdate!="function"||L===a.memoizedProps&&Ne===a.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===a.memoizedProps&&Ne===a.memoizedState||(l.flags|=1024),m=!1)}return S=m,mf(a,l),m=(l.flags&128)!==0,S||m?(S=l.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,a!==null&&m?(l.child=ka(l,a.child,null,w),l.child=ka(l,null,f,w)):Hn(a,l,f,w),l.memoizedState=S.state,a=l.child):a=ni(a,l,w),a}function yy(a,l,f,m){return _a(),l.flags|=256,Hn(a,l,f,m),l.child}var ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tp(a){return{baseLanes:a,cachePool:l1()}}function np(a,l,f){return a=a!==null?a.childLanes&~f:0,l&&(a|=Lr),a}function wy(a,l,f){var m=l.pendingProps,w=!1,S=(l.flags&128)!==0,L;if((L=S)||(L=a!==null&&a.memoizedState===null?!1:(pn.current&2)!==0),L&&(w=!0,l.flags&=-129),L=(l.flags&32)!==0,l.flags&=-33,a===null){if(Nt){if(w?Fi(l):Pi(),(a=tn)?(a=kw(a,ts),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:ji!==null?{id:Is,overflow:Ls}:null,retryLane:536870912,hydrationErrors:null},f=Qv(a),f.return=l,l.child=f,Un=l,tn=null)):a=null,a===null)throw Oi(l);return Pp(a)?l.lanes=32:l.lanes=536870912,null}var J=m.children;return m=m.fallback,w?(Pi(),w=l.mode,J=gf({mode:"hidden",children:J},w),m=ba(m,w,f,null),J.return=l,m.return=l,J.sibling=m,l.child=J,m=l.child,m.memoizedState=tp(f),m.childLanes=np(a,L,f),l.memoizedState=ep,tc(null,m)):(Fi(l),rp(l,J))}var fe=a.memoizedState;if(fe!==null&&(J=fe.dehydrated,J!==null)){if(S)l.flags&256?(Fi(l),l.flags&=-257,l=sp(a,l,f)):l.memoizedState!==null?(Pi(),l.child=a.child,l.flags|=128,l=null):(Pi(),J=m.fallback,w=l.mode,m=gf({mode:"visible",children:m.children},w),J=ba(J,w,f,null),J.flags|=2,m.return=l,J.return=l,m.sibling=J,l.child=m,ka(l,a.child,null,f),m=l.child,m.memoizedState=tp(f),m.childLanes=np(a,L,f),l.memoizedState=ep,l=tc(null,m));else if(Fi(l),Pp(J)){if(L=J.nextSibling&&J.nextSibling.dataset,L)var be=L.dgst;L=be,m=Error(r(419)),m.stack="",m.digest=L,Hl({value:m,source:null,stack:null}),l=sp(a,l,f)}else if(yn||yo(a,l,f,!1),L=(f&a.childLanes)!==0,yn||L){if(L=Kt,L!==null&&(m=pr(L,f),m!==0&&m!==fe.retryLane))throw fe.retryLane=m,wa(a,m),br(L,a,m),Z0;Fp(J)||Tf(),l=sp(a,l,f)}else Fp(J)?(l.flags|=192,l.child=a.child,l=null):(a=fe.treeContext,tn=rs(J.nextSibling),Un=l,Nt=!0,Ri=null,ts=!1,a!==null&&n1(l,a),l=rp(l,m.children),l.flags|=4096);return l}return w?(Pi(),J=m.fallback,w=l.mode,fe=a.child,be=fe.sibling,m=Ys(fe,{mode:"hidden",children:m.children}),m.subtreeFlags=fe.subtreeFlags&65011712,be!==null?J=Ys(be,J):(J=ba(J,w,f,null),J.flags|=2),J.return=l,m.return=l,m.sibling=J,l.child=m,tc(null,m),m=l.child,J=a.child.memoizedState,J===null?J=tp(f):(w=J.cachePool,w!==null?(fe=xn._currentValue,w=w.parent!==fe?{parent:fe,pool:fe}:w):w=l1(),J={baseLanes:J.baseLanes|f,cachePool:w}),m.memoizedState=J,m.childLanes=np(a,L,f),l.memoizedState=ep,tc(a.child,m)):(Fi(l),f=a.child,a=f.sibling,f=Ys(f,{mode:"visible",children:m.children}),f.return=l,f.sibling=null,a!==null&&(L=l.deletions,L===null?(l.deletions=[a],l.flags|=16):L.push(a)),l.child=f,l.memoizedState=null,f)}function rp(a,l){return l=gf({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function gf(a,l){return a=Or(22,a,null,l),a.lanes=0,a}function sp(a,l,f){return ka(l,a.child,null,f),a=rp(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function by(a,l,f){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),y0(a.return,l,f)}function ip(a,l,f,m,w,S){var L=a.memoizedState;L===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:w,treeForkCount:S}:(L.isBackwards=l,L.rendering=null,L.renderingStartTime=0,L.last=m,L.tail=f,L.tailMode=w,L.treeForkCount=S)}function _y(a,l,f){var m=l.pendingProps,w=m.revealOrder,S=m.tail;m=m.children;var L=pn.current,J=(L&2)!==0;if(J?(L=L&1|2,l.flags|=128):L&=1,U(pn,L),Hn(a,l,m,f),m=Nt?$l:0,!J&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&by(a,f,l);else if(a.tag===19)by(a,f,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(w){case"forwards":for(f=l.child,w=null;f!==null;)a=f.alternate,a!==null&&rf(a)===null&&(w=f),f=f.sibling;f=w,f===null?(w=l.child,l.child=null):(w=f.sibling,f.sibling=null),ip(l,!1,w,f,S,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,w=l.child,l.child=null;w!==null;){if(a=w.alternate,a!==null&&rf(a)===null){l.child=w;break}a=w.sibling,w.sibling=f,f=w,w=a}ip(l,!0,f,null,S,m);break;case"together":ip(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function ni(a,l,f){if(a!==null&&(l.dependencies=a.dependencies),Ui|=l.lanes,(f&l.childLanes)===0)if(a!==null){if(yo(a,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,f=Ys(a,a.pendingProps),l.child=f,f.return=l;a.sibling!==null;)a=a.sibling,f=f.sibling=Ys(a,a.pendingProps),f.return=l;f.sibling=null}return l.child}function ap(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Xu(a)))}function U4(a,l,f){switch(l.tag){case 3:ge(l,l.stateNode.containerInfo),Mi(l,xn,a.memoizedState.cache),_a();break;case 27:case 5:je(l);break;case 4:ge(l,l.stateNode.containerInfo);break;case 10:Mi(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,R0(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Fi(l),l.flags|=128,null):(f&l.child.childLanes)!==0?wy(a,l,f):(Fi(l),a=ni(a,l,f),a!==null?a.sibling:null);Fi(l);break;case 19:var w=(a.flags&128)!==0;if(m=(f&l.childLanes)!==0,m||(yo(a,l,f,!1),m=(f&l.childLanes)!==0),w){if(m)return _y(a,l,f);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),U(pn,pn.current),m)break;return null;case 22:return l.lanes=0,py(a,l,f,l.pendingProps);case 24:Mi(l,xn,a.memoizedState.cache)}return ni(a,l,f)}function Sy(a,l,f){if(a!==null)if(a.memoizedProps!==l.pendingProps)yn=!0;else{if(!ap(a,f)&&(l.flags&128)===0)return yn=!1,U4(a,l,f);yn=(a.flags&131072)!==0}else yn=!1,Nt&&(l.flags&1048576)!==0&&t1(l,$l,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(a=Ca(l.elementType),l.type=a,typeof a=="function")f0(a)?(m=ja(a,m),l.tag=1,l=vy(null,l,a,m,f)):(l.tag=0,l=Q0(null,l,a,m,f));else{if(a!=null){var w=a.$$typeof;if(w===N){l.tag=11,l=fy(null,l,a,m,f);break e}else if(w===j){l.tag=14,l=dy(null,l,a,m,f);break e}}throw l=k(a)||a,Error(r(306,l,""))}}return l;case 0:return Q0(a,l,l.type,l.pendingProps,f);case 1:return m=l.type,w=ja(m,l.pendingProps),vy(a,l,m,w,f);case 3:e:{if(ge(l,l.stateNode.containerInfo),a===null)throw Error(r(387));m=l.pendingProps;var S=l.memoizedState;w=S.element,C0(a,l),Yl(l,m,null,f);var L=l.memoizedState;if(m=L.cache,Mi(l,xn,m),m!==S.cache&&w0(l,[xn],f,!0),Xl(),m=L.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:L.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=yy(a,l,m,f);break e}else if(m!==w){w=Zr(Error(r(424)),l),Hl(w),l=yy(a,l,m,f);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(tn=rs(a.firstChild),Un=l,Nt=!0,Ri=null,ts=!0,f=p1(l,null,m,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(_a(),m===w){l=ni(a,l,f);break e}Hn(a,l,m,f)}l=l.child}return l;case 26:return mf(a,l),a===null?(f=Dw(l.type,null,l.pendingProps,null))?l.memoizedState=f:Nt||(f=l.type,a=l.pendingProps,m=Of(ue.current).createElement(f),m[te]=l,m[ie]=a,Vn(m,f,a),rt(m),l.stateNode=m):l.memoizedState=Dw(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return je(l),a===null&&Nt&&(m=l.stateNode=Rw(l.type,l.pendingProps,ue.current),Un=l,ts=!0,w=tn,qi(l.type)?(zp=w,tn=rs(m.firstChild)):tn=w),Hn(a,l,l.pendingProps.children,f),mf(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Nt&&((w=m=tn)&&(m=xk(m,l.type,l.pendingProps,ts),m!==null?(l.stateNode=m,Un=l,tn=rs(m.firstChild),ts=!1,w=!0):w=!1),w||Oi(l)),je(l),w=l.type,S=l.pendingProps,L=a!==null?a.memoizedProps:null,m=S.children,Dp(w,S)?m=null:L!==null&&Dp(w,L)&&(l.flags|=32),l.memoizedState!==null&&(w=M0(a,l,O4,null,null,f),gc._currentValue=w),mf(a,l),Hn(a,l,m,f),l.child;case 6:return a===null&&Nt&&((a=f=tn)&&(f=vk(f,l.pendingProps,ts),f!==null?(l.stateNode=f,Un=l,tn=null,a=!0):a=!1),a||Oi(l)),null;case 13:return wy(a,l,f);case 4:return ge(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=ka(l,null,m,f):Hn(a,l,m,f),l.child;case 11:return fy(a,l,l.type,l.pendingProps,f);case 7:return Hn(a,l,l.pendingProps,f),l.child;case 8:return Hn(a,l,l.pendingProps.children,f),l.child;case 12:return Hn(a,l,l.pendingProps.children,f),l.child;case 10:return m=l.pendingProps,Mi(l,l.type,m.value),Hn(a,l,m.children,f),l.child;case 9:return w=l.type._context,m=l.pendingProps.children,Ea(l),w=$n(w),m=m(w),l.flags|=1,Hn(a,l,m,f),l.child;case 14:return dy(a,l,l.type,l.pendingProps,f);case 15:return hy(a,l,l.type,l.pendingProps,f);case 19:return _y(a,l,f);case 31:return B4(a,l,f);case 22:return py(a,l,f,l.pendingProps);case 24:return Ea(l),m=$n(xn),a===null?(w=S0(),w===null&&(w=Kt,S=b0(),w.pooledCache=S,S.refCount++,S!==null&&(w.pooledCacheLanes|=f),w=S),l.memoizedState={parent:m,cache:w},T0(l),Mi(l,xn,w)):((a.lanes&f)!==0&&(C0(a,l),Yl(l,null,null,f),Xl()),w=a.memoizedState,S=l.memoizedState,w.parent!==m?(w={parent:m,cache:m},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),Mi(l,xn,m)):(m=S.cache,Mi(l,xn,m),m!==w.cache&&w0(l,[xn],f,!0))),Hn(a,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ri(a){a.flags|=4}function op(a,l,f,m,w){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(w&335544128)===w)if(a.stateNode.complete)a.flags|=8192;else if(Yy())a.flags|=8192;else throw Na=Qu,E0}else a.flags&=-16777217}function Ey(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!zw(l))if(Yy())a.flags|=8192;else throw Na=Qu,E0}function xf(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Mn():536870912,a.lanes|=l,Ro|=l)}function nc(a,l){if(!Nt)switch(a.tailMode){case"hidden":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function nn(a){var l=a.alternate!==null&&a.alternate.child===a.child,f=0,m=0;if(l)for(var w=a.child;w!==null;)f|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)f|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=m,a.childLanes=f,l}function $4(a,l,f){var m=l.pendingProps;switch(m0(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(l),null;case 1:return nn(l),null;case 3:return f=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Qs(xn),ve(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(vo(l)?ri(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,x0())),nn(l),null;case 26:var w=l.type,S=l.memoizedState;return a===null?(ri(l),S!==null?(nn(l),Ey(l,S)):(nn(l),op(l,w,null,m,f))):S?S!==a.memoizedState?(ri(l),nn(l),Ey(l,S)):(nn(l),l.flags&=-16777217):(a=a.memoizedProps,a!==m&&ri(l),nn(l),op(l,w,a,m,f)),null;case 27:if(Be(l),f=ue.current,w=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&ri(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return nn(l),null}a=F.current,vo(l)?r1(l):(a=Rw(w,m,f),l.stateNode=a,ri(l))}return nn(l),null;case 5:if(Be(l),w=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&ri(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return nn(l),null}if(S=F.current,vo(l))r1(l);else{var L=Of(ue.current);switch(S){case 1:S=L.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:S=L.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":S=L.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":S=L.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":S=L.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?L.createElement("select",{is:m.is}):L.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?L.createElement(w,{is:m.is}):L.createElement(w)}}S[te]=l,S[ie]=m;e:for(L=l.child;L!==null;){if(L.tag===5||L.tag===6)S.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===l)break e;for(;L.sibling===null;){if(L.return===null||L.return===l)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}l.stateNode=S;e:switch(Vn(S,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ri(l)}}return nn(l),op(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,f),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==m&&ri(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(a=ue.current,vo(l)){if(a=l.stateNode,f=l.memoizedProps,m=null,w=Un,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}a[te]=l,a=!!(a.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||ww(a.nodeValue,f)),a||Oi(l,!0)}else a=Of(a).createTextNode(m),a[te]=l,l.stateNode=a}return nn(l),null;case 31:if(f=l.memoizedState,a===null||a.memoizedState!==null){if(m=vo(l),f!==null){if(a===null){if(!m)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[te]=l}else _a(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;nn(l),a=!1}else f=x0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=f),a=!0;if(!a)return l.flags&256?(Dr(l),l):(Dr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return nn(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=vo(l),m!==null&&m.dehydrated!==null){if(a===null){if(!w)throw Error(r(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[te]=l}else _a(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;nn(l),w=!1}else w=x0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(Dr(l),l):(Dr(l),null)}return Dr(l),(l.flags&128)!==0?(l.lanes=f,l):(f=m!==null,a=a!==null&&a.memoizedState!==null,f&&(m=l.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==w&&(m.flags|=2048)),f!==a&&f&&(l.child.flags|=8192),xf(l,l.updateQueue),nn(l),null);case 4:return ve(),a===null&&Ap(l.stateNode.containerInfo),nn(l),null;case 10:return Qs(l.type),nn(l),null;case 19:if(A(pn),m=l.memoizedState,m===null)return nn(l),null;if(w=(l.flags&128)!==0,S=m.rendering,S===null)if(w)nc(m,!1);else{if(un!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(S=rf(a),S!==null){for(l.flags|=128,nc(m,!1),a=S.updateQueue,l.updateQueue=a,xf(l,a),l.subtreeFlags=0,a=f,f=l.child;f!==null;)Zv(f,a),f=f.sibling;return U(pn,pn.current&1|2),Nt&&Js(l,m.treeForkCount),l.child}a=a.sibling}m.tail!==null&&_e()>_f&&(l.flags|=128,w=!0,nc(m,!1),l.lanes=4194304)}else{if(!w)if(a=rf(S),a!==null){if(l.flags|=128,w=!0,a=a.updateQueue,l.updateQueue=a,xf(l,a),nc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!Nt)return nn(l),null}else 2*_e()-m.renderingStartTime>_f&&f!==536870912&&(l.flags|=128,w=!0,nc(m,!1),l.lanes=4194304);m.isBackwards?(S.sibling=l.child,l.child=S):(a=m.last,a!==null?a.sibling=S:l.child=S,m.last=S)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=_e(),a.sibling=null,f=pn.current,U(pn,w?f&1|2:f&1),Nt&&Js(l,m.treeForkCount),a):(nn(l),null);case 22:case 23:return Dr(l),j0(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(f&536870912)!==0&&(l.flags&128)===0&&(nn(l),l.subtreeFlags&6&&(l.flags|=8192)):nn(l),f=l.updateQueue,f!==null&&xf(l,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048),a!==null&&A(Ta),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Qs(xn),nn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function H4(a,l){switch(m0(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Qs(xn),ve(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Be(l),null;case 31:if(l.memoizedState!==null){if(Dr(l),l.alternate===null)throw Error(r(340));_a()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(Dr(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));_a()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return A(pn),null;case 4:return ve(),null;case 10:return Qs(l.type),null;case 22:case 23:return Dr(l),j0(),a!==null&&A(Ta),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Qs(xn),null;case 25:return null;default:return null}}function Ty(a,l){switch(m0(l),l.tag){case 3:Qs(xn),ve();break;case 26:case 27:case 5:Be(l);break;case 4:ve();break;case 31:l.memoizedState!==null&&Dr(l);break;case 13:Dr(l);break;case 19:A(pn);break;case 10:Qs(l.type);break;case 22:case 23:Dr(l),j0(),a!==null&&A(Ta);break;case 24:Qs(xn)}}function rc(a,l){try{var f=l.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var w=m.next;f=w;do{if((f.tag&a)===a){m=void 0;var S=f.create,L=f.inst;m=S(),L.destroy=m}f=f.next}while(f!==w)}}catch(J){Pt(l,l.return,J)}}function zi(a,l,f){try{var m=l.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var S=w.next;m=S;do{if((m.tag&a)===a){var L=m.inst,J=L.destroy;if(J!==void 0){L.destroy=void 0,w=l;var fe=f,be=J;try{be()}catch(Ie){Pt(w,fe,Ie)}}}m=m.next}while(m!==S)}}catch(Ie){Pt(l,l.return,Ie)}}function Cy(a){var l=a.updateQueue;if(l!==null){var f=a.stateNode;try{g1(l,f)}catch(m){Pt(a,a.return,m)}}}function Ny(a,l,f){f.props=ja(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(m){Pt(a,l,m)}}function sc(a,l){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof f=="function"?a.refCleanup=f(m):f.current=m}}catch(w){Pt(a,l,w)}}function Fs(a,l){var f=a.ref,m=a.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(w){Pt(a,l,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(w){Pt(a,l,w)}else f.current=null}function ky(a){var l=a.type,f=a.memoizedProps,m=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(w){Pt(a,a.return,w)}}function lp(a,l,f){try{var m=a.stateNode;fk(m,a.type,f,l),m[ie]=l}catch(w){Pt(a,a.return,w)}}function Ay(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&qi(a.type)||a.tag===4}function cp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Ay(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&qi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function up(a,l,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(a,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(a),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Ks));else if(m!==4&&(m===27&&qi(a.type)&&(f=a.stateNode,l=null),a=a.child,a!==null))for(up(a,l,f),a=a.sibling;a!==null;)up(a,l,f),a=a.sibling}function vf(a,l,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?f.insertBefore(a,l):f.appendChild(a);else if(m!==4&&(m===27&&qi(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(vf(a,l,f),a=a.sibling;a!==null;)vf(a,l,f),a=a.sibling}function jy(a){var l=a.stateNode,f=a.memoizedProps;try{for(var m=a.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);Vn(l,m,f),l[te]=a,l[ie]=f}catch(S){Pt(a,a.return,S)}}var si=!1,wn=!1,fp=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function V4(a,l){if(a=a.containerInfo,Op=zf,a=Hv(a),s0(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var w=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var L=0,J=-1,fe=-1,be=0,Ie=0,Pe=a,Ne=null;t:for(;;){for(var Oe;Pe!==f||w!==0&&Pe.nodeType!==3||(J=L+w),Pe!==S||m!==0&&Pe.nodeType!==3||(fe=L+m),Pe.nodeType===3&&(L+=Pe.nodeValue.length),(Oe=Pe.firstChild)!==null;)Ne=Pe,Pe=Oe;for(;;){if(Pe===a)break t;if(Ne===f&&++be===w&&(J=L),Ne===S&&++Ie===m&&(fe=L),(Oe=Pe.nextSibling)!==null)break;Pe=Ne,Ne=Pe.parentNode}Pe=Oe}f=J===-1||fe===-1?null:{start:J,end:fe}}else f=null}f=f||{start:0,end:0}}else f=null;for(Mp={focusedElem:a,selectionRange:f},zf=!1,Dn=l;Dn!==null;)if(l=Dn,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Dn=a;else for(;Dn!==null;){switch(l=Dn,S=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(f=0;f<a.length;f++)w=a[f],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,f=l,w=S.memoizedProps,S=S.memoizedState,m=f.stateNode;try{var et=ja(f.type,w);a=m.getSnapshotBeforeUpdate(et,S),m.__reactInternalSnapshotBeforeUpdate=a}catch(ut){Pt(f,f.return,ut)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,f=a.nodeType,f===9)Lp(a);else if(f===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Lp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,Dn=a;break}Dn=l.return}}function Oy(a,l,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:ai(a,f),m&4&&rc(5,f);break;case 1:if(ai(a,f),m&4)if(a=f.stateNode,l===null)try{a.componentDidMount()}catch(L){Pt(f,f.return,L)}else{var w=ja(f.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(w,l,a.__reactInternalSnapshotBeforeUpdate)}catch(L){Pt(f,f.return,L)}}m&64&&Cy(f),m&512&&sc(f,f.return);break;case 3:if(ai(a,f),m&64&&(a=f.updateQueue,a!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{g1(a,l)}catch(L){Pt(f,f.return,L)}}break;case 27:l===null&&m&4&&jy(f);case 26:case 5:ai(a,f),l===null&&m&4&&ky(f),m&512&&sc(f,f.return);break;case 12:ai(a,f);break;case 31:ai(a,f),m&4&&Iy(a,f);break;case 13:ai(a,f),m&4&&Ly(a,f),m&64&&(a=f.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(f=Q4.bind(null,f),yk(a,f))));break;case 22:if(m=f.memoizedState!==null||si,!m){l=l!==null&&l.memoizedState!==null||wn,w=si;var S=wn;si=m,(wn=l)&&!S?oi(a,f,(f.subtreeFlags&8772)!==0):ai(a,f),si=w,wn=S}break;case 30:break;default:ai(a,f)}}function My(a){var l=a.alternate;l!==null&&(a.alternate=null,My(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&He(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var an=null,xr=!1;function ii(a,l,f){for(f=f.child;f!==null;)Dy(a,l,f),f=f.sibling}function Dy(a,l,f){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(gt,f)}catch{}switch(f.tag){case 26:wn||Fs(f,l),ii(a,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:wn||Fs(f,l);var m=an,w=xr;qi(f.type)&&(an=f.stateNode,xr=!1),ii(a,l,f),hc(f.stateNode),an=m,xr=w;break;case 5:wn||Fs(f,l);case 6:if(m=an,w=xr,an=null,ii(a,l,f),an=m,xr=w,an!==null)if(xr)try{(an.nodeType===9?an.body:an.nodeName==="HTML"?an.ownerDocument.body:an).removeChild(f.stateNode)}catch(S){Pt(f,l,S)}else try{an.removeChild(f.stateNode)}catch(S){Pt(f,l,S)}break;case 18:an!==null&&(xr?(a=an,Cw(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,f.stateNode),zo(a)):Cw(an,f.stateNode));break;case 4:m=an,w=xr,an=f.stateNode.containerInfo,xr=!0,ii(a,l,f),an=m,xr=w;break;case 0:case 11:case 14:case 15:zi(2,f,l),wn||zi(4,f,l),ii(a,l,f);break;case 1:wn||(Fs(f,l),m=f.stateNode,typeof m.componentWillUnmount=="function"&&Ny(f,l,m)),ii(a,l,f);break;case 21:ii(a,l,f);break;case 22:wn=(m=wn)||f.memoizedState!==null,ii(a,l,f),wn=m;break;default:ii(a,l,f)}}function Iy(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{zo(a)}catch(f){Pt(l,l.return,f)}}}function Ly(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{zo(a)}catch(f){Pt(l,l.return,f)}}function G4(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new Ry),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new Ry),l;default:throw Error(r(435,a.tag))}}function yf(a,l){var f=G4(a);l.forEach(function(m){if(!f.has(m)){f.add(m);var w=ek.bind(null,a,m);m.then(w,w)}})}function vr(a,l){var f=l.deletions;if(f!==null)for(var m=0;m<f.length;m++){var w=f[m],S=a,L=l,J=L;e:for(;J!==null;){switch(J.tag){case 27:if(qi(J.type)){an=J.stateNode,xr=!1;break e}break;case 5:an=J.stateNode,xr=!1;break e;case 3:case 4:an=J.stateNode.containerInfo,xr=!0;break e}J=J.return}if(an===null)throw Error(r(160));Dy(S,L,w),an=null,xr=!1,S=w.alternate,S!==null&&(S.return=null),w.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Fy(l,a),l=l.sibling}var gs=null;function Fy(a,l){var f=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:vr(l,a),yr(a),m&4&&(zi(3,a,a.return),rc(3,a),zi(5,a,a.return));break;case 1:vr(l,a),yr(a),m&512&&(wn||f===null||Fs(f,f.return)),m&64&&si&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var w=gs;if(vr(l,a),yr(a),m&512&&(wn||f===null||Fs(f,f.return)),m&4){var S=f!==null?f.memoizedState:null;if(m=a.memoizedState,f===null)if(m===null)if(a.stateNode===null){e:{m=a.type,f=a.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":S=w.getElementsByTagName("title")[0],(!S||S[Ae]||S[te]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=w.createElement(m),w.head.insertBefore(S,w.querySelector("head > title"))),Vn(S,m,f),S[te]=a,rt(S),m=S;break e;case"link":var L=Fw("link","href",w).get(m+(f.href||""));if(L){for(var J=0;J<L.length;J++)if(S=L[J],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){L.splice(J,1);break t}}S=w.createElement(m),Vn(S,m,f),w.head.appendChild(S);break;case"meta":if(L=Fw("meta","content",w).get(m+(f.content||""))){for(J=0;J<L.length;J++)if(S=L[J],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){L.splice(J,1);break t}}S=w.createElement(m),Vn(S,m,f),w.head.appendChild(S);break;default:throw Error(r(468,m))}S[te]=a,rt(S),m=S}a.stateNode=m}else Pw(w,a.type,a.stateNode);else a.stateNode=Lw(w,m,a.memoizedProps);else S!==m?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,m===null?Pw(w,a.type,a.stateNode):Lw(w,m,a.memoizedProps)):m===null&&a.stateNode!==null&&lp(a,a.memoizedProps,f.memoizedProps)}break;case 27:vr(l,a),yr(a),m&512&&(wn||f===null||Fs(f,f.return)),f!==null&&m&4&&lp(a,a.memoizedProps,f.memoizedProps);break;case 5:if(vr(l,a),yr(a),m&512&&(wn||f===null||Fs(f,f.return)),a.flags&32){w=a.stateNode;try{oo(w,"")}catch(et){Pt(a,a.return,et)}}m&4&&a.stateNode!=null&&(w=a.memoizedProps,lp(a,w,f!==null?f.memoizedProps:w)),m&1024&&(fp=!0);break;case 6:if(vr(l,a),yr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,f=a.stateNode;try{f.nodeValue=m}catch(et){Pt(a,a.return,et)}}break;case 3:if(If=null,w=gs,gs=Mf(l.containerInfo),vr(l,a),gs=w,yr(a),m&4&&f!==null&&f.memoizedState.isDehydrated)try{zo(l.containerInfo)}catch(et){Pt(a,a.return,et)}fp&&(fp=!1,Py(a));break;case 4:m=gs,gs=Mf(a.stateNode.containerInfo),vr(l,a),yr(a),gs=m;break;case 12:vr(l,a),yr(a);break;case 31:vr(l,a),yr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,yf(a,m)));break;case 13:vr(l,a),yr(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(bf=_e()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,yf(a,m)));break;case 22:w=a.memoizedState!==null;var fe=f!==null&&f.memoizedState!==null,be=si,Ie=wn;if(si=be||w,wn=Ie||fe,vr(l,a),wn=Ie,si=be,yr(a),m&8192)e:for(l=a.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(f===null||fe||si||wn||Ra(a)),f=null,l=a;;){if(l.tag===5||l.tag===26){if(f===null){fe=f=l;try{if(S=fe.stateNode,w)L=S.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{J=fe.stateNode;var Pe=fe.memoizedProps.style,Ne=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null;J.style.display=Ne==null||typeof Ne=="boolean"?"":(""+Ne).trim()}}catch(et){Pt(fe,fe.return,et)}}}else if(l.tag===6){if(f===null){fe=l;try{fe.stateNode.nodeValue=w?"":fe.memoizedProps}catch(et){Pt(fe,fe.return,et)}}}else if(l.tag===18){if(f===null){fe=l;try{var Oe=fe.stateNode;w?Nw(Oe,!0):Nw(fe.stateNode,!1)}catch(et){Pt(fe,fe.return,et)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=a.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,yf(a,f))));break;case 19:vr(l,a),yr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,yf(a,m)));break;case 30:break;case 21:break;default:vr(l,a),yr(a)}}function yr(a){var l=a.flags;if(l&2){try{for(var f,m=a.return;m!==null;){if(Ay(m)){f=m;break}m=m.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var w=f.stateNode,S=cp(a);vf(a,S,w);break;case 5:var L=f.stateNode;f.flags&32&&(oo(L,""),f.flags&=-33);var J=cp(a);vf(a,J,L);break;case 3:case 4:var fe=f.stateNode.containerInfo,be=cp(a);up(a,be,fe);break;default:throw Error(r(161))}}catch(Ie){Pt(a,a.return,Ie)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Py(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;Py(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function ai(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Oy(a,l.alternate,l),l=l.sibling}function Ra(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:zi(4,l,l.return),Ra(l);break;case 1:Fs(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&Ny(l,l.return,f),Ra(l);break;case 27:hc(l.stateNode);case 26:case 5:Fs(l,l.return),Ra(l);break;case 22:l.memoizedState===null&&Ra(l);break;case 30:Ra(l);break;default:Ra(l)}a=a.sibling}}function oi(a,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,w=a,S=l,L=S.flags;switch(S.tag){case 0:case 11:case 15:oi(w,S,f),rc(4,S);break;case 1:if(oi(w,S,f),m=S,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(be){Pt(m,m.return,be)}if(m=S,w=m.updateQueue,w!==null){var J=m.stateNode;try{var fe=w.shared.hiddenCallbacks;if(fe!==null)for(w.shared.hiddenCallbacks=null,w=0;w<fe.length;w++)m1(fe[w],J)}catch(be){Pt(m,m.return,be)}}f&&L&64&&Cy(S),sc(S,S.return);break;case 27:jy(S);case 26:case 5:oi(w,S,f),f&&m===null&&L&4&&ky(S),sc(S,S.return);break;case 12:oi(w,S,f);break;case 31:oi(w,S,f),f&&L&4&&Iy(w,S);break;case 13:oi(w,S,f),f&&L&4&&Ly(w,S);break;case 22:S.memoizedState===null&&oi(w,S,f),sc(S,S.return);break;case 30:break;default:oi(w,S,f)}l=l.sibling}}function dp(a,l){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&Vl(f))}function hp(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Vl(a))}function xs(a,l,f,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)zy(a,l,f,m),l=l.sibling}function zy(a,l,f,m){var w=l.flags;switch(l.tag){case 0:case 11:case 15:xs(a,l,f,m),w&2048&&rc(9,l);break;case 1:xs(a,l,f,m);break;case 3:xs(a,l,f,m),w&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Vl(a)));break;case 12:if(w&2048){xs(a,l,f,m),a=l.stateNode;try{var S=l.memoizedProps,L=S.id,J=S.onPostCommit;typeof J=="function"&&J(L,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(fe){Pt(l,l.return,fe)}}else xs(a,l,f,m);break;case 31:xs(a,l,f,m);break;case 13:xs(a,l,f,m);break;case 23:break;case 22:S=l.stateNode,L=l.alternate,l.memoizedState!==null?S._visibility&2?xs(a,l,f,m):ic(a,l):S._visibility&2?xs(a,l,f,m):(S._visibility|=2,ko(a,l,f,m,(l.subtreeFlags&10256)!==0||!1)),w&2048&&dp(L,l);break;case 24:xs(a,l,f,m),w&2048&&hp(l.alternate,l);break;default:xs(a,l,f,m)}}function ko(a,l,f,m,w){for(w=w&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var S=a,L=l,J=f,fe=m,be=L.flags;switch(L.tag){case 0:case 11:case 15:ko(S,L,J,fe,w),rc(8,L);break;case 23:break;case 22:var Ie=L.stateNode;L.memoizedState!==null?Ie._visibility&2?ko(S,L,J,fe,w):ic(S,L):(Ie._visibility|=2,ko(S,L,J,fe,w)),w&&be&2048&&dp(L.alternate,L);break;case 24:ko(S,L,J,fe,w),w&&be&2048&&hp(L.alternate,L);break;default:ko(S,L,J,fe,w)}l=l.sibling}}function ic(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=a,m=l,w=m.flags;switch(m.tag){case 22:ic(f,m),w&2048&&dp(m.alternate,m);break;case 24:ic(f,m),w&2048&&hp(m.alternate,m);break;default:ic(f,m)}l=l.sibling}}var ac=8192;function Ao(a,l,f){if(a.subtreeFlags&ac)for(a=a.child;a!==null;)By(a,l,f),a=a.sibling}function By(a,l,f){switch(a.tag){case 26:Ao(a,l,f),a.flags&ac&&a.memoizedState!==null&&Rk(f,gs,a.memoizedState,a.memoizedProps);break;case 5:Ao(a,l,f);break;case 3:case 4:var m=gs;gs=Mf(a.stateNode.containerInfo),Ao(a,l,f),gs=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=ac,ac=16777216,Ao(a,l,f),ac=m):Ao(a,l,f));break;default:Ao(a,l,f)}}function Uy(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function oc(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];Dn=m,Hy(m,a)}Uy(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)$y(a),a=a.sibling}function $y(a){switch(a.tag){case 0:case 11:case 15:oc(a),a.flags&2048&&zi(9,a,a.return);break;case 3:oc(a);break;case 12:oc(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,wf(a)):oc(a);break;default:oc(a)}}function wf(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];Dn=m,Hy(m,a)}Uy(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:zi(8,l,l.return),wf(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,wf(l));break;default:wf(l)}a=a.sibling}}function Hy(a,l){for(;Dn!==null;){var f=Dn;switch(f.tag){case 0:case 11:case 15:zi(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Vl(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Dn=m;else e:for(f=a;Dn!==null;){m=Dn;var w=m.sibling,S=m.return;if(My(m),m===f){Dn=null;break e}if(w!==null){w.return=S,Dn=w;break e}Dn=S}}}var q4={getCacheForType:function(a){var l=$n(xn),f=l.data.get(a);return f===void 0&&(f=a(),l.data.set(a,f)),f},cacheSignal:function(){return $n(xn).controller.signal}},W4=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Kt=null,St=null,Tt=0,Ft=0,Ir=null,Bi=!1,jo=!1,pp=!1,li=0,un=0,Ui=0,Oa=0,mp=0,Lr=0,Ro=0,lc=null,wr=null,gp=!1,bf=0,Vy=0,_f=1/0,Sf=null,$i=null,Tn=0,Hi=null,Oo=null,ci=0,xp=0,vp=null,Gy=null,cc=0,yp=null;function Fr(){return(Dt&2)!==0&&Tt!==0?Tt&-Tt:X.T!==null?Tp():W()}function qy(){if(Lr===0)if((Tt&536870912)===0||Nt){var a=zn;zn<<=1,(zn&3932160)===0&&(zn=262144),Lr=a}else Lr=536870912;return a=Mr.current,a!==null&&(a.flags|=32),Lr}function br(a,l,f){(a===Kt&&(Ft===2||Ft===9)||a.cancelPendingCommit!==null)&&(Mo(a,0),Vi(a,Tt,Lr,!1)),hr(a,f),((Dt&2)===0||a!==Kt)&&(a===Kt&&((Dt&2)===0&&(Oa|=f),un===4&&Vi(a,Tt,Lr,!1)),Ps(a))}function Wy(a,l,f){if((Dt&6)!==0)throw Error(r(327));var m=!f&&(l&127)===0&&(l&a.expiredLanes)===0||On(a,l),w=m?Y4(a,l):bp(a,l,!0),S=m;do{if(w===0){jo&&!m&&Vi(a,l,0,!1);break}else{if(f=a.current.alternate,S&&!K4(f)){w=bp(a,l,!1),S=!1;continue}if(w===2){if(S=l,a.errorRecoveryDisabledLanes&S)var L=0;else L=a.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){l=L;e:{var J=a;w=lc;var fe=J.current.memoizedState.isDehydrated;if(fe&&(Mo(J,L).flags|=256),L=bp(J,L,!1),L!==2){if(pp&&!fe){J.errorRecoveryDisabledLanes|=S,Oa|=S,w=4;break e}S=wr,wr=w,S!==null&&(wr===null?wr=S:wr.push.apply(wr,S))}w=L}if(S=!1,w!==2)continue}}if(w===1){Mo(a,0),Vi(a,l,0,!0);break}e:{switch(m=a,S=w,S){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Vi(m,l,Lr,!Bi);break e;case 2:wr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(w=bf+300-_e(),10<w)){if(Vi(m,l,Lr,!Bi),en(m,0,!0)!==0)break e;ci=l,m.timeoutHandle=Ew(Ky.bind(null,m,f,wr,Sf,gp,l,Lr,Oa,Ro,Bi,S,"Throttled",-0,0),w);break e}Ky(m,f,wr,Sf,gp,l,Lr,Oa,Ro,Bi,S,null,-0,0)}}break}while(!0);Ps(a)}function Ky(a,l,f,m,w,S,L,J,fe,be,Ie,Pe,Ne,Oe){if(a.timeoutHandle=-1,Pe=l.subtreeFlags,Pe&8192||(Pe&16785408)===16785408){Pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ks},By(l,S,Pe);var et=(S&62914560)===S?bf-_e():(S&4194048)===S?Vy-_e():0;if(et=Ok(Pe,et),et!==null){ci=S,a.cancelPendingCommit=et(nw.bind(null,a,l,S,f,m,w,L,J,fe,Ie,Pe,null,Ne,Oe)),Vi(a,S,L,!be);return}}nw(a,l,S,f,m,w,L,J,fe)}function K4(a){for(var l=a;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var w=f[m],S=w.getSnapshot;w=w.value;try{if(!Rr(S(),w))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Vi(a,l,f,m){l&=~mp,l&=~Oa,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var w=l;0<w;){var S=31-kt(w),L=1<<S;m[S]=-1,w&=~L}f!==0&&jr(a,f,l)}function Ef(){return(Dt&6)===0?(uc(0),!1):!0}function wp(){if(St!==null){if(Ft===0)var a=St.return;else a=St,Zs=Sa=null,L0(a),So=null,ql=0,a=St;for(;a!==null;)Ty(a.alternate,a),a=a.return;St=null}}function Mo(a,l){var f=a.timeoutHandle;f!==-1&&(a.timeoutHandle=-1,pk(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),ci=0,wp(),Kt=a,St=f=Ys(a.current,null),Tt=l,Ft=0,Ir=null,Bi=!1,jo=On(a,l),pp=!1,Ro=Lr=mp=Oa=Ui=un=0,wr=lc=null,gp=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var w=31-kt(m),S=1<<w;l|=a[w],m&=~S}return li=l,Vu(),f}function Xy(a,l){xt=null,X.H=ec,l===_o||l===Zu?(l=f1(),Ft=3):l===E0?(l=f1(),Ft=4):Ft=l===Z0?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ir=l,St===null&&(un=1,hf(a,Zr(l,a.current)))}function Yy(){var a=Mr.current;return a===null?!0:(Tt&4194048)===Tt?ns===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?a===ns:!1}function Jy(){var a=X.H;return X.H=ec,a===null?ec:a}function Zy(){var a=X.A;return X.A=q4,a}function Tf(){un=4,Bi||(Tt&4194048)!==Tt&&Mr.current!==null||(jo=!0),(Ui&134217727)===0&&(Oa&134217727)===0||Kt===null||Vi(Kt,Tt,Lr,!1)}function bp(a,l,f){var m=Dt;Dt|=2;var w=Jy(),S=Zy();(Kt!==a||Tt!==l)&&(Sf=null,Mo(a,l)),l=!1;var L=un;e:do try{if(Ft!==0&&St!==null){var J=St,fe=Ir;switch(Ft){case 8:wp(),L=6;break e;case 3:case 2:case 9:case 6:Mr.current===null&&(l=!0);var be=Ft;if(Ft=0,Ir=null,Do(a,J,fe,be),f&&jo){L=0;break e}break;default:be=Ft,Ft=0,Ir=null,Do(a,J,fe,be)}}X4(),L=un;break}catch(Ie){Xy(a,Ie)}while(!0);return l&&a.shellSuspendCounter++,Zs=Sa=null,Dt=m,X.H=w,X.A=S,St===null&&(Kt=null,Tt=0,Vu()),L}function X4(){for(;St!==null;)Qy(St)}function Y4(a,l){var f=Dt;Dt|=2;var m=Jy(),w=Zy();Kt!==a||Tt!==l?(Sf=null,_f=_e()+500,Mo(a,l)):jo=On(a,l);e:do try{if(Ft!==0&&St!==null){l=St;var S=Ir;t:switch(Ft){case 1:Ft=0,Ir=null,Do(a,l,S,1);break;case 2:case 9:if(c1(S)){Ft=0,Ir=null,ew(l);break}l=function(){Ft!==2&&Ft!==9||Kt!==a||(Ft=7),Ps(a)},S.then(l,l);break e;case 3:Ft=7;break e;case 4:Ft=5;break e;case 7:c1(S)?(Ft=0,Ir=null,ew(l)):(Ft=0,Ir=null,Do(a,l,S,7));break;case 5:var L=null;switch(St.tag){case 26:L=St.memoizedState;case 5:case 27:var J=St;if(L?zw(L):J.stateNode.complete){Ft=0,Ir=null;var fe=J.sibling;if(fe!==null)St=fe;else{var be=J.return;be!==null?(St=be,Cf(be)):St=null}break t}}Ft=0,Ir=null,Do(a,l,S,5);break;case 6:Ft=0,Ir=null,Do(a,l,S,6);break;case 8:wp(),un=6;break e;default:throw Error(r(462))}}J4();break}catch(Ie){Xy(a,Ie)}while(!0);return Zs=Sa=null,X.H=m,X.A=w,Dt=f,St!==null?0:(Kt=null,Tt=0,Vu(),un)}function J4(){for(;St!==null&&!de();)Qy(St)}function Qy(a){var l=Sy(a.alternate,a,li);a.memoizedProps=a.pendingProps,l===null?Cf(a):St=l}function ew(a){var l=a,f=l.alternate;switch(l.tag){case 15:case 0:l=xy(f,l,l.pendingProps,l.type,void 0,Tt);break;case 11:l=xy(f,l,l.pendingProps,l.type.render,l.ref,Tt);break;case 5:L0(l);default:Ty(f,l),l=St=Zv(l,li),l=Sy(f,l,li)}a.memoizedProps=a.pendingProps,l===null?Cf(a):St=l}function Do(a,l,f,m){Zs=Sa=null,L0(l),So=null,ql=0;var w=l.return;try{if(z4(a,w,l,f,Tt)){un=1,hf(a,Zr(f,a.current)),St=null;return}}catch(S){if(w!==null)throw St=w,S;un=1,hf(a,Zr(f,a.current)),St=null;return}l.flags&32768?(Nt||m===1?a=!0:jo||(Tt&536870912)!==0?a=!1:(Bi=a=!0,(m===2||m===9||m===3||m===6)&&(m=Mr.current,m!==null&&m.tag===13&&(m.flags|=16384))),tw(l,a)):Cf(l)}function Cf(a){var l=a;do{if((l.flags&32768)!==0){tw(l,Bi);return}a=l.return;var f=$4(l.alternate,l,li);if(f!==null){St=f;return}if(l=l.sibling,l!==null){St=l;return}St=l=a}while(l!==null);un===0&&(un=5)}function tw(a,l){do{var f=H4(a.alternate,a);if(f!==null){f.flags&=32767,St=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(a=a.sibling,a!==null)){St=a;return}St=a=f}while(a!==null);un=6,St=null}function nw(a,l,f,m,w,S,L,J,fe){a.cancelPendingCommit=null;do Nf();while(Tn!==0);if((Dt&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(S=l.lanes|l.childLanes,S|=c0,hn(a,f,S,L,J,fe),a===Kt&&(St=Kt=null,Tt=0),Oo=l,Hi=a,ci=f,xp=S,vp=w,Gy=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,tk($e,function(){return ow(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=X.T,X.T=null,w=H.p,H.p=2,L=Dt,Dt|=4;try{V4(a,l,f)}finally{Dt=L,H.p=w,X.T=m}}Tn=1,rw(),sw(),iw()}}function rw(){if(Tn===1){Tn=0;var a=Hi,l=Oo,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=X.T,X.T=null;var m=H.p;H.p=2;var w=Dt;Dt|=4;try{Fy(l,a);var S=Mp,L=Hv(a.containerInfo),J=S.focusedElem,fe=S.selectionRange;if(L!==J&&J&&J.ownerDocument&&$v(J.ownerDocument.documentElement,J)){if(fe!==null&&s0(J)){var be=fe.start,Ie=fe.end;if(Ie===void 0&&(Ie=be),"selectionStart"in J)J.selectionStart=be,J.selectionEnd=Math.min(Ie,J.value.length);else{var Pe=J.ownerDocument||document,Ne=Pe&&Pe.defaultView||window;if(Ne.getSelection){var Oe=Ne.getSelection(),et=J.textContent.length,ut=Math.min(fe.start,et),qt=fe.end===void 0?ut:Math.min(fe.end,et);!Oe.extend&&ut>qt&&(L=qt,qt=ut,ut=L);var me=Uv(J,ut),he=Uv(J,qt);if(me&&he&&(Oe.rangeCount!==1||Oe.anchorNode!==me.node||Oe.anchorOffset!==me.offset||Oe.focusNode!==he.node||Oe.focusOffset!==he.offset)){var we=Pe.createRange();we.setStart(me.node,me.offset),Oe.removeAllRanges(),ut>qt?(Oe.addRange(we),Oe.extend(he.node,he.offset)):(we.setEnd(he.node,he.offset),Oe.addRange(we))}}}}for(Pe=[],Oe=J;Oe=Oe.parentNode;)Oe.nodeType===1&&Pe.push({element:Oe,left:Oe.scrollLeft,top:Oe.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Pe.length;J++){var Fe=Pe[J];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}zf=!!Op,Mp=Op=null}finally{Dt=w,H.p=m,X.T=f}}a.current=l,Tn=2}}function sw(){if(Tn===2){Tn=0;var a=Hi,l=Oo,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=X.T,X.T=null;var m=H.p;H.p=2;var w=Dt;Dt|=4;try{Oy(a,l.alternate,l)}finally{Dt=w,H.p=m,X.T=f}}Tn=3}}function iw(){if(Tn===4||Tn===3){Tn=0,Me();var a=Hi,l=Oo,f=ci,m=Gy;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Tn=5:(Tn=0,Oo=Hi=null,aw(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&($i=null),ps(f),l=l.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(gt,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=X.T,w=H.p,H.p=2,X.T=null;try{for(var S=a.onRecoverableError,L=0;L<m.length;L++){var J=m[L];S(J.value,{componentStack:J.stack})}}finally{X.T=l,H.p=w}}(ci&3)!==0&&Nf(),Ps(a),w=a.pendingLanes,(f&261930)!==0&&(w&42)!==0?a===yp?cc++:(cc=0,yp=a):cc=0,uc(0)}}function aw(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Vl(l)))}function Nf(){return rw(),sw(),iw(),ow()}function ow(){if(Tn!==5)return!1;var a=Hi,l=xp;xp=0;var f=ps(ci),m=X.T,w=H.p;try{H.p=32>f?32:f,X.T=null,f=vp,vp=null;var S=Hi,L=ci;if(Tn=0,Oo=Hi=null,ci=0,(Dt&6)!==0)throw Error(r(331));var J=Dt;if(Dt|=4,$y(S.current),zy(S,S.current,L,f),Dt=J,uc(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(gt,S)}catch{}return!0}finally{H.p=w,X.T=m,aw(a,l)}}function lw(a,l,f){l=Zr(f,l),l=J0(a.stateNode,l,2),a=Li(a,l,2),a!==null&&(hr(a,2),Ps(a))}function Pt(a,l,f){if(a.tag===3)lw(a,a,f);else for(;l!==null;){if(l.tag===3){lw(l,a,f);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&($i===null||!$i.has(m))){a=Zr(f,a),f=cy(2),m=Li(l,f,2),m!==null&&(uy(f,m,l,a),hr(m,2),Ps(m));break}}l=l.return}}function _p(a,l,f){var m=a.pingCache;if(m===null){m=a.pingCache=new W4;var w=new Set;m.set(l,w)}else w=m.get(l),w===void 0&&(w=new Set,m.set(l,w));w.has(f)||(pp=!0,w.add(f),a=Z4.bind(null,a,l,f),l.then(a,a))}function Z4(a,l,f){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,Kt===a&&(Tt&f)===f&&(un===4||un===3&&(Tt&62914560)===Tt&&300>_e()-bf?(Dt&2)===0&&Mo(a,0):mp|=f,Ro===Tt&&(Ro=0)),Ps(a)}function cw(a,l){l===0&&(l=Mn()),a=wa(a,l),a!==null&&(hr(a,l),Ps(a))}function Q4(a){var l=a.memoizedState,f=0;l!==null&&(f=l.retryLane),cw(a,f)}function ek(a,l){var f=0;switch(a.tag){case 31:case 13:var m=a.stateNode,w=a.memoizedState;w!==null&&(f=w.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),cw(a,f)}function tk(a,l){return pe(a,l)}var kf=null,Io=null,Sp=!1,Af=!1,Ep=!1,Gi=0;function Ps(a){a!==Io&&a.next===null&&(Io===null?kf=Io=a:Io=Io.next=a),Af=!0,Sp||(Sp=!0,rk())}function uc(a,l){if(!Ep&&Af){Ep=!0;do for(var f=!1,m=kf;m!==null;){if(a!==0){var w=m.pendingLanes;if(w===0)var S=0;else{var L=m.suspendedLanes,J=m.pingedLanes;S=(1<<31-kt(42|a)+1)-1,S&=w&~(L&~J),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,hw(m,S))}else S=Tt,S=en(m,m===Kt?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||On(m,S)||(f=!0,hw(m,S));m=m.next}while(f);Ep=!1}}function nk(){uw()}function uw(){Af=Sp=!1;var a=0;Gi!==0&&hk()&&(a=Gi);for(var l=_e(),f=null,m=kf;m!==null;){var w=m.next,S=fw(m,l);S===0?(m.next=null,f===null?kf=w:f.next=w,w===null&&(Io=f)):(f=m,(a!==0||(S&3)!==0)&&(Af=!0)),m=w}Tn!==0&&Tn!==5||uc(a),Gi!==0&&(Gi=0)}function fw(a,l){for(var f=a.suspendedLanes,m=a.pingedLanes,w=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var L=31-kt(S),J=1<<L,fe=w[L];fe===-1?((J&f)===0||(J&m)!==0)&&(w[L]=Zn(J,l)):fe<=l&&(a.expiredLanes|=J),S&=~J}if(l=Kt,f=Tt,f=en(a,a===l?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,f===0||a===l&&(Ft===2||Ft===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Te(m),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||On(a,f)){if(l=f&-f,l===a.callbackPriority)return l;switch(m!==null&&Te(m),ps(f)){case 2:case 8:f=Ze;break;case 32:f=$e;break;case 268435456:f=Qt;break;default:f=$e}return m=dw.bind(null,a),f=pe(f,m),a.callbackPriority=l,a.callbackNode=f,l}return m!==null&&m!==null&&Te(m),a.callbackPriority=2,a.callbackNode=null,2}function dw(a,l){if(Tn!==0&&Tn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(Nf()&&a.callbackNode!==f)return null;var m=Tt;return m=en(a,a===Kt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(Wy(a,m,l),fw(a,_e()),a.callbackNode!=null&&a.callbackNode===f?dw.bind(null,a):null)}function hw(a,l){if(Nf())return null;Wy(a,l,!0)}function rk(){mk(function(){(Dt&6)!==0?pe(Ue,nk):uw()})}function Tp(){if(Gi===0){var a=wo;a===0&&(a=Rn,Rn<<=1,(Rn&261888)===0&&(Rn=256)),Gi=a}return Gi}function pw(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Lu(""+a)}function mw(a,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,a.id&&f.setAttribute("form",a.id),l.parentNode.insertBefore(f,l),a=new FormData(a),f.parentNode.removeChild(f),a}function sk(a,l,f,m,w){if(l==="submit"&&f&&f.stateNode===w){var S=pw((w[ie]||null).action),L=m.submitter;L&&(l=(l=L[ie]||null)?pw(l.formAction):L.getAttribute("formAction"),l!==null&&(S=l,L=null));var J=new Bu("action","action",null,m,w);a.push({event:J,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Gi!==0){var fe=L?mw(w,L):new FormData(w);G0(f,{pending:!0,data:fe,method:w.method,action:S},null,fe)}}else typeof S=="function"&&(J.preventDefault(),fe=L?mw(w,L):new FormData(w),G0(f,{pending:!0,data:fe,method:w.method,action:S},S,fe))},currentTarget:w}]})}}for(var Cp=0;Cp<l0.length;Cp++){var Np=l0[Cp],ik=Np.toLowerCase(),ak=Np[0].toUpperCase()+Np.slice(1);ms(ik,"on"+ak)}ms(qv,"onAnimationEnd"),ms(Wv,"onAnimationIteration"),ms(Kv,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(_4,"onTransitionRun"),ms(S4,"onTransitionStart"),ms(E4,"onTransitionCancel"),ms(Xv,"onTransitionEnd"),Kr("onMouseEnter",["mouseout","mouseover"]),Kr("onMouseLeave",["mouseout","mouseover"]),Kr("onPointerEnter",["pointerout","pointerover"]),Kr("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ok=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fc));function gw(a,l){l=(l&4)!==0;for(var f=0;f<a.length;f++){var m=a[f],w=m.event;m=m.listeners;e:{var S=void 0;if(l)for(var L=m.length-1;0<=L;L--){var J=m[L],fe=J.instance,be=J.currentTarget;if(J=J.listener,fe!==S&&w.isPropagationStopped())break e;S=J,w.currentTarget=be;try{S(w)}catch(Ie){Hu(Ie)}w.currentTarget=null,S=fe}else for(L=0;L<m.length;L++){if(J=m[L],fe=J.instance,be=J.currentTarget,J=J.listener,fe!==S&&w.isPropagationStopped())break e;S=J,w.currentTarget=be;try{S(w)}catch(Ie){Hu(Ie)}w.currentTarget=null,S=fe}}}}function Et(a,l){var f=l[Se];f===void 0&&(f=l[Se]=new Set);var m=a+"__bubble";f.has(m)||(xw(l,a,2,!1),f.add(m))}function kp(a,l,f){var m=0;l&&(m|=4),xw(f,a,m,l)}var jf="_reactListening"+Math.random().toString(36).slice(2);function Ap(a){if(!a[jf]){a[jf]=!0,Yt.forEach(function(f){f!=="selectionchange"&&(ok.has(f)||kp(f,!1,a),kp(f,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[jf]||(l[jf]=!0,kp("selectionchange",!1,l))}}function xw(a,l,f,m){switch(qw(l)){case 2:var w=Ik;break;case 8:w=Lk;break;default:w=Vp}f=w.bind(null,l,f,a),w=void 0,!Xh||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),m?w!==void 0?a.addEventListener(l,f,{capture:!0,passive:w}):a.addEventListener(l,f,!0):w!==void 0?a.addEventListener(l,f,{passive:w}):a.addEventListener(l,f,!1)}function jp(a,l,f,m,w){var S=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var L=m.tag;if(L===3||L===4){var J=m.stateNode.containerInfo;if(J===w)break;if(L===4)for(L=m.return;L!==null;){var fe=L.tag;if((fe===3||fe===4)&&L.stateNode.containerInfo===w)return;L=L.return}for(;J!==null;){if(L=qe(J),L===null)return;if(fe=L.tag,fe===5||fe===6||fe===26||fe===27){m=S=L;continue e}J=J.parentNode}}m=m.return}_v(function(){var be=S,Ie=Wh(f),Pe=[];e:{var Ne=Yv.get(a);if(Ne!==void 0){var Oe=Bu,et=a;switch(a){case"keypress":if(Pu(f)===0)break e;case"keydown":case"keyup":Oe=e4;break;case"focusin":et="focus",Oe=Qh;break;case"focusout":et="blur",Oe=Qh;break;case"beforeblur":case"afterblur":Oe=Qh;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=Tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=$N;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=r4;break;case qv:case Wv:case Kv:Oe=GN;break;case Xv:Oe=i4;break;case"scroll":case"scrollend":Oe=BN;break;case"wheel":Oe=o4;break;case"copy":case"cut":case"paste":Oe=WN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=Nv;break;case"toggle":case"beforetoggle":Oe=c4}var ut=(l&4)!==0,qt=!ut&&(a==="scroll"||a==="scrollend"),me=ut?Ne!==null?Ne+"Capture":null:Ne;ut=[];for(var he=be,we;he!==null;){var Fe=he;if(we=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||we===null||me===null||(Fe=Ml(he,me),Fe!=null&&ut.push(dc(he,Fe,we))),qt)break;he=he.return}0<ut.length&&(Ne=new Oe(Ne,et,null,f,Ie),Pe.push({event:Ne,listeners:ut}))}}if((l&7)===0){e:{if(Ne=a==="mouseover"||a==="pointerover",Oe=a==="mouseout"||a==="pointerout",Ne&&f!==qh&&(et=f.relatedTarget||f.fromElement)&&(qe(et)||et[le]))break e;if((Oe||Ne)&&(Ne=Ie.window===Ie?Ie:(Ne=Ie.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Oe?(et=f.relatedTarget||f.toElement,Oe=be,et=et?qe(et):null,et!==null&&(qt=i(et),ut=et.tag,et!==qt||ut!==5&&ut!==27&&ut!==6)&&(et=null)):(Oe=null,et=be),Oe!==et)){if(ut=Tv,Fe="onMouseLeave",me="onMouseEnter",he="mouse",(a==="pointerout"||a==="pointerover")&&(ut=Nv,Fe="onPointerLeave",me="onPointerEnter",he="pointer"),qt=Oe==null?Ne:Ve(Oe),we=et==null?Ne:Ve(et),Ne=new ut(Fe,he+"leave",Oe,f,Ie),Ne.target=qt,Ne.relatedTarget=we,Fe=null,qe(Ie)===be&&(ut=new ut(me,he+"enter",et,f,Ie),ut.target=we,ut.relatedTarget=qt,Fe=ut),qt=Fe,Oe&&et)t:{for(ut=lk,me=Oe,he=et,we=0,Fe=me;Fe;Fe=ut(Fe))we++;Fe=0;for(var lt=he;lt;lt=ut(lt))Fe++;for(;0<we-Fe;)me=ut(me),we--;for(;0<Fe-we;)he=ut(he),Fe--;for(;we--;){if(me===he||he!==null&&me===he.alternate){ut=me;break t}me=ut(me),he=ut(he)}ut=null}else ut=null;Oe!==null&&vw(Pe,Ne,Oe,ut,!1),et!==null&&qt!==null&&vw(Pe,qt,et,ut,!0)}}e:{if(Ne=be?Ve(be):window,Oe=Ne.nodeName&&Ne.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&Ne.type==="file")var Rt=Iv;else if(Mv(Ne))if(Lv)Rt=y4;else{Rt=x4;var st=g4}else Oe=Ne.nodeName,!Oe||Oe.toLowerCase()!=="input"||Ne.type!=="checkbox"&&Ne.type!=="radio"?be&&Gh(be.elementType)&&(Rt=Iv):Rt=v4;if(Rt&&(Rt=Rt(a,be))){Dv(Pe,Rt,f,Ie);break e}st&&st(a,Ne,be),a==="focusout"&&be&&Ne.type==="number"&&be.memoizedProps.value!=null&&Vh(Ne,"number",Ne.value)}switch(st=be?Ve(be):window,a){case"focusin":(Mv(st)||st.contentEditable==="true")&&(fo=st,i0=be,Ul=null);break;case"focusout":Ul=i0=fo=null;break;case"mousedown":a0=!0;break;case"contextmenu":case"mouseup":case"dragend":a0=!1,Vv(Pe,f,Ie);break;case"selectionchange":if(b4)break;case"keydown":case"keyup":Vv(Pe,f,Ie)}var vt;if(t0)e:{switch(a){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else uo?Rv(a,f)&&(Ct="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Ct="onCompositionStart");Ct&&(kv&&f.locale!=="ko"&&(uo||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&uo&&(vt=Sv()):(Ai=Ie,Yh="value"in Ai?Ai.value:Ai.textContent,uo=!0)),st=Rf(be,Ct),0<st.length&&(Ct=new Cv(Ct,a,null,f,Ie),Pe.push({event:Ct,listeners:st}),vt?Ct.data=vt:(vt=Ov(f),vt!==null&&(Ct.data=vt)))),(vt=f4?d4(a,f):h4(a,f))&&(Ct=Rf(be,"onBeforeInput"),0<Ct.length&&(st=new Cv("onBeforeInput","beforeinput",null,f,Ie),Pe.push({event:st,listeners:Ct}),st.data=vt)),sk(Pe,a,be,f,Ie)}gw(Pe,l)})}function dc(a,l,f){return{instance:a,listener:l,currentTarget:f}}function Rf(a,l){for(var f=l+"Capture",m=[];a!==null;){var w=a,S=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||S===null||(w=Ml(a,f),w!=null&&m.unshift(dc(a,w,S)),w=Ml(a,l),w!=null&&m.push(dc(a,w,S))),a.tag===3)return m;a=a.return}return[]}function lk(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function vw(a,l,f,m,w){for(var S=l._reactName,L=[];f!==null&&f!==m;){var J=f,fe=J.alternate,be=J.stateNode;if(J=J.tag,fe!==null&&fe===m)break;J!==5&&J!==26&&J!==27||be===null||(fe=be,w?(be=Ml(f,S),be!=null&&L.unshift(dc(f,be,fe))):w||(be=Ml(f,S),be!=null&&L.push(dc(f,be,fe)))),f=f.return}L.length!==0&&a.push({event:l,listeners:L})}var ck=/\r\n?/g,uk=/\u0000|\uFFFD/g;function yw(a){return(typeof a=="string"?a:""+a).replace(ck,`
`).replace(uk,"")}function ww(a,l){return l=yw(l),yw(a)===l}function Gt(a,l,f,m,w,S){switch(f){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||oo(a,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&oo(a,""+m);break;case"className":Du(a,"class",m);break;case"tabIndex":Du(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Du(a,f,m);break;case"style":wv(a,m,S);break;case"data":if(l!=="object"){Du(a,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||f!=="href")){a.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(f);break}m=Lu(""+m),a.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(l!=="input"&&Gt(a,l,"name",w.name,w,null),Gt(a,l,"formEncType",w.formEncType,w,null),Gt(a,l,"formMethod",w.formMethod,w,null),Gt(a,l,"formTarget",w.formTarget,w,null)):(Gt(a,l,"encType",w.encType,w,null),Gt(a,l,"method",w.method,w,null),Gt(a,l,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(f);break}m=Lu(""+m),a.setAttribute(f,m);break;case"onClick":m!=null&&(a.onclick=Ks);break;case"onScroll":m!=null&&Et("scroll",a);break;case"onScrollEnd":m!=null&&Et("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(w.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}f=Lu(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(f,""+m):a.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(f,""):a.removeAttribute(f);break;case"capture":case"download":m===!0?a.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(f,m):a.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(f,m):a.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(f):a.setAttribute(f,m);break;case"popover":Et("beforetoggle",a),Et("toggle",a),mr(a,"popover",m);break;case"xlinkActuate":Ws(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ws(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ws(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ws(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ws(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ws(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ws(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ws(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ws(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":mr(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=PN.get(f)||f,mr(a,f,m))}}function Rp(a,l,f,m,w,S){switch(f){case"style":wv(a,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(w.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"children":typeof m=="string"?oo(a,m):(typeof m=="number"||typeof m=="bigint")&&oo(a,""+m);break;case"onScroll":m!=null&&Et("scroll",a);break;case"onScrollEnd":m!=null&&Et("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Ks);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jt.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(w=f.endsWith("Capture"),l=f.slice(2,w?f.length-7:void 0),S=a[ie]||null,S=S!=null?S[f]:null,typeof S=="function"&&a.removeEventListener(l,S,w),typeof m=="function")){typeof S!="function"&&S!==null&&(f in a?a[f]=null:a.hasAttribute(f)&&a.removeAttribute(f)),a.addEventListener(l,m,w);break e}f in a?a[f]=m:m===!0?a.setAttribute(f,""):mr(a,f,m)}}}function Vn(a,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",a),Et("load",a);var m=!1,w=!1,S;for(S in f)if(f.hasOwnProperty(S)){var L=f[S];if(L!=null)switch(S){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Gt(a,l,S,L,f,null)}}w&&Gt(a,l,"srcSet",f.srcSet,f,null),m&&Gt(a,l,"src",f.src,f,null);return;case"input":Et("invalid",a);var J=S=L=w=null,fe=null,be=null;for(m in f)if(f.hasOwnProperty(m)){var Ie=f[m];if(Ie!=null)switch(m){case"name":w=Ie;break;case"type":L=Ie;break;case"checked":fe=Ie;break;case"defaultChecked":be=Ie;break;case"value":S=Ie;break;case"defaultValue":J=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,l));break;default:Gt(a,l,m,Ie,f,null)}}gv(a,S,J,fe,be,L,w,!1);return;case"select":Et("invalid",a),m=L=S=null;for(w in f)if(f.hasOwnProperty(w)&&(J=f[w],J!=null))switch(w){case"value":S=J;break;case"defaultValue":L=J;break;case"multiple":m=J;default:Gt(a,l,w,J,f,null)}l=S,f=L,a.multiple=!!m,l!=null?ao(a,!!m,l,!1):f!=null&&ao(a,!!m,f,!0);return;case"textarea":Et("invalid",a),S=w=m=null;for(L in f)if(f.hasOwnProperty(L)&&(J=f[L],J!=null))switch(L){case"value":m=J;break;case"defaultValue":w=J;break;case"children":S=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(91));break;default:Gt(a,l,L,J,f,null)}vv(a,m,w,S);return;case"option":for(fe in f)if(f.hasOwnProperty(fe)&&(m=f[fe],m!=null))switch(fe){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Gt(a,l,fe,m,f,null)}return;case"dialog":Et("beforetoggle",a),Et("toggle",a),Et("cancel",a),Et("close",a);break;case"iframe":case"object":Et("load",a);break;case"video":case"audio":for(m=0;m<fc.length;m++)Et(fc[m],a);break;case"image":Et("error",a),Et("load",a);break;case"details":Et("toggle",a);break;case"embed":case"source":case"link":Et("error",a),Et("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(be in f)if(f.hasOwnProperty(be)&&(m=f[be],m!=null))switch(be){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Gt(a,l,be,m,f,null)}return;default:if(Gh(l)){for(Ie in f)f.hasOwnProperty(Ie)&&(m=f[Ie],m!==void 0&&Rp(a,l,Ie,m,f,void 0));return}}for(J in f)f.hasOwnProperty(J)&&(m=f[J],m!=null&&Gt(a,l,J,m,f,null))}function fk(a,l,f,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,S=null,L=null,J=null,fe=null,be=null,Ie=null;for(Oe in f){var Pe=f[Oe];if(f.hasOwnProperty(Oe)&&Pe!=null)switch(Oe){case"checked":break;case"value":break;case"defaultValue":fe=Pe;default:m.hasOwnProperty(Oe)||Gt(a,l,Oe,null,m,Pe)}}for(var Ne in m){var Oe=m[Ne];if(Pe=f[Ne],m.hasOwnProperty(Ne)&&(Oe!=null||Pe!=null))switch(Ne){case"type":S=Oe;break;case"name":w=Oe;break;case"checked":be=Oe;break;case"defaultChecked":Ie=Oe;break;case"value":L=Oe;break;case"defaultValue":J=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(r(137,l));break;default:Oe!==Pe&&Gt(a,l,Ne,Oe,m,Pe)}}Hh(a,L,J,fe,be,Ie,S,w);return;case"select":Oe=L=J=Ne=null;for(S in f)if(fe=f[S],f.hasOwnProperty(S)&&fe!=null)switch(S){case"value":break;case"multiple":Oe=fe;default:m.hasOwnProperty(S)||Gt(a,l,S,null,m,fe)}for(w in m)if(S=m[w],fe=f[w],m.hasOwnProperty(w)&&(S!=null||fe!=null))switch(w){case"value":Ne=S;break;case"defaultValue":J=S;break;case"multiple":L=S;default:S!==fe&&Gt(a,l,w,S,m,fe)}l=J,f=L,m=Oe,Ne!=null?ao(a,!!f,Ne,!1):!!m!=!!f&&(l!=null?ao(a,!!f,l,!0):ao(a,!!f,f?[]:"",!1));return;case"textarea":Oe=Ne=null;for(J in f)if(w=f[J],f.hasOwnProperty(J)&&w!=null&&!m.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Gt(a,l,J,null,m,w)}for(L in m)if(w=m[L],S=f[L],m.hasOwnProperty(L)&&(w!=null||S!=null))switch(L){case"value":Ne=w;break;case"defaultValue":Oe=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==S&&Gt(a,l,L,w,m,S)}xv(a,Ne,Oe);return;case"option":for(var et in f)if(Ne=f[et],f.hasOwnProperty(et)&&Ne!=null&&!m.hasOwnProperty(et))switch(et){case"selected":a.selected=!1;break;default:Gt(a,l,et,null,m,Ne)}for(fe in m)if(Ne=m[fe],Oe=f[fe],m.hasOwnProperty(fe)&&Ne!==Oe&&(Ne!=null||Oe!=null))switch(fe){case"selected":a.selected=Ne&&typeof Ne!="function"&&typeof Ne!="symbol";break;default:Gt(a,l,fe,Ne,m,Oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in f)Ne=f[ut],f.hasOwnProperty(ut)&&Ne!=null&&!m.hasOwnProperty(ut)&&Gt(a,l,ut,null,m,Ne);for(be in m)if(Ne=m[be],Oe=f[be],m.hasOwnProperty(be)&&Ne!==Oe&&(Ne!=null||Oe!=null))switch(be){case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(r(137,l));break;default:Gt(a,l,be,Ne,m,Oe)}return;default:if(Gh(l)){for(var qt in f)Ne=f[qt],f.hasOwnProperty(qt)&&Ne!==void 0&&!m.hasOwnProperty(qt)&&Rp(a,l,qt,void 0,m,Ne);for(Ie in m)Ne=m[Ie],Oe=f[Ie],!m.hasOwnProperty(Ie)||Ne===Oe||Ne===void 0&&Oe===void 0||Rp(a,l,Ie,Ne,m,Oe);return}}for(var me in f)Ne=f[me],f.hasOwnProperty(me)&&Ne!=null&&!m.hasOwnProperty(me)&&Gt(a,l,me,null,m,Ne);for(Pe in m)Ne=m[Pe],Oe=f[Pe],!m.hasOwnProperty(Pe)||Ne===Oe||Ne==null&&Oe==null||Gt(a,l,Pe,Ne,m,Oe)}function bw(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dk(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,f=performance.getEntriesByType("resource"),m=0;m<f.length;m++){var w=f[m],S=w.transferSize,L=w.initiatorType,J=w.duration;if(S&&J&&bw(L)){for(L=0,J=w.responseEnd,m+=1;m<f.length;m++){var fe=f[m],be=fe.startTime;if(be>J)break;var Ie=fe.transferSize,Pe=fe.initiatorType;Ie&&bw(Pe)&&(fe=fe.responseEnd,L+=Ie*(fe<J?1:(J-be)/(fe-be)))}if(--m,l+=8*(S+L)/(w.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Op=null,Mp=null;function Of(a){return a.nodeType===9?a:a.ownerDocument}function _w(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sw(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Dp(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ip=null;function hk(){var a=window.event;return a&&a.type==="popstate"?a===Ip?!1:(Ip=a,!0):(Ip=null,!1)}var Ew=typeof setTimeout=="function"?setTimeout:void 0,pk=typeof clearTimeout=="function"?clearTimeout:void 0,Tw=typeof Promise=="function"?Promise:void 0,mk=typeof queueMicrotask=="function"?queueMicrotask:typeof Tw<"u"?function(a){return Tw.resolve(null).then(a).catch(gk)}:Ew;function gk(a){setTimeout(function(){throw a})}function qi(a){return a==="head"}function Cw(a,l){var f=l,m=0;do{var w=f.nextSibling;if(a.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"||f==="/&"){if(m===0){a.removeChild(w),zo(l);return}m--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")m++;else if(f==="html")hc(a.ownerDocument.documentElement);else if(f==="head"){f=a.ownerDocument.head,hc(f);for(var S=f.firstChild;S;){var L=S.nextSibling,J=S.nodeName;S[Ae]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&S.rel.toLowerCase()==="stylesheet"||f.removeChild(S),S=L}}else f==="body"&&hc(a.ownerDocument.body);f=w}while(f);zo(l)}function Nw(a,l){var f=a;a=0;do{var m=f.nextSibling;if(f.nodeType===1?l?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(l?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(a===0)break;a--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||a++;f=m}while(f)}function Lp(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Lp(f),He(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}a.removeChild(f)}}function xk(a,l,f,m){for(;a.nodeType===1;){var w=f;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Ae])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var S=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=rs(a.nextSibling),a===null)break}return null}function vk(a,l,f){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!f||(a=rs(a.nextSibling),a===null))return null;return a}function kw(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=rs(a.nextSibling),a===null))return null;return a}function Fp(a){return a.data==="$?"||a.data==="$~"}function Pp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function yk(a,l){var f=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||f.readyState!=="loading")l();else{var m=function(){l(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function rs(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var zp=null;function Aw(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"||f==="/&"){if(l===0)return rs(a.nextSibling);l--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||l++}a=a.nextSibling}return null}function jw(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(l===0)return a;l--}else f!=="/$"&&f!=="/&"||l++}a=a.previousSibling}return null}function Rw(a,l,f){switch(l=Of(f),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function hc(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);He(a)}var ss=new Map,Ow=new Set;function Mf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ui=H.d;H.d={f:wk,r:bk,D:_k,C:Sk,L:Ek,m:Tk,X:Nk,S:Ck,M:kk};function wk(){var a=ui.f(),l=Ef();return a||l}function bk(a){var l=Je(a);l!==null&&l.tag===5&&l.type==="form"?X1(l):ui.r(a)}var Lo=typeof document>"u"?null:document;function Mw(a,l,f){var m=Lo;if(m&&typeof l=="string"&&l){var w=Yr(l);w='link[rel="'+a+'"][href="'+w+'"]',typeof f=="string"&&(w+='[crossorigin="'+f+'"]'),Ow.has(w)||(Ow.add(w),a={rel:a,crossOrigin:f,href:l},m.querySelector(w)===null&&(l=m.createElement("link"),Vn(l,"link",a),rt(l),m.head.appendChild(l)))}}function _k(a){ui.D(a),Mw("dns-prefetch",a,null)}function Sk(a,l){ui.C(a,l),Mw("preconnect",a,l)}function Ek(a,l,f){ui.L(a,l,f);var m=Lo;if(m&&a&&l){var w='link[rel="preload"][as="'+Yr(l)+'"]';l==="image"&&f&&f.imageSrcSet?(w+='[imagesrcset="'+Yr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(w+='[imagesizes="'+Yr(f.imageSizes)+'"]')):w+='[href="'+Yr(a)+'"]';var S=w;switch(l){case"style":S=Fo(a);break;case"script":S=Po(a)}ss.has(S)||(a=g({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:a,as:l},f),ss.set(S,a),m.querySelector(w)!==null||l==="style"&&m.querySelector(pc(S))||l==="script"&&m.querySelector(mc(S))||(l=m.createElement("link"),Vn(l,"link",a),rt(l),m.head.appendChild(l)))}}function Tk(a,l){ui.m(a,l);var f=Lo;if(f&&a){var m=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+Yr(m)+'"][href="'+Yr(a)+'"]',S=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Po(a)}if(!ss.has(S)&&(a=g({rel:"modulepreload",href:a},l),ss.set(S,a),f.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(mc(S)))return}m=f.createElement("link"),Vn(m,"link",a),rt(m),f.head.appendChild(m)}}}function Ck(a,l,f){ui.S(a,l,f);var m=Lo;if(m&&a){var w=Ye(m).hoistableStyles,S=Fo(a);l=l||"default";var L=w.get(S);if(!L){var J={loading:0,preload:null};if(L=m.querySelector(pc(S)))J.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},f),(f=ss.get(S))&&Bp(a,f);var fe=L=m.createElement("link");rt(fe),Vn(fe,"link",a),fe._p=new Promise(function(be,Ie){fe.onload=be,fe.onerror=Ie}),fe.addEventListener("load",function(){J.loading|=1}),fe.addEventListener("error",function(){J.loading|=2}),J.loading|=4,Df(L,l,m)}L={type:"stylesheet",instance:L,count:1,state:J},w.set(S,L)}}}function Nk(a,l){ui.X(a,l);var f=Lo;if(f&&a){var m=Ye(f).hoistableScripts,w=Po(a),S=m.get(w);S||(S=f.querySelector(mc(w)),S||(a=g({src:a,async:!0},l),(l=ss.get(w))&&Up(a,l),S=f.createElement("script"),rt(S),Vn(S,"link",a),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(w,S))}}function kk(a,l){ui.M(a,l);var f=Lo;if(f&&a){var m=Ye(f).hoistableScripts,w=Po(a),S=m.get(w);S||(S=f.querySelector(mc(w)),S||(a=g({src:a,async:!0,type:"module"},l),(l=ss.get(w))&&Up(a,l),S=f.createElement("script"),rt(S),Vn(S,"link",a),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(w,S))}}function Dw(a,l,f,m){var w=(w=ue.current)?Mf(w):null;if(!w)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=Fo(f.href),f=Ye(w).hoistableStyles,m=f.get(l),m||(m={type:"style",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){a=Fo(f.href);var S=Ye(w).hoistableStyles,L=S.get(a);if(L||(w=w.ownerDocument||w,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,L),(S=w.querySelector(pc(a)))&&!S._p&&(L.instance=S,L.state.loading=5),ss.has(a)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},ss.set(a,f),S||Ak(w,a,f,L.state))),l&&m===null)throw Error(r(528,""));return L}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Po(f),f=Ye(w).hoistableScripts,m=f.get(l),m||(m={type:"script",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Fo(a){return'href="'+Yr(a)+'"'}function pc(a){return'link[rel="stylesheet"]['+a+"]"}function Iw(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function Ak(a,l,f,m){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=a.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Vn(l,"link",f),rt(l),a.head.appendChild(l))}function Po(a){return'[src="'+Yr(a)+'"]'}function mc(a){return"script[async]"+a}function Lw(a,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var m=a.querySelector('style[data-href~="'+Yr(f.href)+'"]');if(m)return l.instance=m,rt(m),m;var w=g({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),rt(m),Vn(m,"style",w),Df(m,f.precedence,a),l.instance=m;case"stylesheet":w=Fo(f.href);var S=a.querySelector(pc(w));if(S)return l.state.loading|=4,l.instance=S,rt(S),S;m=Iw(f),(w=ss.get(w))&&Bp(m,w),S=(a.ownerDocument||a).createElement("link"),rt(S);var L=S;return L._p=new Promise(function(J,fe){L.onload=J,L.onerror=fe}),Vn(S,"link",m),l.state.loading|=4,Df(S,f.precedence,a),l.instance=S;case"script":return S=Po(f.src),(w=a.querySelector(mc(S)))?(l.instance=w,rt(w),w):(m=f,(w=ss.get(S))&&(m=g({},f),Up(m,w)),a=a.ownerDocument||a,w=a.createElement("script"),rt(w),Vn(w,"link",m),a.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Df(m,f.precedence,a));return l.instance}function Df(a,l,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,S=w,L=0;L<m.length;L++){var J=m[L];if(J.dataset.precedence===l)S=J;else if(S!==w)break}S?S.parentNode.insertBefore(a,S.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(a,l.firstChild))}function Bp(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Up(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var If=null;function Fw(a,l,f){if(If===null){var m=new Map,w=If=new Map;w.set(f,m)}else w=If,m=w.get(f),m||(m=new Map,w.set(f,m));if(m.has(a))return m;for(m.set(a,null),f=f.getElementsByTagName(a),w=0;w<f.length;w++){var S=f[w];if(!(S[Ae]||S[te]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var L=S.getAttribute(l)||"";L=a+L;var J=m.get(L);J?J.push(S):m.set(L,[S])}}return m}function Pw(a,l,f){a=a.ownerDocument||a,a.head.insertBefore(f,l==="title"?a.querySelector("head > title"):null)}function jk(a,l,f){if(f===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function zw(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Rk(a,l,f,m){if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var w=Fo(m.href),S=l.querySelector(pc(w));if(S){l=S._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=Lf.bind(a),l.then(a,a)),f.state.loading|=4,f.instance=S,rt(S);return}S=l.ownerDocument||l,m=Iw(m),(w=ss.get(w))&&Bp(m,w),S=S.createElement("link"),rt(S);var L=S;L._p=new Promise(function(J,fe){L.onload=J,L.onerror=fe}),Vn(S,"link",m),f.instance=S}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(f,l),(l=f.state.preload)&&(f.state.loading&3)===0&&(a.count++,f=Lf.bind(a),l.addEventListener("load",f),l.addEventListener("error",f))}}var $p=0;function Ok(a,l){return a.stylesheets&&a.count===0&&Pf(a,a.stylesheets),0<a.count||0<a.imgCount?function(f){var m=setTimeout(function(){if(a.stylesheets&&Pf(a,a.stylesheets),a.unsuspend){var S=a.unsuspend;a.unsuspend=null,S()}},6e4+l);0<a.imgBytes&&$p===0&&($p=62500*dk());var w=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Pf(a,a.stylesheets),a.unsuspend)){var S=a.unsuspend;a.unsuspend=null,S()}},(a.imgBytes>$p?50:800)+l);return a.unsuspend=f,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function Lf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ff=null;function Pf(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ff=new Map,l.forEach(Mk,a),Ff=null,Lf.call(a))}function Mk(a,l){if(!(l.state.loading&4)){var f=Ff.get(a);if(f)var m=f.get(null);else{f=new Map,Ff.set(a,f);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<w.length;S++){var L=w[S];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(f.set(L.dataset.precedence,L),m=L)}m&&f.set(null,m)}w=l.instance,L=w.getAttribute("data-precedence"),S=f.get(L)||m,S===m&&f.set(null,w),f.set(L,w),this.count++,m=Lf.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),S?S.parentNode.insertBefore(w,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),l.state.loading|=4}}var gc={$$typeof:C,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Dk(a,l,f,m,w,S,L,J,fe){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qn(0),this.hiddenUpdates=Qn(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=S,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function Bw(a,l,f,m,w,S,L,J,fe,be,Ie,Pe){return a=new Dk(a,l,f,L,fe,be,Ie,Pe,J),l=1,S===!0&&(l|=24),S=Or(3,null,null,l),a.current=S,S.stateNode=a,l=b0(),l.refCount++,a.pooledCache=l,l.refCount++,S.memoizedState={element:m,isDehydrated:f,cache:l},T0(S),a}function Uw(a){return a?(a=mo,a):mo}function $w(a,l,f,m,w,S){w=Uw(w),m.context===null?m.context=w:m.pendingContext=w,m=Ii(l),m.payload={element:f},S=S===void 0?null:S,S!==null&&(m.callback=S),f=Li(a,m,l),f!==null&&(br(f,a,l),Kl(f,a,l))}function Hw(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<l?f:l}}function Hp(a,l){Hw(a,l),(a=a.alternate)&&Hw(a,l)}function Vw(a){if(a.tag===13||a.tag===31){var l=wa(a,67108864);l!==null&&br(l,a,67108864),Hp(a,67108864)}}function Gw(a){if(a.tag===13||a.tag===31){var l=Fr();l=hs(l);var f=wa(a,l);f!==null&&br(f,a,l),Hp(a,l)}}var zf=!0;function Ik(a,l,f,m){var w=X.T;X.T=null;var S=H.p;try{H.p=2,Vp(a,l,f,m)}finally{H.p=S,X.T=w}}function Lk(a,l,f,m){var w=X.T;X.T=null;var S=H.p;try{H.p=8,Vp(a,l,f,m)}finally{H.p=S,X.T=w}}function Vp(a,l,f,m){if(zf){var w=Gp(m);if(w===null)jp(a,l,m,Bf,f),Ww(a,m);else if(Pk(w,a,l,f,m))m.stopPropagation();else if(Ww(a,m),l&4&&-1<Fk.indexOf(a)){for(;w!==null;){var S=Je(w);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var L=jt(S.pendingLanes);if(L!==0){var J=S;for(J.pendingLanes|=2,J.entangledLanes|=2;L;){var fe=1<<31-kt(L);J.entanglements[1]|=fe,L&=~fe}Ps(S),(Dt&6)===0&&(_f=_e()+500,uc(0))}}break;case 31:case 13:J=wa(S,2),J!==null&&br(J,S,2),Ef(),Hp(S,2)}if(S=Gp(m),S===null&&jp(a,l,m,Bf,f),S===w)break;w=S}w!==null&&m.stopPropagation()}else jp(a,l,m,null,f)}}function Gp(a){return a=Wh(a),qp(a)}var Bf=null;function qp(a){if(Bf=null,a=qe(a),a!==null){var l=i(a);if(l===null)a=null;else{var f=l.tag;if(f===13){if(a=o(l),a!==null)return a;a=null}else if(f===31){if(a=c(l),a!==null)return a;a=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Bf=a,null}function qw(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case Ue:return 2;case Ze:return 8;case $e:case wt:return 32;case Qt:return 268435456;default:return 32}default:return 32}}var Wp=!1,Wi=null,Ki=null,Xi=null,xc=new Map,vc=new Map,Yi=[],Fk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ww(a,l){switch(a){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":xc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":vc.delete(l.pointerId)}}function yc(a,l,f,m,w,S){return a===null||a.nativeEvent!==S?(a={blockedOn:l,domEventName:f,eventSystemFlags:m,nativeEvent:S,targetContainers:[w]},l!==null&&(l=Je(l),l!==null&&Vw(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),a)}function Pk(a,l,f,m,w){switch(l){case"focusin":return Wi=yc(Wi,a,l,f,m,w),!0;case"dragenter":return Ki=yc(Ki,a,l,f,m,w),!0;case"mouseover":return Xi=yc(Xi,a,l,f,m,w),!0;case"pointerover":var S=w.pointerId;return xc.set(S,yc(xc.get(S)||null,a,l,f,m,w)),!0;case"gotpointercapture":return S=w.pointerId,vc.set(S,yc(vc.get(S)||null,a,l,f,m,w)),!0}return!1}function Kw(a){var l=qe(a.target);if(l!==null){var f=i(l);if(f!==null){if(l=f.tag,l===13){if(l=o(f),l!==null){a.blockedOn=l,ae(a.priority,function(){Gw(f)});return}}else if(l===31){if(l=c(f),l!==null){a.blockedOn=l,ae(a.priority,function(){Gw(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Uf(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var f=Gp(a.nativeEvent);if(f===null){f=a.nativeEvent;var m=new f.constructor(f.type,f);qh=m,f.target.dispatchEvent(m),qh=null}else return l=Je(f),l!==null&&Vw(l),a.blockedOn=f,!1;l.shift()}return!0}function Xw(a,l,f){Uf(a)&&f.delete(l)}function zk(){Wp=!1,Wi!==null&&Uf(Wi)&&(Wi=null),Ki!==null&&Uf(Ki)&&(Ki=null),Xi!==null&&Uf(Xi)&&(Xi=null),xc.forEach(Xw),vc.forEach(Xw)}function $f(a,l){a.blockedOn===l&&(a.blockedOn=null,Wp||(Wp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zk)))}var Hf=null;function Yw(a){Hf!==a&&(Hf=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Hf===a&&(Hf=null);for(var l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],w=a[l+2];if(typeof m!="function"){if(qp(m||f)===null)continue;break}var S=Je(f);S!==null&&(a.splice(l,3),l-=3,G0(S,{pending:!0,data:w,method:f.method,action:m},m,w))}}))}function zo(a){function l(fe){return $f(fe,a)}Wi!==null&&$f(Wi,a),Ki!==null&&$f(Ki,a),Xi!==null&&$f(Xi,a),xc.forEach(l),vc.forEach(l);for(var f=0;f<Yi.length;f++){var m=Yi[f];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Yi.length&&(f=Yi[0],f.blockedOn===null);)Kw(f),f.blockedOn===null&&Yi.shift();if(f=(a.ownerDocument||a).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var w=f[m],S=f[m+1],L=w[ie]||null;if(typeof S=="function")L||Yw(f);else if(L){var J=null;if(S&&S.hasAttribute("formAction")){if(w=S,L=S[ie]||null)J=L.formAction;else if(qp(w)!==null)continue}else J=L.action;typeof J=="function"?f[m+1]=J:(f.splice(m,3),m-=3),Yw(f)}}}function Jw(){function a(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(L){return w=L})},focusReset:"manual",scroll:"manual"})}function l(){w!==null&&(w(),w=null),m||setTimeout(f,20)}function f(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(f,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),w!==null&&(w(),w=null)}}}function Kp(a){this._internalRoot=a}Vf.prototype.render=Kp.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,m=Fr();$w(f,m,a,l,null,null)},Vf.prototype.unmount=Kp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;$w(a.current,2,null,a,null,null),Ef(),l[le]=null}};function Vf(a){this._internalRoot=a}Vf.prototype.unstable_scheduleHydration=function(a){if(a){var l=W();a={blockedOn:null,target:a,priority:l};for(var f=0;f<Yi.length&&l!==0&&l<Yi[f].priority;f++);Yi.splice(f,0,a),f===0&&Kw(a)}};var Zw=t.version;if(Zw!=="19.2.0")throw Error(r(527,Zw,"19.2.0"));H.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(l),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var Bk={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{gt=Gf.inject(Bk),Qe=Gf}catch{}}return bc.createRoot=function(a,l){if(!s(a))throw Error(r(299));var f=!1,m="",w=iy,S=ay,L=oy;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(L=l.onRecoverableError)),l=Bw(a,1,!1,null,null,f,m,null,w,S,L,Jw),a[le]=l.current,Ap(a),new Kp(l)},bc.hydrateRoot=function(a,l,f){if(!s(a))throw Error(r(299));var m=!1,w="",S=iy,L=ay,J=oy,fe=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(L=f.onCaughtError),f.onRecoverableError!==void 0&&(J=f.onRecoverableError),f.formState!==void 0&&(fe=f.formState)),l=Bw(a,1,!0,l,f??null,m,w,fe,S,L,J,Jw),l.context=Uw(null),f=l.current,m=Fr(),m=hs(m),w=Ii(m),w.callback=null,Li(f,w,m),f=m,l.current.lanes=f,hr(l,f),Ps(l),a[le]=l.current,Ap(a),new Vf(l)},bc.version="19.2.0",bc}var lb;function Jk(){if(lb)return Jp.exports;lb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Jp.exports=Yk(),Jp.exports}var Zk=Jk();var cb="popstate";function Qk(e={}){function t(r,s){let{pathname:i,search:o,hash:c}=r.location;return Zm("",{pathname:i,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Xc(s)}return tA(t,n,null,e)}function on(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function us(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eA(){return Math.random().toString(36).substring(2,10)}function ub(e,t){return{usr:e.state,key:e.key,idx:t}}function Zm(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?gl(t):t,state:n,key:t&&t.key||r||eA()}}function Xc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function gl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function tA(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,c="POP",h=null,d=p();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function p(){return(o.state||{idx:null}).idx}function g(){c="POP";let _=p(),E=_==null?null:_-d;d=_,h&&h({action:c,location:y.location,delta:E})}function v(_,E){c="PUSH";let T=Zm(y.location,_,E);d=p()+1;let C=ub(T,d),N=y.createHref(T);try{o.pushState(C,"",N)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(N)}i&&h&&h({action:c,location:y.location,delta:1})}function x(_,E){c="REPLACE";let T=Zm(y.location,_,E);d=p();let C=ub(T,d),N=y.createHref(T);o.replaceState(C,"",N),i&&h&&h({action:c,location:y.location,delta:0})}function b(_){return nA(_)}let y={get action(){return c},get location(){return e(s,o)},listen(_){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(cb,g),h=_,()=>{s.removeEventListener(cb,g),h=null}},createHref(_){return t(s,_)},createURL:b,encodeLocation(_){let E=b(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:x,go(_){return o.go(_)}};return y}function nA(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),on(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Xc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function $2(e,t,n="/"){return rA(e,t,n,!1)}function rA(e,t,n,r){let s=typeof t=="string"?gl(t):t,i=_i(s.pathname||"/",n);if(i==null)return null;let o=H2(e);sA(o);let c=null;for(let h=0;c==null&&h<o.length;++h){let d=mA(i);c=hA(o[h],d,r)}return c}function H2(e,t=[],n=[],r="",s=!1){let i=(o,c,h=s,d)=>{let p={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&h)return;on(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=vi([r,p.relativePath]),v=n.concat(p);o.children&&o.children.length>0&&(on(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),H2(o.children,t,v,g,h)),!(o.path==null&&!o.index)&&t.push({path:g,score:fA(g,o.index),routesMeta:v})};return e.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))i(o,c);else for(let h of V2(o.path))i(o,c,!0,h)}),t}function V2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=V2(r.join("/")),c=[];return c.push(...o.map(h=>h===""?i:[i,h].join("/"))),s&&c.push(...o),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function sA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:dA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var iA=/^:[\w-]+$/,aA=3,oA=2,lA=1,cA=10,uA=-2,fb=e=>e==="*";function fA(e,t){let n=e.split("/"),r=n.length;return n.some(fb)&&(r+=uA),t&&(r+=oA),n.filter(s=>!fb(s)).reduce((s,i)=>s+(iA.test(i)?aA:i===""?lA:cA),r)}function dA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function hA(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",o=[];for(let c=0;c<r.length;++c){let h=r[c],d=c===r.length-1,p=i==="/"?t:t.slice(i.length)||"/",g=Od({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),v=h.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=Od({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:vi([i,g.pathname]),pathnameBase:yA(vi([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=vi([i,g.pathnameBase]))}return o}function Od(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pA(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:g},v)=>{if(p==="*"){let b=c[v]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=c[v];return g&&!x?d[p]=void 0:d[p]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function pA(e,t=!1,n=!0){us(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function mA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return us(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function _i(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function gA(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?gl(e):e;return{pathname:n?n.startsWith("/")?n:xA(n,t):t,search:wA(r),hash:bA(s)}}function xA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function tm(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Qg(e){let t=vA(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ex(e,t,n,r=!1){let s;typeof e=="string"?s=gl(e):(s={...e},on(!s.pathname||!s.pathname.includes("?"),tm("?","pathname","search",s)),on(!s.pathname||!s.pathname.includes("#"),tm("#","pathname","hash",s)),on(!s.search||!s.search.includes("#"),tm("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=n;else{let g=t.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}c=g>=0?t[g]:"/"}let h=gA(s,c),d=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var vi=e=>e.join("/").replace(/\/\/+/g,"/"),yA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _A(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var G2=["POST","PUT","PATCH","DELETE"];new Set(G2);var SA=["GET",...G2];new Set(SA);var xl=q.createContext(null);xl.displayName="DataRouter";var mh=q.createContext(null);mh.displayName="DataRouterState";q.createContext(!1);var q2=q.createContext({isTransitioning:!1});q2.displayName="ViewTransition";var EA=q.createContext(new Map);EA.displayName="Fetchers";var TA=q.createContext(null);TA.displayName="Await";var Os=q.createContext(null);Os.displayName="Navigation";var xu=q.createContext(null);xu.displayName="Location";var Vs=q.createContext({outlet:null,matches:[],isDataRoute:!1});Vs.displayName="Route";var tx=q.createContext(null);tx.displayName="RouteError";function CA(e,{relative:t}={}){on(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=q.useContext(Os),{hash:s,pathname:i,search:o}=vu(e,{relative:t}),c=i;return n!=="/"&&(c=i==="/"?n:vi([n,i])),r.createHref({pathname:c,search:o,hash:s})}function vl(){return q.useContext(xu)!=null}function Gs(){return on(vl(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(xu).location}var W2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K2(e){q.useContext(Os).static||q.useLayoutEffect(e)}function gh(){let{isDataRoute:e}=q.useContext(Vs);return e?zA():NA()}function NA(){on(vl(),"useNavigate() may be used only in the context of a <Router> component.");let e=q.useContext(xl),{basename:t,navigator:n}=q.useContext(Os),{matches:r}=q.useContext(Vs),{pathname:s}=Gs(),i=JSON.stringify(Qg(r)),o=q.useRef(!1);return K2(()=>{o.current=!0}),q.useCallback((h,d={})=>{if(us(o.current,W2),!o.current)return;if(typeof h=="number"){n.go(h);return}let p=ex(h,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:vi([t,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[t,n,i,s,e])}q.createContext(null);function vu(e,{relative:t}={}){let{matches:n}=q.useContext(Vs),{pathname:r}=Gs(),s=JSON.stringify(Qg(n));return q.useMemo(()=>ex(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function kA(e,t){return X2(e,t)}function X2(e,t,n,r,s){on(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=q.useContext(Os),{matches:o}=q.useContext(Vs),c=o[o.length-1],h=c?c.params:{},d=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let T=g&&g.path||"";Y2(d,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let v=Gs(),x;if(t){let T=typeof t=="string"?gl(t):t;on(p==="/"||T.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),x=T}else x=v;let b=x.pathname||"/",y=b;if(p!=="/"){let T=p.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let _=$2(e,{pathname:y});us(g||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),us(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=MA(_&&_.map(T=>Object.assign({},T,{params:Object.assign({},h,T.params),pathname:vi([p,i.encodeLocation?i.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:vi([p,i.encodeLocation?i.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),o,n,r,s);return t&&E?q.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function AA(){let e=PA(),t=_A(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:i},"ErrorBoundary")," or"," ",q.createElement("code",{style:i},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),n?q.createElement("pre",{style:s},n):null,o)}var jA=q.createElement(AA,null),RA=class extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?q.createElement(Vs.Provider,{value:this.props.routeContext},q.createElement(tx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OA({routeContext:e,match:t,children:n}){let r=q.useContext(xl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(Vs.Provider,{value:e},n)}function MA(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n?.errors;if(o!=null){let d=i.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);on(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,h=-1;if(n)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:v}=n,x=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){c=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((d,p,g)=>{let v,x=!1,b=null,y=null;n&&(v=o&&p.route.id?o[p.route.id]:void 0,b=p.route.errorElement||jA,c&&(h<0&&g===0?(Y2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,y=null):h===g&&(x=!0,y=p.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,g+1)),E=()=>{let T;return v?T=b:x?T=y:p.route.Component?T=q.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=d,q.createElement(OA,{match:p,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:T})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?q.createElement(RA,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:r}):E()},null)}function nx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DA(e){let t=q.useContext(xl);return on(t,nx(e)),t}function IA(e){let t=q.useContext(mh);return on(t,nx(e)),t}function LA(e){let t=q.useContext(Vs);return on(t,nx(e)),t}function rx(e){let t=LA(e),n=t.matches[t.matches.length-1];return on(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function FA(){return rx("useRouteId")}function PA(){let e=q.useContext(tx),t=IA("useRouteError"),n=rx("useRouteError");return e!==void 0?e:t.errors?.[n]}function zA(){let{router:e}=DA("useNavigate"),t=rx("useNavigate"),n=q.useRef(!1);return K2(()=>{n.current=!0}),q.useCallback(async(s,i={})=>{us(n.current,W2),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var db={};function Y2(e,t,n){!t&&!db[e]&&(db[e]=!0,us(!1,n))}q.memo(BA);function BA({routes:e,future:t,state:n,unstable_onError:r}){return X2(e,void 0,n,r,t)}function J2({to:e,replace:t,state:n,relative:r}){on(vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=q.useContext(Os);us(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=q.useContext(Vs),{pathname:o}=Gs(),c=gh(),h=ex(e,Qg(i),o,r==="path"),d=JSON.stringify(h);return q.useEffect(()=>{c(JSON.parse(d),{replace:t,state:n,relative:r})},[c,d,r,t,n]),null}function ls(e){on(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UA({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){on(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=q.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=gl(n));let{pathname:h="/",search:d="",hash:p="",state:g=null,key:v="default"}=n,x=q.useMemo(()=>{let b=_i(h,o);return b==null?null:{location:{pathname:b,search:d,hash:p,state:g,key:v},navigationType:r}},[o,h,d,p,g,v,r]);return us(x!=null,`<Router basename="${o}"> is not able to match the URL "${h}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:q.createElement(Os.Provider,{value:c},q.createElement(xu.Provider,{children:t,value:x}))}function Z2({children:e,location:t}){return kA(Qm(e),t)}function Qm(e,t=[]){let n=[];return q.Children.forEach(e,(r,s)=>{if(!q.isValidElement(r))return;let i=[...t,s];if(r.type===q.Fragment){n.push.apply(n,Qm(r.props.children,i));return}on(r.type===ls,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),on(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Qm(r.props.children,i)),n.push(o)}),n}var _d="get",Sd="application/x-www-form-urlencoded";function xh(e){return e!=null&&typeof e.tagName=="string"}function $A(e){return xh(e)&&e.tagName.toLowerCase()==="button"}function HA(e){return xh(e)&&e.tagName.toLowerCase()==="form"}function VA(e){return xh(e)&&e.tagName.toLowerCase()==="input"}function GA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qA(e,t){return e.button===0&&(!t||t==="_self")&&!GA(e)}function eg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function WA(e,t){let n=eg(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}var qf=null;function KA(){if(qf===null)try{new FormData(document.createElement("form"),0),qf=!1}catch{qf=!0}return qf}var XA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nm(e){return e!=null&&!XA.has(e)?(us(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sd}"`),null):e}function YA(e,t){let n,r,s,i,o;if(HA(e)){let c=e.getAttribute("action");r=c?_i(c,t):null,n=e.getAttribute("method")||_d,s=nm(e.getAttribute("enctype"))||Sd,i=new FormData(e)}else if($A(e)||VA(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(r=h?_i(h,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||_d,s=nm(e.getAttribute("formenctype"))||nm(c.getAttribute("enctype"))||Sd,i=new FormData(c,e),!KA()){let{name:d,type:p,value:g}=e;if(p==="image"){let v=d?`${d}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else d&&i.append(d,g)}}else{if(xh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_d,r=null,s=Sd,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sx(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function JA(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&_i(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function ZA(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QA(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function e3(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await ZA(i,n);return o.links?o.links():[]}return[]}));return s3(r.flat(1).filter(QA).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function hb(e,t,n,r,s,i){let o=(h,d)=>n[d]?h.route.id!==n[d].route.id:!0,c=(h,d)=>n[d].pathname!==h.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==h.params["*"];return i==="assets"?t.filter((h,d)=>o(h,d)||c(h,d)):i==="data"?t.filter((h,d)=>{let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(o(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function t3(e,t,{includeHydrateFallback:n}={}){return n3(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function n3(e){return[...new Set(e)]}function r3(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function s3(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(r3(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function Q2(){let e=q.useContext(xl);return sx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function i3(){let e=q.useContext(mh);return sx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ix=q.createContext(void 0);ix.displayName="FrameworkContext";function eS(){let e=q.useContext(ix);return sx(e,"You must render this element inside a <HydratedRouter> element"),e}function a3(e,t){let n=q.useContext(ix),[r,s]=q.useState(!1),[i,o]=q.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:g}=t,v=q.useRef(null);q.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=E=>{E.forEach(T=>{o(T.isIntersecting)})},_=new IntersectionObserver(y,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[e]),q.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let x=()=>{s(!0)},b=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,v,{}]:[i,v,{onFocus:_c(c,x),onBlur:_c(h,b),onMouseEnter:_c(d,x),onMouseLeave:_c(p,b),onTouchStart:_c(g,x)}]:[!1,v,{}]}function _c(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function o3({page:e,...t}){let{router:n}=Q2(),r=q.useMemo(()=>$2(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?q.createElement(c3,{page:e,matches:r,...t}):null}function l3(e){let{manifest:t,routeModules:n}=eS(),[r,s]=q.useState([]);return q.useEffect(()=>{let i=!1;return e3(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),r}function c3({page:e,matches:t,...n}){let r=Gs(),{manifest:s,routeModules:i}=eS(),{basename:o}=Q2(),{loaderData:c,matches:h}=i3(),d=q.useMemo(()=>hb(e,t,h,s,r,"data"),[e,t,h,s,r]),p=q.useMemo(()=>hb(e,t,h,s,r,"assets"),[e,t,h,s,r]),g=q.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,y=!1;if(t.forEach(E=>{let T=s.routes[E.route.id];!T||!T.hasLoader||(!d.some(C=>C.route.id===E.route.id)&&E.route.id in c&&i[E.route.id]?.shouldRevalidate||T.hasClientLoader?y=!0:b.add(E.route.id))}),b.size===0)return[];let _=JA(e,o,"data");return y&&b.size>0&&_.searchParams.set("_routes",t.filter(E=>b.has(E.route.id)).map(E=>E.route.id).join(",")),[_.pathname+_.search]},[o,c,r,s,d,t,e,i]),v=q.useMemo(()=>t3(p,s),[p,s]),x=l3(p);return q.createElement(q.Fragment,null,g.map(b=>q.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),v.map(b=>q.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),x.map(({key:b,link:y})=>q.createElement("link",{key:b,nonce:n.nonce,...y})))}function u3(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var tS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tS&&(window.__reactRouterVersion="7.9.5")}catch{}function f3({basename:e,children:t,window:n}){let r=q.useRef();r.current==null&&(r.current=Qk({window:n,v5Compat:!0}));let s=r.current,[i,o]=q.useState({action:s.action,location:s.location}),c=q.useCallback(h=>{q.startTransition(()=>o(h))},[o]);return q.useLayoutEffect(()=>s.listen(c),[s,c]),q.createElement(UA,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var nS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qo=q.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:c,target:h,to:d,preventScrollReset:p,viewTransition:g,...v},x){let{basename:b}=q.useContext(Os),y=typeof d=="string"&&nS.test(d),_,E=!1;if(typeof d=="string"&&y&&(_=d,tS))try{let D=new URL(window.location.href),Y=d.startsWith("//")?new URL(D.protocol+d):new URL(d),Z=_i(Y.pathname,b);Y.origin===D.origin&&Z!=null?d=Z+Y.search+Y.hash:E=!0}catch{us(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=CA(d,{relative:s}),[C,N,R]=a3(r,v),P=p3(d,{replace:o,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:g});function j(D){t&&t(D),D.defaultPrevented||P(D)}let O=q.createElement("a",{...v,...R,href:_||T,onClick:E||i?t:j,ref:u3(x,N),target:h,"data-discover":!y&&n==="render"?"true":void 0});return C&&!y?q.createElement(q.Fragment,null,O,q.createElement(o3,{page:T})):O});Qo.displayName="Link";var rS=q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:c,children:h,...d},p){let g=vu(o,{relative:d.relative}),v=Gs(),x=q.useContext(mh),{navigator:b,basename:y}=q.useContext(Os),_=x!=null&&w3(g)&&c===!0,E=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,T=v.pathname,C=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(T=T.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&y&&(C=_i(C,y)||C);const N=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let R=T===E||!s&&T.startsWith(E)&&T.charAt(N)==="/",P=C!=null&&(C===E||!s&&C.startsWith(E)&&C.charAt(E.length)==="/"),j={isActive:R,isPending:P,isTransitioning:_},O=R?t:void 0,D;typeof r=="function"?D=r(j):D=[r,R?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let Y=typeof i=="function"?i(j):i;return q.createElement(Qo,{...d,"aria-current":O,className:D,ref:p,style:Y,to:o,viewTransition:c},typeof h=="function"?h(j):h)});rS.displayName="NavLink";var d3=q.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:o=_d,action:c,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:g,...v},x)=>{let b=v3(),y=y3(c,{relative:d}),_=o.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&nS.test(c),T=C=>{if(h&&h(C),C.defaultPrevented)return;C.preventDefault();let N=C.nativeEvent.submitter,R=N?.getAttribute("formmethod")||o;b(N||C.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:s,state:i,relative:d,preventScrollReset:p,viewTransition:g})};return q.createElement("form",{ref:x,method:_,action:y,onSubmit:r?h:T,...v,"data-discover":!E&&e==="render"?"true":void 0})});d3.displayName="Form";function h3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sS(e){let t=q.useContext(xl);return on(t,h3(e)),t}function p3(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let c=gh(),h=Gs(),d=vu(e,{relative:i});return q.useCallback(p=>{if(qA(p,t)){p.preventDefault();let g=n!==void 0?n:Xc(h)===Xc(d);c(e,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[h,c,d,n,r,t,e,s,i,o])}function m3(e){us(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=q.useRef(eg(e)),n=q.useRef(!1),r=Gs(),s=q.useMemo(()=>WA(r.search,n.current?null:t.current),[r.search]),i=gh(),o=q.useCallback((c,h)=>{const d=eg(typeof c=="function"?c(new URLSearchParams(s)):c);n.current=!0,i("?"+d,h)},[i,s]);return[s,o]}var g3=0,x3=()=>`__${String(++g3)}__`;function v3(){let{router:e}=sS("useSubmit"),{basename:t}=q.useContext(Os),n=FA();return q.useCallback(async(r,s={})=>{let{action:i,method:o,encType:c,formData:h,body:d}=YA(r,t);if(s.navigate===!1){let p=s.fetcherKey||x3();await e.fetch(p,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||o,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||o,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function y3(e,{relative:t}={}){let{basename:n}=q.useContext(Os),r=q.useContext(Vs);on(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...vu(e||".",{relative:t})},o=Gs();if(e==null){i.search=o.search;let c=new URLSearchParams(i.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();i.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:vi([n,i.pathname])),Xc(i)}function w3(e,{relative:t}={}){let n=q.useContext(q2);on(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sS("useViewTransitionState"),s=vu(e,{relative:t});if(!n.isTransitioning)return!1;let i=_i(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=_i(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Od(s.pathname,o)!=null||Od(s.pathname,i)!=null}var jc=U2();const rm="keyset-storage-version",Wf="2025-11-11",iS="keyset-store",b3=[iS,"columnOrder","columnPinning","viewTemplates","phraseColors","groupColors","pinnedPhraseIds","markedPhraseIds","pinnedGroupIds"],sm=e=>{try{const t=[];for(const n of b3)localStorage.getItem(n)!==null&&(localStorage.removeItem(n),t.push(n));console.warn("[KeySet][startup] Cleared persisted UI state:",{reason:e,removed:t})}catch(t){console.error("[KeySet][startup] Failed to clear corrupted storage",t)}},_3=e=>{try{return JSON.parse(e),!0}catch{return!1}};(()=>{if(!(typeof window>"u"||!window.localStorage))try{const e=localStorage.getItem(rm);if(e&&e!==Wf){sm(`version-mismatch ${e} -> ${Wf}`),localStorage.setItem(rm,Wf);return}const t=localStorage.getItem(iS);if(!t)return;if(!_3(t)){sm("invalid-json"),localStorage.setItem(rm,Wf);return}}catch(e){console.error("[KeySet][startup] Storage guard failed",e),sm("guard-error")}})();const S3="modulepreload",E3=function(e){return"/"+e},pb={},yu=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let d=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var o=d;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");s=d(n.map(p=>{if(p=E3(p),p in pb)return;pb[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":S3,g||(x.as="script"),x.crossOrigin="",x.href=p,h&&x.setAttribute("nonce",h),document.head.appendChild(x),g)return new Promise((b,y)=>{x.addEventListener("load",b),x.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&i(h.reason);return t().catch(i)})},T3=[{to:"/accounts",label:""},{to:"/masks",label:""},{to:"/data",label:""},{to:"/analytics",label:""}];function C3({children:e}){const t=()=>{window.pywebview?.api&&window.pywebview.api.minimize().catch(console.error)},n=()=>{window.pywebview?.api&&window.pywebview.api.maximize().catch(console.error)},r=()=>{window.pywebview?.api&&window.pywebview.api.close().catch(console.error)};return u.jsxs("div",{className:"app-shell",children:[u.jsxs("header",{className:"app-shell__header",children:[u.jsx("nav",{className:"app-shell__tabs",children:T3.map(s=>u.jsx(rS,{to:s.to,className:({isActive:i})=>["app-shell__tab",i?"app-shell__tab--active":""].join(" ").trim(),children:s.label},s.to))}),u.jsxs("div",{className:"app-shell__window-controls","aria-hidden":!0,children:[u.jsx("button",{type:"button",className:"window-btn window-btn--flat","aria-label":"",onClick:t,children:u.jsx("i",{className:"fas fa-minus"})}),u.jsx("button",{type:"button",className:"window-btn window-btn--flat","aria-label":"",onClick:n,children:u.jsx("i",{className:"fas fa-up-right-and-down-left-from-center"})}),u.jsx("button",{type:"button",className:"window-btn window-btn--flat window-btn--danger","aria-label":"",onClick:r,children:u.jsx("i",{className:"fas fa-xmark"})})]})]}),u.jsx("main",{className:"app-shell__content",children:u.jsx("div",{className:"app-shell__inner",children:e})})]})}const N3=q.lazy(()=>yu(()=>Promise.resolve().then(()=>Q3),[])),k3=q.lazy(()=>yu(()=>Promise.resolve().then(()=>w8),void 0)),A3=q.lazy(()=>yu(()=>Promise.resolve().then(()=>OV),void 0)),j3=q.lazy(()=>yu(()=>Promise.resolve().then(()=>fW),void 0)),Kf=()=>u.jsx("div",{className:"app-route-fallback",children:u.jsx("span",{children:""})});function R3(){return u.jsx(C3,{children:u.jsxs(Z2,{children:[u.jsx(ls,{path:"/",element:u.jsx(J2,{to:"/accounts",replace:!0})}),u.jsx(ls,{path:"/accounts",element:u.jsx(q.Suspense,{fallback:u.jsx(Kf,{}),children:u.jsx(N3,{})})}),u.jsx(ls,{path:"/masks",element:u.jsx(q.Suspense,{fallback:u.jsx(Kf,{}),children:u.jsx(k3,{})})}),u.jsx(ls,{path:"/data/*",element:u.jsx(q.Suspense,{fallback:u.jsx(Kf,{}),children:u.jsx(A3,{})})}),u.jsx(ls,{path:"/analytics/*",element:u.jsx(q.Suspense,{fallback:u.jsx(Kf,{}),children:u.jsx(j3,{})})})]})})}Zk.createRoot(document.getElementById("root")).render(u.jsx(q.StrictMode,{children:u.jsx(f3,{children:u.jsx(R3,{})})}));const O3={active:{label:" ",badgeClass:"status-active"},needs_login:{label:"  ",badgeClass:"status-needs_login"},error:{label:" ",badgeClass:"status-error"},working:{label:"  ",badgeClass:"status-working"}},M3={russia_standard:{label:" Russia Standard",badgeClass:"fp-russia"},kazakhstan_standard:{label:" Kazakhstan Standard",badgeClass:"fp-kz"},no_spoofing:{label:"  ",badgeClass:"fp-default"}};function D3(e){return O3[e]}function I3(e){return M3[e]}function L3(e,t){const{search:n,status:r,onlyWithProxy:s}=t,i=n.trim().toLowerCase();return e.filter(o=>!(r&&o.status!==r||s&&!o.proxy||i&&![o.email,o.proxy,o.authStatus,o.fingerprint].filter(Boolean).map(h=>h.toLowerCase()).some(h=>h.includes(i))))}function F3(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function P3(e,t){if(!t.trim())return[e];const n=F3(t.trim()),r=new RegExp(`(${n})`,"gi");return e.split(r).filter(Boolean)}function z3({onAction:e}){return u.jsxs("div",{className:"top-bar",children:[u.jsxs("div",{className:"top-bar-left",children:[u.jsxs("h1",{children:[u.jsx("i",{className:"fas fa-key"})," "]}),u.jsxs("div",{className:"new-functions",children:[u.jsxs("button",{className:"btn btn-warning btn-small",type:"button",onClick:()=>e("launch-browser"),children:[u.jsx("i",{className:"fas fa-rocket"}),"  "]}),u.jsxs("button",{className:"btn btn-info btn-small",type:"button",onClick:()=>e("consistency-check"),children:[u.jsx("i",{className:"fas fa-search"}),"  "]})]})]}),u.jsxs("div",{className:"top-bar-right",children:[u.jsxs("button",{className:"btn btn-primary",type:"button",onClick:()=>e("add"),children:[u.jsx("i",{className:"fas fa-plus"})," "]}),u.jsxs("button",{className:"btn btn-secondary",type:"button",onClick:()=>e("edit"),children:[u.jsx("i",{className:"fas fa-edit"})," "]}),u.jsxs("button",{className:"btn btn-secondary",type:"button",onClick:()=>e("delete"),children:[u.jsx("i",{className:"fas fa-trash"})," "]}),u.jsxs("button",{className:"btn btn-info",type:"button",onClick:()=>e("refresh"),children:[u.jsx("i",{className:"fas fa-sync-alt"})," "]}),u.jsxs("button",{className:"btn btn-success",type:"button",onClick:()=>e("launch"),children:[u.jsx("i",{className:"fas fa-play"})," "]}),u.jsxs("button",{className:"btn btn-warning",type:"button",onClick:()=>e("proxy-manager"),children:[u.jsx("i",{className:"fas fa-cogs"}),"  "]})]})]})}function B3({search:e,status:t,onSearchChange:n,onStatusChange:r}){return u.jsxs("div",{className:"search-filter-bar",children:[u.jsxs("label",{className:"search-box",children:[u.jsx("i",{className:"fas fa-search","aria-hidden":!0}),u.jsx("input",{type:"text",placeholder:"  email...",value:e,onChange:s=>n(s.target.value)})]}),u.jsx("div",{className:"filter-box",children:u.jsxs("select",{value:t,onChange:s=>r(s.target.value),children:[u.jsx("option",{value:"",children:" "}),u.jsx("option",{value:"active",children:" "}),u.jsx("option",{value:"needs_login",children:"  "}),u.jsx("option",{value:"error",children:" "}),u.jsx("option",{value:"working",children:"  "})]})})]})}function U3({onStatusSelect:e,onProxyOnly:t,onReset:n}){return u.jsxs("div",{className:"quick-filters",children:[u.jsx("button",{className:"btn btn-small btn-secondary",type:"button",onClick:()=>e("active"),children:" "}),u.jsx("button",{className:"btn btn-small btn-secondary",type:"button",onClick:()=>e("needs_login"),children:" "}),u.jsx("button",{className:"btn btn-small btn-secondary",type:"button",onClick:()=>e("error"),children:" "}),u.jsx("button",{className:"btn btn-small btn-secondary",type:"button",onClick:t,children:" "}),u.jsx("button",{className:"btn btn-small btn-secondary",type:"button",onClick:n,children:""})]})}function mb({text:e,term:t}){const n=P3(e,t);return n.length===1?e:n.map((r,s)=>t.trim().length>0&&r.toLowerCase()===t.trim().toLowerCase()?u.jsx("mark",{className:"search-highlight",children:r},`${r}-${s}`):u.jsx("span",{children:r},`${r}-${s}`))}function $3({accounts:e,searchTerm:t,selectedIds:n,isAllSelected:r,onToggleAll:s,onToggleRow:i,onSelectAccount:o,onLaunch:c,onOpenSettings:h}){return u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"accounts-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{style:{width:"50px"},children:u.jsx("input",{type:"checkbox",checked:r,onChange:d=>s(d.target.checked)})}),u.jsx("th",{children:""}),u.jsx("th",{children:""}),u.jsx("th",{children:""}),u.jsx("th",{children:""}),u.jsx("th",{children:" "}),u.jsx("th",{children:""})]})}),u.jsx("tbody",{id:"accountsTableBody",children:e.map(d=>{const p=D3(d.status),g=I3(d.fingerprint),v=n.has(d.id),x=!!d.proxy;return u.jsxs("tr",{className:"table-row-clickable",onClick:b=>{b.target instanceof HTMLInputElement||o(d)},children:[u.jsx("td",{children:u.jsx("input",{type:"checkbox",className:"account-checkbox",checked:v,onChange:b=>{i(d.id),b.stopPropagation()}})}),u.jsx("td",{className:"account-email",children:u.jsx(mb,{text:d.email,term:t})}),u.jsx("td",{children:u.jsx("span",{className:`status-badge ${p.badgeClass}`,children:p.label})}),u.jsx("td",{className:x?"proxy-info":"proxy-none",children:u.jsx(mb,{text:x?d.proxy:"",term:t})}),u.jsx("td",{children:u.jsx("span",{className:`fingerprint-badge ${g.badgeClass}`,children:g.label})}),u.jsx("td",{className:"last-run",children:d.lastLaunch}),u.jsxs("td",{className:"action-buttons-cell",children:[u.jsx("button",{className:"action-btn action-btn-play",type:"button",onClick:b=>{b.stopPropagation(),c(d)},"aria-label":" ",children:u.jsx("i",{className:"fas fa-play"})}),u.jsx("button",{className:"action-btn action-btn-settings",type:"button",onClick:b=>{b.stopPropagation(),h(d)},"aria-label":" ",children:u.jsx("i",{className:"fas fa-cog"})})]})]},d.id)})})]})})}function H3({filtered:e,total:t}){return u.jsx("div",{className:"table-summary",children:u.jsxs("div",{children:[" ",u.jsx("strong",{children:e}),"  ",t]})})}const V3=[{id:"basic",label:"",icon:"fas fa-info-circle"},{id:"network",label:"",icon:"fas fa-globe"},{id:"fingerprint",label:"Fingerprint",icon:"fas fa-mask"},{id:"captcha",label:"",icon:"fas fa-shield-alt"},{id:"proxy",label:" ",icon:"fas fa-cogs"}];function G3({account:e,onClose:t}){const[n,r]=q.useState("basic");return u.jsxs("div",{className:"sidebar",id:"settingsSidebar",children:[u.jsx("div",{className:"sidebar-header",children:u.jsx("h3",{children:" "})}),e&&u.jsx("div",{className:"account-info",children:u.jsxs("div",{className:"account-email",children:[u.jsx("i",{className:"fas fa-user-circle"}),u.jsx("span",{children:e.email})]})}),u.jsxs("div",{className:"tabs-container",children:[u.jsx("div",{className:"tabs-nav",children:V3.map(s=>u.jsxs("button",{type:"button",className:`tab-btn ${n===s.id?"active":""}`,onClick:()=>r(s.id),children:[u.jsx("i",{className:s.icon}),u.jsx("span",{children:s.label})]},s.id))}),u.jsx("div",{className:"tabs-content",children:q3(n,e)})]})]})}function q3(e,t){if(!t)return u.jsx("div",{className:"empty-state",children:u.jsx("p",{children:"   ,   ."})});switch(e){case"basic":return u.jsxs("div",{className:"tab-content active",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email"}),u.jsx("input",{type:"email",value:t.email,readOnly:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:""}),u.jsxs("div",{className:"password-field",children:[u.jsx("input",{type:"password",value:t.password,readOnly:!0}),u.jsx("button",{type:"button",className:"password-toggle",children:u.jsx("i",{className:"fas fa-eye"})})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" "}),u.jsx("input",{type:"text",value:t.secretAnswer,readOnly:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" Chrome"}),u.jsx("input",{type:"text",value:t.profilePath,readOnly:!0})]}),u.jsxs("div",{className:"info-section",children:[u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"info-label",children:" :"}),u.jsx("span",{className:"info-value",children:t.authStatus})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"info-label",children:" :"}),u.jsx("span",{className:"info-value",children:t.lastLogin})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"info-label",children:" :"}),u.jsx("span",{className:"info-value",children:t.profileSize})]})]})]});case"network":return u.jsxs("div",{className:"tab-content active",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" "}),u.jsx("input",{type:"text",defaultValue:t.proxy,placeholder:"192.168.1.101:8080"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" ()"}),u.jsx("input",{type:"text",defaultValue:t.proxyUsername,placeholder:"user3"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" ()"}),u.jsx("input",{type:"password",defaultValue:t.proxyPassword,placeholder:""})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" "}),u.jsxs("select",{defaultValue:t.proxyType,children:[u.jsx("option",{value:"http",children:"HTTP"}),u.jsx("option",{value:"https",children:"HTTPS"}),u.jsx("option",{value:"socks5",children:"SOCKS5"})]})]}),u.jsx("div",{className:"proxy-test-section",children:u.jsxs("button",{className:"btn btn-info",type:"button",style:{marginTop:"15px"},children:[u.jsx("i",{className:"fas fa-flask"}),"  "]})}),u.jsxs("div",{className:"proxy-status-info",style:{display:"none"},children:[u.jsxs("div",{className:"proxy-status-item",children:[u.jsx("span",{className:"status-label",children:":"}),u.jsx("span",{className:"status-value",children:"  "})]}),u.jsxs("div",{className:"proxy-status-item",children:[u.jsx("span",{className:"status-label",children:":"}),u.jsx("span",{className:"status-value",children:"--"})]}),u.jsxs("div",{className:"proxy-status-item",children:[u.jsx("span",{className:"status-label",children:"IP:"}),u.jsx("span",{className:"status-value",children:"--"})]})]})]});case"fingerprint":return u.jsxs("div",{className:"tab-content active",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:""}),u.jsxs("select",{defaultValue:"russia_standard",children:[u.jsx("option",{value:"russia_standard",children:"  ()"}),u.jsx("option",{value:"kazakhstan_standard",children:"  ()"}),u.jsx("option",{value:"no_spoofing",children:"  "})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"User-Agent"}),u.jsx("input",{type:"text",placeholder:""})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" "}),u.jsxs("select",{defaultValue:"Europe/Moscow",children:[u.jsx("option",{value:"Europe/Moscow",children:"Europe/Moscow"}),u.jsx("option",{value:"Asia/Almaty",children:"Asia/Almaty"}),u.jsx("option",{value:"UTC",children:"UTC"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:""}),u.jsxs("select",{defaultValue:"ru-RU",children:[u.jsx("option",{value:"ru-RU",children:""}),u.jsx("option",{value:"kk-KZ",children:""}),u.jsx("option",{value:"en-US",children:"English"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" "}),u.jsxs("select",{defaultValue:"1920x1080",children:[u.jsx("option",{value:"1920x1080",children:"1920x1080"}),u.jsx("option",{value:"1366x768",children:"1366x768"}),u.jsx("option",{value:"1536x864",children:"1536x864"}),u.jsx("option",{value:"2560x1440",children:"2560x1440"})]})]}),u.jsxs("div",{className:"advanced-options",children:[u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox"}),u.jsx("span",{className:"checkmark"}),"Canvas "]}),u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox"}),u.jsx("span",{className:"checkmark"}),"WebGL "]}),u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox"}),u.jsx("span",{className:"checkmark"}),"AudioContext "]})]}),u.jsxs("div",{className:"action-buttons",children:[u.jsxs("button",{className:"btn btn-info btn-small",type:"button",children:[u.jsx("i",{className:"fas fa-sync-alt"})," "]}),u.jsxs("button",{className:"btn btn-success btn-small",type:"button",children:[u.jsx("i",{className:"fas fa-chart-bar"})," "]})]})]});case"captcha":return u.jsxs("div",{className:"tab-content active",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:""}),u.jsxs("select",{defaultValue:"none",children:[u.jsx("option",{value:"none",children:""}),u.jsx("option",{value:"rucaptcha",children:"RuCaptcha"}),u.jsx("option",{value:"2captcha",children:"2Captcha"}),u.jsx("option",{value:"anticaptcha",children:"AntiCaptcha"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"API "}),u.jsxs("div",{className:"password-field",children:[u.jsx("input",{type:"password",placeholder:"API "}),u.jsx("button",{type:"button",className:"password-toggle",children:u.jsx("i",{className:"fas fa-eye"})})]})]}),u.jsxs("div",{className:"captcha-info",children:[u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"info-label",children:":"}),u.jsx("span",{className:"info-value",children:"$0.00"})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"info-label",children:":"}),u.jsx("span",{className:"info-value",children:" "})]})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox"}),u.jsx("span",{className:"checkmark"}),"  "]})}),u.jsx("div",{className:"action-buttons",children:u.jsxs("button",{className:"btn btn-info btn-small",type:"button",children:[u.jsx("i",{className:"fas fa-flask"}),"  "]})})]});case"proxy":return u.jsx("div",{className:"tab-content active",children:u.jsxs("div",{className:"proxy-manager-container",children:[u.jsxs("div",{className:"proxy-section",children:[u.jsxs("h4",{children:[u.jsx("i",{className:"fas fa-download"}),"  "]}),u.jsxs("div",{className:"proxy-sources",children:[u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",defaultChecked:!0}),u.jsx("span",{className:"checkmark"}),"fineproxy.org"]}),u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox"}),u.jsx("span",{className:"checkmark"}),"proxyelite.info"]}),u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox"}),u.jsx("span",{className:"checkmark"}),"htmlweb.ru"]}),u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox"}),u.jsx("span",{className:"checkmark"}),"advanced.name"]}),u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox"}),u.jsx("span",{className:"checkmark"}),"proxy.market"]})]}),u.jsxs("div",{className:"proxy-parse-options",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:""}),u.jsxs("select",{defaultValue:"http",children:[u.jsx("option",{value:"http",children:"HTTP"}),u.jsx("option",{value:"socks5",children:"SOCKS5"}),u.jsx("option",{value:"any",children:""})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:""}),u.jsxs("select",{defaultValue:"ru",children:[u.jsx("option",{value:"ru",children:""}),u.jsx("option",{value:"kz",children:""}),u.jsx("option",{value:"any",children:""})]})]})]}),u.jsxs("button",{className:"btn btn-primary",type:"button",children:[u.jsx("i",{className:"fas fa-play"}),"  "]})]}),u.jsxs("div",{className:"proxy-section",children:[u.jsxs("h4",{children:[u.jsx("i",{className:"fas fa-vial"}),"  "]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" ()"}),u.jsx("input",{type:"number",defaultValue:10,min:1,max:60})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",defaultChecked:!0}),u.jsx("span",{className:"checkmark"})," "]})}),u.jsxs("button",{className:"btn btn-warning",type:"button",children:[u.jsx("i",{className:"fas fa-flask"}),"  "]})]}),u.jsxs("div",{className:"proxy-section",children:[u.jsxs("h4",{children:[u.jsx("i",{className:"fas fa-sync-alt"}),"  "]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox"}),u.jsx("span",{className:"checkmark"})," "]})}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" ()"}),u.jsx("input",{type:"number",defaultValue:30,min:1,max:1440})]}),u.jsxs("button",{className:"btn btn-success",type:"button",children:[u.jsx("i",{className:"fas fa-list"}),"  "]})]})]})});default:return u.jsx("div",{className:"tab-content active",children:u.jsx("p",{style:{color:"#6b7280"},children:"  ."})})}}const im="".trim(),W3=im.endsWith("/")?im.slice(0,-1):im,K3=typeof window<"u"&&window.location?.origin?window.location.origin:"",gb=W3||K3||"";function X3(e){return e.startsWith("/")?e:`/${e}`}function wu(e){const t=X3(e);return gb?`${gb}${t}`:t}const Y3=wu("/api/accounts");async function J3(){const e=await fetch(Y3,{headers:{"Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error(t||`Accounts API error (${e.status})`)}return await e.json()}function Z3(){const[e,t]=q.useState([]),[n,r]=q.useState(!0),[s,i]=q.useState(null),[o,c]=q.useState({search:"",status:"",onlyWithProxy:!1}),[h,d]=q.useState(new Set),[p,g]=q.useState(null),v=q.useCallback(async()=>{r(!0),i(null);try{const P=await J3();t(P)}catch(P){t([]),i(P.message||"   .  backend.")}finally{r(!1)}},[]);q.useEffect(()=>{v()},[v]),q.useEffect(()=>{d(P=>{if(P.size===0)return P;const j=new Set;return e.forEach(O=>{P.has(O.id)&&j.add(O.id)}),j.size===P.size?P:j})},[e]),q.useEffect(()=>{g(P=>P&&e.some(j=>j.id===P.id)?P:e[0]??null)},[e]);const x=q.useMemo(()=>L3(e,o),[e,o]),b=x.length>0&&x.every(P=>h.has(P.id)),y=P=>{const j=new Set(h);P?x.forEach(O=>j.add(O.id)):x.forEach(O=>j.delete(O.id)),d(j)},_=P=>{const j=new Set(h);j.has(P)?j.delete(P):j.add(P),d(j)},E=P=>{g(P)},T=P=>{switch(console.log(`[accounts] action -> ${P}`),P){case"add":alert(" ' '  ");break;case"edit":h.size===0?alert("   "):h.size>1?alert("     "):alert(" ''  ");break;case"delete":h.size===0?alert("   "):window.confirm(`   (${h.size})?    .`)&&(alert(` ${h.size} `),d(new Set));break;case"refresh":v();break;case"launch":h.size===0?alert("   "):alert(` ${h.size} ...`);break;case"proxy-manager":alert("  ...");break;case"launch-browser":alert(" ...");break;case"consistency-check":alert("  ...");break;default:console.warn(`Unknown action: ${P}`)}},C=P=>{c(j=>({...j,status:P,onlyWithProxy:!1}))},N=()=>{c(P=>({...P,onlyWithProxy:!0}))},R=()=>{c({search:"",status:"",onlyWithProxy:!1}),d(new Set)};return u.jsxs("div",{className:"app-container",children:[u.jsx(z3,{onAction:T}),u.jsxs("div",{className:"main-content",children:[u.jsxs("div",{className:"table-section",children:[u.jsx(B3,{search:o.search,status:o.status,onSearchChange:P=>c(j=>({...j,search:P})),onStatusChange:P=>c(j=>({...j,status:P}))}),u.jsx(U3,{onStatusSelect:C,onProxyOnly:N,onReset:R}),n?u.jsx("div",{style:{padding:"24px",border:"1px dashed #d1d5db",borderRadius:"12px",textAlign:"center",color:"#4b5563",marginTop:"16px"},children:" "}):s?u.jsxs("div",{style:{padding:"20px",border:"1px solid #fecaca",borderRadius:"12px",background:"#fef2f2",color:"#b91c1c",marginTop:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px"},children:[u.jsx("span",{children:s}),u.jsx("button",{type:"button",className:"action-btn",onClick:v,style:{minWidth:"140px"},children:""})]}):u.jsxs(u.Fragment,{children:[u.jsx($3,{accounts:x,searchTerm:o.search,selectedIds:h,isAllSelected:b,onToggleAll:y,onToggleRow:_,onSelectAccount:E,onLaunch:P=>T(`launch-${P.id}`),onOpenSettings:E}),u.jsx(H3,{filtered:x.length,total:e.length})]})]}),u.jsx(G3,{account:p,onClose:()=>{}})]})]})}const Q3=Object.freeze(Object.defineProperty({__proto__:null,default:Z3},Symbol.toStringTag,{value:"Module"})),ej=e=>e instanceof Error?e.message+`
`+e.stack:JSON.stringify(e,null,2);let tj=class extends ke.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?u.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[u.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),u.jsx("pre",{className:"mt-2 text-sm",children:ej(this.state.error)})]}):this.props.children}};var nj={value:()=>{}};function ax(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ed(n)}function Ed(e){this._=e}function rj(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ed.prototype=ax.prototype={constructor:Ed,on:function(e,t){var n=this._,r=rj(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=sj(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=xb(n[s],e.name,t);else if(t==null)for(s in n)n[s]=xb(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ed(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function sj(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function xb(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=nj,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var tg="http://www.w3.org/1999/xhtml";const vb={svg:"http://www.w3.org/2000/svg",xhtml:tg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vh(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),vb.hasOwnProperty(t)?{space:vb[t],local:e}:e}function ij(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===tg&&t.documentElement.namespaceURI===tg?t.createElement(e):t.createElementNS(n,e)}}function aj(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function aS(e){var t=vh(e);return(t.local?aj:ij)(t)}function oj(){}function ox(e){return e==null?oj:function(){return this.querySelector(e)}}function lj(e){typeof e!="function"&&(e=ox(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,c=r[s]=new Array(o),h,d,p=0;p<o;++p)(h=i[p])&&(d=e.call(h,h.__data__,p,i))&&("__data__"in h&&(d.__data__=h.__data__),c[p]=d);return new Gr(r,this._parents)}function cj(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function uj(){return[]}function oS(e){return e==null?uj:function(){return this.querySelectorAll(e)}}function fj(e){return function(){return cj(e.apply(this,arguments))}}function dj(e){typeof e=="function"?e=fj(e):e=oS(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],c=o.length,h,d=0;d<c;++d)(h=o[d])&&(r.push(e.call(h,h.__data__,d,o)),s.push(h));return new Gr(r,s)}function lS(e){return function(){return this.matches(e)}}function cS(e){return function(t){return t.matches(e)}}var hj=Array.prototype.find;function pj(e){return function(){return hj.call(this.children,e)}}function mj(){return this.firstElementChild}function gj(e){return this.select(e==null?mj:pj(typeof e=="function"?e:cS(e)))}var xj=Array.prototype.filter;function vj(){return Array.from(this.children)}function yj(e){return function(){return xj.call(this.children,e)}}function wj(e){return this.selectAll(e==null?vj:yj(typeof e=="function"?e:cS(e)))}function bj(e){typeof e!="function"&&(e=lS(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,c=r[s]=[],h,d=0;d<o;++d)(h=i[d])&&e.call(h,h.__data__,d,i)&&c.push(h);return new Gr(r,this._parents)}function uS(e){return new Array(e.length)}function _j(){return new Gr(this._enter||this._groups.map(uS),this._parents)}function Md(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Md.prototype={constructor:Md,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Sj(e){return function(){return e}}function Ej(e,t,n,r,s,i){for(var o=0,c,h=t.length,d=i.length;o<d;++o)(c=t[o])?(c.__data__=i[o],r[o]=c):n[o]=new Md(e,i[o]);for(;o<h;++o)(c=t[o])&&(s[o]=c)}function Tj(e,t,n,r,s,i,o){var c,h,d=new Map,p=t.length,g=i.length,v=new Array(p),x;for(c=0;c<p;++c)(h=t[c])&&(v[c]=x=o.call(h,h.__data__,c,t)+"",d.has(x)?s[c]=h:d.set(x,h));for(c=0;c<g;++c)x=o.call(e,i[c],c,i)+"",(h=d.get(x))?(r[c]=h,h.__data__=i[c],d.delete(x)):n[c]=new Md(e,i[c]);for(c=0;c<p;++c)(h=t[c])&&d.get(v[c])===h&&(s[c]=h)}function Cj(e){return e.__data__}function Nj(e,t){if(!arguments.length)return Array.from(this,Cj);var n=t?Tj:Ej,r=this._parents,s=this._groups;typeof e!="function"&&(e=Sj(e));for(var i=s.length,o=new Array(i),c=new Array(i),h=new Array(i),d=0;d<i;++d){var p=r[d],g=s[d],v=g.length,x=kj(e.call(p,p&&p.__data__,d,r)),b=x.length,y=c[d]=new Array(b),_=o[d]=new Array(b),E=h[d]=new Array(v);n(p,g,y,_,E,x,t);for(var T=0,C=0,N,R;T<b;++T)if(N=y[T]){for(T>=C&&(C=T+1);!(R=_[C])&&++C<b;);N._next=R||null}}return o=new Gr(o,r),o._enter=c,o._exit=h,o}function kj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Aj(){return new Gr(this._exit||this._groups.map(uS),this._parents)}function jj(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function Rj(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),c=new Array(s),h=0;h<o;++h)for(var d=n[h],p=r[h],g=d.length,v=c[h]=new Array(g),x,b=0;b<g;++b)(x=d[b]||p[b])&&(v[b]=x);for(;h<s;++h)c[h]=n[h];return new Gr(c,this._parents)}function Oj(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function Mj(e){e||(e=Dj);function t(g,v){return g&&v?e(g.__data__,v.__data__):!g-!v}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],c=o.length,h=s[i]=new Array(c),d,p=0;p<c;++p)(d=o[p])&&(h[p]=d);h.sort(t)}return new Gr(s,this._parents).order()}function Dj(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ij(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Lj(){return Array.from(this)}function Fj(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function Pj(){let e=0;for(const t of this)++e;return e}function zj(){return!this.node()}function Bj(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,c;i<o;++i)(c=s[i])&&e.call(c,c.__data__,i,s);return this}function Uj(e){return function(){this.removeAttribute(e)}}function $j(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Hj(e,t){return function(){this.setAttribute(e,t)}}function Vj(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Gj(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function qj(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Wj(e,t){var n=vh(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?$j:Uj:typeof t=="function"?n.local?qj:Gj:n.local?Vj:Hj)(n,t))}function fS(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Kj(e){return function(){this.style.removeProperty(e)}}function Xj(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Yj(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Jj(e,t,n){return arguments.length>1?this.each((t==null?Kj:typeof t=="function"?Yj:Xj)(e,t,n??"")):fl(this.node(),e)}function fl(e,t){return e.style.getPropertyValue(t)||fS(e).getComputedStyle(e,null).getPropertyValue(t)}function Zj(e){return function(){delete this[e]}}function Qj(e,t){return function(){this[e]=t}}function eR(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function tR(e,t){return arguments.length>1?this.each((t==null?Zj:typeof t=="function"?eR:Qj)(e,t)):this.node()[e]}function dS(e){return e.trim().split(/^|\s+/)}function lx(e){return e.classList||new hS(e)}function hS(e){this._node=e,this._names=dS(e.getAttribute("class")||"")}hS.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function pS(e,t){for(var n=lx(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function mS(e,t){for(var n=lx(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function nR(e){return function(){pS(this,e)}}function rR(e){return function(){mS(this,e)}}function sR(e,t){return function(){(t.apply(this,arguments)?pS:mS)(this,e)}}function iR(e,t){var n=dS(e+"");if(arguments.length<2){for(var r=lx(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?sR:t?nR:rR)(n,t))}function aR(){this.textContent=""}function oR(e){return function(){this.textContent=e}}function lR(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function cR(e){return arguments.length?this.each(e==null?aR:(typeof e=="function"?lR:oR)(e)):this.node().textContent}function uR(){this.innerHTML=""}function fR(e){return function(){this.innerHTML=e}}function dR(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function hR(e){return arguments.length?this.each(e==null?uR:(typeof e=="function"?dR:fR)(e)):this.node().innerHTML}function pR(){this.nextSibling&&this.parentNode.appendChild(this)}function mR(){return this.each(pR)}function gR(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xR(){return this.each(gR)}function vR(e){var t=typeof e=="function"?e:aS(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function yR(){return null}function wR(e,t){var n=typeof e=="function"?e:aS(e),r=t==null?yR:typeof t=="function"?t:ox(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function bR(){var e=this.parentNode;e&&e.removeChild(this)}function _R(){return this.each(bR)}function SR(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ER(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function TR(e){return this.select(e?ER:SR)}function CR(e){return arguments.length?this.property("__data__",e):this.node().__data__}function NR(e){return function(t){e.call(this,t,this.__data__)}}function kR(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function AR(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function jR(e,t,n){return function(){var r=this.__on,s,i=NR(t);if(r){for(var o=0,c=r.length;o<c;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function RR(e,t,n){var r=kR(e+""),s,i=r.length,o;if(arguments.length<2){var c=this.node().__on;if(c){for(var h=0,d=c.length,p;h<d;++h)for(s=0,p=c[h];s<i;++s)if((o=r[s]).type===p.type&&o.name===p.name)return p.value}return}for(c=t?jR:AR,s=0;s<i;++s)this.each(c(r[s],t,n));return this}function gS(e,t,n){var r=fS(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function OR(e,t){return function(){return gS(this,e,t)}}function MR(e,t){return function(){return gS(this,e,t.apply(this,arguments))}}function DR(e,t){return this.each((typeof t=="function"?MR:OR)(e,t))}function*IR(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var xS=[null];function Gr(e,t){this._groups=e,this._parents=t}function bu(){return new Gr([[document.documentElement]],xS)}function LR(){return this}Gr.prototype=bu.prototype={constructor:Gr,select:lj,selectAll:dj,selectChild:gj,selectChildren:wj,filter:bj,data:Nj,enter:_j,exit:Aj,join:jj,merge:Rj,selection:LR,order:Oj,sort:Mj,call:Ij,nodes:Lj,node:Fj,size:Pj,empty:zj,each:Bj,attr:Wj,style:Jj,property:tR,classed:iR,text:cR,html:hR,raise:mR,lower:xR,append:vR,insert:wR,remove:_R,clone:TR,datum:CR,on:RR,dispatch:DR,[Symbol.iterator]:IR};function mi(e){return typeof e=="string"?new Gr([[document.querySelector(e)]],[document.documentElement]):new Gr([[e]],xS)}function FR(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ma(e,t){if(e=FR(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const ng={capture:!0,passive:!1};function rg(e){e.preventDefault(),e.stopImmediatePropagation()}function PR(e){var t=e.document.documentElement,n=mi(e).on("dragstart.drag",rg,ng);"onselectstart"in t?n.on("selectstart.drag",rg,ng):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function zR(e,t){var n=e.document.documentElement,r=mi(e).on("dragstart.drag",null);t&&(r.on("click.drag",rg,ng),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function cx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function vS(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _u(){}var Yc=.7,Dd=1/Yc,nl="\\s*([+-]?\\d+)\\s*",Jc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Us="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BR=/^#([0-9a-f]{3,8})$/,UR=new RegExp(`^rgb\\(${nl},${nl},${nl}\\)$`),$R=new RegExp(`^rgb\\(${Us},${Us},${Us}\\)$`),HR=new RegExp(`^rgba\\(${nl},${nl},${nl},${Jc}\\)$`),VR=new RegExp(`^rgba\\(${Us},${Us},${Us},${Jc}\\)$`),GR=new RegExp(`^hsl\\(${Jc},${Us},${Us}\\)$`),qR=new RegExp(`^hsla\\(${Jc},${Us},${Us},${Jc}\\)$`),yb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cx(_u,Zc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wb,formatHex:wb,formatHex8:WR,formatHsl:KR,formatRgb:bb,toString:bb});function wb(){return this.rgb().formatHex()}function WR(){return this.rgb().formatHex8()}function KR(){return yS(this).formatHsl()}function bb(){return this.rgb().formatRgb()}function Zc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=BR.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?_b(t):n===3?new Er(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Xf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Xf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UR.exec(e))?new Er(t[1],t[2],t[3],1):(t=$R.exec(e))?new Er(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=HR.exec(e))?Xf(t[1],t[2],t[3],t[4]):(t=VR.exec(e))?Xf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=GR.exec(e))?Tb(t[1],t[2]/100,t[3]/100,1):(t=qR.exec(e))?Tb(t[1],t[2]/100,t[3]/100,t[4]):yb.hasOwnProperty(e)?_b(yb[e]):e==="transparent"?new Er(NaN,NaN,NaN,0):null}function _b(e){return new Er(e>>16&255,e>>8&255,e&255,1)}function Xf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Er(e,t,n,r)}function XR(e){return e instanceof _u||(e=Zc(e)),e?(e=e.rgb(),new Er(e.r,e.g,e.b,e.opacity)):new Er}function sg(e,t,n,r){return arguments.length===1?XR(e):new Er(e,t,n,r??1)}function Er(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}cx(Er,sg,vS(_u,{brighter(e){return e=e==null?Dd:Math.pow(Dd,e),new Er(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yc:Math.pow(Yc,e),new Er(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Er(Ka(this.r),Ka(this.g),Ka(this.b),Id(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sb,formatHex:Sb,formatHex8:YR,formatRgb:Eb,toString:Eb}));function Sb(){return`#${Va(this.r)}${Va(this.g)}${Va(this.b)}`}function YR(){return`#${Va(this.r)}${Va(this.g)}${Va(this.b)}${Va((isNaN(this.opacity)?1:this.opacity)*255)}`}function Eb(){const e=Id(this.opacity);return`${e===1?"rgb(":"rgba("}${Ka(this.r)}, ${Ka(this.g)}, ${Ka(this.b)}${e===1?")":`, ${e})`}`}function Id(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ka(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Va(e){return e=Ka(e),(e<16?"0":"")+e.toString(16)}function Tb(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Cs(e,t,n,r)}function yS(e){if(e instanceof Cs)return new Cs(e.h,e.s,e.l,e.opacity);if(e instanceof _u||(e=Zc(e)),!e)return new Cs;if(e instanceof Cs)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,c=i-s,h=(i+s)/2;return c?(t===i?o=(n-r)/c+(n<r)*6:n===i?o=(r-t)/c+2:o=(t-n)/c+4,c/=h<.5?i+s:2-i-s,o*=60):c=h>0&&h<1?0:o,new Cs(o,c,h,e.opacity)}function JR(e,t,n,r){return arguments.length===1?yS(e):new Cs(e,t,n,r??1)}function Cs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}cx(Cs,JR,vS(_u,{brighter(e){return e=e==null?Dd:Math.pow(Dd,e),new Cs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yc:Math.pow(Yc,e),new Cs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Er(am(e>=240?e-240:e+120,s,r),am(e,s,r),am(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Cs(Cb(this.h),Yf(this.s),Yf(this.l),Id(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Id(this.opacity);return`${e===1?"hsl(":"hsla("}${Cb(this.h)}, ${Yf(this.s)*100}%, ${Yf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Cb(e){return e=(e||0)%360,e<0?e+360:e}function Yf(e){return Math.max(0,Math.min(1,e||0))}function am(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wS=e=>()=>e;function ZR(e,t){return function(n){return e+n*t}}function QR(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function eO(e){return(e=+e)==1?bS:function(t,n){return n-t?QR(t,n,e):wS(isNaN(t)?n:t)}}function bS(e,t){var n=t-e;return n?ZR(e,n):wS(isNaN(e)?t:e)}const Nb=(function e(t){var n=eO(t);function r(s,i){var o=n((s=sg(s)).r,(i=sg(i)).r),c=n(s.g,i.g),h=n(s.b,i.b),d=bS(s.opacity,i.opacity);return function(p){return s.r=o(p),s.g=c(p),s.b=h(p),s.opacity=d(p),s+""}}return r.gamma=e,r})(1);function ta(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ig=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,om=new RegExp(ig.source,"g");function tO(e){return function(){return e}}function nO(e){return function(t){return e(t)+""}}function rO(e,t){var n=ig.lastIndex=om.lastIndex=0,r,s,i,o=-1,c=[],h=[];for(e=e+"",t=t+"";(r=ig.exec(e))&&(s=om.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),c[o]?c[o]+=i:c[++o]=i),(r=r[0])===(s=s[0])?c[o]?c[o]+=s:c[++o]=s:(c[++o]=null,h.push({i:o,x:ta(r,s)})),n=om.lastIndex;return n<t.length&&(i=t.slice(n),c[o]?c[o]+=i:c[++o]=i),c.length<2?h[0]?nO(h[0].x):tO(t):(t=h.length,function(d){for(var p=0,g;p<t;++p)c[(g=h[p]).i]=g.x(d);return c.join("")})}var kb=180/Math.PI,ag={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _S(e,t,n,r,s,i){var o,c,h;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(h=e*n+t*r)&&(n-=e*h,r-=t*h),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,h/=c),e*r<t*n&&(e=-e,t=-t,h=-h,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*kb,skewX:Math.atan(h)*kb,scaleX:o,scaleY:c}}var Jf;function sO(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ag:_S(t.a,t.b,t.c,t.d,t.e,t.f)}function iO(e){return e==null||(Jf||(Jf=document.createElementNS("http://www.w3.org/2000/svg","g")),Jf.setAttribute("transform",e),!(e=Jf.transform.baseVal.consolidate()))?ag:(e=e.matrix,_S(e.a,e.b,e.c,e.d,e.e,e.f))}function SS(e,t,n,r){function s(d){return d.length?d.pop()+" ":""}function i(d,p,g,v,x,b){if(d!==g||p!==v){var y=x.push("translate(",null,t,null,n);b.push({i:y-4,x:ta(d,g)},{i:y-2,x:ta(p,v)})}else(g||v)&&x.push("translate("+g+t+v+n)}function o(d,p,g,v){d!==p?(d-p>180?p+=360:p-d>180&&(d+=360),v.push({i:g.push(s(g)+"rotate(",null,r)-2,x:ta(d,p)})):p&&g.push(s(g)+"rotate("+p+r)}function c(d,p,g,v){d!==p?v.push({i:g.push(s(g)+"skewX(",null,r)-2,x:ta(d,p)}):p&&g.push(s(g)+"skewX("+p+r)}function h(d,p,g,v,x,b){if(d!==g||p!==v){var y=x.push(s(x)+"scale(",null,",",null,")");b.push({i:y-4,x:ta(d,g)},{i:y-2,x:ta(p,v)})}else(g!==1||v!==1)&&x.push(s(x)+"scale("+g+","+v+")")}return function(d,p){var g=[],v=[];return d=e(d),p=e(p),i(d.translateX,d.translateY,p.translateX,p.translateY,g,v),o(d.rotate,p.rotate,g,v),c(d.skewX,p.skewX,g,v),h(d.scaleX,d.scaleY,p.scaleX,p.scaleY,g,v),d=p=null,function(x){for(var b=-1,y=v.length,_;++b<y;)g[(_=v[b]).i]=_.x(x);return g.join("")}}}var aO=SS(sO,"px, ","px)","deg)"),oO=SS(iO,", ",")",")"),lO=1e-12;function Ab(e){return((e=Math.exp(e))+1/e)/2}function cO(e){return((e=Math.exp(e))-1/e)/2}function uO(e){return((e=Math.exp(2*e))-1)/(e+1)}const fO=(function e(t,n,r){function s(i,o){var c=i[0],h=i[1],d=i[2],p=o[0],g=o[1],v=o[2],x=p-c,b=g-h,y=x*x+b*b,_,E;if(y<lO)E=Math.log(v/d)/t,_=function(j){return[c+j*x,h+j*b,d*Math.exp(t*j*E)]};else{var T=Math.sqrt(y),C=(v*v-d*d+r*y)/(2*d*n*T),N=(v*v-d*d-r*y)/(2*v*n*T),R=Math.log(Math.sqrt(C*C+1)-C),P=Math.log(Math.sqrt(N*N+1)-N);E=(P-R)/t,_=function(j){var O=j*E,D=Ab(R),Y=d/(n*T)*(D*uO(t*O+R)-cO(R));return[c+Y*x,h+Y*b,d*D/Ab(t*O+R)]}}return _.duration=E*1e3*t/Math.SQRT2,_}return s.rho=function(i){var o=Math.max(.001,+i),c=o*o,h=c*c;return e(o,c,h)},s})(Math.SQRT2,2,4);var dl=0,Rc=0,Sc=0,ES=1e3,Ld,Oc,Fd=0,Ja=0,yh=0,Qc=typeof performance=="object"&&performance.now?performance:Date,TS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ux(){return Ja||(TS(dO),Ja=Qc.now()+yh)}function dO(){Ja=0}function Pd(){this._call=this._time=this._next=null}Pd.prototype=CS.prototype={constructor:Pd,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ux():+n)+(t==null?0:+t),!this._next&&Oc!==this&&(Oc?Oc._next=this:Ld=this,Oc=this),this._call=e,this._time=n,og()},stop:function(){this._call&&(this._call=null,this._time=1/0,og())}};function CS(e,t,n){var r=new Pd;return r.restart(e,t,n),r}function hO(){ux(),++dl;for(var e=Ld,t;e;)(t=Ja-e._time)>=0&&e._call.call(void 0,t),e=e._next;--dl}function jb(){Ja=(Fd=Qc.now())+yh,dl=Rc=0;try{hO()}finally{dl=0,mO(),Ja=0}}function pO(){var e=Qc.now(),t=e-Fd;t>ES&&(yh-=t,Fd=e)}function mO(){for(var e,t=Ld,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ld=n);Oc=e,og(r)}function og(e){if(!dl){Rc&&(Rc=clearTimeout(Rc));var t=e-Ja;t>24?(e<1/0&&(Rc=setTimeout(jb,e-Qc.now()-yh)),Sc&&(Sc=clearInterval(Sc))):(Sc||(Fd=Qc.now(),Sc=setInterval(pO,ES)),dl=1,TS(jb))}}function Rb(e,t,n){var r=new Pd;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var gO=ax("start","end","cancel","interrupt"),xO=[],NS=0,Ob=1,lg=2,Td=3,Mb=4,cg=5,Cd=6;function wh(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;vO(e,n,{name:t,index:r,group:s,on:gO,tween:xO,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:NS})}function fx(e,t){var n=Ms(e,t);if(n.state>NS)throw new Error("too late; already scheduled");return n}function qs(e,t){var n=Ms(e,t);if(n.state>Td)throw new Error("too late; already running");return n}function Ms(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function vO(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=CS(i,0,n.time);function i(d){n.state=Ob,n.timer.restart(o,n.delay,n.time),n.delay<=d&&o(d-n.delay)}function o(d){var p,g,v,x;if(n.state!==Ob)return h();for(p in r)if(x=r[p],x.name===n.name){if(x.state===Td)return Rb(o);x.state===Mb?(x.state=Cd,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete r[p]):+p<t&&(x.state=Cd,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete r[p])}if(Rb(function(){n.state===Td&&(n.state=Mb,n.timer.restart(c,n.delay,n.time),c(d))}),n.state=lg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===lg){for(n.state=Td,s=new Array(v=n.tween.length),p=0,g=-1;p<v;++p)(x=n.tween[p].value.call(e,e.__data__,n.index,n.group))&&(s[++g]=x);s.length=g+1}}function c(d){for(var p=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(h),n.state=cg,1),g=-1,v=s.length;++g<v;)s[g].call(e,p);n.state===cg&&(n.on.call("end",e,e.__data__,n.index,n.group),h())}function h(){n.state=Cd,n.timer.stop(),delete r[t];for(var d in r)return;delete e.__transition}}function Nd(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>lg&&r.state<cg,r.state=Cd,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function yO(e){return this.each(function(){Nd(this,e)})}function wO(e,t){var n,r;return function(){var s=qs(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,c=r.length;o<c;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function bO(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=qs(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var c={name:t,value:n},h=0,d=s.length;h<d;++h)if(s[h].name===t){s[h]=c;break}h===d&&s.push(c)}i.tween=s}}function _O(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ms(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?wO:bO)(n,e,t))}function dx(e,t,n){var r=e._id;return e.each(function(){var s=qs(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Ms(s,r).value[t]}}function kS(e,t){var n;return(typeof t=="number"?ta:t instanceof Zc?Nb:(n=Zc(t))?(t=n,Nb):rO)(e,t)}function SO(e){return function(){this.removeAttribute(e)}}function EO(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TO(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function CO(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function NO(e,t,n){var r,s,i;return function(){var o,c=n(this),h;return c==null?void this.removeAttribute(e):(o=this.getAttribute(e),h=c+"",o===h?null:o===r&&h===s?i:(s=h,i=t(r=o,c)))}}function kO(e,t,n){var r,s,i;return function(){var o,c=n(this),h;return c==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),h=c+"",o===h?null:o===r&&h===s?i:(s=h,i=t(r=o,c)))}}function AO(e,t){var n=vh(e),r=n==="transform"?oO:kS;return this.attrTween(e,typeof t=="function"?(n.local?kO:NO)(n,r,dx(this,"attr."+e,t)):t==null?(n.local?EO:SO)(n):(n.local?CO:TO)(n,r,t))}function jO(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function RO(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function OO(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&RO(e,i)),n}return s._value=t,s}function MO(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&jO(e,i)),n}return s._value=t,s}function DO(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=vh(e);return this.tween(n,(r.local?OO:MO)(r,t))}function IO(e,t){return function(){fx(this,e).delay=+t.apply(this,arguments)}}function LO(e,t){return t=+t,function(){fx(this,e).delay=t}}function FO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?IO:LO)(t,e)):Ms(this.node(),t).delay}function PO(e,t){return function(){qs(this,e).duration=+t.apply(this,arguments)}}function zO(e,t){return t=+t,function(){qs(this,e).duration=t}}function BO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?PO:zO)(t,e)):Ms(this.node(),t).duration}function UO(e,t){if(typeof t!="function")throw new Error;return function(){qs(this,e).ease=t}}function $O(e){var t=this._id;return arguments.length?this.each(UO(t,e)):Ms(this.node(),t).ease}function HO(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;qs(this,e).ease=n}}function VO(e){if(typeof e!="function")throw new Error;return this.each(HO(this._id,e))}function GO(e){typeof e!="function"&&(e=lS(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,c=r[s]=[],h,d=0;d<o;++d)(h=i[d])&&e.call(h,h.__data__,d,i)&&c.push(h);return new Si(r,this._parents,this._name,this._id)}function qO(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),c=0;c<i;++c)for(var h=t[c],d=n[c],p=h.length,g=o[c]=new Array(p),v,x=0;x<p;++x)(v=h[x]||d[x])&&(g[x]=v);for(;c<r;++c)o[c]=t[c];return new Si(o,this._parents,this._name,this._id)}function WO(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function KO(e,t,n){var r,s,i=WO(t)?fx:qs;return function(){var o=i(this,e),c=o.on;c!==r&&(s=(r=c).copy()).on(t,n),o.on=s}}function XO(e,t){var n=this._id;return arguments.length<2?Ms(this.node(),n).on.on(e):this.each(KO(n,e,t))}function YO(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function JO(){return this.on("end.remove",YO(this._id))}function ZO(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ox(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var c=r[o],h=c.length,d=i[o]=new Array(h),p,g,v=0;v<h;++v)(p=c[v])&&(g=e.call(p,p.__data__,v,c))&&("__data__"in p&&(g.__data__=p.__data__),d[v]=g,wh(d[v],t,n,v,d,Ms(p,n)));return new Si(i,this._parents,t,n)}function QO(e){var t=this._name,n=this._id;typeof e!="function"&&(e=oS(e));for(var r=this._groups,s=r.length,i=[],o=[],c=0;c<s;++c)for(var h=r[c],d=h.length,p,g=0;g<d;++g)if(p=h[g]){for(var v=e.call(p,p.__data__,g,h),x,b=Ms(p,n),y=0,_=v.length;y<_;++y)(x=v[y])&&wh(x,t,n,y,v,b);i.push(v),o.push(p)}return new Si(i,o,t,n)}var e5=bu.prototype.constructor;function t5(){return new e5(this._groups,this._parents)}function n5(e,t){var n,r,s;return function(){var i=fl(this,e),o=(this.style.removeProperty(e),fl(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function AS(e){return function(){this.style.removeProperty(e)}}function r5(e,t,n){var r,s=n+"",i;return function(){var o=fl(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function s5(e,t,n){var r,s,i;return function(){var o=fl(this,e),c=n(this),h=c+"";return c==null&&(h=c=(this.style.removeProperty(e),fl(this,e))),o===h?null:o===r&&h===s?i:(s=h,i=t(r=o,c))}}function i5(e,t){var n,r,s,i="style."+t,o="end."+i,c;return function(){var h=qs(this,e),d=h.on,p=h.value[i]==null?c||(c=AS(t)):void 0;(d!==n||s!==p)&&(r=(n=d).copy()).on(o,s=p),h.on=r}}function a5(e,t,n){var r=(e+="")=="transform"?aO:kS;return t==null?this.styleTween(e,n5(e,r)).on("end.style."+e,AS(e)):typeof t=="function"?this.styleTween(e,s5(e,r,dx(this,"style."+e,t))).each(i5(this._id,e)):this.styleTween(e,r5(e,r,t),n).on("end.style."+e,null)}function o5(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function l5(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&o5(e,o,n)),r}return i._value=t,i}function c5(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,l5(e,t,n??""))}function u5(e){return function(){this.textContent=e}}function f5(e){return function(){var t=e(this);this.textContent=t??""}}function d5(e){return this.tween("text",typeof e=="function"?f5(dx(this,"text",e)):u5(e==null?"":e+""))}function h5(e){return function(t){this.textContent=e.call(this,t)}}function p5(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&h5(s)),t}return r._value=e,r}function m5(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,p5(e))}function g5(){for(var e=this._name,t=this._id,n=jS(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],c=o.length,h,d=0;d<c;++d)if(h=o[d]){var p=Ms(h,t);wh(h,e,n,d,o,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Si(r,this._parents,e,n)}function x5(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var c={value:o},h={value:function(){--s===0&&i()}};n.each(function(){var d=qs(this,r),p=d.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(h)),d.on=t}),s===0&&i()})}var v5=0;function Si(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function jS(){return++v5}var fi=bu.prototype;Si.prototype={constructor:Si,select:ZO,selectAll:QO,selectChild:fi.selectChild,selectChildren:fi.selectChildren,filter:GO,merge:qO,selection:t5,transition:g5,call:fi.call,nodes:fi.nodes,node:fi.node,size:fi.size,empty:fi.empty,each:fi.each,on:XO,attr:AO,attrTween:DO,style:a5,styleTween:c5,text:d5,textTween:m5,remove:JO,tween:_O,delay:FO,duration:BO,ease:$O,easeVarying:VO,end:x5,[Symbol.iterator]:fi[Symbol.iterator]};function y5(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var w5={time:null,delay:0,duration:250,ease:y5};function b5(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function _5(e){var t,n;e instanceof Si?(t=e._id,e=e._name):(t=jS(),(n=w5).time=ux(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],c=o.length,h,d=0;d<c;++d)(h=o[d])&&wh(h,e,t,d,o,n||b5(h,t));return new Si(r,this._parents,e,t)}bu.prototype.interrupt=yO;bu.prototype.transition=_5;function S5(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function E5(){return this.eachAfter(S5)}function T5(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function C5(e,t){for(var n=this,r=[n],s,i,o=-1;n=r.pop();)if(e.call(t,n,++o,this),s=n.children)for(i=s.length-1;i>=0;--i)r.push(s[i]);return this}function N5(e,t){for(var n=this,r=[n],s=[],i,o,c,h=-1;n=r.pop();)if(s.push(n),i=n.children)for(o=0,c=i.length;o<c;++o)r.push(i[o]);for(;n=s.pop();)e.call(t,n,++h,this);return this}function k5(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function A5(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,s=r&&r.length;--s>=0;)n+=r[s].value;t.value=n})}function j5(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function R5(e){for(var t=this,n=O5(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var s=r.length;e!==n;)r.splice(s,0,e),e=e.parent;return r}function O5(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),s=null;for(e=n.pop(),t=r.pop();e===t;)s=e,e=n.pop(),t=r.pop();return s}function M5(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function D5(){return Array.from(this)}function I5(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function L5(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*F5(){var e=this,t,n=[e],r,s,i;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(s=0,i=r.length;s<i;++s)n.push(r[s]);while(n.length)}function hx(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=B5)):t===void 0&&(t=z5);for(var n=new eu(e),r,s=[n],i,o,c,h;r=s.pop();)if((o=t(r.data))&&(h=(o=Array.from(o)).length))for(r.children=o,c=h-1;c>=0;--c)s.push(i=o[c]=new eu(o[c])),i.parent=r,i.depth=r.depth+1;return n.eachBefore($5)}function P5(){return hx(this).eachBefore(U5)}function z5(e){return e.children}function B5(e){return Array.isArray(e)?e[1]:null}function U5(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function $5(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function eu(e){this.data=e,this.depth=this.height=0,this.parent=null}eu.prototype=hx.prototype={constructor:eu,count:E5,each:T5,eachAfter:N5,eachBefore:C5,find:k5,sum:A5,sort:j5,path:R5,ancestors:M5,descendants:D5,leaves:I5,links:L5,copy:P5,[Symbol.iterator]:F5};function H5(e,t){return e.parent===t.parent?1:2}function lm(e){var t=e.children;return t?t[0]:e.t}function cm(e){var t=e.children;return t?t[t.length-1]:e.t}function V5(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function G5(e){for(var t=0,n=0,r=e.children,s=r.length,i;--s>=0;)i=r[s],i.z+=t,i.m+=t,t+=i.s+(n+=i.c)}function q5(e,t,n){return e.a.parent===t.parent?e.a:n}function kd(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}kd.prototype=Object.create(eu.prototype);function W5(e){for(var t=new kd(e,0),n,r=[t],s,i,o,c;n=r.pop();)if(i=n._.children)for(n.children=new Array(c=i.length),o=c-1;o>=0;--o)r.push(s=n.children[o]=new kd(i[o],o)),s.parent=n;return(t.parent=new kd(null,0)).children=[t],t}function K5(){var e=H5,t=1,n=1,r=null;function s(d){var p=W5(d);if(p.eachAfter(i),p.parent.m=-p.z,p.eachBefore(o),r)d.eachBefore(h);else{var g=d,v=d,x=d;d.eachBefore(function(T){T.x<g.x&&(g=T),T.x>v.x&&(v=T),T.depth>x.depth&&(x=T)});var b=g===v?1:e(g,v)/2,y=b-g.x,_=t/(v.x+b+y),E=n/(x.depth||1);d.eachBefore(function(T){T.x=(T.x+y)*_,T.y=T.depth*E})}return d}function i(d){var p=d.children,g=d.parent.children,v=d.i?g[d.i-1]:null;if(p){G5(d);var x=(p[0].z+p[p.length-1].z)/2;v?(d.z=v.z+e(d._,v._),d.m=d.z-x):d.z=x}else v&&(d.z=v.z+e(d._,v._));d.parent.A=c(d,v,d.parent.A||g[0])}function o(d){d._.x=d.z+d.parent.m,d.m+=d.parent.m}function c(d,p,g){if(p){for(var v=d,x=d,b=p,y=v.parent.children[0],_=v.m,E=x.m,T=b.m,C=y.m,N;b=cm(b),v=lm(v),b&&v;)y=lm(y),x=cm(x),x.a=d,N=b.z+T-v.z-_+e(b._,v._),N>0&&(V5(q5(b,d,g),d,N),_+=N,E+=N),T+=b.m,_+=v.m,C+=y.m,E+=x.m;b&&!cm(x)&&(x.t=b,x.m+=T-E),v&&!lm(y)&&(y.t=v,y.m+=_-C,g=d)}return g}function h(d){d.x*=t,d.y=d.depth*n}return s.separation=function(d){return arguments.length?(e=d,s):e},s.size=function(d){return arguments.length?(r=!1,t=+d[0],n=+d[1],s):r?null:[t,n]},s.nodeSize=function(d){return arguments.length?(r=!0,t=+d[0],n=+d[1],s):r?[t,n]:null},s}const Zf=e=>()=>e;function X5(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function gi(e,t,n){this.k=e,this.x=t,this.y=n}gi.prototype={constructor:gi,scale:function(e){return e===1?this:new gi(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new gi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var el=new gi(1,0,0);gi.prototype;function um(e){e.stopImmediatePropagation()}function Ec(e){e.preventDefault(),e.stopImmediatePropagation()}function Y5(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function J5(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Db(){return this.__zoom||el}function Z5(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Q5(){return navigator.maxTouchPoints||"ontouchstart"in this}function e6(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function t6(){var e=Y5,t=J5,n=e6,r=Z5,s=Q5,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],c=250,h=fO,d=ax("start","zoom","end"),p,g,v,x=500,b=150,y=0,_=10;function E(k){k.property("__zoom",Db).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",Y).filter(s).on("touchstart.zoom",Z).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",re).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(k,K,X,H){var ne=k.selection?k.selection():k;ne.property("__zoom",Db),k!==ne?R(k,K,X,H):ne.interrupt().each(function(){P(this,arguments).event(H).start().zoom(null,typeof K=="function"?K.apply(this,arguments):K).end()})},E.scaleBy=function(k,K,X,H){E.scaleTo(k,function(){var ne=this.__zoom.k,se=typeof K=="function"?K.apply(this,arguments):K;return ne*se},X,H)},E.scaleTo=function(k,K,X,H){E.transform(k,function(){var ne=t.apply(this,arguments),se=this.__zoom,oe=X==null?N(ne):typeof X=="function"?X.apply(this,arguments):X,M=se.invert(oe),A=typeof K=="function"?K.apply(this,arguments):K;return n(C(T(se,A),oe,M),ne,o)},X,H)},E.translateBy=function(k,K,X,H){E.transform(k,function(){return n(this.__zoom.translate(typeof K=="function"?K.apply(this,arguments):K,typeof X=="function"?X.apply(this,arguments):X),t.apply(this,arguments),o)},null,H)},E.translateTo=function(k,K,X,H,ne){E.transform(k,function(){var se=t.apply(this,arguments),oe=this.__zoom,M=H==null?N(se):typeof H=="function"?H.apply(this,arguments):H;return n(el.translate(M[0],M[1]).scale(oe.k).translate(typeof K=="function"?-K.apply(this,arguments):-K,typeof X=="function"?-X.apply(this,arguments):-X),se,o)},H,ne)};function T(k,K){return K=Math.max(i[0],Math.min(i[1],K)),K===k.k?k:new gi(K,k.x,k.y)}function C(k,K,X){var H=K[0]-X[0]*k.k,ne=K[1]-X[1]*k.k;return H===k.x&&ne===k.y?k:new gi(k.k,H,ne)}function N(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function R(k,K,X,H){k.on("start.zoom",function(){P(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(H).end()}).tween("zoom",function(){var ne=this,se=arguments,oe=P(ne,se).event(H),M=t.apply(ne,se),A=X==null?N(M):typeof X=="function"?X.apply(ne,se):X,U=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),F=ne.__zoom,B=typeof K=="function"?K.apply(ne,se):K,ue=h(F.invert(A).concat(U/F.k),B.invert(A).concat(U/B.k));return function(xe){if(xe===1)xe=B;else{var ge=ue(xe),ve=U/ge[2];xe=new gi(ve,A[0]-ge[0]*ve,A[1]-ge[1]*ve)}oe.zoom(null,xe)}})}function P(k,K,X){return!X&&k.__zooming||new j(k,K)}function j(k,K){this.that=k,this.args=K,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,K),this.taps=0}j.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,K){return this.mouse&&k!=="mouse"&&(this.mouse[1]=K.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=K.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=K.invert(this.touch1[0])),this.that.__zoom=K,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var K=mi(this.that).datum();d.call(k,this.that,new X5(k,{sourceEvent:this.sourceEvent,target:E,transform:this.that.__zoom,dispatch:d}),K)}};function O(k,...K){if(!e.apply(this,arguments))return;var X=P(this,K).event(k),H=this.__zoom,ne=Math.max(i[0],Math.min(i[1],H.k*Math.pow(2,r.apply(this,arguments)))),se=Ma(k);if(X.wheel)(X.mouse[0][0]!==se[0]||X.mouse[0][1]!==se[1])&&(X.mouse[1]=H.invert(X.mouse[0]=se)),clearTimeout(X.wheel);else{if(H.k===ne)return;X.mouse=[se,H.invert(se)],Nd(this),X.start()}Ec(k),X.wheel=setTimeout(oe,b),X.zoom("mouse",n(C(T(H,ne),X.mouse[0],X.mouse[1]),X.extent,o));function oe(){X.wheel=null,X.end()}}function D(k,...K){if(v||!e.apply(this,arguments))return;var X=k.currentTarget,H=P(this,K,!0).event(k),ne=mi(k.view).on("mousemove.zoom",A,!0).on("mouseup.zoom",U,!0),se=Ma(k,X),oe=k.clientX,M=k.clientY;PR(k.view),um(k),H.mouse=[se,this.__zoom.invert(se)],Nd(this),H.start();function A(F){if(Ec(F),!H.moved){var B=F.clientX-oe,ue=F.clientY-M;H.moved=B*B+ue*ue>y}H.event(F).zoom("mouse",n(C(H.that.__zoom,H.mouse[0]=Ma(F,X),H.mouse[1]),H.extent,o))}function U(F){ne.on("mousemove.zoom mouseup.zoom",null),zR(F.view,H.moved),Ec(F),H.event(F).end()}}function Y(k,...K){if(e.apply(this,arguments)){var X=this.__zoom,H=Ma(k.changedTouches?k.changedTouches[0]:k,this),ne=X.invert(H),se=X.k*(k.shiftKey?.5:2),oe=n(C(T(X,se),H,ne),t.apply(this,K),o);Ec(k),c>0?mi(this).transition().duration(c).call(R,oe,H,k):mi(this).call(E.transform,oe,H,k)}}function Z(k,...K){if(e.apply(this,arguments)){var X=k.touches,H=X.length,ne=P(this,K,k.changedTouches.length===H).event(k),se,oe,M,A;for(um(k),oe=0;oe<H;++oe)M=X[oe],A=Ma(M,this),A=[A,this.__zoom.invert(A),M.identifier],ne.touch0?!ne.touch1&&ne.touch0[2]!==A[2]&&(ne.touch1=A,ne.taps=0):(ne.touch0=A,se=!0,ne.taps=1+!!p);p&&(p=clearTimeout(p)),se&&(ne.taps<2&&(g=A[0],p=setTimeout(function(){p=null},x)),Nd(this),ne.start())}}function z(k,...K){if(this.__zooming){var X=P(this,K).event(k),H=k.changedTouches,ne=H.length,se,oe,M,A;for(Ec(k),se=0;se<ne;++se)oe=H[se],M=Ma(oe,this),X.touch0&&X.touch0[2]===oe.identifier?X.touch0[0]=M:X.touch1&&X.touch1[2]===oe.identifier&&(X.touch1[0]=M);if(oe=X.that.__zoom,X.touch1){var U=X.touch0[0],F=X.touch0[1],B=X.touch1[0],ue=X.touch1[1],xe=(xe=B[0]-U[0])*xe+(xe=B[1]-U[1])*xe,ge=(ge=ue[0]-F[0])*ge+(ge=ue[1]-F[1])*ge;oe=T(oe,Math.sqrt(xe/ge)),M=[(U[0]+B[0])/2,(U[1]+B[1])/2],A=[(F[0]+ue[0])/2,(F[1]+ue[1])/2]}else if(X.touch0)M=X.touch0[0],A=X.touch0[1];else return;X.zoom("touch",n(C(oe,M,A),X.extent,o))}}function re(k,...K){if(this.__zooming){var X=P(this,K).event(k),H=k.changedTouches,ne=H.length,se,oe;for(um(k),v&&clearTimeout(v),v=setTimeout(function(){v=null},x),se=0;se<ne;++se)oe=H[se],X.touch0&&X.touch0[2]===oe.identifier?delete X.touch0:X.touch1&&X.touch1[2]===oe.identifier&&delete X.touch1;if(X.touch1&&!X.touch0&&(X.touch0=X.touch1,delete X.touch1),X.touch0)X.touch0[1]=this.__zoom.invert(X.touch0[0]);else if(X.end(),X.taps===2&&(oe=Ma(oe,this),Math.hypot(g[0]-oe[0],g[1]-oe[1])<_)){var M=mi(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return E.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:Zf(+k),E):r},E.filter=function(k){return arguments.length?(e=typeof k=="function"?k:Zf(!!k),E):e},E.touchable=function(k){return arguments.length?(s=typeof k=="function"?k:Zf(!!k),E):s},E.extent=function(k){return arguments.length?(t=typeof k=="function"?k:Zf([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),E):t},E.scaleExtent=function(k){return arguments.length?(i[0]=+k[0],i[1]=+k[1],E):[i[0],i[1]]},E.translateExtent=function(k){return arguments.length?(o[0][0]=+k[0][0],o[1][0]=+k[1][0],o[0][1]=+k[0][1],o[1][1]=+k[1][1],E):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},E.constrain=function(k){return arguments.length?(n=k,E):n},E.duration=function(k){return arguments.length?(c=+k,E):c},E.interpolate=function(k){return arguments.length?(h=k,E):h},E.on=function(){var k=d.on.apply(d,arguments);return k===d?E:k},E.clickDistance=function(k){return arguments.length?(y=(k=+k)*k,E):Math.sqrt(y)},E.tapDistance=function(k){return arguments.length?(_=+k,E):_},E}function Qf(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fm={exports:{}};var Ib;function n6(){return Ib||(Ib=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,s,i){function o(d,p){if(!s[d]){if(!r[d]){var g=typeof Qf=="function"&&Qf;if(!p&&g)return g(d,!0);if(c)return c(d,!0);var v=new Error("Cannot find module '"+d+"'");throw v.code="MODULE_NOT_FOUND",v}var x=s[d]={exports:{}};r[d][0].call(x.exports,function(b){var y=r[d][1][b];return o(y||b)},x,x.exports,n,r,s,i)}return s[d].exports}for(var c=typeof Qf=="function"&&Qf,h=0;h<i.length;h++)o(i[h]);return o})({1:[function(n,r,s){var i=n("./utils"),o=n("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(h){for(var d,p,g,v,x,b,y,_=[],E=0,T=h.length,C=T,N=i.getTypeOf(h)!=="string";E<h.length;)C=T-E,g=N?(d=h[E++],p=E<T?h[E++]:0,E<T?h[E++]:0):(d=h.charCodeAt(E++),p=E<T?h.charCodeAt(E++):0,E<T?h.charCodeAt(E++):0),v=d>>2,x=(3&d)<<4|p>>4,b=1<C?(15&p)<<2|g>>6:64,y=2<C?63&g:64,_.push(c.charAt(v)+c.charAt(x)+c.charAt(b)+c.charAt(y));return _.join("")},s.decode=function(h){var d,p,g,v,x,b,y=0,_=0,E="data:";if(h.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var T,C=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===c.charAt(64)&&C--,h.charAt(h.length-2)===c.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=o.uint8array?new Uint8Array(0|C):new Array(0|C);y<h.length;)d=c.indexOf(h.charAt(y++))<<2|(v=c.indexOf(h.charAt(y++)))>>4,p=(15&v)<<4|(x=c.indexOf(h.charAt(y++)))>>2,g=(3&x)<<6|(b=c.indexOf(h.charAt(y++))),T[_++]=d,x!==64&&(T[_++]=p),b!==64&&(T[_++]=g);return T}},{"./support":30,"./utils":32}],2:[function(n,r,s){var i=n("./external"),o=n("./stream/DataWorker"),c=n("./stream/Crc32Probe"),h=n("./stream/DataLengthProbe");function d(p,g,v,x,b){this.compressedSize=p,this.uncompressedSize=g,this.crc32=v,this.compression=x,this.compressedContent=b}d.prototype={getContentWorker:function(){var p=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),g=this;return p.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(p,g,v){return p.pipe(new c).pipe(new h("uncompressedSize")).pipe(g.compressWorker(v)).pipe(new h("compressedSize")).withStreamInfo("compression",g)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var i=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var i=n("./utils"),o=(function(){for(var c,h=[],d=0;d<256;d++){c=d;for(var p=0;p<8;p++)c=1&c?3988292384^c>>>1:c>>>1;h[d]=c}return h})();r.exports=function(c,h){return c!==void 0&&c.length?i.getTypeOf(c)!=="string"?(function(d,p,g,v){var x=o,b=v+g;d^=-1;for(var y=v;y<b;y++)d=d>>>8^x[255&(d^p[y])];return-1^d})(0|h,c,c.length,0):(function(d,p,g,v){var x=o,b=v+g;d^=-1;for(var y=v;y<b;y++)d=d>>>8^x[255&(d^p.charCodeAt(y))];return-1^d})(0|h,c,c.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),c=n("./utils"),h=n("./stream/GenericWorker"),d=i?"uint8array":"array";function p(g,v){h.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=v,this.meta={}}s.magic="\b\0",c.inherits(p,h),p.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(d,g.data),!1)},p.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(v){g.push({data:v,meta:g.meta})}},s.compressWorker=function(g){return new p("Deflate",g)},s.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function i(x,b){var y,_="";for(y=0;y<b;y++)_+=String.fromCharCode(255&x),x>>>=8;return _}function o(x,b,y,_,E,T){var C,N,R=x.file,P=x.compression,j=T!==d.utf8encode,O=c.transformTo("string",T(R.name)),D=c.transformTo("string",d.utf8encode(R.name)),Y=R.comment,Z=c.transformTo("string",T(Y)),z=c.transformTo("string",d.utf8encode(Y)),re=D.length!==R.name.length,k=z.length!==Y.length,K="",X="",H="",ne=R.dir,se=R.date,oe={crc32:0,compressedSize:0,uncompressedSize:0};b&&!y||(oe.crc32=x.crc32,oe.compressedSize=x.compressedSize,oe.uncompressedSize=x.uncompressedSize);var M=0;b&&(M|=8),j||!re&&!k||(M|=2048);var A=0,U=0;ne&&(A|=16),E==="UNIX"?(U=798,A|=(function(B,ue){var xe=B;return B||(xe=ue?16893:33204),(65535&xe)<<16})(R.unixPermissions,ne)):(U=20,A|=(function(B){return 63&(B||0)})(R.dosPermissions)),C=se.getUTCHours(),C<<=6,C|=se.getUTCMinutes(),C<<=5,C|=se.getUTCSeconds()/2,N=se.getUTCFullYear()-1980,N<<=4,N|=se.getUTCMonth()+1,N<<=5,N|=se.getUTCDate(),re&&(X=i(1,1)+i(p(O),4)+D,K+="up"+i(X.length,2)+X),k&&(H=i(1,1)+i(p(Z),4)+z,K+="uc"+i(H.length,2)+H);var F="";return F+=`
\0`,F+=i(M,2),F+=P.magic,F+=i(C,2),F+=i(N,2),F+=i(oe.crc32,4),F+=i(oe.compressedSize,4),F+=i(oe.uncompressedSize,4),F+=i(O.length,2),F+=i(K.length,2),{fileRecord:g.LOCAL_FILE_HEADER+F+O+K,dirRecord:g.CENTRAL_FILE_HEADER+i(U,2)+F+i(Z.length,2)+"\0\0\0\0"+i(A,4)+i(_,4)+O+K+Z}}var c=n("../utils"),h=n("../stream/GenericWorker"),d=n("../utf8"),p=n("../crc32"),g=n("../signature");function v(x,b,y,_){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=y,this.encodeFileName=_,this.streamFiles=x,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(v,h),v.prototype.push=function(x){var b=x.meta.percent||0,y=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(x):(this.bytesWritten+=x.data.length,h.prototype.push.call(this,{data:x.data,meta:{currentFile:this.currentFile,percent:y?(b+100*(y-_-1))/y:100}}))},v.prototype.openedSource=function(x){this.currentSourceOffset=this.bytesWritten,this.currentFile=x.file.name;var b=this.streamFiles&&!x.file.dir;if(b){var y=o(x,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(x){this.accumulate=!1;var b=this.streamFiles&&!x.file.dir,y=o(x,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),b)this.push({data:(function(_){return g.DATA_DESCRIPTOR+i(_.crc32,4)+i(_.compressedSize,4)+i(_.uncompressedSize,4)})(x),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var x=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var y=this.bytesWritten-x,_=(function(E,T,C,N,R){var P=c.transformTo("string",R(N));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(E,2)+i(E,2)+i(T,4)+i(C,4)+i(P.length,2)+P})(this.dirRecords.length,y,x,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(x){this._sources.push(x);var b=this;return x.on("data",function(y){b.processChunk(y)}),x.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),x.on("error",function(y){b.error(y)}),this},v.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(x){var b=this._sources;if(!h.prototype.error.call(this,x))return!1;for(var y=0;y<b.length;y++)try{b[y].error(x)}catch{}return!0},v.prototype.lock=function(){h.prototype.lock.call(this);for(var x=this._sources,b=0;b<x.length;b++)x[b].lock()},r.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var i=n("../compressions"),o=n("./ZipFileWorker");s.generateWorker=function(c,h,d){var p=new o(h.streamFiles,d,h.platform,h.encodeFileName),g=0;try{c.forEach(function(v,x){g++;var b=(function(T,C){var N=T||C,R=i[N];if(!R)throw new Error(N+" is not a valid compression method !");return R})(x.options.compression,h.compression),y=x.options.compressionOptions||h.compressionOptions||{},_=x.dir,E=x.date;x._compressWorker(b,y).withStreamInfo("file",{name:v,dir:_,date:E,comment:x.comment||"",unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions}).pipe(p)}),p.entriesCount=g}catch(v){p.error(v)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var c in this)typeof this[c]!="function"&&(o[c]=this[c]);return o}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(o,c){return new i().loadAsync(o,c)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var i=n("./utils"),o=n("./external"),c=n("./utf8"),h=n("./zipEntries"),d=n("./stream/Crc32Probe"),p=n("./nodejsUtils");function g(v){return new o.Promise(function(x,b){var y=v.decompressed.getContentWorker().pipe(new d);y.on("error",function(_){b(_)}).on("end",function(){y.streamInfo.crc32!==v.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):x()}).resume()})}r.exports=function(v,x){var b=this;return x=i.extend(x||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),p.isNode&&p.isStream(v)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",v,!0,x.optimizedBinaryString,x.base64).then(function(y){var _=new h(x);return _.load(y),_}).then(function(y){var _=[o.Promise.resolve(y)],E=y.files;if(x.checkCRC32)for(var T=0;T<E.length;T++)_.push(g(E[T]));return o.Promise.all(_)}).then(function(y){for(var _=y.shift(),E=_.files,T=0;T<E.length;T++){var C=E[T],N=C.fileNameStr,R=i.resolve(C.fileNameStr);b.file(R,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:x.createFolders}),C.dir||(b.file(R).unsafeOriginalName=N)}return _.zipComment.length&&(b.comment=_.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var i=n("../utils"),o=n("../stream/GenericWorker");function c(h,d){o.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(d)}i.inherits(c,o),c.prototype._bindStream=function(h){var d=this;(this._stream=h).pause(),h.on("data",function(p){d.push({data:p,meta:{percent:0}})}).on("error",function(p){d.isPaused?this.generatedError=p:d.error(p)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},c.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var i=n("readable-stream").Readable;function o(c,h,d){i.call(this,h),this._helper=c;var p=this;c.on("data",function(g,v){p.push(g)||p._helper.pause(),d&&d(v)}).on("error",function(g){p.emit("error",g)}).on("end",function(){p.push(null)})}n("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,s){function i(R,P,j){var O,D=c.getTypeOf(P),Y=c.extend(j||{},p);Y.date=Y.date||new Date,Y.compression!==null&&(Y.compression=Y.compression.toUpperCase()),typeof Y.unixPermissions=="string"&&(Y.unixPermissions=parseInt(Y.unixPermissions,8)),Y.unixPermissions&&16384&Y.unixPermissions&&(Y.dir=!0),Y.dosPermissions&&16&Y.dosPermissions&&(Y.dir=!0),Y.dir&&(R=E(R)),Y.createFolders&&(O=_(R))&&T.call(this,O,!0);var Z=D==="string"&&Y.binary===!1&&Y.base64===!1;j&&j.binary!==void 0||(Y.binary=!Z),(P instanceof g&&P.uncompressedSize===0||Y.dir||!P||P.length===0)&&(Y.base64=!1,Y.binary=!0,P="",Y.compression="STORE",D="string");var z=null;z=P instanceof g||P instanceof h?P:b.isNode&&b.isStream(P)?new y(R,P):c.prepareContent(R,P,Y.binary,Y.optimizedBinaryString,Y.base64);var re=new v(R,z,Y);this.files[R]=re}var o=n("./utf8"),c=n("./utils"),h=n("./stream/GenericWorker"),d=n("./stream/StreamHelper"),p=n("./defaults"),g=n("./compressedObject"),v=n("./zipObject"),x=n("./generate"),b=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),_=function(R){R.slice(-1)==="/"&&(R=R.substring(0,R.length-1));var P=R.lastIndexOf("/");return 0<P?R.substring(0,P):""},E=function(R){return R.slice(-1)!=="/"&&(R+="/"),R},T=function(R,P){return P=P!==void 0?P:p.createFolders,R=E(R),this.files[R]||i.call(this,R,null,{dir:!0,createFolders:P}),this.files[R]};function C(R){return Object.prototype.toString.call(R)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(R){var P,j,O;for(P in this.files)O=this.files[P],(j=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&R(j,O)},filter:function(R){var P=[];return this.forEach(function(j,O){R(j,O)&&P.push(O)}),P},file:function(R,P,j){if(arguments.length!==1)return R=this.root+R,i.call(this,R,P,j),this;if(C(R)){var O=R;return this.filter(function(Y,Z){return!Z.dir&&O.test(Y)})}var D=this.files[this.root+R];return D&&!D.dir?D:null},folder:function(R){if(!R)return this;if(C(R))return this.filter(function(D,Y){return Y.dir&&R.test(D)});var P=this.root+R,j=T.call(this,P),O=this.clone();return O.root=j.name,O},remove:function(R){R=this.root+R;var P=this.files[R];if(P||(R.slice(-1)!=="/"&&(R+="/"),P=this.files[R]),P&&!P.dir)delete this.files[R];else for(var j=this.filter(function(D,Y){return Y.name.slice(0,R.length)===R}),O=0;O<j.length;O++)delete this.files[j[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(R){var P,j={};try{if((j=c.extend(R||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");c.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var O=j.comment||this.comment||"";P=x.generateWorker(this,j,O)}catch(D){(P=new h("error")).error(D)}return new d(P,j.type||"string",j.mimeType)},generateAsync:function(R,P){return this.generateInternalStream(R).accumulate(P)},generateNodeStream:function(R,P){return(R=R||{}).type||(R.type="nodebuffer"),this.generateInternalStream(R).toNodejsStream(P)}};r.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var i=n("./DataReader");function o(c){i.call(this,c);for(var h=0;h<this.data.length;h++)c[h]=255&c[h]}n("../utils").inherits(o,i),o.prototype.byteAt=function(c){return this.data[this.zero+c]},o.prototype.lastIndexOfSignature=function(c){for(var h=c.charCodeAt(0),d=c.charCodeAt(1),p=c.charCodeAt(2),g=c.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===h&&this.data[v+1]===d&&this.data[v+2]===p&&this.data[v+3]===g)return v-this.zero;return-1},o.prototype.readAndCheckSignature=function(c){var h=c.charCodeAt(0),d=c.charCodeAt(1),p=c.charCodeAt(2),g=c.charCodeAt(3),v=this.readData(4);return h===v[0]&&d===v[1]&&p===v[2]&&g===v[3]},o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,h},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var i=n("../utils");function o(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var h,d=0;for(this.checkOffset(c),h=this.index+c-1;h>=this.index;h--)d=(d<<8)+this.byteAt(h);return this.index+=c,d},readString:function(c){return i.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,s){var i=n("./Uint8ArrayReader");function o(c){i.call(this,c)}n("../utils").inherits(o,i),o.prototype.readData=function(c){this.checkOffset(c);var h=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,h},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var i=n("./DataReader");function o(c){i.call(this,c)}n("../utils").inherits(o,i),o.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},o.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},o.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},o.prototype.readData=function(c){this.checkOffset(c);var h=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,h},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var i=n("./ArrayReader");function o(c){i.call(this,c)}n("../utils").inherits(o,i),o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,h},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var i=n("../utils"),o=n("../support"),c=n("./ArrayReader"),h=n("./StringReader"),d=n("./NodeBufferReader"),p=n("./Uint8ArrayReader");r.exports=function(g){var v=i.getTypeOf(g);return i.checkSupport(v),v!=="string"||o.uint8array?v==="nodebuffer"?new d(g):o.uint8array?new p(i.transformTo("uint8array",g)):new c(i.transformTo("array",g)):new h(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var i=n("./GenericWorker"),o=n("../utils");function c(h){i.call(this,"ConvertWorker to "+h),this.destType=h}o.inherits(c,i),c.prototype.processChunk=function(h){this.push({data:o.transformTo(this.destType,h.data),meta:h.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var i=n("./GenericWorker"),o=n("../crc32");function c(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(c,i),c.prototype.processChunk=function(h){this.streamInfo.crc32=o(h.data,this.streamInfo.crc32||0),this.push(h)},r.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function c(h){o.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}i.inherits(c,o),c.prototype.processChunk=function(h){if(h){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+h.data.length}o.prototype.processChunk.call(this,h)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function c(h){o.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(p){d.dataIsReady=!0,d.data=p,d.max=p&&p.length||0,d.type=i.getTypeOf(p),d.isPaused||d._tickAndRepeat()},function(p){d.error(p)})}i.inherits(c,o),c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,d);break;case"uint8array":h=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":h=this.data.slice(this.index,d)}return this.index=d,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,c){return this._listeners[o].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,c){if(this._listeners[o])for(var h=0;h<this._listeners[o].length;h++)this._listeners[o][h].call(this,c)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var c=this;return o.on("data",function(h){c.processChunk(h)}),o.on("end",function(){c.end()}),o.on("error",function(h){c.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,c){return this.extraStreamInfo[o]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=i},{}],29:[function(n,r,s){var i=n("../utils"),o=n("./ConvertWorker"),c=n("./GenericWorker"),h=n("../base64"),d=n("../support"),p=n("../external"),g=null;if(d.nodestream)try{g=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(b,y){return new p.Promise(function(_,E){var T=[],C=b._internalType,N=b._outputType,R=b._mimeType;b.on("data",function(P,j){T.push(P),y&&y(j)}).on("error",function(P){T=[],E(P)}).on("end",function(){try{var P=(function(j,O,D){switch(j){case"blob":return i.newBlob(i.transformTo("arraybuffer",O),D);case"base64":return h.encode(O);default:return i.transformTo(j,O)}})(N,(function(j,O){var D,Y=0,Z=null,z=0;for(D=0;D<O.length;D++)z+=O[D].length;switch(j){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(Z=new Uint8Array(z),D=0;D<O.length;D++)Z.set(O[D],Y),Y+=O[D].length;return Z;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+j+"'")}})(C,T),R);_(P)}catch(j){E(j)}T=[]}).resume()})}function x(b,y,_){var E=y;switch(y){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=y,this._mimeType=_,i.checkSupport(E),this._worker=b.pipe(new o(E)),b.lock()}catch(T){this._worker=new c("error"),this._worker.error(T)}}x.prototype={accumulate:function(b){return v(this,b)},on:function(b,y){var _=this;return b==="data"?this._worker.on(b,function(E){y.call(_,E.data,E.meta)}):this._worker.on(b,function(){i.delay(y,arguments,_)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=x},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var i=n("./utils"),o=n("./support"),c=n("./nodejsUtils"),h=n("./stream/GenericWorker"),d=new Array(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;d[254]=d[254]=1;function g(){h.call(this,"utf-8 decode"),this.leftOver=null}function v(){h.call(this,"utf-8 encode")}s.utf8encode=function(x){return o.nodebuffer?c.newBufferFrom(x,"utf-8"):(function(b){var y,_,E,T,C,N=b.length,R=0;for(T=0;T<N;T++)(64512&(_=b.charCodeAt(T)))==55296&&T+1<N&&(64512&(E=b.charCodeAt(T+1)))==56320&&(_=65536+(_-55296<<10)+(E-56320),T++),R+=_<128?1:_<2048?2:_<65536?3:4;for(y=o.uint8array?new Uint8Array(R):new Array(R),T=C=0;C<R;T++)(64512&(_=b.charCodeAt(T)))==55296&&T+1<N&&(64512&(E=b.charCodeAt(T+1)))==56320&&(_=65536+(_-55296<<10)+(E-56320),T++),_<128?y[C++]=_:(_<2048?y[C++]=192|_>>>6:(_<65536?y[C++]=224|_>>>12:(y[C++]=240|_>>>18,y[C++]=128|_>>>12&63),y[C++]=128|_>>>6&63),y[C++]=128|63&_);return y})(x)},s.utf8decode=function(x){return o.nodebuffer?i.transformTo("nodebuffer",x).toString("utf-8"):(function(b){var y,_,E,T,C=b.length,N=new Array(2*C);for(y=_=0;y<C;)if((E=b[y++])<128)N[_++]=E;else if(4<(T=d[E]))N[_++]=65533,y+=T-1;else{for(E&=T===2?31:T===3?15:7;1<T&&y<C;)E=E<<6|63&b[y++],T--;1<T?N[_++]=65533:E<65536?N[_++]=E:(E-=65536,N[_++]=55296|E>>10&1023,N[_++]=56320|1023&E)}return N.length!==_&&(N.subarray?N=N.subarray(0,_):N.length=_),i.applyFromCharCode(N)})(x=i.transformTo(o.uint8array?"uint8array":"array",x))},i.inherits(g,h),g.prototype.processChunk=function(x){var b=i.transformTo(o.uint8array?"uint8array":"array",x.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=b;(b=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),b.set(y,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var _=(function(T,C){var N;for((C=C||T.length)>T.length&&(C=T.length),N=C-1;0<=N&&(192&T[N])==128;)N--;return N<0||N===0?C:N+d[T[N]]>C?N:C})(b),E=b;_!==b.length&&(o.uint8array?(E=b.subarray(0,_),this.leftOver=b.subarray(_,b.length)):(E=b.slice(0,_),this.leftOver=b.slice(_,b.length))),this.push({data:s.utf8decode(E),meta:x.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=g,i.inherits(v,h),v.prototype.processChunk=function(x){this.push({data:s.utf8encode(x.data),meta:x.meta})},s.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var i=n("./support"),o=n("./base64"),c=n("./nodejsUtils"),h=n("./external");function d(y){return y}function p(y,_){for(var E=0;E<y.length;++E)_[E]=255&y.charCodeAt(E);return _}n("setimmediate"),s.newBlob=function(y,_){s.checkSupport("blob");try{return new Blob([y],{type:_})}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(y),E.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(y,_,E){var T=[],C=0,N=y.length;if(N<=E)return String.fromCharCode.apply(null,y);for(;C<N;)_==="array"||_==="nodebuffer"?T.push(String.fromCharCode.apply(null,y.slice(C,Math.min(C+E,N)))):T.push(String.fromCharCode.apply(null,y.subarray(C,Math.min(C+E,N)))),C+=E;return T.join("")},stringifyByChar:function(y){for(var _="",E=0;E<y.length;E++)_+=String.fromCharCode(y[E]);return _},applyCanBeUsed:{uint8array:(function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function v(y){var _=65536,E=s.getTypeOf(y),T=!0;if(E==="uint8array"?T=g.applyCanBeUsed.uint8array:E==="nodebuffer"&&(T=g.applyCanBeUsed.nodebuffer),T)for(;1<_;)try{return g.stringifyByChunk(y,E,_)}catch{_=Math.floor(_/2)}return g.stringifyByChar(y)}function x(y,_){for(var E=0;E<y.length;E++)_[E]=y[E];return _}s.applyFromCharCode=v;var b={};b.string={string:d,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return b.string.uint8array(y).buffer},uint8array:function(y){return p(y,new Uint8Array(y.length))},nodebuffer:function(y){return p(y,c.allocBuffer(y.length))}},b.array={string:v,array:d,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return c.newBufferFrom(y)}},b.arraybuffer={string:function(y){return v(new Uint8Array(y))},array:function(y){return x(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:d,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return c.newBufferFrom(new Uint8Array(y))}},b.uint8array={string:v,array:function(y){return x(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:d,nodebuffer:function(y){return c.newBufferFrom(y)}},b.nodebuffer={string:v,array:function(y){return x(y,new Array(y.length))},arraybuffer:function(y){return b.nodebuffer.uint8array(y).buffer},uint8array:function(y){return x(y,new Uint8Array(y.length))},nodebuffer:d},s.transformTo=function(y,_){if(_=_||"",!y)return _;s.checkSupport(y);var E=s.getTypeOf(_);return b[E][y](_)},s.resolve=function(y){for(var _=y.split("/"),E=[],T=0;T<_.length;T++){var C=_[T];C==="."||C===""&&T!==0&&T!==_.length-1||(C===".."?E.pop():E.push(C))}return E.join("/")},s.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":i.nodebuffer&&c.isBuffer(y)?"nodebuffer":i.uint8array&&y instanceof Uint8Array?"uint8array":i.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(y){if(!i[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(y){var _,E,T="";for(E=0;E<(y||"").length;E++)T+="\\x"+((_=y.charCodeAt(E))<16?"0":"")+_.toString(16).toUpperCase();return T},s.delay=function(y,_,E){setImmediate(function(){y.apply(E||null,_||[])})},s.inherits=function(y,_){function E(){}E.prototype=_.prototype,y.prototype=new E},s.extend=function(){var y,_,E={};for(y=0;y<arguments.length;y++)for(_ in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],_)&&E[_]===void 0&&(E[_]=arguments[y][_]);return E},s.prepareContent=function(y,_,E,T,C){return h.Promise.resolve(_).then(function(N){return i.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new h.Promise(function(R,P){var j=new FileReader;j.onload=function(O){R(O.target.result)},j.onerror=function(O){P(O.target.error)},j.readAsArrayBuffer(N)}):N}).then(function(N){var R=s.getTypeOf(N);return R?(R==="arraybuffer"?N=s.transformTo("uint8array",N):R==="string"&&(C?N=o.decode(N):E&&T!==!0&&(N=(function(P){return p(P,i.uint8array?new Uint8Array(P.length):new Array(P.length))})(N))),N):h.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),c=n("./signature"),h=n("./zipEntry"),d=n("./support");function p(g){this.files=[],this.loadOptions=g}p.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(v)+", expected "+o.pretty(g)+")")}},isSignature:function(g,v){var x=this.reader.index;this.reader.setIndex(g);var b=this.reader.readString(4)===v;return this.reader.setIndex(x),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),v=d.uint8array?"uint8array":"array",x=o.transformTo(v,g);this.zipComment=this.loadOptions.decodeFileName(x)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,v,x,b=this.zip64EndOfCentralSize-44;0<b;)g=this.reader.readInt(2),v=this.reader.readInt(4),x=this.reader.readData(v),this.zip64ExtensibleData[g]={id:g,length:v,value:x}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,v;for(g=0;g<this.files.length;g++)v=this.files[g],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(g=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var v=g;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var x=this.centralDirOffset+this.centralDirSize;this.zip64&&(x+=20,x+=12+this.zip64EndOfCentralSize);var b=v-x;if(0<b)this.isSignature(v,c.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(g){this.reader=i(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),c=n("./compressedObject"),h=n("./crc32"),d=n("./utf8"),p=n("./compressions"),g=n("./support");function v(x,b){this.options=x,this.loadOptions=b}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(x){var b,y;if(x.skip(22),this.fileNameLength=x.readInt(2),y=x.readInt(2),this.fileName=x.readData(this.fileNameLength),x.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=(function(_){for(var E in p)if(Object.prototype.hasOwnProperty.call(p,E)&&p[E].magic===_)return p[E];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,b,x.readData(this.compressedSize))},readCentralPart:function(x){this.versionMadeBy=x.readInt(2),x.skip(2),this.bitFlag=x.readInt(2),this.compressionMethod=x.readString(2),this.date=x.readDate(),this.crc32=x.readInt(4),this.compressedSize=x.readInt(4),this.uncompressedSize=x.readInt(4);var b=x.readInt(2);if(this.extraFieldsLength=x.readInt(2),this.fileCommentLength=x.readInt(2),this.diskNumberStart=x.readInt(2),this.internalFileAttributes=x.readInt(2),this.externalFileAttributes=x.readInt(4),this.localHeaderOffset=x.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");x.skip(b),this.readExtraFields(x),this.parseZIP64ExtraField(x),this.fileComment=x.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var x=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),x==0&&(this.dosPermissions=63&this.externalFileAttributes),x==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var x=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=x.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=x.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=x.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=x.readInt(4))}},readExtraFields:function(x){var b,y,_,E=x.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});x.index+4<E;)b=x.readInt(2),y=x.readInt(2),_=x.readData(y),this.extraFields[b]={id:b,length:y,value:_};x.setIndex(E)},handleUTF8:function(){var x=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var y=o.transformTo(x,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var E=o.transformTo(x,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var x=this.extraFields[28789];if(x){var b=i(x.value);return b.readInt(1)!==1||h(this.fileName)!==b.readInt(4)?null:d.utf8decode(b.readData(x.length-5))}return null},findExtraFieldUnicodeComment:function(){var x=this.extraFields[25461];if(x){var b=i(x.value);return b.readInt(1)!==1||h(this.fileComment)!==b.readInt(4)?null:d.utf8decode(b.readData(x.length-5))}return null}},r.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function i(b,y,_){this.name=b,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=y,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var o=n("./stream/StreamHelper"),c=n("./stream/DataWorker"),h=n("./utf8"),d=n("./compressedObject"),p=n("./stream/GenericWorker");i.prototype={internalStream:function(b){var y=null,_="string";try{if(!b)throw new Error("No output type specified.");var E=(_=b.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),y=this._decompressWorker();var T=!this._dataBinary;T&&!E&&(y=y.pipe(new h.Utf8EncodeWorker)),!T&&E&&(y=y.pipe(new h.Utf8DecodeWorker))}catch(C){(y=new p("error")).error(C)}return new o(y,_,"")},async:function(b,y){return this.internalStream(b).accumulate(y)},nodeStream:function(b,y){return this.internalStream(b||"nodebuffer").toNodejsStream(y)},_compressWorker:function(b,y){if(this._data instanceof d&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new h.Utf8EncodeWorker)),d.createWorkerFrom(_,b,y)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof p?this._data:new c(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},x=0;x<g.length;x++)i.prototype[g[x]]=v;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(i){var o,c,h=i.MutationObserver||i.WebKitMutationObserver;if(h){var d=0,p=new h(b),g=i.document.createTextNode("");p.observe(g,{characterData:!0}),o=function(){g.data=d=++d%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var y=i.document.createElement("script");y.onreadystatechange=function(){b(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},i.document.documentElement.appendChild(y)}:function(){setTimeout(b,0)};else{var v=new i.MessageChannel;v.port1.onmessage=b,o=function(){v.port2.postMessage(0)}}var x=[];function b(){var y,_;c=!0;for(var E=x.length;E;){for(_=x,x=[],y=-1;++y<E;)_[y]();E=x.length}c=!1}r.exports=function(y){x.push(y)!==1||c||o()}}).call(this,typeof sa<"u"?sa:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var i=n("immediate");function o(){}var c={},h=["REJECTED"],d=["FULFILLED"],p=["PENDING"];function g(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,E!==o&&y(this,E)}function v(E,T,C){this.promise=E,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function x(E,T,C){i(function(){var N;try{N=T(C)}catch(R){return c.reject(E,R)}N===E?c.reject(E,new TypeError("Cannot resolve promise with itself")):c.resolve(E,N)})}function b(E){var T=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof T=="function")return function(){T.apply(E,arguments)}}function y(E,T){var C=!1;function N(j){C||(C=!0,c.reject(E,j))}function R(j){C||(C=!0,c.resolve(E,j))}var P=_(function(){T(R,N)});P.status==="error"&&N(P.value)}function _(E,T){var C={};try{C.value=E(T),C.status="success"}catch(N){C.status="error",C.value=N}return C}(r.exports=g).prototype.finally=function(E){if(typeof E!="function")return this;var T=this.constructor;return this.then(function(C){return T.resolve(E()).then(function(){return C})},function(C){return T.resolve(E()).then(function(){throw C})})},g.prototype.catch=function(E){return this.then(null,E)},g.prototype.then=function(E,T){if(typeof E!="function"&&this.state===d||typeof T!="function"&&this.state===h)return this;var C=new this.constructor(o);return this.state!==p?x(C,this.state===d?E:T,this.outcome):this.queue.push(new v(C,E,T)),C},v.prototype.callFulfilled=function(E){c.resolve(this.promise,E)},v.prototype.otherCallFulfilled=function(E){x(this.promise,this.onFulfilled,E)},v.prototype.callRejected=function(E){c.reject(this.promise,E)},v.prototype.otherCallRejected=function(E){x(this.promise,this.onRejected,E)},c.resolve=function(E,T){var C=_(b,T);if(C.status==="error")return c.reject(E,C.value);var N=C.value;if(N)y(E,N);else{E.state=d,E.outcome=T;for(var R=-1,P=E.queue.length;++R<P;)E.queue[R].callFulfilled(T)}return E},c.reject=function(E,T){E.state=h,E.outcome=T;for(var C=-1,N=E.queue.length;++C<N;)E.queue[C].callRejected(T);return E},g.resolve=function(E){return E instanceof this?E:c.resolve(new this(o),E)},g.reject=function(E){var T=new this(o);return c.reject(T,E)},g.all=function(E){var T=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=E.length,N=!1;if(!C)return this.resolve([]);for(var R=new Array(C),P=0,j=-1,O=new this(o);++j<C;)D(E[j],j);return O;function D(Y,Z){T.resolve(Y).then(function(z){R[Z]=z,++P!==C||N||(N=!0,c.resolve(O,R))},function(z){N||(N=!0,c.reject(O,z))})}},g.race=function(E){var T=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=E.length,N=!1;if(!C)return this.resolve([]);for(var R=-1,P=new this(o);++R<C;)j=E[R],T.resolve(j).then(function(O){N||(N=!0,c.resolve(P,O))},function(O){N||(N=!0,c.reject(P,O))});var j;return P}},{immediate:36}],38:[function(n,r,s){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var i=n("./zlib/deflate"),o=n("./utils/common"),c=n("./utils/strings"),h=n("./zlib/messages"),d=n("./zlib/zstream"),p=Object.prototype.toString,g=0,v=-1,x=0,b=8;function y(E){if(!(this instanceof y))return new y(E);this.options=o.assign({level:v,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},E||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var C=i.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(C!==g)throw new Error(h[C]);if(T.header&&i.deflateSetHeader(this.strm,T.header),T.dictionary){var N;if(N=typeof T.dictionary=="string"?c.string2buf(T.dictionary):p.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(C=i.deflateSetDictionary(this.strm,N))!==g)throw new Error(h[C]);this._dict_set=!0}}function _(E,T){var C=new y(T);if(C.push(E,!0),C.err)throw C.msg||h[C.err];return C.result}y.prototype.push=function(E,T){var C,N,R=this.strm,P=this.options.chunkSize;if(this.ended)return!1;N=T===~~T?T:T===!0?4:0,typeof E=="string"?R.input=c.string2buf(E):p.call(E)==="[object ArrayBuffer]"?R.input=new Uint8Array(E):R.input=E,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new o.Buf8(P),R.next_out=0,R.avail_out=P),(C=i.deflate(R,N))!==1&&C!==g)return this.onEnd(C),!(this.ended=!0);R.avail_out!==0&&(R.avail_in!==0||N!==4&&N!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(o.shrinkBuf(R.output,R.next_out))):this.onData(o.shrinkBuf(R.output,R.next_out)))}while((0<R.avail_in||R.avail_out===0)&&C!==1);return N===4?(C=i.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===g):N!==2||(this.onEnd(g),!(R.avail_out=0))},y.prototype.onData=function(E){this.chunks.push(E)},y.prototype.onEnd=function(E){E===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},s.Deflate=y,s.deflate=_,s.deflateRaw=function(E,T){return(T=T||{}).raw=!0,_(E,T)},s.gzip=function(E,T){return(T=T||{}).gzip=!0,_(E,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var i=n("./zlib/inflate"),o=n("./utils/common"),c=n("./utils/strings"),h=n("./zlib/constants"),d=n("./zlib/messages"),p=n("./zlib/zstream"),g=n("./zlib/gzheader"),v=Object.prototype.toString;function x(y){if(!(this instanceof x))return new x(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||y&&y.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var E=i.inflateInit2(this.strm,_.windowBits);if(E!==h.Z_OK)throw new Error(d[E]);this.header=new g,i.inflateGetHeader(this.strm,this.header)}function b(y,_){var E=new x(_);if(E.push(y,!0),E.err)throw E.msg||d[E.err];return E.result}x.prototype.push=function(y,_){var E,T,C,N,R,P,j=this.strm,O=this.options.chunkSize,D=this.options.dictionary,Y=!1;if(this.ended)return!1;T=_===~~_?_:_===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof y=="string"?j.input=c.binstring2buf(y):v.call(y)==="[object ArrayBuffer]"?j.input=new Uint8Array(y):j.input=y,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new o.Buf8(O),j.next_out=0,j.avail_out=O),(E=i.inflate(j,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&D&&(P=typeof D=="string"?c.string2buf(D):v.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,E=i.inflateSetDictionary(this.strm,P)),E===h.Z_BUF_ERROR&&Y===!0&&(E=h.Z_OK,Y=!1),E!==h.Z_STREAM_END&&E!==h.Z_OK)return this.onEnd(E),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&E!==h.Z_STREAM_END&&(j.avail_in!==0||T!==h.Z_FINISH&&T!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=c.utf8border(j.output,j.next_out),N=j.next_out-C,R=c.buf2string(j.output,C),j.next_out=N,j.avail_out=O-N,N&&o.arraySet(j.output,j.output,C,N,0),this.onData(R)):this.onData(o.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(Y=!0)}while((0<j.avail_in||j.avail_out===0)&&E!==h.Z_STREAM_END);return E===h.Z_STREAM_END&&(T=h.Z_FINISH),T===h.Z_FINISH?(E=i.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===h.Z_OK):T!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(j.avail_out=0))},x.prototype.onData=function(y){this.chunks.push(y)},x.prototype.onEnd=function(y){y===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},s.Inflate=x,s.inflate=b,s.inflateRaw=function(y,_){return(_=_||{}).raw=!0,b(y,_)},s.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(h){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var p=d.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var g in p)p.hasOwnProperty(g)&&(h[g]=p[g])}}return h},s.shrinkBuf=function(h,d){return h.length===d?h:h.subarray?h.subarray(0,d):(h.length=d,h)};var o={arraySet:function(h,d,p,g,v){if(d.subarray&&h.subarray)h.set(d.subarray(p,p+g),v);else for(var x=0;x<g;x++)h[v+x]=d[p+x]},flattenChunks:function(h){var d,p,g,v,x,b;for(d=g=0,p=h.length;d<p;d++)g+=h[d].length;for(b=new Uint8Array(g),d=v=0,p=h.length;d<p;d++)x=h[d],b.set(x,v),v+=x.length;return b}},c={arraySet:function(h,d,p,g,v){for(var x=0;x<g;x++)h[v+x]=d[p+x]},flattenChunks:function(h){return[].concat.apply([],h)}};s.setTyped=function(h){h?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,c))},s.setTyped(i)},{}],42:[function(n,r,s){var i=n("./common"),o=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var h=new i.Buf8(256),d=0;d<256;d++)h[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function p(g,v){if(v<65537&&(g.subarray&&c||!g.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(g,v));for(var x="",b=0;b<v;b++)x+=String.fromCharCode(g[b]);return x}h[254]=h[254]=1,s.string2buf=function(g){var v,x,b,y,_,E=g.length,T=0;for(y=0;y<E;y++)(64512&(x=g.charCodeAt(y)))==55296&&y+1<E&&(64512&(b=g.charCodeAt(y+1)))==56320&&(x=65536+(x-55296<<10)+(b-56320),y++),T+=x<128?1:x<2048?2:x<65536?3:4;for(v=new i.Buf8(T),y=_=0;_<T;y++)(64512&(x=g.charCodeAt(y)))==55296&&y+1<E&&(64512&(b=g.charCodeAt(y+1)))==56320&&(x=65536+(x-55296<<10)+(b-56320),y++),x<128?v[_++]=x:(x<2048?v[_++]=192|x>>>6:(x<65536?v[_++]=224|x>>>12:(v[_++]=240|x>>>18,v[_++]=128|x>>>12&63),v[_++]=128|x>>>6&63),v[_++]=128|63&x);return v},s.buf2binstring=function(g){return p(g,g.length)},s.binstring2buf=function(g){for(var v=new i.Buf8(g.length),x=0,b=v.length;x<b;x++)v[x]=g.charCodeAt(x);return v},s.buf2string=function(g,v){var x,b,y,_,E=v||g.length,T=new Array(2*E);for(x=b=0;x<E;)if((y=g[x++])<128)T[b++]=y;else if(4<(_=h[y]))T[b++]=65533,x+=_-1;else{for(y&=_===2?31:_===3?15:7;1<_&&x<E;)y=y<<6|63&g[x++],_--;1<_?T[b++]=65533:y<65536?T[b++]=y:(y-=65536,T[b++]=55296|y>>10&1023,T[b++]=56320|1023&y)}return p(T,b)},s.utf8border=function(g,v){var x;for((v=v||g.length)>g.length&&(v=g.length),x=v-1;0<=x&&(192&g[x])==128;)x--;return x<0||x===0?v:x+h[g[x]]>v?x:v}},{"./common":41}],43:[function(n,r,s){r.exports=function(i,o,c,h){for(var d=65535&i|0,p=i>>>16&65535|0,g=0;c!==0;){for(c-=g=2e3<c?2e3:c;p=p+(d=d+o[h++]|0)|0,--g;);d%=65521,p%=65521}return d|p<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var i=(function(){for(var o,c=[],h=0;h<256;h++){o=h;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;c[h]=o}return c})();r.exports=function(o,c,h,d){var p=i,g=d+h;o^=-1;for(var v=d;v<g;v++)o=o>>>8^p[255&(o^c[v])];return-1^o}},{}],46:[function(n,r,s){var i,o=n("../utils/common"),c=n("./trees"),h=n("./adler32"),d=n("./crc32"),p=n("./messages"),g=0,v=4,x=0,b=-2,y=-1,_=4,E=2,T=8,C=9,N=286,R=30,P=19,j=2*N+1,O=15,D=3,Y=258,Z=Y+D+1,z=42,re=113,k=1,K=2,X=3,H=4;function ne(I,ye){return I.msg=p[ye],ye}function se(I){return(I<<1)-(4<I?9:0)}function oe(I){for(var ye=I.length;0<=--ye;)I[ye]=0}function M(I){var ye=I.state,ee=ye.pending;ee>I.avail_out&&(ee=I.avail_out),ee!==0&&(o.arraySet(I.output,ye.pending_buf,ye.pending_out,ee,I.next_out),I.next_out+=ee,ye.pending_out+=ee,I.total_out+=ee,I.avail_out-=ee,ye.pending-=ee,ye.pending===0&&(ye.pending_out=0))}function A(I,ye){c._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,ye),I.block_start=I.strstart,M(I.strm)}function U(I,ye){I.pending_buf[I.pending++]=ye}function F(I,ye){I.pending_buf[I.pending++]=ye>>>8&255,I.pending_buf[I.pending++]=255&ye}function B(I,ye){var ee,V,G=I.max_chain_length,ce=I.strstart,pe=I.prev_length,Te=I.nice_match,de=I.strstart>I.w_size-Z?I.strstart-(I.w_size-Z):0,Me=I.window,_e=I.w_mask,Re=I.prev,Ue=I.strstart+Y,Ze=Me[ce+pe-1],$e=Me[ce+pe];I.prev_length>=I.good_match&&(G>>=2),Te>I.lookahead&&(Te=I.lookahead);do if(Me[(ee=ye)+pe]===$e&&Me[ee+pe-1]===Ze&&Me[ee]===Me[ce]&&Me[++ee]===Me[ce+1]){ce+=2,ee++;do;while(Me[++ce]===Me[++ee]&&Me[++ce]===Me[++ee]&&Me[++ce]===Me[++ee]&&Me[++ce]===Me[++ee]&&Me[++ce]===Me[++ee]&&Me[++ce]===Me[++ee]&&Me[++ce]===Me[++ee]&&Me[++ce]===Me[++ee]&&ce<Ue);if(V=Y-(Ue-ce),ce=Ue-Y,pe<V){if(I.match_start=ye,Te<=(pe=V))break;Ze=Me[ce+pe-1],$e=Me[ce+pe]}}while((ye=Re[ye&_e])>de&&--G!=0);return pe<=I.lookahead?pe:I.lookahead}function ue(I){var ye,ee,V,G,ce,pe,Te,de,Me,_e,Re=I.w_size;do{if(G=I.window_size-I.lookahead-I.strstart,I.strstart>=Re+(Re-Z)){for(o.arraySet(I.window,I.window,Re,Re,0),I.match_start-=Re,I.strstart-=Re,I.block_start-=Re,ye=ee=I.hash_size;V=I.head[--ye],I.head[ye]=Re<=V?V-Re:0,--ee;);for(ye=ee=Re;V=I.prev[--ye],I.prev[ye]=Re<=V?V-Re:0,--ee;);G+=Re}if(I.strm.avail_in===0)break;if(pe=I.strm,Te=I.window,de=I.strstart+I.lookahead,Me=G,_e=void 0,_e=pe.avail_in,Me<_e&&(_e=Me),ee=_e===0?0:(pe.avail_in-=_e,o.arraySet(Te,pe.input,pe.next_in,_e,de),pe.state.wrap===1?pe.adler=h(pe.adler,Te,_e,de):pe.state.wrap===2&&(pe.adler=d(pe.adler,Te,_e,de)),pe.next_in+=_e,pe.total_in+=_e,_e),I.lookahead+=ee,I.lookahead+I.insert>=D)for(ce=I.strstart-I.insert,I.ins_h=I.window[ce],I.ins_h=(I.ins_h<<I.hash_shift^I.window[ce+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[ce+D-1])&I.hash_mask,I.prev[ce&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=ce,ce++,I.insert--,!(I.lookahead+I.insert<D)););}while(I.lookahead<Z&&I.strm.avail_in!==0)}function xe(I,ye){for(var ee,V;;){if(I.lookahead<Z){if(ue(I),I.lookahead<Z&&ye===g)return k;if(I.lookahead===0)break}if(ee=0,I.lookahead>=D&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+D-1])&I.hash_mask,ee=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),ee!==0&&I.strstart-ee<=I.w_size-Z&&(I.match_length=B(I,ee)),I.match_length>=D)if(V=c._tr_tally(I,I.strstart-I.match_start,I.match_length-D),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=D){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+D-1])&I.hash_mask,ee=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else V=c._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(V&&(A(I,!1),I.strm.avail_out===0))return k}return I.insert=I.strstart<D-1?I.strstart:D-1,ye===v?(A(I,!0),I.strm.avail_out===0?X:H):I.last_lit&&(A(I,!1),I.strm.avail_out===0)?k:K}function ge(I,ye){for(var ee,V,G;;){if(I.lookahead<Z){if(ue(I),I.lookahead<Z&&ye===g)return k;if(I.lookahead===0)break}if(ee=0,I.lookahead>=D&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+D-1])&I.hash_mask,ee=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=D-1,ee!==0&&I.prev_length<I.max_lazy_match&&I.strstart-ee<=I.w_size-Z&&(I.match_length=B(I,ee),I.match_length<=5&&(I.strategy===1||I.match_length===D&&4096<I.strstart-I.match_start)&&(I.match_length=D-1)),I.prev_length>=D&&I.match_length<=I.prev_length){for(G=I.strstart+I.lookahead-D,V=c._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-D),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=G&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+D-1])&I.hash_mask,ee=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=D-1,I.strstart++,V&&(A(I,!1),I.strm.avail_out===0))return k}else if(I.match_available){if((V=c._tr_tally(I,0,I.window[I.strstart-1]))&&A(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return k}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(V=c._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<D-1?I.strstart:D-1,ye===v?(A(I,!0),I.strm.avail_out===0?X:H):I.last_lit&&(A(I,!1),I.strm.avail_out===0)?k:K}function ve(I,ye,ee,V,G){this.good_length=I,this.max_lazy=ye,this.nice_length=ee,this.max_chain=V,this.func=G}function je(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*j),this.dyn_dtree=new o.Buf16(2*(2*R+1)),this.bl_tree=new o.Buf16(2*(2*P+1)),oe(this.dyn_ltree),oe(this.dyn_dtree),oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(O+1),this.heap=new o.Buf16(2*N+1),oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*N+1),oe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Be(I){var ye;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=E,(ye=I.state).pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?z:re,I.adler=ye.wrap===2?0:1,ye.last_flush=g,c._tr_init(ye),x):ne(I,b)}function Ge(I){var ye=Be(I);return ye===x&&(function(ee){ee.window_size=2*ee.w_size,oe(ee.head),ee.max_lazy_match=i[ee.level].max_lazy,ee.good_match=i[ee.level].good_length,ee.nice_match=i[ee.level].nice_length,ee.max_chain_length=i[ee.level].max_chain,ee.strstart=0,ee.block_start=0,ee.lookahead=0,ee.insert=0,ee.match_length=ee.prev_length=D-1,ee.match_available=0,ee.ins_h=0})(I.state),ye}function at(I,ye,ee,V,G,ce){if(!I)return b;var pe=1;if(ye===y&&(ye=6),V<0?(pe=0,V=-V):15<V&&(pe=2,V-=16),G<1||C<G||ee!==T||V<8||15<V||ye<0||9<ye||ce<0||_<ce)return ne(I,b);V===8&&(V=9);var Te=new je;return(I.state=Te).strm=I,Te.wrap=pe,Te.gzhead=null,Te.w_bits=V,Te.w_size=1<<Te.w_bits,Te.w_mask=Te.w_size-1,Te.hash_bits=G+7,Te.hash_size=1<<Te.hash_bits,Te.hash_mask=Te.hash_size-1,Te.hash_shift=~~((Te.hash_bits+D-1)/D),Te.window=new o.Buf8(2*Te.w_size),Te.head=new o.Buf16(Te.hash_size),Te.prev=new o.Buf16(Te.w_size),Te.lit_bufsize=1<<G+6,Te.pending_buf_size=4*Te.lit_bufsize,Te.pending_buf=new o.Buf8(Te.pending_buf_size),Te.d_buf=1*Te.lit_bufsize,Te.l_buf=3*Te.lit_bufsize,Te.level=ye,Te.strategy=ce,Te.method=ee,Ge(I)}i=[new ve(0,0,0,0,function(I,ye){var ee=65535;for(ee>I.pending_buf_size-5&&(ee=I.pending_buf_size-5);;){if(I.lookahead<=1){if(ue(I),I.lookahead===0&&ye===g)return k;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var V=I.block_start+ee;if((I.strstart===0||I.strstart>=V)&&(I.lookahead=I.strstart-V,I.strstart=V,A(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-Z&&(A(I,!1),I.strm.avail_out===0))return k}return I.insert=0,ye===v?(A(I,!0),I.strm.avail_out===0?X:H):(I.strstart>I.block_start&&(A(I,!1),I.strm.avail_out),k)}),new ve(4,4,8,4,xe),new ve(4,5,16,8,xe),new ve(4,6,32,32,xe),new ve(4,4,16,16,ge),new ve(8,16,32,32,ge),new ve(8,16,128,128,ge),new ve(8,32,128,256,ge),new ve(32,128,258,1024,ge),new ve(32,258,258,4096,ge)],s.deflateInit=function(I,ye){return at(I,ye,T,15,8,0)},s.deflateInit2=at,s.deflateReset=Ge,s.deflateResetKeep=Be,s.deflateSetHeader=function(I,ye){return I&&I.state?I.state.wrap!==2?b:(I.state.gzhead=ye,x):b},s.deflate=function(I,ye){var ee,V,G,ce;if(!I||!I.state||5<ye||ye<0)return I?ne(I,b):b;if(V=I.state,!I.output||!I.input&&I.avail_in!==0||V.status===666&&ye!==v)return ne(I,I.avail_out===0?-5:b);if(V.strm=I,ee=V.last_flush,V.last_flush=ye,V.status===z)if(V.wrap===2)I.adler=0,U(V,31),U(V,139),U(V,8),V.gzhead?(U(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),U(V,255&V.gzhead.time),U(V,V.gzhead.time>>8&255),U(V,V.gzhead.time>>16&255),U(V,V.gzhead.time>>24&255),U(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),U(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(U(V,255&V.gzhead.extra.length),U(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(I.adler=d(I.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(U(V,0),U(V,0),U(V,0),U(V,0),U(V,0),U(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),U(V,3),V.status=re);else{var pe=T+(V.w_bits-8<<4)<<8;pe|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(pe|=32),pe+=31-pe%31,V.status=re,F(V,pe),V.strstart!==0&&(F(V,I.adler>>>16),F(V,65535&I.adler)),I.adler=1}if(V.status===69)if(V.gzhead.extra){for(G=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>G&&(I.adler=d(I.adler,V.pending_buf,V.pending-G,G)),M(I),G=V.pending,V.pending!==V.pending_buf_size));)U(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>G&&(I.adler=d(I.adler,V.pending_buf,V.pending-G,G)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){G=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>G&&(I.adler=d(I.adler,V.pending_buf,V.pending-G,G)),M(I),G=V.pending,V.pending===V.pending_buf_size)){ce=1;break}ce=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,U(V,ce)}while(ce!==0);V.gzhead.hcrc&&V.pending>G&&(I.adler=d(I.adler,V.pending_buf,V.pending-G,G)),ce===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){G=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>G&&(I.adler=d(I.adler,V.pending_buf,V.pending-G,G)),M(I),G=V.pending,V.pending===V.pending_buf_size)){ce=1;break}ce=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,U(V,ce)}while(ce!==0);V.gzhead.hcrc&&V.pending>G&&(I.adler=d(I.adler,V.pending_buf,V.pending-G,G)),ce===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&M(I),V.pending+2<=V.pending_buf_size&&(U(V,255&I.adler),U(V,I.adler>>8&255),I.adler=0,V.status=re)):V.status=re),V.pending!==0){if(M(I),I.avail_out===0)return V.last_flush=-1,x}else if(I.avail_in===0&&se(ye)<=se(ee)&&ye!==v)return ne(I,-5);if(V.status===666&&I.avail_in!==0)return ne(I,-5);if(I.avail_in!==0||V.lookahead!==0||ye!==g&&V.status!==666){var Te=V.strategy===2?(function(de,Me){for(var _e;;){if(de.lookahead===0&&(ue(de),de.lookahead===0)){if(Me===g)return k;break}if(de.match_length=0,_e=c._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++,_e&&(A(de,!1),de.strm.avail_out===0))return k}return de.insert=0,Me===v?(A(de,!0),de.strm.avail_out===0?X:H):de.last_lit&&(A(de,!1),de.strm.avail_out===0)?k:K})(V,ye):V.strategy===3?(function(de,Me){for(var _e,Re,Ue,Ze,$e=de.window;;){if(de.lookahead<=Y){if(ue(de),de.lookahead<=Y&&Me===g)return k;if(de.lookahead===0)break}if(de.match_length=0,de.lookahead>=D&&0<de.strstart&&(Re=$e[Ue=de.strstart-1])===$e[++Ue]&&Re===$e[++Ue]&&Re===$e[++Ue]){Ze=de.strstart+Y;do;while(Re===$e[++Ue]&&Re===$e[++Ue]&&Re===$e[++Ue]&&Re===$e[++Ue]&&Re===$e[++Ue]&&Re===$e[++Ue]&&Re===$e[++Ue]&&Re===$e[++Ue]&&Ue<Ze);de.match_length=Y-(Ze-Ue),de.match_length>de.lookahead&&(de.match_length=de.lookahead)}if(de.match_length>=D?(_e=c._tr_tally(de,1,de.match_length-D),de.lookahead-=de.match_length,de.strstart+=de.match_length,de.match_length=0):(_e=c._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++),_e&&(A(de,!1),de.strm.avail_out===0))return k}return de.insert=0,Me===v?(A(de,!0),de.strm.avail_out===0?X:H):de.last_lit&&(A(de,!1),de.strm.avail_out===0)?k:K})(V,ye):i[V.level].func(V,ye);if(Te!==X&&Te!==H||(V.status=666),Te===k||Te===X)return I.avail_out===0&&(V.last_flush=-1),x;if(Te===K&&(ye===1?c._tr_align(V):ye!==5&&(c._tr_stored_block(V,0,0,!1),ye===3&&(oe(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),M(I),I.avail_out===0))return V.last_flush=-1,x}return ye!==v?x:V.wrap<=0?1:(V.wrap===2?(U(V,255&I.adler),U(V,I.adler>>8&255),U(V,I.adler>>16&255),U(V,I.adler>>24&255),U(V,255&I.total_in),U(V,I.total_in>>8&255),U(V,I.total_in>>16&255),U(V,I.total_in>>24&255)):(F(V,I.adler>>>16),F(V,65535&I.adler)),M(I),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?x:1)},s.deflateEnd=function(I){var ye;return I&&I.state?(ye=I.state.status)!==z&&ye!==69&&ye!==73&&ye!==91&&ye!==103&&ye!==re&&ye!==666?ne(I,b):(I.state=null,ye===re?ne(I,-3):x):b},s.deflateSetDictionary=function(I,ye){var ee,V,G,ce,pe,Te,de,Me,_e=ye.length;if(!I||!I.state||(ce=(ee=I.state).wrap)===2||ce===1&&ee.status!==z||ee.lookahead)return b;for(ce===1&&(I.adler=h(I.adler,ye,_e,0)),ee.wrap=0,_e>=ee.w_size&&(ce===0&&(oe(ee.head),ee.strstart=0,ee.block_start=0,ee.insert=0),Me=new o.Buf8(ee.w_size),o.arraySet(Me,ye,_e-ee.w_size,ee.w_size,0),ye=Me,_e=ee.w_size),pe=I.avail_in,Te=I.next_in,de=I.input,I.avail_in=_e,I.next_in=0,I.input=ye,ue(ee);ee.lookahead>=D;){for(V=ee.strstart,G=ee.lookahead-(D-1);ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[V+D-1])&ee.hash_mask,ee.prev[V&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=V,V++,--G;);ee.strstart=V,ee.lookahead=D-1,ue(ee)}return ee.strstart+=ee.lookahead,ee.block_start=ee.strstart,ee.insert=ee.lookahead,ee.lookahead=0,ee.match_length=ee.prev_length=D-1,ee.match_available=0,I.next_in=Te,I.input=de,I.avail_in=pe,ee.wrap=ce,x},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(i,o){var c,h,d,p,g,v,x,b,y,_,E,T,C,N,R,P,j,O,D,Y,Z,z,re,k,K;c=i.state,h=i.next_in,k=i.input,d=h+(i.avail_in-5),p=i.next_out,K=i.output,g=p-(o-i.avail_out),v=p+(i.avail_out-257),x=c.dmax,b=c.wsize,y=c.whave,_=c.wnext,E=c.window,T=c.hold,C=c.bits,N=c.lencode,R=c.distcode,P=(1<<c.lenbits)-1,j=(1<<c.distbits)-1;e:do{C<15&&(T+=k[h++]<<C,C+=8,T+=k[h++]<<C,C+=8),O=N[T&P];t:for(;;){if(T>>>=D=O>>>24,C-=D,(D=O>>>16&255)===0)K[p++]=65535&O;else{if(!(16&D)){if((64&D)==0){O=N[(65535&O)+(T&(1<<D)-1)];continue t}if(32&D){c.mode=12;break e}i.msg="invalid literal/length code",c.mode=30;break e}Y=65535&O,(D&=15)&&(C<D&&(T+=k[h++]<<C,C+=8),Y+=T&(1<<D)-1,T>>>=D,C-=D),C<15&&(T+=k[h++]<<C,C+=8,T+=k[h++]<<C,C+=8),O=R[T&j];n:for(;;){if(T>>>=D=O>>>24,C-=D,!(16&(D=O>>>16&255))){if((64&D)==0){O=R[(65535&O)+(T&(1<<D)-1)];continue n}i.msg="invalid distance code",c.mode=30;break e}if(Z=65535&O,C<(D&=15)&&(T+=k[h++]<<C,(C+=8)<D&&(T+=k[h++]<<C,C+=8)),x<(Z+=T&(1<<D)-1)){i.msg="invalid distance too far back",c.mode=30;break e}if(T>>>=D,C-=D,(D=p-g)<Z){if(y<(D=Z-D)&&c.sane){i.msg="invalid distance too far back",c.mode=30;break e}if(re=E,(z=0)===_){if(z+=b-D,D<Y){for(Y-=D;K[p++]=E[z++],--D;);z=p-Z,re=K}}else if(_<D){if(z+=b+_-D,(D-=_)<Y){for(Y-=D;K[p++]=E[z++],--D;);if(z=0,_<Y){for(Y-=D=_;K[p++]=E[z++],--D;);z=p-Z,re=K}}}else if(z+=_-D,D<Y){for(Y-=D;K[p++]=E[z++],--D;);z=p-Z,re=K}for(;2<Y;)K[p++]=re[z++],K[p++]=re[z++],K[p++]=re[z++],Y-=3;Y&&(K[p++]=re[z++],1<Y&&(K[p++]=re[z++]))}else{for(z=p-Z;K[p++]=K[z++],K[p++]=K[z++],K[p++]=K[z++],2<(Y-=3););Y&&(K[p++]=K[z++],1<Y&&(K[p++]=K[z++]))}break}}break}}while(h<d&&p<v);h-=Y=C>>3,T&=(1<<(C-=Y<<3))-1,i.next_in=h,i.next_out=p,i.avail_in=h<d?d-h+5:5-(h-d),i.avail_out=p<v?v-p+257:257-(p-v),c.hold=T,c.bits=C}},{}],49:[function(n,r,s){var i=n("../utils/common"),o=n("./adler32"),c=n("./crc32"),h=n("./inffast"),d=n("./inftrees"),p=1,g=2,v=0,x=-2,b=1,y=852,_=592;function E(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(z){var re;return z&&z.state?(re=z.state,z.total_in=z.total_out=re.total=0,z.msg="",re.wrap&&(z.adler=1&re.wrap),re.mode=b,re.last=0,re.havedict=0,re.dmax=32768,re.head=null,re.hold=0,re.bits=0,re.lencode=re.lendyn=new i.Buf32(y),re.distcode=re.distdyn=new i.Buf32(_),re.sane=1,re.back=-1,v):x}function N(z){var re;return z&&z.state?((re=z.state).wsize=0,re.whave=0,re.wnext=0,C(z)):x}function R(z,re){var k,K;return z&&z.state?(K=z.state,re<0?(k=0,re=-re):(k=1+(re>>4),re<48&&(re&=15)),re&&(re<8||15<re)?x:(K.window!==null&&K.wbits!==re&&(K.window=null),K.wrap=k,K.wbits=re,N(z))):x}function P(z,re){var k,K;return z?(K=new T,(z.state=K).window=null,(k=R(z,re))!==v&&(z.state=null),k):x}var j,O,D=!0;function Y(z){if(D){var re;for(j=new i.Buf32(512),O=new i.Buf32(32),re=0;re<144;)z.lens[re++]=8;for(;re<256;)z.lens[re++]=9;for(;re<280;)z.lens[re++]=7;for(;re<288;)z.lens[re++]=8;for(d(p,z.lens,0,288,j,0,z.work,{bits:9}),re=0;re<32;)z.lens[re++]=5;d(g,z.lens,0,32,O,0,z.work,{bits:5}),D=!1}z.lencode=j,z.lenbits=9,z.distcode=O,z.distbits=5}function Z(z,re,k,K){var X,H=z.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new i.Buf8(H.wsize)),K>=H.wsize?(i.arraySet(H.window,re,k-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(K<(X=H.wsize-H.wnext)&&(X=K),i.arraySet(H.window,re,k-K,X,H.wnext),(K-=X)?(i.arraySet(H.window,re,k-K,K,0),H.wnext=K,H.whave=H.wsize):(H.wnext+=X,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=X))),0}s.inflateReset=N,s.inflateReset2=R,s.inflateResetKeep=C,s.inflateInit=function(z){return P(z,15)},s.inflateInit2=P,s.inflate=function(z,re){var k,K,X,H,ne,se,oe,M,A,U,F,B,ue,xe,ge,ve,je,Be,Ge,at,I,ye,ee,V,G=0,ce=new i.Buf8(4),pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return x;(k=z.state).mode===12&&(k.mode=13),ne=z.next_out,X=z.output,oe=z.avail_out,H=z.next_in,K=z.input,se=z.avail_in,M=k.hold,A=k.bits,U=se,F=oe,ye=v;e:for(;;)switch(k.mode){case b:if(k.wrap===0){k.mode=13;break}for(;A<16;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}if(2&k.wrap&&M===35615){ce[k.check=0]=255&M,ce[1]=M>>>8&255,k.check=c(k.check,ce,2,0),A=M=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&M)<<8)+(M>>8))%31){z.msg="incorrect header check",k.mode=30;break}if((15&M)!=8){z.msg="unknown compression method",k.mode=30;break}if(A-=4,I=8+(15&(M>>>=4)),k.wbits===0)k.wbits=I;else if(I>k.wbits){z.msg="invalid window size",k.mode=30;break}k.dmax=1<<I,z.adler=k.check=1,k.mode=512&M?10:12,A=M=0;break;case 2:for(;A<16;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}if(k.flags=M,(255&k.flags)!=8){z.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){z.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=M>>8&1),512&k.flags&&(ce[0]=255&M,ce[1]=M>>>8&255,k.check=c(k.check,ce,2,0)),A=M=0,k.mode=3;case 3:for(;A<32;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}k.head&&(k.head.time=M),512&k.flags&&(ce[0]=255&M,ce[1]=M>>>8&255,ce[2]=M>>>16&255,ce[3]=M>>>24&255,k.check=c(k.check,ce,4,0)),A=M=0,k.mode=4;case 4:for(;A<16;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}k.head&&(k.head.xflags=255&M,k.head.os=M>>8),512&k.flags&&(ce[0]=255&M,ce[1]=M>>>8&255,k.check=c(k.check,ce,2,0)),A=M=0,k.mode=5;case 5:if(1024&k.flags){for(;A<16;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}k.length=M,k.head&&(k.head.extra_len=M),512&k.flags&&(ce[0]=255&M,ce[1]=M>>>8&255,k.check=c(k.check,ce,2,0)),A=M=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(se<(B=k.length)&&(B=se),B&&(k.head&&(I=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),i.arraySet(k.head.extra,K,H,B,I)),512&k.flags&&(k.check=c(k.check,K,B,H)),se-=B,H+=B,k.length-=B),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(se===0)break e;for(B=0;I=K[H+B++],k.head&&I&&k.length<65536&&(k.head.name+=String.fromCharCode(I)),I&&B<se;);if(512&k.flags&&(k.check=c(k.check,K,B,H)),se-=B,H+=B,I)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(se===0)break e;for(B=0;I=K[H+B++],k.head&&I&&k.length<65536&&(k.head.comment+=String.fromCharCode(I)),I&&B<se;);if(512&k.flags&&(k.check=c(k.check,K,B,H)),se-=B,H+=B,I)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;A<16;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}if(M!==(65535&k.check)){z.msg="header crc mismatch",k.mode=30;break}A=M=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),z.adler=k.check=0,k.mode=12;break;case 10:for(;A<32;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}z.adler=k.check=E(M),A=M=0,k.mode=11;case 11:if(k.havedict===0)return z.next_out=ne,z.avail_out=oe,z.next_in=H,z.avail_in=se,k.hold=M,k.bits=A,2;z.adler=k.check=1,k.mode=12;case 12:if(re===5||re===6)break e;case 13:if(k.last){M>>>=7&A,A-=7&A,k.mode=27;break}for(;A<3;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}switch(k.last=1&M,A-=1,3&(M>>>=1)){case 0:k.mode=14;break;case 1:if(Y(k),k.mode=20,re!==6)break;M>>>=2,A-=2;break e;case 2:k.mode=17;break;case 3:z.msg="invalid block type",k.mode=30}M>>>=2,A-=2;break;case 14:for(M>>>=7&A,A-=7&A;A<32;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}if((65535&M)!=(M>>>16^65535)){z.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&M,A=M=0,k.mode=15,re===6)break e;case 15:k.mode=16;case 16:if(B=k.length){if(se<B&&(B=se),oe<B&&(B=oe),B===0)break e;i.arraySet(X,K,H,B,ne),se-=B,H+=B,oe-=B,ne+=B,k.length-=B;break}k.mode=12;break;case 17:for(;A<14;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}if(k.nlen=257+(31&M),M>>>=5,A-=5,k.ndist=1+(31&M),M>>>=5,A-=5,k.ncode=4+(15&M),M>>>=4,A-=4,286<k.nlen||30<k.ndist){z.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;A<3;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}k.lens[pe[k.have++]]=7&M,M>>>=3,A-=3}for(;k.have<19;)k.lens[pe[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,ee={bits:k.lenbits},ye=d(0,k.lens,0,19,k.lencode,0,k.work,ee),k.lenbits=ee.bits,ye){z.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;ve=(G=k.lencode[M&(1<<k.lenbits)-1])>>>16&255,je=65535&G,!((ge=G>>>24)<=A);){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}if(je<16)M>>>=ge,A-=ge,k.lens[k.have++]=je;else{if(je===16){for(V=ge+2;A<V;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}if(M>>>=ge,A-=ge,k.have===0){z.msg="invalid bit length repeat",k.mode=30;break}I=k.lens[k.have-1],B=3+(3&M),M>>>=2,A-=2}else if(je===17){for(V=ge+3;A<V;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}A-=ge,I=0,B=3+(7&(M>>>=ge)),M>>>=3,A-=3}else{for(V=ge+7;A<V;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}A-=ge,I=0,B=11+(127&(M>>>=ge)),M>>>=7,A-=7}if(k.have+B>k.nlen+k.ndist){z.msg="invalid bit length repeat",k.mode=30;break}for(;B--;)k.lens[k.have++]=I}}if(k.mode===30)break;if(k.lens[256]===0){z.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,ee={bits:k.lenbits},ye=d(p,k.lens,0,k.nlen,k.lencode,0,k.work,ee),k.lenbits=ee.bits,ye){z.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,ee={bits:k.distbits},ye=d(g,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,ee),k.distbits=ee.bits,ye){z.msg="invalid distances set",k.mode=30;break}if(k.mode=20,re===6)break e;case 20:k.mode=21;case 21:if(6<=se&&258<=oe){z.next_out=ne,z.avail_out=oe,z.next_in=H,z.avail_in=se,k.hold=M,k.bits=A,h(z,F),ne=z.next_out,X=z.output,oe=z.avail_out,H=z.next_in,K=z.input,se=z.avail_in,M=k.hold,A=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;ve=(G=k.lencode[M&(1<<k.lenbits)-1])>>>16&255,je=65535&G,!((ge=G>>>24)<=A);){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}if(ve&&(240&ve)==0){for(Be=ge,Ge=ve,at=je;ve=(G=k.lencode[at+((M&(1<<Be+Ge)-1)>>Be)])>>>16&255,je=65535&G,!(Be+(ge=G>>>24)<=A);){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}M>>>=Be,A-=Be,k.back+=Be}if(M>>>=ge,A-=ge,k.back+=ge,k.length=je,ve===0){k.mode=26;break}if(32&ve){k.back=-1,k.mode=12;break}if(64&ve){z.msg="invalid literal/length code",k.mode=30;break}k.extra=15&ve,k.mode=22;case 22:if(k.extra){for(V=k.extra;A<V;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}k.length+=M&(1<<k.extra)-1,M>>>=k.extra,A-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;ve=(G=k.distcode[M&(1<<k.distbits)-1])>>>16&255,je=65535&G,!((ge=G>>>24)<=A);){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}if((240&ve)==0){for(Be=ge,Ge=ve,at=je;ve=(G=k.distcode[at+((M&(1<<Be+Ge)-1)>>Be)])>>>16&255,je=65535&G,!(Be+(ge=G>>>24)<=A);){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}M>>>=Be,A-=Be,k.back+=Be}if(M>>>=ge,A-=ge,k.back+=ge,64&ve){z.msg="invalid distance code",k.mode=30;break}k.offset=je,k.extra=15&ve,k.mode=24;case 24:if(k.extra){for(V=k.extra;A<V;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}k.offset+=M&(1<<k.extra)-1,M>>>=k.extra,A-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){z.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(oe===0)break e;if(B=F-oe,k.offset>B){if((B=k.offset-B)>k.whave&&k.sane){z.msg="invalid distance too far back",k.mode=30;break}ue=B>k.wnext?(B-=k.wnext,k.wsize-B):k.wnext-B,B>k.length&&(B=k.length),xe=k.window}else xe=X,ue=ne-k.offset,B=k.length;for(oe<B&&(B=oe),oe-=B,k.length-=B;X[ne++]=xe[ue++],--B;);k.length===0&&(k.mode=21);break;case 26:if(oe===0)break e;X[ne++]=k.length,oe--,k.mode=21;break;case 27:if(k.wrap){for(;A<32;){if(se===0)break e;se--,M|=K[H++]<<A,A+=8}if(F-=oe,z.total_out+=F,k.total+=F,F&&(z.adler=k.check=k.flags?c(k.check,X,F,ne-F):o(k.check,X,F,ne-F)),F=oe,(k.flags?M:E(M))!==k.check){z.msg="incorrect data check",k.mode=30;break}A=M=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;A<32;){if(se===0)break e;se--,M+=K[H++]<<A,A+=8}if(M!==(4294967295&k.total)){z.msg="incorrect length check",k.mode=30;break}A=M=0}k.mode=29;case 29:ye=1;break e;case 30:ye=-3;break e;case 31:return-4;case 32:default:return x}return z.next_out=ne,z.avail_out=oe,z.next_in=H,z.avail_in=se,k.hold=M,k.bits=A,(k.wsize||F!==z.avail_out&&k.mode<30&&(k.mode<27||re!==4))&&Z(z,z.output,z.next_out,F-z.avail_out)?(k.mode=31,-4):(U-=z.avail_in,F-=z.avail_out,z.total_in+=U,z.total_out+=F,k.total+=F,k.wrap&&F&&(z.adler=k.check=k.flags?c(k.check,X,F,z.next_out-F):o(k.check,X,F,z.next_out-F)),z.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(U==0&&F===0||re===4)&&ye===v&&(ye=-5),ye)},s.inflateEnd=function(z){if(!z||!z.state)return x;var re=z.state;return re.window&&(re.window=null),z.state=null,v},s.inflateGetHeader=function(z,re){var k;return z&&z.state?(2&(k=z.state).wrap)==0?x:((k.head=re).done=!1,v):x},s.inflateSetDictionary=function(z,re){var k,K=re.length;return z&&z.state?(k=z.state).wrap!==0&&k.mode!==11?x:k.mode===11&&o(1,re,K,0)!==k.check?-3:Z(z,re,K,K)?(k.mode=31,-4):(k.havedict=1,v):x},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var i=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(p,g,v,x,b,y,_,E){var T,C,N,R,P,j,O,D,Y,Z=E.bits,z=0,re=0,k=0,K=0,X=0,H=0,ne=0,se=0,oe=0,M=0,A=null,U=0,F=new i.Buf16(16),B=new i.Buf16(16),ue=null,xe=0;for(z=0;z<=15;z++)F[z]=0;for(re=0;re<x;re++)F[g[v+re]]++;for(X=Z,K=15;1<=K&&F[K]===0;K--);if(K<X&&(X=K),K===0)return b[y++]=20971520,b[y++]=20971520,E.bits=1,0;for(k=1;k<K&&F[k]===0;k++);for(X<k&&(X=k),z=se=1;z<=15;z++)if(se<<=1,(se-=F[z])<0)return-1;if(0<se&&(p===0||K!==1))return-1;for(B[1]=0,z=1;z<15;z++)B[z+1]=B[z]+F[z];for(re=0;re<x;re++)g[v+re]!==0&&(_[B[g[v+re]]++]=re);if(j=p===0?(A=ue=_,19):p===1?(A=o,U-=257,ue=c,xe-=257,256):(A=h,ue=d,-1),z=k,P=y,ne=re=M=0,N=-1,R=(oe=1<<(H=X))-1,p===1&&852<oe||p===2&&592<oe)return 1;for(;;){for(O=z-ne,Y=_[re]<j?(D=0,_[re]):_[re]>j?(D=ue[xe+_[re]],A[U+_[re]]):(D=96,0),T=1<<z-ne,k=C=1<<H;b[P+(M>>ne)+(C-=T)]=O<<24|D<<16|Y|0,C!==0;);for(T=1<<z-1;M&T;)T>>=1;if(T!==0?(M&=T-1,M+=T):M=0,re++,--F[z]==0){if(z===K)break;z=g[v+_[re]]}if(X<z&&(M&R)!==N){for(ne===0&&(ne=X),P+=k,se=1<<(H=z-ne);H+ne<K&&!((se-=F[H+ne])<=0);)H++,se<<=1;if(oe+=1<<H,p===1&&852<oe||p===2&&592<oe)return 1;b[N=M&R]=X<<24|H<<16|P-y|0}}return M!==0&&(b[P+M]=z-ne<<24|64<<16|0),E.bits=X,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var i=n("../utils/common"),o=0,c=1;function h(G){for(var ce=G.length;0<=--ce;)G[ce]=0}var d=0,p=29,g=256,v=g+1+p,x=30,b=19,y=2*v+1,_=15,E=16,T=7,C=256,N=16,R=17,P=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=new Array(2*(v+2));h(Z);var z=new Array(2*x);h(z);var re=new Array(512);h(re);var k=new Array(256);h(k);var K=new Array(p);h(K);var X,H,ne,se=new Array(x);function oe(G,ce,pe,Te,de){this.static_tree=G,this.extra_bits=ce,this.extra_base=pe,this.elems=Te,this.max_length=de,this.has_stree=G&&G.length}function M(G,ce){this.dyn_tree=G,this.max_code=0,this.stat_desc=ce}function A(G){return G<256?re[G]:re[256+(G>>>7)]}function U(G,ce){G.pending_buf[G.pending++]=255&ce,G.pending_buf[G.pending++]=ce>>>8&255}function F(G,ce,pe){G.bi_valid>E-pe?(G.bi_buf|=ce<<G.bi_valid&65535,U(G,G.bi_buf),G.bi_buf=ce>>E-G.bi_valid,G.bi_valid+=pe-E):(G.bi_buf|=ce<<G.bi_valid&65535,G.bi_valid+=pe)}function B(G,ce,pe){F(G,pe[2*ce],pe[2*ce+1])}function ue(G,ce){for(var pe=0;pe|=1&G,G>>>=1,pe<<=1,0<--ce;);return pe>>>1}function xe(G,ce,pe){var Te,de,Me=new Array(_+1),_e=0;for(Te=1;Te<=_;Te++)Me[Te]=_e=_e+pe[Te-1]<<1;for(de=0;de<=ce;de++){var Re=G[2*de+1];Re!==0&&(G[2*de]=ue(Me[Re]++,Re))}}function ge(G){var ce;for(ce=0;ce<v;ce++)G.dyn_ltree[2*ce]=0;for(ce=0;ce<x;ce++)G.dyn_dtree[2*ce]=0;for(ce=0;ce<b;ce++)G.bl_tree[2*ce]=0;G.dyn_ltree[2*C]=1,G.opt_len=G.static_len=0,G.last_lit=G.matches=0}function ve(G){8<G.bi_valid?U(G,G.bi_buf):0<G.bi_valid&&(G.pending_buf[G.pending++]=G.bi_buf),G.bi_buf=0,G.bi_valid=0}function je(G,ce,pe,Te){var de=2*ce,Me=2*pe;return G[de]<G[Me]||G[de]===G[Me]&&Te[ce]<=Te[pe]}function Be(G,ce,pe){for(var Te=G.heap[pe],de=pe<<1;de<=G.heap_len&&(de<G.heap_len&&je(ce,G.heap[de+1],G.heap[de],G.depth)&&de++,!je(ce,Te,G.heap[de],G.depth));)G.heap[pe]=G.heap[de],pe=de,de<<=1;G.heap[pe]=Te}function Ge(G,ce,pe){var Te,de,Me,_e,Re=0;if(G.last_lit!==0)for(;Te=G.pending_buf[G.d_buf+2*Re]<<8|G.pending_buf[G.d_buf+2*Re+1],de=G.pending_buf[G.l_buf+Re],Re++,Te===0?B(G,de,ce):(B(G,(Me=k[de])+g+1,ce),(_e=j[Me])!==0&&F(G,de-=K[Me],_e),B(G,Me=A(--Te),pe),(_e=O[Me])!==0&&F(G,Te-=se[Me],_e)),Re<G.last_lit;);B(G,C,ce)}function at(G,ce){var pe,Te,de,Me=ce.dyn_tree,_e=ce.stat_desc.static_tree,Re=ce.stat_desc.has_stree,Ue=ce.stat_desc.elems,Ze=-1;for(G.heap_len=0,G.heap_max=y,pe=0;pe<Ue;pe++)Me[2*pe]!==0?(G.heap[++G.heap_len]=Ze=pe,G.depth[pe]=0):Me[2*pe+1]=0;for(;G.heap_len<2;)Me[2*(de=G.heap[++G.heap_len]=Ze<2?++Ze:0)]=1,G.depth[de]=0,G.opt_len--,Re&&(G.static_len-=_e[2*de+1]);for(ce.max_code=Ze,pe=G.heap_len>>1;1<=pe;pe--)Be(G,Me,pe);for(de=Ue;pe=G.heap[1],G.heap[1]=G.heap[G.heap_len--],Be(G,Me,1),Te=G.heap[1],G.heap[--G.heap_max]=pe,G.heap[--G.heap_max]=Te,Me[2*de]=Me[2*pe]+Me[2*Te],G.depth[de]=(G.depth[pe]>=G.depth[Te]?G.depth[pe]:G.depth[Te])+1,Me[2*pe+1]=Me[2*Te+1]=de,G.heap[1]=de++,Be(G,Me,1),2<=G.heap_len;);G.heap[--G.heap_max]=G.heap[1],(function($e,wt){var Qt,bt,Lt,gt,Qe,Ht,kt=wt.dyn_tree,ds=wt.max_code,Ar=wt.stat_desc.static_tree,or=wt.stat_desc.has_stree,Rn=wt.stat_desc.extra_bits,zn=wt.stat_desc.extra_base,At=wt.stat_desc.max_length,jt=0;for(gt=0;gt<=_;gt++)$e.bl_count[gt]=0;for(kt[2*$e.heap[$e.heap_max]+1]=0,Qt=$e.heap_max+1;Qt<y;Qt++)At<(gt=kt[2*kt[2*(bt=$e.heap[Qt])+1]+1]+1)&&(gt=At,jt++),kt[2*bt+1]=gt,ds<bt||($e.bl_count[gt]++,Qe=0,zn<=bt&&(Qe=Rn[bt-zn]),Ht=kt[2*bt],$e.opt_len+=Ht*(gt+Qe),or&&($e.static_len+=Ht*(Ar[2*bt+1]+Qe)));if(jt!==0){do{for(gt=At-1;$e.bl_count[gt]===0;)gt--;$e.bl_count[gt]--,$e.bl_count[gt+1]+=2,$e.bl_count[At]--,jt-=2}while(0<jt);for(gt=At;gt!==0;gt--)for(bt=$e.bl_count[gt];bt!==0;)ds<(Lt=$e.heap[--Qt])||(kt[2*Lt+1]!==gt&&($e.opt_len+=(gt-kt[2*Lt+1])*kt[2*Lt],kt[2*Lt+1]=gt),bt--)}})(G,ce),xe(Me,Ze,G.bl_count)}function I(G,ce,pe){var Te,de,Me=-1,_e=ce[1],Re=0,Ue=7,Ze=4;for(_e===0&&(Ue=138,Ze=3),ce[2*(pe+1)+1]=65535,Te=0;Te<=pe;Te++)de=_e,_e=ce[2*(Te+1)+1],++Re<Ue&&de===_e||(Re<Ze?G.bl_tree[2*de]+=Re:de!==0?(de!==Me&&G.bl_tree[2*de]++,G.bl_tree[2*N]++):Re<=10?G.bl_tree[2*R]++:G.bl_tree[2*P]++,Me=de,Ze=(Re=0)===_e?(Ue=138,3):de===_e?(Ue=6,3):(Ue=7,4))}function ye(G,ce,pe){var Te,de,Me=-1,_e=ce[1],Re=0,Ue=7,Ze=4;for(_e===0&&(Ue=138,Ze=3),Te=0;Te<=pe;Te++)if(de=_e,_e=ce[2*(Te+1)+1],!(++Re<Ue&&de===_e)){if(Re<Ze)for(;B(G,de,G.bl_tree),--Re!=0;);else de!==0?(de!==Me&&(B(G,de,G.bl_tree),Re--),B(G,N,G.bl_tree),F(G,Re-3,2)):Re<=10?(B(G,R,G.bl_tree),F(G,Re-3,3)):(B(G,P,G.bl_tree),F(G,Re-11,7));Me=de,Ze=(Re=0)===_e?(Ue=138,3):de===_e?(Ue=6,3):(Ue=7,4)}}h(se);var ee=!1;function V(G,ce,pe,Te){F(G,(d<<1)+(Te?1:0),3),(function(de,Me,_e,Re){ve(de),U(de,_e),U(de,~_e),i.arraySet(de.pending_buf,de.window,Me,_e,de.pending),de.pending+=_e})(G,ce,pe)}s._tr_init=function(G){ee||((function(){var ce,pe,Te,de,Me,_e=new Array(_+1);for(de=Te=0;de<p-1;de++)for(K[de]=Te,ce=0;ce<1<<j[de];ce++)k[Te++]=de;for(k[Te-1]=de,de=Me=0;de<16;de++)for(se[de]=Me,ce=0;ce<1<<O[de];ce++)re[Me++]=de;for(Me>>=7;de<x;de++)for(se[de]=Me<<7,ce=0;ce<1<<O[de]-7;ce++)re[256+Me++]=de;for(pe=0;pe<=_;pe++)_e[pe]=0;for(ce=0;ce<=143;)Z[2*ce+1]=8,ce++,_e[8]++;for(;ce<=255;)Z[2*ce+1]=9,ce++,_e[9]++;for(;ce<=279;)Z[2*ce+1]=7,ce++,_e[7]++;for(;ce<=287;)Z[2*ce+1]=8,ce++,_e[8]++;for(xe(Z,v+1,_e),ce=0;ce<x;ce++)z[2*ce+1]=5,z[2*ce]=ue(ce,5);X=new oe(Z,j,g+1,v,_),H=new oe(z,O,0,x,_),ne=new oe(new Array(0),D,0,b,T)})(),ee=!0),G.l_desc=new M(G.dyn_ltree,X),G.d_desc=new M(G.dyn_dtree,H),G.bl_desc=new M(G.bl_tree,ne),G.bi_buf=0,G.bi_valid=0,ge(G)},s._tr_stored_block=V,s._tr_flush_block=function(G,ce,pe,Te){var de,Me,_e=0;0<G.level?(G.strm.data_type===2&&(G.strm.data_type=(function(Re){var Ue,Ze=4093624447;for(Ue=0;Ue<=31;Ue++,Ze>>>=1)if(1&Ze&&Re.dyn_ltree[2*Ue]!==0)return o;if(Re.dyn_ltree[18]!==0||Re.dyn_ltree[20]!==0||Re.dyn_ltree[26]!==0)return c;for(Ue=32;Ue<g;Ue++)if(Re.dyn_ltree[2*Ue]!==0)return c;return o})(G)),at(G,G.l_desc),at(G,G.d_desc),_e=(function(Re){var Ue;for(I(Re,Re.dyn_ltree,Re.l_desc.max_code),I(Re,Re.dyn_dtree,Re.d_desc.max_code),at(Re,Re.bl_desc),Ue=b-1;3<=Ue&&Re.bl_tree[2*Y[Ue]+1]===0;Ue--);return Re.opt_len+=3*(Ue+1)+5+5+4,Ue})(G),de=G.opt_len+3+7>>>3,(Me=G.static_len+3+7>>>3)<=de&&(de=Me)):de=Me=pe+5,pe+4<=de&&ce!==-1?V(G,ce,pe,Te):G.strategy===4||Me===de?(F(G,2+(Te?1:0),3),Ge(G,Z,z)):(F(G,4+(Te?1:0),3),(function(Re,Ue,Ze,$e){var wt;for(F(Re,Ue-257,5),F(Re,Ze-1,5),F(Re,$e-4,4),wt=0;wt<$e;wt++)F(Re,Re.bl_tree[2*Y[wt]+1],3);ye(Re,Re.dyn_ltree,Ue-1),ye(Re,Re.dyn_dtree,Ze-1)})(G,G.l_desc.max_code+1,G.d_desc.max_code+1,_e+1),Ge(G,G.dyn_ltree,G.dyn_dtree)),ge(G),Te&&ve(G)},s._tr_tally=function(G,ce,pe){return G.pending_buf[G.d_buf+2*G.last_lit]=ce>>>8&255,G.pending_buf[G.d_buf+2*G.last_lit+1]=255&ce,G.pending_buf[G.l_buf+G.last_lit]=255&pe,G.last_lit++,ce===0?G.dyn_ltree[2*pe]++:(G.matches++,ce--,G.dyn_ltree[2*(k[pe]+g+1)]++,G.dyn_dtree[2*A(ce)]++),G.last_lit===G.lit_bufsize-1},s._tr_align=function(G){F(G,2,3),B(G,C,Z),(function(ce){ce.bi_valid===16?(U(ce,ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0):8<=ce.bi_valid&&(ce.pending_buf[ce.pending++]=255&ce.bi_buf,ce.bi_buf>>=8,ce.bi_valid-=8)})(G)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(i){(function(o,c){if(!o.setImmediate){var h,d,p,g,v=1,x={},b=!1,y=o.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(o);_=_&&_.setTimeout?_:o,h={}.toString.call(o.process)==="[object process]"?function(N){process.nextTick(function(){T(N)})}:(function(){if(o.postMessage&&!o.importScripts){var N=!0,R=o.onmessage;return o.onmessage=function(){N=!1},o.postMessage("","*"),o.onmessage=R,N}})()?(g="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",C,!1):o.attachEvent("onmessage",C),function(N){o.postMessage(g+N,"*")}):o.MessageChannel?((p=new MessageChannel).port1.onmessage=function(N){T(N.data)},function(N){p.port2.postMessage(N)}):y&&"onreadystatechange"in y.createElement("script")?(d=y.documentElement,function(N){var R=y.createElement("script");R.onreadystatechange=function(){T(N),R.onreadystatechange=null,d.removeChild(R),R=null},d.appendChild(R)}):function(N){setTimeout(T,0,N)},_.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var R=new Array(arguments.length-1),P=0;P<R.length;P++)R[P]=arguments[P+1];var j={callback:N,args:R};return x[v]=j,h(v),v++},_.clearImmediate=E}function E(N){delete x[N]}function T(N){if(b)setTimeout(T,0,N);else{var R=x[N];if(R){b=!0;try{(function(P){var j=P.callback,O=P.args;switch(O.length){case 0:j();break;case 1:j(O[0]);break;case 2:j(O[0],O[1]);break;case 3:j(O[0],O[1],O[2]);break;default:j.apply(c,O)}})(R)}finally{E(N),b=!1}}}}function C(N){N.source===o&&typeof N.data=="string"&&N.data.indexOf(g)===0&&T(+N.data.slice(g.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof sa<"u"?sa:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(fm)),fm.exports}var r6=n6();const s6=ph(r6),RS=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i6=RS+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",a6="["+RS+"]["+i6+"]*",o6=new RegExp("^"+a6+"$");function OS(e,t){const n=[];let r=t.exec(e);for(;r;){const s=[];s.startIndex=t.lastIndex-r[0].length;const i=r.length;for(let o=0;o<i;o++)s.push(r[o]);n.push(s),r=t.exec(e)}return n}const bh=function(e){const t=o6.exec(e);return!(t===null||typeof t>"u")};function l6(e){return typeof e<"u"}const c6={allowBooleanAttributes:!1,unpairedTags:[]};function u6(e,t){t=Object.assign({},c6,t);const n=[];let r=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=Fb(e,i),i.err)return i}else if(e[i]==="<"){let o=i;if(i++,e[i]==="!"){i=Pb(e,i);continue}else{let c=!1;e[i]==="/"&&(c=!0,i++);let h="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)h+=e[i];if(h=h.trim(),h[h.length-1]==="/"&&(h=h.substring(0,h.length-1),i--),!v6(h)){let g;return h.trim().length===0?g="Invalid space after '<'.":g="Tag '"+h+"' is an invalid name.",gn("InvalidTag",g,cr(e,i))}const d=h6(e,i);if(d===!1)return gn("InvalidAttr","Attributes for '"+h+"' have open quote.",cr(e,i));let p=d.value;if(i=d.index,p[p.length-1]==="/"){const g=i-p.length;p=p.substring(0,p.length-1);const v=zb(p,t);if(v===!0)r=!0;else return gn(v.err.code,v.err.msg,cr(e,g+v.err.line))}else if(c)if(d.tagClosed){if(p.trim().length>0)return gn("InvalidTag","Closing tag '"+h+"' can't have attributes or invalid starting.",cr(e,o));if(n.length===0)return gn("InvalidTag","Closing tag '"+h+"' has not been opened.",cr(e,o));{const g=n.pop();if(h!==g.tagName){let v=cr(e,g.tagStartPos);return gn("InvalidTag","Expected closing tag '"+g.tagName+"' (opened in line "+v.line+", col "+v.col+") instead of closing tag '"+h+"'.",cr(e,o))}n.length==0&&(s=!0)}}else return gn("InvalidTag","Closing tag '"+h+"' doesn't have proper closing.",cr(e,i));else{const g=zb(p,t);if(g!==!0)return gn(g.err.code,g.err.msg,cr(e,i-p.length+g.err.line));if(s===!0)return gn("InvalidXml","Multiple possible root nodes found.",cr(e,i));t.unpairedTags.indexOf(h)!==-1||n.push({tagName:h,tagStartPos:o}),r=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=Pb(e,i);continue}else if(e[i+1]==="?"){if(i=Fb(e,++i),i.err)return i}else break;else if(e[i]==="&"){const g=g6(e,i);if(g==-1)return gn("InvalidChar","char '&' is not expected.",cr(e,i));i=g}else if(s===!0&&!Lb(e[i]))return gn("InvalidXml","Extra text at the end",cr(e,i));e[i]==="<"&&i--}}else{if(Lb(e[i]))continue;return gn("InvalidChar","char '"+e[i]+"' is not expected.",cr(e,i))}if(r){if(n.length==1)return gn("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",cr(e,n[0].tagStartPos));if(n.length>0)return gn("InvalidXml","Invalid '"+JSON.stringify(n.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return gn("InvalidXml","Start tag expected.",1);return!0}function Lb(e){return e===" "||e==="	"||e===`
`||e==="\r"}function Fb(e,t){const n=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const r=e.substr(n,t-n);if(t>5&&r==="xml")return gn("InvalidXml","XML declaration allowed only at the start of the document.",cr(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Pb(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let n=1;for(t+=8;t<e.length;t++)if(e[t]==="<")n++;else if(e[t]===">"&&(n--,n===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const f6='"',d6="'";function h6(e,t){let n="",r="",s=!1;for(;t<e.length;t++){if(e[t]===f6||e[t]===d6)r===""?r=e[t]:r!==e[t]||(r="");else if(e[t]===">"&&r===""){s=!0;break}n+=e[t]}return r!==""?!1:{value:n,index:t,tagClosed:s}}const p6=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function zb(e,t){const n=OS(e,p6),r={};for(let s=0;s<n.length;s++){if(n[s][1].length===0)return gn("InvalidAttr","Attribute '"+n[s][2]+"' has no space in starting.",Tc(n[s]));if(n[s][3]!==void 0&&n[s][4]===void 0)return gn("InvalidAttr","Attribute '"+n[s][2]+"' is without value.",Tc(n[s]));if(n[s][3]===void 0&&!t.allowBooleanAttributes)return gn("InvalidAttr","boolean attribute '"+n[s][2]+"' is not allowed.",Tc(n[s]));const i=n[s][2];if(!x6(i))return gn("InvalidAttr","Attribute '"+i+"' is an invalid name.",Tc(n[s]));if(!r.hasOwnProperty(i))r[i]=1;else return gn("InvalidAttr","Attribute '"+i+"' is repeated.",Tc(n[s]))}return!0}function m6(e,t){let n=/\d/;for(e[t]==="x"&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(n))break}return-1}function g6(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,m6(e,t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(e[t]===";")break;return-1}return t}function gn(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function x6(e){return bh(e)}function v6(e){return bh(e)}function cr(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function Tc(e){return e.startIndex+e[1].length}const y6={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e},captureMetaData:!1},w6=function(e){return Object.assign({},y6,e)};let zd;typeof Symbol!="function"?zd="@@xmlMetadata":zd=Symbol("XML Node Metadata");class Ba{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:n})}addChild(t,n){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),n!==void 0&&(this.child[this.child.length-1][zd]={startIndex:n})}static getMetaDataSymbol(){return zd}}class b6{constructor(t){this.suppressValidationErr=!t}readDocType(t,n){const r={};if(t[n+3]==="O"&&t[n+4]==="C"&&t[n+5]==="T"&&t[n+6]==="Y"&&t[n+7]==="P"&&t[n+8]==="E"){n=n+9;let s=1,i=!1,o=!1,c="";for(;n<t.length;n++)if(t[n]==="<"&&!o){if(i&&Da(t,"!ENTITY",n)){n+=7;let h,d;[h,d,n]=this.readEntityExp(t,n+1,this.suppressValidationErr),d.indexOf("&")===-1&&(r[h]={regx:RegExp(`&${h};`,"g"),val:d})}else if(i&&Da(t,"!ELEMENT",n)){n+=8;const{index:h}=this.readElementExp(t,n+1);n=h}else if(i&&Da(t,"!ATTLIST",n))n+=8;else if(i&&Da(t,"!NOTATION",n)){n+=9;const{index:h}=this.readNotationExp(t,n+1,this.suppressValidationErr);n=h}else if(Da(t,"!--",n))o=!0;else throw new Error("Invalid DOCTYPE");s++,c=""}else if(t[n]===">"){if(o?t[n-1]==="-"&&t[n-2]==="-"&&(o=!1,s--):s--,s===0)break}else t[n]==="["?i=!0:c+=t[n];if(s!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:n}}readEntityExp(t,n){n=_r(t,n);let r="";for(;n<t.length&&!/\s/.test(t[n])&&t[n]!=='"'&&t[n]!=="'";)r+=t[n],n++;if(Cc(r),n=_r(t,n),!this.suppressValidationErr){if(t.substring(n,n+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(t[n]==="%")throw new Error("Parameter entities are not supported")}let s="";return[n,s]=this.readIdentifierVal(t,n,"entity"),n--,[r,s,n]}readNotationExp(t,n){n=_r(t,n);let r="";for(;n<t.length&&!/\s/.test(t[n]);)r+=t[n],n++;!this.suppressValidationErr&&Cc(r),n=_r(t,n);const s=t.substring(n,n+6).toUpperCase();if(!this.suppressValidationErr&&s!=="SYSTEM"&&s!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${s}"`);n+=s.length,n=_r(t,n);let i=null,o=null;if(s==="PUBLIC")[n,i]=this.readIdentifierVal(t,n,"publicIdentifier"),n=_r(t,n),(t[n]==='"'||t[n]==="'")&&([n,o]=this.readIdentifierVal(t,n,"systemIdentifier"));else if(s==="SYSTEM"&&([n,o]=this.readIdentifierVal(t,n,"systemIdentifier"),!this.suppressValidationErr&&!o))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:i,systemIdentifier:o,index:--n}}readIdentifierVal(t,n,r){let s="";const i=t[n];if(i!=='"'&&i!=="'")throw new Error(`Expected quoted string, found "${i}"`);for(n++;n<t.length&&t[n]!==i;)s+=t[n],n++;if(t[n]!==i)throw new Error(`Unterminated ${r} value`);return n++,[n,s]}readElementExp(t,n){n=_r(t,n);let r="";for(;n<t.length&&!/\s/.test(t[n]);)r+=t[n],n++;if(!this.suppressValidationErr&&!bh(r))throw new Error(`Invalid element name: "${r}"`);n=_r(t,n);let s="";if(t[n]==="E"&&Da(t,"MPTY",n))n+=4;else if(t[n]==="A"&&Da(t,"NY",n))n+=2;else if(t[n]==="("){for(n++;n<t.length&&t[n]!==")";)s+=t[n],n++;if(t[n]!==")")throw new Error("Unterminated content model")}else if(!this.suppressValidationErr)throw new Error(`Invalid Element Expression, found "${t[n]}"`);return{elementName:r,contentModel:s.trim(),index:n}}readAttlistExp(t,n){n=_r(t,n);let r="";for(;n<t.length&&!/\s/.test(t[n]);)r+=t[n],n++;Cc(r),n=_r(t,n);let s="";for(;n<t.length&&!/\s/.test(t[n]);)s+=t[n],n++;if(!Cc(s))throw new Error(`Invalid attribute name: "${s}"`);n=_r(t,n);let i="";if(t.substring(n,n+8).toUpperCase()==="NOTATION"){if(i="NOTATION",n+=8,n=_r(t,n),t[n]!=="(")throw new Error(`Expected '(', found "${t[n]}"`);n++;let c=[];for(;n<t.length&&t[n]!==")";){let h="";for(;n<t.length&&t[n]!=="|"&&t[n]!==")";)h+=t[n],n++;if(h=h.trim(),!Cc(h))throw new Error(`Invalid notation name: "${h}"`);c.push(h),t[n]==="|"&&(n++,n=_r(t,n))}if(t[n]!==")")throw new Error("Unterminated list of notations");n++,i+=" ("+c.join("|")+")"}else{for(;n<t.length&&!/\s/.test(t[n]);)i+=t[n],n++;const c=["CDATA","ID","IDREF","IDREFS","ENTITY","ENTITIES","NMTOKEN","NMTOKENS"];if(!this.suppressValidationErr&&!c.includes(i.toUpperCase()))throw new Error(`Invalid attribute type: "${i}"`)}n=_r(t,n);let o="";return t.substring(n,n+8).toUpperCase()==="#REQUIRED"?(o="#REQUIRED",n+=8):t.substring(n,n+7).toUpperCase()==="#IMPLIED"?(o="#IMPLIED",n+=7):[n,o]=this.readIdentifierVal(t,n,"ATTLIST"),{elementName:r,attributeName:s,attributeType:i,defaultValue:o,index:n}}}const _r=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t};function Da(e,t,n){for(let r=0;r<t.length;r++)if(t[r]!==e[n+r+1])return!1;return!0}function Cc(e){if(bh(e))return e;throw new Error(`Invalid entity name ${e}`)}const _6=/^[-+]?0x[a-fA-F0-9]+$/,S6=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,E6={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function T6(e,t={}){if(t=Object.assign({},E6,t),!e||typeof e!="string")return e;let n=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(n))return e;if(e==="0")return 0;if(t.hex&&_6.test(n))return A6(n,16);if(n.search(/.+[eE].+/)!==-1)return N6(e,n,t);{const r=S6.exec(n);if(r){const s=r[1]||"",i=r[2];let o=k6(r[3]);const c=s?e[i.length+1]===".":e[i.length]===".";if(!t.leadingZeros&&(i.length>1||i.length===1&&!c))return e;{const h=Number(n),d=String(h);if(h===0)return h;if(d.search(/[eE]/)!==-1)return t.eNotation?h:e;if(n.indexOf(".")!==-1)return d==="0"||d===o||d===`${s}${o}`?h:e;let p=i?o:n;return i?p===d||s+p===d?h:e:p===d||p===s+d?h:e}}else return e}}const C6=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function N6(e,t,n){if(!n.eNotation)return e;const r=t.match(C6);if(r){let s=r[1]||"";const i=r[3].indexOf("e")===-1?"E":"e",o=r[2],c=s?e[o.length+1]===i:e[o.length]===i;return o.length>1&&c?e:o.length===1&&(r[3].startsWith(`.${i}`)||r[3][0]===i)?Number(t):n.leadingZeros&&!c?(t=(r[1]||"")+r[3],Number(t)):e}else return e}function k6(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function A6(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}function j6(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(const n of e)if(typeof n=="string"&&t===n||n instanceof RegExp&&n.test(t))return!0}:()=>!1}class R6{constructor(t){if(this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCodePoint(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCodePoint(Number.parseInt(r,16))}},this.addExternalEntities=O6,this.parseXml=F6,this.parseTextData=M6,this.resolveNameSpace=D6,this.buildAttributesMap=L6,this.isItStopNode=U6,this.replaceEntitiesValue=z6,this.readStopNodeData=H6,this.saveTextToParentTag=B6,this.addChild=P6,this.ignoreAttributesFn=j6(this.options.ignoreAttributes),this.options.stopNodes&&this.options.stopNodes.length>0){this.stopNodesExact=new Set,this.stopNodesWildcard=new Set;for(let n=0;n<this.options.stopNodes.length;n++){const r=this.options.stopNodes[n];typeof r=="string"&&(r.startsWith("*.")?this.stopNodesWildcard.add(r.substring(2)):this.stopNodesExact.add(r))}}}}function O6(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function M6(e,t,n,r,s,i,o){if(e!==void 0&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));const c=this.options.tagValueProcessor(t,e,n,s,i);return c==null?e:typeof c!=typeof e||c!==e?c:this.options.trimValues?fg(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?fg(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function D6(e){if(this.options.removeNSPrefix){const t=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=n+t[1])}return e}const I6=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function L6(e,t,n){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){const r=OS(e,I6),s=r.length,i={};for(let o=0;o<s;o++){const c=this.resolveNameSpace(r[o][1]);if(this.ignoreAttributesFn(c,t))continue;let h=r[o][4],d=this.options.attributeNamePrefix+c;if(c.length)if(this.options.transformAttributeName&&(d=this.options.transformAttributeName(d)),d==="__proto__"&&(d="#__proto__"),h!==void 0){this.options.trimValues&&(h=h.trim()),h=this.replaceEntitiesValue(h);const p=this.options.attributeValueProcessor(c,h,t);p==null?i[d]=h:typeof p!=typeof h||p!==h?i[d]=p:i[d]=fg(h,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[d]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const o={};return o[this.options.attributesGroupName]=i,o}return i}}const F6=function(e){e=e.replace(/\r\n?/g,`
`);const t=new Ba("!xml");let n=t,r="",s="";const i=new b6(this.options.processEntities);for(let o=0;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){const h=Ga(e,">",o,"Closing Tag is not closed.");let d=e.substring(o+2,h).trim();if(this.options.removeNSPrefix){const v=d.indexOf(":");v!==-1&&(d=d.substr(v+1))}this.options.transformTagName&&(d=this.options.transformTagName(d)),n&&(r=this.saveTextToParentTag(r,n,s));const p=s.substring(s.lastIndexOf(".")+1);if(d&&this.options.unpairedTags.indexOf(d)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${d}>`);let g=0;p&&this.options.unpairedTags.indexOf(p)!==-1?(g=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):g=s.lastIndexOf("."),s=s.substring(0,g),n=this.tagsNodeStack.pop(),r="",o=h}else if(e[o+1]==="?"){let h=ug(e,o,!1,"?>");if(!h)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,s),!(this.options.ignoreDeclaration&&h.tagName==="?xml"||this.options.ignorePiTags)){const d=new Ba(h.tagName);d.add(this.options.textNodeName,""),h.tagName!==h.tagExp&&h.attrExpPresent&&(d[":@"]=this.buildAttributesMap(h.tagExp,s,h.tagName)),this.addChild(n,d,s,o)}o=h.closeIndex+1}else if(e.substr(o+1,3)==="!--"){const h=Ga(e,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){const d=e.substring(o+4,h-2);r=this.saveTextToParentTag(r,n,s),n.add(this.options.commentPropName,[{[this.options.textNodeName]:d}])}o=h}else if(e.substr(o+1,2)==="!D"){const h=i.readDocType(e,o);this.docTypeEntities=h.entities,o=h.i}else if(e.substr(o+1,2)==="!["){const h=Ga(e,"]]>",o,"CDATA is not closed.")-2,d=e.substring(o+9,h);r=this.saveTextToParentTag(r,n,s);let p=this.parseTextData(d,n.tagname,s,!0,!1,!0,!0);p==null&&(p=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:d}]):n.add(this.options.textNodeName,p),o=h+2}else{let h=ug(e,o,this.options.removeNSPrefix),d=h.tagName;const p=h.rawTagName;let g=h.tagExp,v=h.attrExpPresent,x=h.closeIndex;this.options.transformTagName&&(d=this.options.transformTagName(d)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,s,!1));const b=n;b&&this.options.unpairedTags.indexOf(b.tagname)!==-1&&(n=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),d!==t.tagname&&(s+=s?"."+d:d);const y=o;if(this.isItStopNode(this.stopNodesExact,this.stopNodesWildcard,s,d)){let _="";if(g.length>0&&g.lastIndexOf("/")===g.length-1)d[d.length-1]==="/"?(d=d.substr(0,d.length-1),s=s.substr(0,s.length-1),g=d):g=g.substr(0,g.length-1),o=h.closeIndex;else if(this.options.unpairedTags.indexOf(d)!==-1)o=h.closeIndex;else{const T=this.readStopNodeData(e,p,x+1);if(!T)throw new Error(`Unexpected end of ${p}`);o=T.i,_=T.tagContent}const E=new Ba(d);d!==g&&v&&(E[":@"]=this.buildAttributesMap(g,s,d)),_&&(_=this.parseTextData(_,d,s,!0,v,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),E.add(this.options.textNodeName,_),this.addChild(n,E,s,y)}else{if(g.length>0&&g.lastIndexOf("/")===g.length-1){d[d.length-1]==="/"?(d=d.substr(0,d.length-1),s=s.substr(0,s.length-1),g=d):g=g.substr(0,g.length-1),this.options.transformTagName&&(d=this.options.transformTagName(d));const _=new Ba(d);d!==g&&v&&(_[":@"]=this.buildAttributesMap(g,s,d)),this.addChild(n,_,s,y),s=s.substr(0,s.lastIndexOf("."))}else{const _=new Ba(d);this.tagsNodeStack.push(n),d!==g&&v&&(_[":@"]=this.buildAttributesMap(g,s,d)),this.addChild(n,_,s,y),n=_}r="",o=x}}else r+=e[o];return t.child};function P6(e,t,n,r){this.options.captureMetaData||(r=void 0);const s=this.options.updateTag(t.tagname,n,t[":@"]);s===!1||(typeof s=="string"&&(t.tagname=s),e.addChild(t,r))}const z6=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function B6(e,t,n,r){return e&&(r===void 0&&(r=t.child.length===0),e=this.parseTextData(e,t.tagname,n,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,r),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function U6(e,t,n,r){return!!(t&&t.has(r)||e&&e.has(n))}function $6(e,t,n=">"){let r,s="";for(let i=t;i<e.length;i++){let o=e[i];if(r)o===r&&(r="");else if(o==='"'||o==="'")r=o;else if(o===n[0])if(n[1]){if(e[i+1]===n[1])return{data:s,index:i}}else return{data:s,index:i};else o==="	"&&(o=" ");s+=o}}function Ga(e,t,n,r){const s=e.indexOf(t,n);if(s===-1)throw new Error(r);return s+t.length-1}function ug(e,t,n,r=">"){const s=$6(e,t+1,r);if(!s)return;let i=s.data;const o=s.index,c=i.search(/\s/);let h=i,d=!0;c!==-1&&(h=i.substring(0,c),i=i.substring(c+1).trimStart());const p=h;if(n){const g=h.indexOf(":");g!==-1&&(h=h.substr(g+1),d=h!==s.data.substr(g+1))}return{tagName:h,tagExp:i,closeIndex:o,attrExpPresent:d,rawTagName:p}}function H6(e,t,n){const r=n;let s=1;for(;n<e.length;n++)if(e[n]==="<")if(e[n+1]==="/"){const i=Ga(e,">",n,`${t} is not closed`);if(e.substring(n+2,i).trim()===t&&(s--,s===0))return{tagContent:e.substring(r,n),i};n=i}else if(e[n+1]==="?")n=Ga(e,"?>",n+1,"StopNode is not closed.");else if(e.substr(n+1,3)==="!--")n=Ga(e,"-->",n+3,"StopNode is not closed.");else if(e.substr(n+1,2)==="![")n=Ga(e,"]]>",n,"StopNode is not closed.")-2;else{const i=ug(e,n,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,n=i.closeIndex)}}function fg(e,t,n){if(t&&typeof e=="string"){const r=e.trim();return r==="true"?!0:r==="false"?!1:T6(e,n)}else return l6(e)?e:""}const dm=Ba.getMetaDataSymbol();function V6(e,t){return MS(e,t)}function MS(e,t,n){let r;const s={};for(let i=0;i<e.length;i++){const o=e[i],c=G6(o);let h="";if(n===void 0?h=c:h=n+"."+c,c===t.textNodeName)r===void 0?r=o[c]:r+=""+o[c];else{if(c===void 0)continue;if(o[c]){let d=MS(o[c],t,h);const p=W6(d,t);o[dm]!==void 0&&(d[dm]=o[dm]),o[":@"]?q6(d,o[":@"],h,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),s[c]!==void 0&&s.hasOwnProperty(c)?(Array.isArray(s[c])||(s[c]=[s[c]]),s[c].push(d)):t.isArray(c,h,p)?s[c]=[d]:s[c]=d}}}return typeof r=="string"?r.length>0&&(s[t.textNodeName]=r):r!==void 0&&(s[t.textNodeName]=r),s}function G6(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(r!==":@")return r}}function q6(e,t,n,r){if(t){const s=Object.keys(t),i=s.length;for(let o=0;o<i;o++){const c=s[o];r.isArray(c,n+"."+c,!0,!0)?e[c]=[t[c]]:e[c]=t[c]}}}function W6(e,t){const{textNodeName:n}=t,r=Object.keys(e).length;return!!(r===0||r===1&&(e[n]||typeof e[n]=="boolean"||e[n]===0))}class K6{constructor(t){this.externalEntities={},this.options=w6(t)}parse(t,n){if(typeof t!="string"&&t.toString)t=t.toString();else if(typeof t!="string")throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const i=u6(t,n);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}const r=new R6(this.options);r.addExternalEntities(this.externalEntities);const s=r.parseXml(t);return this.options.preserveOrder||s===void 0?s:V6(s,this.options)}addEntity(t,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=n}static getMetaDataSymbol(){return Ba.getMetaDataSymbol()}}const yl=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`id_${Math.random().toString(36).slice(2)}`,Xa=(e,t)=>{if(e.id===t)return e;for(const n of e.children||[]){const r=Xa(n,t);if(r)return r}return null},Su=(e,t)=>{const n=r=>{const s=t({...r,children:r.children?[...r.children]:[]});return s.children=(s.children||[]).map(n),s};return n(e)},X6=(e,t)=>{if(t.has(e.id))return e;const n=r=>{const s=(r.children||[]).filter(i=>!t.has(i.id)).map(n);return{...r,children:s}};return n(e)},DS=(e,t,n)=>{const r=Xa(e,t);if(!r)return!1;const s=i=>{if(i.id===n)return!0;for(const o of i.children||[])if(s(o))return!0;return!1};return s(r)},IS=(e,t)=>{if(e.id===t)return[e,null,null];const n=r=>{let s=null,i=null;const o=[];for(const c of r.children||[])if(c.id===t)s=c,i=r.id;else{const[h,d,p]=n(c);o.push(h),d&&(s=d,i=p)}return[{...r,children:o},s,i]};return n(e)},LS=(e,t,n)=>Su(e,r=>r.id===t?{...r,children:[...r.children||[],n]}:r),Y6=(e,t,n)=>{if(t===n||DS(e,t,n))return e;const[r,s]=IS(e,t);return s?LS(r,n,s):e},J6=(e,t,n)=>{if(t===n||DS(e,t,n))return e;const[r,s,i]=IS(e,t);if(!s||!i)return e;const o=Su(r,h=>h.id===i?{...h,children:[...h.children||[],...s.children||[]]}:h),c={...s,children:[]};return LS(o,n,c)},FS=(e,t)=>px(e,t,{collapsed:!Xa(e,t)?.collapsed}),Z6=(e,t,n=" ")=>Su(e,r=>{if(r.id!==t)return r;const s={id:yl(),title:n,labels:[],children:[]},i=[...r.children||[],s];return{...r,children:i}}),px=(e,t,n)=>Su(e,r=>r.id===t?{...r,...n}:r),PS=["brand","","","company"],zS=["model","","","product","product_name"],BS=["geo","city","","","","",""],US=["action","","","","","",""],$S=["price","",""," "," "],Q6=["","","","","","","","",""];class rl{formula;position=0;tokens=[];constructor(t){this.formula=t.trim(),this.tokenize()}tokenize(){for(this.tokens=[],this.position=0;this.position<this.formula.length;){const t=this.formula[this.position];if(t===" "){this.position++;continue}if(t==="["){this.tokens.push({type:"REQUIRED",value:"[",position:this.position}),this.position++;continue}if(t==="]"){this.tokens.push({type:"REQUIRED",value:"]",position:this.position}),this.position++;continue}if(t==="("){this.tokens.push({type:"OPTIONAL",value:"(",position:this.position}),this.position++;continue}if(t===")"){this.tokens.push({type:"OPTIONAL",value:")",position:this.position}),this.position++;continue}if(t==="?"){this.tokens.push({type:"QUANTIFIER",value:"?",position:this.position}),this.position++;continue}if(t==="*"){this.tokens.push({type:"QUANTIFIER",value:"*",position:this.position}),this.position++;continue}if(t==="|"){this.tokens.push({type:"ALTERNATIVE",value:"|",position:this.position}),this.position++;continue}if(t!==" "&&!"[]()?|*".includes(t)){let n="";for(;this.position<this.formula.length&&!"[]()?|* ".includes(this.formula[this.position]);)n+=this.formula[this.position],this.position++;this.tokens.push({type:"WORD",value:n.trim(),position:this.position-n.length});continue}this.position++}this.tokens.push({type:"EOF",value:"",position:this.position})}parse(){try{const t=[];for(this.position=0;!this.eof();){const s=this.parseSlot();s&&t.push(s)}const n=this.validateSlots(t),r=this.calculateCombinations(t);return{slots:t,rawFormula:this.formula,valid:n.length===0,errors:n,totalCombinations:r}}catch(t){return{slots:[],rawFormula:this.formula,valid:!1,errors:[` : ${t instanceof Error?t.message:" "}`],totalCombinations:0}}}parseSlot(){if(this.eof())return null;const t=this.current();let n=!0,r="1-1";if(t.type==="REQUIRED"&&t.value==="[")n=!0,this.next();else if(t.type==="OPTIONAL"&&t.value==="(")n=!1,this.next();else return this.parseWordSlot(n);const s=this.parseSlotName();if(!s)return this.raiseError("  "),null;const i=this.current();i.type==="QUANTIFIER"?(i.value==="?"?r="0-1":i.value==="*"&&(r="0-N"),this.next()):r=n?"1-1":"0-1";const o=this.current();return n&&o.type==="REQUIRED"&&o.value==="]"?(this.next(),{name:s,required:n,quantifier:r,position:t.position}):!n&&o.type==="OPTIONAL"&&o.value===")"?(this.next(),{name:s,required:n,quantifier:r,position:t.position}):(this.raiseError(` ${n?"]":")"}   ${s}`),null)}parseSlotName(){const t=[],n=this.parseWord();if(!n)return"";for(t.push(n);this.current().type==="ALTERNATIVE";){this.next();const r=this.parseWord();if(!r){this.raiseError("   |");break}t.push(r)}return t.join("|")}parseWord(){const t=this.current();return t.type==="WORD"?(this.next(),t.value):null}parseWordSlot(t){const n=this.parseWord();return n?{name:n,required:t,quantifier:t?"1-1":"0-1",position:this.position}:null}validateSlots(t){const n=[];t.filter(o=>o.required).length===0&&n.push("        []");const s=new Set;for(const o of t)s.has(o.name)&&n.push(`  : ${o.name}`),s.add(o.name);const i=t.filter(o=>!this.isKnownSlotType(o.name));if(i.length>0){const o=i.map(c=>c.name).join(", ");n.push(`  : ${o}. : BRAND, MODEL, GEO, ACTION, PRICE`)}return n}isKnownSlotType(t){const n=t.toLowerCase();return PS.some(r=>n.includes(r))||zS.some(r=>n.includes(r))||BS.some(r=>n.includes(r))||US.some(r=>n.includes(r))||$S.some(r=>n.includes(r))}calculateCombinations(t){return t.reduce((n,r)=>{switch(r.quantifier){case"0-1":return n*2;case"0-N":return n*100;case"1-1":return n*1;default:return n}},1)}current(){return this.tokens[this.position]||{type:"EOF",value:"",position:this.position}}next(){return this.position++,this.current()}eof(){return this.current().type==="EOF"}raiseError(t){const n=this.current().position;throw new Error(`    ${n}: ${t}`)}getExamples(){const t=[];return t.push("[BRAND] [MODEL] (GEO?) (ACTION|PRICE)?"),t.push("[SERVICE] [CITY] [ACTION] *"),t.push("[PRODUCT] (COLOR|SIZE) [BRAND] (GEO?)"),t.push("[BRAND] [MODEL] [ACTION] (GEO) (PRICE)?"),t.push("[CATEGORY] [BRAND] (MODIFIER)* [ACTION] (GEO?)"),t.push("[SERVICE] (AREA) [ACTION] [PRICE_RANGE] (GUARANTEE)?"),t}static validateFormula(t){try{const r=new rl(t).parse();return{valid:r.valid,errors:r.errors}}catch(n){return{valid:!1,errors:[n instanceof Error?n.message:"  "]}}}}const dg={getSlotType(e){const t=e.toLowerCase();return PS.some(n=>t.includes(n))?"BRAND":zS.some(n=>t.includes(n))?"MODEL":BS.some(n=>t.includes(n))?"GEO":US.some(n=>t.includes(n))?"ACTION":$S.some(n=>t.includes(n))?"PRICE":"UNKNOWN"},hasInfoTriggers(e){const t=e.toLowerCase();return Q6.some(n=>t.includes(n))},generatePreview(e){if(!e.valid||e.slots.length===0)return[" "];const t=[];for(let n=0;n<5&&n<e.totalCombinations;n++){const r=[];for(const s of e.slots){const i=dg.getSlotType(s.name),o=dg.getSampleValue(i);o&&(s.required||Math.random()>.3)&&r.push(o)}r.length>0&&t.push(r.join(" "))}return t},getSampleValue(e){return{BRAND:"apple",MODEL:"iphone 15",GEO:"",ACTION:"",PRICE:""}[e]||null}},vs={STRICT:"!",PHRASE:'"',PLUS:"+"},Bb=["","","","","","","","","","-","-","","","","","","","","","","","","","","","","","","","","","","","",""],Ub=["","","","","","","","","","","","","","","","","","","","","",""],$b=["","","","","","","","","","","","",""];class hg{policy;constructor(t="mix"){this.policy=t}apply(t){try{const n=[],r=[],s={strict:0,phrase:0,plus:0,mix:0};return t.forEach((i,o)=>{try{const c=this.applyToMask(i);n.push(c),s[c.selectedPolicy]++}catch(c){r.push(` ${o+1}: ${c instanceof Error?c.message:" "}`)}}),{success:r.length===0,results:n,errors:r,totalGenerated:n.length,policyDistribution:s}}catch(n){return{success:!1,results:[],errors:[n instanceof Error?n.message:"  "],totalGenerated:0,policyDistribution:{strict:0,phrase:0,plus:0,mix:0}}}}applyToMask(t){const n=this.tokenizeMask(t),r=this.detectServiceWords(n),s=this.generateStrictVersion(n,r),i=this.generatePhraseVersion(n),o=this.generatePlusVersion(n,r),c=this.generateMixVersions(n,r);let h=this.policy;return this.policy==="mix"&&(h=this.selectBestPolicy(n,r)),{original:t,strict:s,phrase:i,plus:o,mix:c,selectedPolicy:h}}tokenizeMask(t){return t.toLowerCase().split(/\s+/).filter(n=>n.trim().length>0).map(n=>n.replace(/[^\w-]/gi,""))}detectServiceWords(t){const n=[],r=[],s=[],i=[];return t.forEach(o=>{Bb.includes(o)?n.push(o):Ub.includes(o)?r.push(o):$b.includes(o)?s.push(o):i.push(o)}),{prepositions:n,functionWords:r,infoTriggers:s,contentWords:i}}generateStrictVersion(t,n){return t.map(s=>`${vs.STRICT}${s}`).join(" ")}generatePhraseVersion(t){const n=t.join(" ");return`${vs.PHRASE}${n}${vs.PHRASE}`}generatePlusVersion(t,n){return t.map(r=>n.prepositions.includes(r)||n.functionWords.includes(r)?`${vs.PLUS}${r}`:r).join(" ")}generateMixVersions(t,n){const r=[],s=t.map(c=>n.contentWords.includes(c)?`${vs.STRICT}${c}`:n.prepositions.includes(c)?`${vs.PLUS}${c}`:c).join(" ");r.push(s);const i=n.contentWords;if(i.length>=2){const c=t.map(h=>i.includes(h)?`${vs.STRICT}${h}`:h).join(" ");r.push(c)}const o=t.map(c=>`${vs.STRICT}${c}`).join(" ");return r.push(o),r}selectBestPolicy(t,n){const{contentWords:r,prepositions:s,infoTriggers:i}=n;return i.length>0?"strict":s.length>1?"plus":r.length>=3?"strict":"phrase"}setPolicy(t){this.policy=t}getPolicy(){return this.policy}static getAvailablePolicies(){return[{name:"strict",description:"    ",symbol:vs.STRICT,example:" !iphone !15 !",priority:1,applicable:!0},{name:"phrase",description:"   ",symbol:vs.PHRASE,example:'" iphone 15 "',priority:2,applicable:!0},{name:"plus",description:"   ",symbol:vs.PLUS,example:" + + iphone 15 ",priority:3,applicable:!0},{name:"mix",description:"   ",symbol:"",example:"    ",priority:4,applicable:!0}]}static analyzeMask(t){let n=0,r=0,s=0;t.forEach(d=>{const p=d.toLowerCase().split(/\s+/).filter(v=>v.length>0),g=this.detectServiceWordsSimple(p);n+=p.length,r+=g.serviceCount,s+=g.contentCount});const i=n>0?r/n:0,o=n>0?s/n:0;let c,h;return i>.4?(c="plus",h=`    (${(i*100).toFixed(1)}%).   .`):o>.6?(c="strict",h=`    (${(o*100).toFixed(1)}%).   .`):(c="phrase",h=" .   ."),{totalMasks:t.length,avgWords:n/t.length,serviceWordsRatio:i,contentWordsRatio:o,recommendedPolicy:c,reasoning:h}}static detectServiceWordsSimple(t){let n=0,r=0;return t.forEach(s=>{Bb.includes(s)||Ub.includes(s)||$b.includes(s)?n++:r++}),{serviceCount:n,contentCount:r}}static exportMasks(t,n="csv"){if(n==="csv"){const r=[""," ",""," "," "],s=t.map(o=>[o.original,o.strict,o.phrase,o.plus,o.selectedPolicy]);return[r,...s].map(o=>o.map(c=>`"${c.replace(/"/g,'""')}"`).join(",")).join(`
`)}else return t.map(r=>[`: ${r.original}`,` : ${r.strict}`,`: ${r.phrase}`,` : ${r.plus}`,`: ${r.selectedPolicy}`,""].join(`
`)).join(`
`)}}const e8={theta1:.4,theta2:.3,theta3:.2,theta4:.1,infoPenalty:.2},t8=["","","","","",""," ","","","","",""," "," "," "," "," "],Hb=["","","","","","","","","","",""," "," "," ","","","","","",""," "],n8=["apple","samsung","xiaomi","huawei","oneplus","asus","acer","lenovo","hp","dell","canon","nikon","sony","lg","bosch","siemens","samsung","apple","google","microsoft","intel","amd","nvidia","amd"],r8=["iphone","galaxy","note","pro","plus","max","ultra","mini","air","macbook","ipad","watch","airpods","smartwatch","tablet","smartphone","","","","","","",""],s8=["","","-","","","","",""," ","","","","","","","","",""],i8=["","","","","","","","","","","","","","","","","",""," "];class _h{weights;constructor(t){this.weights={...e8,...t}}scoreMasks(t,n=.6){const r=t.map(o=>this.scoreSingleMask(o));r.sort((o,c)=>c.score-o.score);const s=this.calculateStatistics(r),i=this.generateRecommendations(r,n);return{masks:r,statistics:s,threshold:n,recommendations:i}}scoreSingleMask(t){const n=this.tokenize(t),r=this.analyzeMask(t,n),s=this.calculateActionScore(n,r),i=this.calculateBrandModelScore(n,r),o=this.calculateLengthScore(n),c=this.calculateGeoScore(n,r),h=this.calculateInfoPenalty(n,r),d=Math.max(0,this.weights.theta1*s+this.weights.theta2*i+this.weights.theta3*o+this.weights.theta4*c-this.weights.infoPenalty*h),p=this.classifyMask(d,r),g=this.calculateConfidence(r);return{original:t,score:Math.round(d*1e3)/1e3,components:{actionScore:s,brandModelScore:i,lengthScore:o,geoScore:c,infoPenalty:h},breakdown:r,classification:p,confidence:g}}tokenize(t){return t.toLowerCase().split(/\s+/).map(n=>n.replace(/[^\w-]/gi,"")).filter(n=>n.length>0)}analyzeMask(t,n){t.toLowerCase();const r=n.filter(p=>t8.some(g=>p.includes(g)||g.includes(p))),s=n.filter(p=>Hb.some(g=>p.includes(g)||g.includes(p))),i=n.filter(p=>n8.some(g=>p.includes(g)||g.includes(p))),o=n.filter(p=>r8.some(g=>p.includes(g)||g.includes(p))),c=n.filter(p=>s8.some(g=>p.includes(g)||g.includes(p))),h=n.filter(p=>i8.some(g=>p.includes(g)||g.includes(p))),d=[...r,...s,...i,...o].filter((p,g,v)=>v.indexOf(p)===g);return{actionTokens:[...new Set([...r,...s])],brandModelTokens:[...new Set([...i,...o])],geoTokens:c,infoTriggers:h,length:n.length,commercialIndicators:d}}calculateActionScore(t,n){if(n.actionTokens.length===0)return 0;let r=.7;return r+=Math.min(n.actionTokens.length*.1,.3),n.actionTokens.some(i=>Hb.some(o=>i.includes(o)))&&(r+=.2),Math.min(r,1)}calculateBrandModelScore(t,n){if(n.brandModelTokens.length===0)return 0;const r=n.brandModelTokens.length/n.length;let s=r;return r<.3?s=r/.3:r>.7&&(s=(1-r)/.3),Math.max(0,Math.min(s,1))}calculateLengthScore(t){const n=t.length;return n<=5?1:n<=8?.8:n<=12?.5:.2}calculateGeoScore(t,n){if(n.geoTokens.length===0)return 0;let r=.6;return n.geoTokens.some(s=>["","","-"].includes(s))&&(r+=.4),Math.min(r,1)}calculateInfoPenalty(t,n){return n.infoTriggers.length===0?0:Math.min(n.infoTriggers.length*.3,1)}classifyMask(t,n){return n.infoTriggers.length>0&&t<.4?"INFO_QUERY":t>=.7?"HIGH_COMMERCIAL":t>=.5?"MEDIUM_COMMERCIAL":"LOW_COMMERCIAL"}calculateConfidence(t){let n=.5;return t.commercialIndicators.length>0&&(n+=.2),t.brandModelTokens.length>0&&(n+=.1),t.geoTokens.length>0&&(n+=.1),t.infoTriggers.length>0&&(n-=.2),Math.max(.1,Math.min(n,1))}calculateStatistics(t){const n=t.length,r=t.reduce((d,p)=>d+p.score,0)/n,s={high:t.filter(d=>d.classification==="HIGH_COMMERCIAL").length,medium:t.filter(d=>d.classification==="MEDIUM_COMMERCIAL").length,low:t.filter(d=>d.classification==="LOW_COMMERCIAL").length,info:t.filter(d=>d.classification==="INFO_QUERY").length},i=t.filter(d=>d.classification==="HIGH_COMMERCIAL").slice(0,10),o=t.reduce((d,p)=>d+p.breakdown.actionTokens.length,0),c=t.reduce((d,p)=>d+p.breakdown.brandModelTokens.length,0),h=t.reduce((d,p)=>d+p.breakdown.geoTokens.length,0);return{totalMasks:n,averageScore:Math.round(r*1e3)/1e3,distribution:s,topCommercialMasks:i,totalActionTokens:o,totalBrandModelTokens:c,totalGeoTokens:h}}generateRecommendations(t,n){const r=[],s=t.filter(p=>p.classification==="HIGH_COMMERCIAL").length,i=t.length,o=s/i;o>.3?r.push(`  : ${Math.round(o*100)}% `):o>.1?r.push(`  : ${Math.round(o*100)}% `):r.push(`  :  ${Math.round(o*100)}% `);const c=t.filter(p=>p.classification==="INFO_QUERY").length;c>i*.2&&r.push(`   (${c}) - ,     `);const h=t.reduce((p,g)=>p+g.breakdown.length,0)/i;h>8&&r.push(`   (${h.toFixed(1)}   ) -  `);const d=t.slice(0,5);return r.push(` : ${d.map(p=>p.original).join(", ")}`),r}filterByThreshold(t,n){return t.filter(r=>r.score>=n)}exportScoringResult(t,n="csv"){if(n==="json")return JSON.stringify(t,null,2);const r=["","","","ACTION_","BRAND_MODEL_","GEO_","INFO_","","ACTION_","BRAND_MODEL_","_","GEO_","INFO_",""],s=t.masks.map(i=>[`"${i.original.replace(/"/g,'""')}"`,i.score.toString(),i.classification,`"${i.breakdown.actionTokens.join(", ")}"`,`"${i.breakdown.brandModelTokens.join(", ")}"`,`"${i.breakdown.geoTokens.join(", ")}"`,`"${i.breakdown.infoTriggers.join(", ")}"`,i.breakdown.length.toString(),i.components.actionScore.toString(),i.components.brandModelScore.toString(),i.components.lengthScore.toString(),i.components.geoScore.toString(),i.components.infoPenalty.toString(),i.confidence.toString()]);return[r.join(","),...s.map(i=>i.join(","))].join(`
`)}setWeights(t){this.weights={...this.weights,...t}}getWeights(){return{...this.weights}}analyzeWeightsEffectiveness(t,n){const r=this.scoreMasks(t),s={theta1:.3,theta2:.3,theta3:.2,theta4:.2,infoPenalty:.15},o=new _h(s).scoreMasks(t),c=r.statistics.distribution.high/r.statistics.totalMasks,h=o.statistics.distribution.high/o.statistics.totalMasks;let d="";return h>c*1.1?d="         ":c>h*1.1?d="       ":d="   ,    ",{currentResult:r,alternativeResult:o,recommendation:d}}}class Vb{profiles=new Map;customWords=new Set;constructor(){this.loadIndustryProfiles()}async loadIndustryProfiles(){try{const t=await this.loadProfile("ecommerce"),n=await this.loadProfile("services"),r=await this.loadProfile("medical");this.profiles.set("ecommerce",t),this.profiles.set("services",n),this.profiles.set("medical",r)}catch(t){console.error("  :",t)}}async loadProfile(t){return{ecommerce:{industry:"ecommerce",name:"E-commerce",description:"-  -",global:{category:["","","","",""],commercial:["","","/",""],competitors:["aliexpress","wb","ozon","avito"],irrelevant:[" ","  "]},thematic:{electronics:["","","",""],clothing:["","","",""],home:["","","",""]},contexts:{price_queries:["","","",""],comparison:["","","",""],location:["","",""]},auto_detection:{keywords:["","-","",""],brands:["samsung","apple","xiaomi","huawei"],categories:["","","",""]}},services:{industry:"services",name:"",description:",  ",global:{category:["",""," ",""],commercial:["",""," "],competitors:["olx","avito","youdo"],irrelevant:["",""," "]},thematic:{construction:["","",""],repair:["","",""],cleaning:[""," ",""]},contexts:{urgency:["","",""],comparison:[" "," ",""],location:[""," "," "]},auto_detection:{keywords:["","","",""],service_types:["","","",""],locations:["  ","","",""]}},medical:{industry:"medical",name:"",description:"   ",global:{category:["","","",""],commercial:["","",""],competitors:["","",""],irrelevant:[""," "]},thematic:{medications:["","",""],equipment:["","",""],diagnostics:["","","",""]},contexts:{urgency:["",""," "],quality:[" "," "],accessibility:[" "," ",""]},auto_detection:{keywords:["","","",""],specialties:["","",""],locations:["","",""]}}}[t]}analyzeXMind(t){if(!t)return{detectedIndustry:null,confidence:0,keywords:[],brands:[],categories:[],relevantBranches:[],reasoning:"XMind  "};const n=this.extractAllText(t),r=this.extractKeywords(n),s=this.extractBrands(n),i=this.extractCategories(n),o=this.findRelevantBranches(t,r),c=this.calculateIndustryScores(r,s,i),h=c.length>0?c[0].industry:null,d=h?c[0].score:0,p=h?`   : ${o.join(", ")}`:"   -  ";return{detectedIndustry:h,confidence:d,keywords:r,brands:s,categories:i,relevantBranches:o,reasoning:p}}extractAllText(t){const n=[t.title.toLowerCase()];return(t.labels||[]).forEach(r=>n.push(r.toLowerCase())),t.children&&t.children.forEach(r=>{n.push(...this.extractAllText(r))}),n}extractKeywords(t){const n=/\b(|-||||||||||)\b/g,r=new Set;return t.forEach(s=>{const i=s.match(n);i&&i.forEach(o=>r.add(o))}),Array.from(r)}extractBrands(t){const n=["samsung","apple","xiaomi","huawei","oneplus","asus","acer","lenovo"],r=new Set;return t.forEach(s=>{n.forEach(i=>{s.includes(i)&&r.add(i)})}),Array.from(r)}extractCategories(t){const n=["","","","","",""," ","",""],r=new Set;return t.forEach(s=>{n.forEach(i=>{s.includes(i)&&r.add(i)})}),Array.from(r)}findRelevantBranches(t,n){const r=[],s=i=>{const o=i.title.toLowerCase();n.some(c=>o.includes(c))&&r.push(i.title),i.children?.forEach(s)};return s(t),r}calculateIndustryScores(t,n,r){const s=[];for(const[i,o]of this.profiles){let c=0;t.forEach(h=>{o.auto_detection.keywords.some(d=>h.includes(d)||d.includes(h))&&(c+=1)}),n.forEach(h=>{o.auto_detection.brands?.some(d=>h.includes(d))&&(c+=.5)}),r.forEach(h=>{o.auto_detection.categories?.some(d=>h.includes(d)||d.includes(h))&&(c+=.3)}),c>0&&s.push({industry:i,score:c})}return s.sort((i,o)=>o.score-i.score)}generateNegativeWords(t,n=[]){const r=this.analyzeXMind(t),s={global:[],thematic:[],contextual:[],totalWords:0,analysis:r,recommendations:[]};if(r.detectedIndustry){const i=this.profiles.get(r.detectedIndustry);i&&(s.global=this.buildGlobalNegatives(i,r),s.thematic=this.buildThematicNegatives(i,r),s.contextual=this.buildContextualNegatives(i,r))}return this.addCustomNegatives(s,n),s.totalWords=[...s.global,...s.thematic,...s.contextual].reduce((i,o)=>i+o.words.length,0),s.recommendations=this.generateRecommendations(r,s),s}buildGlobalNegatives(t,n){const r=[];for(const[s,i]of Object.entries(t.global))r.push({type:"global",industry:t.industry,words:this.normalizeWords(i),description:` -  : ${s}`,confidence:.9,autoGenerated:!0,source:"profile"});return r}buildThematicNegatives(t,n){const r=[];for(const[s,i]of Object.entries(t.thematic)){const o=this.calculateThemeRelevance(s,n);o>.3&&r.push({type:"thematic",industry:t.industry,words:this.normalizeWords(i),description:` - : ${s}`,confidence:o,autoGenerated:!0,source:"profile"})}return r}buildContextualNegatives(t,n){const r=[];for(const[s,i]of Object.entries(t.contexts))r.push({type:"contextual",industry:t.industry,words:this.normalizeWords(i),description:` - : ${s}`,confidence:.7,autoGenerated:!0,source:"profile"});return r}addCustomNegatives(t,n){if(n.length===0)return;const r=this.normalizeWords(n);t.global.push({type:"global",industry:"ecommerce",words:r,description:" -",confidence:1,autoGenerated:!1,source:"manual"})}calculateThemeRelevance(t,n){const s={electronics:["","","",""],clothing:["","","",""],home:["","","",""],construction:["","",""],repair:["","",""],medications:["","",""],equipment:["","",""]}[t]||[],i=n.keywords.filter(o=>s.some(c=>o.includes(c)||c.includes(o))).length;return Math.min(i/s.length,1)}normalizeWords(t){return t.map(n=>n.trim().toLowerCase()).filter(n=>n.length>0).filter((n,r,s)=>s.indexOf(n)===r)}generateRecommendations(t,n){const r=[];return t.detectedIndustry?r.push(` : ${this.profiles.get(t.detectedIndustry)?.name}`):r.push("   -   -"),t.confidence<.5&&r.push("     -   "),n.totalWords<10&&r.push(" - - ,     "),r.push(`  -: ${n.totalWords}`),r}exportNegativeWords(t,n="csv"){const r=[...t.global,...t.thematic,...t.contextual].flatMap(i=>i.words),s=Array.from(new Set(r));return n==="csv"?`negative_word
${s.map(i=>`"${i.replace(/"/g,'""')}"`).join(`
`)}`:s.join(`
`)}}class a8{geoRules=new Map;brandRules=new Map;constructor(){this.initializeNormalizationRules()}initializeNormalizationRules(){this.addGeoRule("",["","","."],1,{synonym:[".","."," ",""],transliteration:[],abbreviation:[""],full:[""]}),this.addGeoRule("",["","-","",""],1,{synonym:["","",""],transliteration:[],abbreviation:["",""],full:["-"]}),this.addGeoRule("",["",""],1,{synonym:["",""],transliteration:[],abbreviation:[""],full:[""]}),this.addGeoRule("",["",""],.9,{synonym:["","",""],transliteration:[],abbreviation:["",""],full:[""]}),this.addGeoRule("",["",""],1,{synonym:["",""],transliteration:[],abbreviation:[],full:[""]}),this.addGeoRule(" ",[" ",""],.9,{synonym:[" ","",""],transliteration:[],abbreviation:[""],full:[" "]}),this.addBrandRule("xiaomi",["xiaomi","","",""],1,{synonym:[],transliteration:["","",""],abbreviation:["xiaomi"],full:["xiaomi"]}),this.addBrandRule("samsung",["samsung","samsung"],1,{synonym:[],transliteration:[""],abbreviation:[],full:["samsung"]}),this.addBrandRule("apple",["apple","apple"],1,{synonym:[],transliteration:[""],abbreviation:[],full:["apple"]}),this.addBrandRule("huawei",["huawei","",""],1,{synonym:[],transliteration:[""],abbreviation:[],full:["huawei"]}),this.addBrandRule("asus",["asus",""],1,{synonym:[],transliteration:[""],abbreviation:[],full:["asus"]}),this.addBrandRule("acer",["acer",""],1,{synonym:[],transliteration:[""],abbreviation:[],full:["acer"]}),this.addBrandRule("lenovo",["lenovo",""],1,{synonym:[],transliteration:[""],abbreviation:[],full:["lenovo"]})}addGeoRule(t,n,r,s){const i={original:t,normalized:n,confidence:r,category:"geo",variants:s};this.geoRules.set(t.toLowerCase(),i)}addBrandRule(t,n,r,s){const i={original:t,normalized:n,confidence:r,category:"brand",variants:s};this.brandRules.set(t.toLowerCase(),i)}normalize(t){const n=this.tokenize(t),r=[...n],s=[],i=[];for(let d=0;d<n.length;d++){const p=n[d].toLowerCase(),g=this.findGeoRule(p);g&&(s.push(g),r[d]=g.normalized[0]);const v=this.findBrandRule(p);v&&(i.push(v),r[d]=v.normalized[0])}const o=this.generateVariants(s,i),c=this.calculateConfidence(s,i);return{original:t,normalized:r,rules:[...s,...i],categories:{geo:s,brand:i},variants:o,confidence:c,recommendations:this.generateRecommendations(s,i)}}bulkNormalize(t){const n=t.map(c=>this.normalize(c)),r={totalMasks:t.length,withGeoNormalization:n.filter(c=>c.categories.geo.length>0).length,withBrandNormalization:n.filter(c=>c.categories.brand.length>0).length,withTransliteration:n.filter(c=>c.variants.transliterations.length>0).length,averageVariants:0,totalUniqueVariants:0},s=new Set;let i=0;n.forEach(c=>{i+=c.variants.geographic.length+c.variants.brandVariants.length,c.variants.geographic.forEach(h=>s.add(h)),c.variants.brandVariants.forEach(h=>s.add(h)),c.variants.transliterations.forEach(h=>s.add(h))}),r.averageVariants=i/t.length,r.totalUniqueVariants=s.size;const o=this.calculateStatistics(n);return{results:n,summary:r,statistics:o}}tokenize(t){return t.toLowerCase().split(/\s+/).map(n=>n.replace(/[^\w-]/gi,"")).filter(n=>n.length>0)}findGeoRule(t){if(this.geoRules.has(t))return this.geoRules.get(t);for(const[n,r]of this.geoRules)if(t.includes(n)||n.includes(t))return r;return null}findBrandRule(t){if(this.brandRules.has(t))return this.brandRules.get(t);for(const[n,r]of this.brandRules)if(t.includes(n)||n.includes(t))return r;return null}generateVariants(t,n){const r=[],s=[],i=[];t.forEach(d=>{r.push(...d.variants.synonym,...d.variants.abbreviation,...d.variants.full),i.push(...d.variants.transliteration)}),n.forEach(d=>{s.push(...d.variants.synonym,...d.variants.abbreviation,...d.variants.full),i.push(...d.variants.transliteration)});const o=[...new Set(r)],c=[...new Set(s)],h=[...new Set(i)];return{geographic:o,brandVariants:c,transliterations:h}}calculateConfidence(t,n){let r=.5;const s=[...t,...n];if(s.length===0)return 0;r+=s.length*.2;const i=s.reduce((d,p)=>d+p.confidence,0)/s.length;r+=i*.3;const o=new Set(t.map(d=>d.original)),c=new Set(n.map(d=>d.original));let h=0;return o.forEach(d=>{c.has(d)&&h++}),r-=h*.1,Math.max(0,Math.min(r,1))}generateRecommendations(t,n){const r=[];if(t.length>0){const s=t.map(i=>i.original).join(", ");r.push(`  : ${s}`)}if(n.length>0){const s=n.map(i=>i.original).join(", ");r.push(`  : ${s}`)}return t.length===0&&n.length===0&&r.push("     "),r}calculateStatistics(t){const n=new Map,r=new Map,s=new Map;t.forEach(h=>{h.categories.geo.forEach(d=>{n.set(d.original,(n.get(d.original)||0)+1)}),h.categories.brand.forEach(d=>{r.set(d.original,(r.get(d.original)||0)+1)}),h.variants.transliterations.forEach(d=>{const p=s.get(d)||[];p.push(d),s.set(d,p)})});const i=Array.from(n.entries()).map(([h,d])=>({name:h,variants:d})).sort((h,d)=>d.variants-h.variants).slice(0,10),o=Array.from(r.entries()).map(([h,d])=>({name:h,variants:d})).sort((h,d)=>d.variants-h.variants).slice(0,10),c=Array.from(s.entries()).map(([h,d])=>({original:h,variants:d})).sort((h,d)=>d.variants.length-h.variants.length).slice(0,10);return{mostCommonGeo:i,mostCommonBrands:o,topTransliterations:c}}addCustomRule(t,n,r,s=.8){const o={original:n,normalized:r,confidence:s,category:t,variants:{synonym:[],transliteration:[],abbreviation:[],full:r}};t==="geo"?this.geoRules.set(n.toLowerCase(),o):this.brandRules.set(n.toLowerCase(),o)}removeRule(t,n){const r=n.toLowerCase();return t==="geo"?this.geoRules.delete(r):this.brandRules.delete(r)}exportRules(t="json"){if(t==="json"){const s={geo:Object.fromEntries(this.geoRules),brand:Object.fromEntries(this.brandRules)};return JSON.stringify(s,null,2)}const n=["","","",""],r=[];return this.geoRules.forEach(s=>{r.push(["geo",s.original,s.normalized.join("|"),s.confidence.toString()].join(","))}),this.brandRules.forEach(s=>{r.push(["brand",s.original,s.normalized.join("|"),s.confidence.toString()].join(","))}),[n.join(","),...r].join(`
`)}analyzeEffectiveness(t){const n=this.bulkNormalize(t),r=n.results.map(i=>({mask:i.original,variants:i.variants.geographic.length+i.variants.brandVariants.length+i.variants.transliterations.length}));r.sort((i,o)=>o.variants-i.variants);const s=[`  : ${n.summary.totalMasks}`,`  : ${n.summary.averageVariants.toFixed(1)}`,` : ${n.summary.totalUniqueVariants}`,`   : ${n.summary.withGeoNormalization}`,`   : ${n.summary.withBrandNormalization}`];return{originalCount:t.length,normalizedCount:n.summary.totalUniqueVariants,expansionRatio:n.summary.totalUniqueVariants/t.length,topImprovements:r.slice(0,10),recommendations:s}}}class o8{config;progress;isPaused=!1;isCancelled=!1;pausePromise;pauseResolve;dbPath="masks_generation.db";parser;scorer;normalizer;operatorPolicy;maskCache=new Set;scoreCache=new Map;normalizationCache=new Map;constructor(t){this.config=t,this.progress={total:0,generated:0,scored:0,normalized:0,operated:0,deduplicated:0,currentBatch:0,totalBatches:0,isPaused:!1,isCompleted:!1,speed:0},this.parser=new rl(t.formula),this.scorer=new _h,this.normalizer=new a8,this.operatorPolicy=new hg(t.operatorPolicy),this.validateConfig()}validateConfig(){const t=this.parser.parse();if(!t.valid)throw new Error(` : ${t.errors.join(", ")}`);if(this.config.batchSize>1e4||this.config.batchSize<100)throw new Error("     100  10000");if(this.config.maxMasks>1e6)throw new Error("      1,000,000")}async initDatabase(){if("indexedDB"in window){const t=indexedDB.open("masksGenerator",1);t.onupgradeneeded=n=>{const r=n.target.result;r.objectStoreNames.contains("masks")||r.createObjectStore("masks",{keyPath:"id"}),r.objectStoreNames.contains("meta")||r.createObjectStore("meta",{keyPath:"key"})}}}async generate(){try{await this.initDatabase();const t=this.parser.parse();if(!t.valid)throw new Error(`  : ${t.errors.join(", ")}`);const n=this.calculateTotalMasks(t);this.progress.total=Math.min(n,this.config.maxMasks),this.progress.totalBatches=Math.ceil(this.progress.total/this.config.batchSize);const r=Date.now(),s=[],i=[];let o=0,c=r;for(let d=0;d<this.progress.totalBatches;d++){if(this.isCancelled)throw new Error("  ");this.progress.currentBatch=d+1;const p=await this.generateBatch(t,d);for(const g of p){if(this.isPaused&&await this.waitForResume(),this.config.enableDeduplication&&this.maskCache.has(g.mask)){this.progress.deduplicated++;continue}if(this.config.enableDeduplication&&this.maskCache.add(g.mask),this.config.enableScoring&&this.config.scoringThreshold>0){const x=this.scorer.scoreMasks([g.mask],this.config.scoringThreshold);if(x.masks.length>0&&x.masks[0].score>=this.config.scoringThreshold)g.score=x.masks[0].score,g.classification=x.masks[0].classification,this.progress.scored++;else continue}if(this.config.enableNormalization){const x=this.normalizer.normalize(g.mask);(x.variants.geographic.length>0||x.variants.brandVariants.length>0)&&(g.normalized=x.normalized,g.variants=[...x.variants.geographic,...x.variants.brandVariants,...x.variants.transliterations],this.progress.normalized++)}if(this.config.enableOperators){const x=this.operatorPolicy.apply([g.mask]);x.results.length>0&&(g.operators={strict:x.results[0].strict,phrase:x.results[0].phrase,plus:x.results[0].plus,mix:x.results[0].mix},this.progress.operated++)}s.push(g),this.progress.generated++,i.length<1e4&&i.push(g),o++;const v=Date.now();if(v-c>=1e3){this.progress.speed=o,o=0,c=v;const x=v-r,b=this.progress.generated/this.progress.total,y=x/b;this.progress.estimatedTimeRemaining=y-x}this.progress.generated%1e3===0&&await new Promise(x=>setTimeout(x,0))}}return this.progress.isCompleted=!0,{masks:s,totalGenerated:this.progress.generated,totalScored:this.progress.scored,totalNormalized:this.progress.normalized,totalWithOperators:this.progress.operated,totalDeduplicated:this.progress.deduplicated,progress:{...this.progress},statistics:this.calculateStatistics(s),preview:i,databaseInfo:{fileSize:this.estimateDatabaseSize(),recordCount:s.length,lastUpdate:Date.now()}}}catch(t){throw this.progress.error=t instanceof Error?t.message:" ",this.progress.isCompleted=!0,t}}async generateBatch(t,n){const r=[],s=n*this.config.batchSize,i=Math.min(s+this.config.batchSize,this.progress.total),o=this.generateCombinations(t,s,i-s);for(let c=0;c<o.length;c++){const h=o[c],d=this.combineMask(h);r.push({id:`${n}_${c}_${Date.now()}`,mask:d,timestamp:Date.now(),source:"generated"})}return r}calculateTotalMasks(t){let n=1;for(const r of t.slots){const i=this.getSlotData(r.name).length||1;switch(r.quantifier){case"0-1":n*=i+1;break;case"0-N":n*=Math.min(i*10,100);break;case"1-1":n*=i;break}}return n}getSlotData(t){const n=t.toLowerCase();for(const[r,s]of Object.entries(this.config.data))if(n.includes(r.toLowerCase())||r.toLowerCase().includes(n))return s;if(this.config.data[t])return this.config.data[t];for(const[r,s]of Object.entries(this.config.data))if(r.toLowerCase().includes(n))return s;return[]}generateCombinations(t,n,r){const s=[];for(let i=0;i<r;i++){const o={};for(const c of t.slots){const h=this.getSlotData(c.name);if(h.length>0){const d=Math.floor(Math.random()*h.length);o[c.name]=h[d]}else o[c.name]=null}s.push(o)}return s}combineMask(t){const n=[];for(const[r,s]of Object.entries(t))s&&s.trim().length>0&&n.push(s);return n.join(" ").trim()}waitForResume(){return this.progress.isPaused=!0,this.pausePromise||(this.pausePromise=new Promise(t=>{this.pauseResolve=t})),this.pausePromise}pause(){this.isPaused=!0,this.progress.isPaused=!0}resume(){this.isPaused=!1,this.progress.isPaused=!1,this.pauseResolve&&(this.pauseResolve(),this.pausePromise=void 0,this.pauseResolve=void 0)}cancel(){this.isCancelled=!0,this.isPaused=!1}getProgress(){return{...this.progress}}calculateStatistics(t){const n=t.filter(p=>p.score!==void 0).map(p=>p.score)||[],r=n.length>0?n.reduce((p,g)=>p+g,0)/n.length:0,s=t.filter(p=>p.score!==void 0).sort((p,g)=>(g.score||0)-(p.score||0)).slice(0,10),i={};t.forEach(p=>{p.classification&&(i[p.classification]=(i[p.classification]||0)+1)});const o={strict:0,phrase:0,plus:0,mix:0};t.forEach(p=>{p.operators&&o[this.config.operatorPolicy]++});let c=0,h=0,d=0;return t.forEach(p=>{p.variants&&p.variants.forEach(g=>{g.includes("")||g.includes("")?c++:g.includes("apple")||g.includes("samsung")?h++:d++})}),{averageScore:r,topScoringMasks:s,distributionByClassification:i,operatorDistribution:o,normalizationStats:{geoVariants:c,brandVariants:h,transliterations:d}}}estimateDatabaseSize(){return this.progress.generated*100}exportResult(t,n="csv"){if(n==="json")return JSON.stringify(t,null,2);if(n==="txt")return t.masks.map(i=>i.mask).join(`
`);const r=["ID","","","","_","","_","","",""],s=t.masks.map(i=>[i.id,`"${i.mask.replace(/"/g,'""')}"`,i.score?.toString()||"",i.classification||"",`"${i.operators?.strict||""}"`,`"${i.operators?.phrase||""}"`,`"${i.operators?.plus||""}"`,`"${i.normalized?.join(" ")||""}"`,`"${i.variants?.join("|")||""}"`,i.source]);return[r.join(","),...s.map(i=>i.join(","))].join(`
`)}getPerformanceStats(){const t=Date.now()-this.startTime||1e3,n=this.progress.generated/(t/1e3);return{masksPerSecond:Math.round(n),memoryUsage:performance.memory?.usedJSHeapSize||0,cacheHitRate:.8,averageProcessingTime:.1}}}const l8=({formula:e,onChange:t,onValidation:n})=>{const[r,s]=q.useState({isValid:!0,errors:[],preview:[]}),i=ke.useMemo(()=>rl.prototype.getExamples.call(new rl("")),[]);return q.useEffect(()=>{const o=rl.validateFormula(e),c=dg.generatePreview({valid:o.valid,errors:o.errors,slots:[],rawFormula:e,totalCombinations:0});s({isValid:o.valid,errors:o.errors,preview:c}),n(o.valid,o.errors,c)},[e,n]),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:" "}),u.jsx("textarea",{className:"w-full p-3 border rounded-lg font-mono text-sm",rows:2,value:e,onChange:o=>t(o.target.value),placeholder:"[BRAND] [MODEL] (GEO?) (ACTION|PRICE)?"}),r.errors.length>0&&u.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:[u.jsx("b",{children:":"}),u.jsx("ul",{className:"list-disc list-inside",children:r.errors.map((o,c)=>u.jsx("li",{children:o},c))})]}),u.jsxs("div",{className:"mt-3",children:[u.jsx("label",{className:"block text-xs font-medium mb-2",children:" :"}),u.jsx("div",{className:"space-y-1",children:i.map((o,c)=>u.jsx("button",{onClick:()=>t(o),className:"block w-full text-left p-2 text-xs bg-gray-50 hover:bg-gray-100 rounded border",children:o},c))})]}),r.preview.length>0&&r.isValid&&u.jsxs("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded",children:[u.jsx("label",{className:"block text-xs font-medium mb-2",children:" :"}),u.jsx("div",{className:"text-xs space-y-1",children:r.preview.map((o,c)=>u.jsx("div",{className:"text-green-700",children:o},c))})]})]})},c8=({policy:e,onChange:t,masks:n})=>{const[r,s]=q.useState(null);q.useEffect(()=>{if(n.length>0){const o=hg.analyzeMask(n);s(o)}},[n]);const i=hg.getAvailablePolicies();return u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium mb-3",children:" "}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.map(o=>u.jsxs("label",{className:"flex items-start space-x-2 p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"operators",value:o.name,checked:e===o.name,onChange:c=>t(c.target.value),className:"mt-1"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-sm",children:o.name}),u.jsx("div",{className:"text-xs text-gray-600",children:o.description}),u.jsx("div",{className:"text-xs font-mono text-blue-600 mt-1",children:o.example})]})]},o.name))}),r&&u.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded",children:[u.jsxs("div",{className:"text-sm font-medium mb-2",children:[": ",r.recommendedPolicy]}),u.jsx("div",{className:"text-xs text-gray-600",children:r.reasoning})]})]})},u8=({threshold:e,onChange:t,weights:n,onWeightsChange:r})=>{const[s]=q.useState(()=>new _h),i={high:[" iphone 15  "," samsung galaxy s24 "," xiaomi redmi note 13 "],medium:[" apple "," samsung "," xiaomi  "],low:["iphone",""," "],info:["  iphone","  "," samsung galaxy"]};return u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium mb-3",children:"  "}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("label",{className:"block text-xs font-medium mb-2",children:[" : ",e.toFixed(2)]}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:e,onChange:o=>t(parseFloat(o.target.value)),className:"w-full"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium mb-2",children:"ACTION/PRICE (1)"}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n.theta1,onChange:o=>r({...n,theta1:parseFloat(o.target.value)}),className:"w-full"}),u.jsx("div",{className:"text-xs text-gray-600",children:n.theta1})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium mb-2",children:"BRAND/MODEL (2)"}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n.theta2,onChange:o=>r({...n,theta2:parseFloat(o.target.value)}),className:"w-full"}),u.jsx("div",{className:"text-xs text-gray-600",children:n.theta2})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium mb-2",children:" (3)"}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n.theta3,onChange:o=>r({...n,theta3:parseFloat(o.target.value)}),className:"w-full"}),u.jsx("div",{className:"text-xs text-gray-600",children:n.theta3})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium mb-2",children:"GEO (4)"}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n.theta4,onChange:o=>r({...n,theta4:parseFloat(o.target.value)}),className:"w-full"}),u.jsx("div",{className:"text-xs text-gray-600",children:n.theta4})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-xs font-medium mb-2",children:"   "}),u.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:Object.entries(i).map(([o,c])=>u.jsxs("div",{className:"text-xs",children:[u.jsxs("div",{className:"font-medium text-gray-700",children:[o,":"]}),c.slice(0,2).map((h,d)=>u.jsx("div",{className:"ml-2 text-gray-600",children:h},d))]},o))})]})]})},f8=({xmindData:e,onExport:t})=>{const[n,r]=q.useState("[BRAND] [MODEL] (GEO?) (ACTION|PRICE)?"),[s,i]=q.useState("mix"),[o,c]=q.useState(.6),[h,d]=q.useState({theta1:.4,theta2:.3,theta3:.2,theta4:.1}),[p,g]=q.useState(!0),[v,x]=q.useState([]),[b,y]=q.useState([]),_=q.useCallback((A,U,F)=>{g(A),x(U),y(F)},[]),[E,T]=q.useState({BRAND:["apple","samsung","xiaomi"],MODEL:["iphone 15","galaxy s24","redmi note 13"],GEO:["","",""],ACTION:["",""],PRICE:["",""]}),[C,N]=q.useState(!1),[R,P]=q.useState(null),[j,O]=q.useState(null),[D,Y]=q.useState(null),[Z,z]=q.useState([]),[re,k]=q.useState("ecommerce");q.useEffect(()=>{if(e){const U=new Vb().analyzeXMind(e);if(U.detectedIndustry){k(U.detectedIndustry);const F=K(e);T(B=>({...B,...F}))}}},[e]);const K=q.useCallback(A=>{const U=xe=>{const ge=[xe.title];return xe.children?.forEach(ve=>{ge.push(...U(ve))}),ge},F=U(A),B=F.filter(xe=>["apple","samsung","xiaomi","huawei"].some(ge=>xe.toLowerCase().includes(ge))),ue=F.filter(xe=>["","","",""].some(ge=>xe.toLowerCase().includes(ge)));return{BRAND:B.length>0?B:["apple","samsung"],GEO:ue.length>0?ue:["",""]}},[]),X=async()=>{if(!p)return;const A={formula:n,data:E,operatorPolicy:s,scoringThreshold:o,enableNormalization:!0,enableScoring:!0,enableOperators:!0,maxMasks:5e4,batchSize:1e3,enableDeduplication:!0},U=new o8(A);P(U),N(!0);try{const F=await U.generate();Y(F),O(U.getProgress()),t(F)}catch(F){console.error(" :",F)}finally{N(!1)}},H=()=>{R&&R.pause()},ne=()=>{R&&R.resume()},se=()=>{R&&R.cancel(),N(!1)},oe=()=>{const U=new Vb().generateNegativeWords(e),F=[...U.global,...U.thematic,...U.contextual].flatMap(B=>B.words);z(F)},M=(A,U)=>{const F=U.split(`
`).map(B=>B.trim()).filter(B=>B.length>0);T(B=>({...B,[A]:F}))};return u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6",children:"   "}),u.jsx(l8,{formula:n,onChange:r,onValidation:_}),u.jsx(c8,{policy:s,onChange:i,masks:[]}),u.jsx(u8,{threshold:o,onChange:c,weights:h,onWeightsChange:d}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium mb-3",children:"   "}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(E).map(([A,U])=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium mb-1",children:A}),u.jsx("textarea",{className:"w-full p-2 border rounded text-sm",rows:3,value:U.join(`
`),onChange:F=>M(A,F.target.value),placeholder:`  ${A} (   )`})]},A))})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium mb-3",children:" -"}),u.jsx("button",{onClick:oe,className:"px-3 py-1.5 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:" -"}),Z.length>0&&u.jsxs("div",{className:"mt-3 p-3 bg-gray-50 border rounded max-h-32 overflow-y-auto",children:[u.jsxs("div",{className:"text-sm font-medium mb-2",children:[" -: ",Z.length]}),u.jsxs("div",{className:"text-xs text-gray-600",children:[Z.slice(0,20).join(", "),Z.length>20&&` ...   ${Z.length-20}`]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex gap-3 items-center",children:[u.jsx("button",{onClick:X,disabled:!p||C,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:C?"...":" "}),C&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:H,className:"px-3 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700",children:""}),u.jsx("button",{onClick:ne,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""}),u.jsx("button",{onClick:se,className:"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:""})]})]}),j&&u.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border rounded",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-sm font-medium",children:" "}),u.jsxs("span",{className:"text-sm",children:[j.generated," / ",j.total]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${j.generated/j.total*100}%`}})}),u.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[": ",j.speed," /",j.estimatedTimeRemaining&&u.jsxs(u.Fragment,{children:["  : ",Math.ceil(j.estimatedTimeRemaining/1e3)," "]})]})]})]}),D&&u.jsxs("div",{className:"mt-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:" "}),u.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[u.jsxs("div",{className:"p-3 bg-green-50 border rounded",children:[u.jsx("div",{className:"text-lg font-bold text-green-700",children:D.totalGenerated}),u.jsx("div",{className:"text-xs text-green-600",children:" "})]}),u.jsxs("div",{className:"p-3 bg-blue-50 border rounded",children:[u.jsx("div",{className:"text-lg font-bold text-blue-700",children:D.totalScored}),u.jsx("div",{className:"text-xs text-blue-600",children:" "})]}),u.jsxs("div",{className:"p-3 bg-purple-50 border rounded",children:[u.jsx("div",{className:"text-lg font-bold text-purple-700",children:D.totalNormalized}),u.jsx("div",{className:"text-xs text-purple-600",children:""})]}),u.jsxs("div",{className:"p-3 bg-orange-50 border rounded",children:[u.jsx("div",{className:"text-lg font-bold text-orange-700",children:D.totalWithOperators}),u.jsx("div",{className:"text-xs text-orange-600",children:" "})]})]}),u.jsxs("div",{className:"border rounded",children:[u.jsx("div",{className:"p-3 bg-gray-50 border-b",children:u.jsx("h4",{className:"font-medium",children:" ( 100 )"})}),u.jsx("div",{className:"p-3 max-h-64 overflow-y-auto",children:D.preview.slice(0,100).map((A,U)=>u.jsx("div",{className:"py-1 border-b last:border-b-0 text-sm",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{children:A.mask}),A.score&&u.jsxs("span",{className:"text-xs text-gray-500",children:[A.score.toFixed(2)," ",A.classification]})]})},U))})]}),u.jsx("div",{className:"mt-4 flex gap-2",children:u.jsx("button",{onClick:()=>{const A=D.masks.map(ue=>[ue.mask,ue.score,ue.classification].join(",")).join(`
`),U=new Blob([A],{type:"text/csv"}),F=URL.createObjectURL(U),B=document.createElement("a");B.href=F,B.download="masks_generated.csv",B.click(),URL.revokeObjectURL(F)},className:"px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:" CSV"})})]})]})};async function pg(e){try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(e),!0}catch{}try{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="fixed",t.style.left="-9999px",t.style.top="-9999px",document.body.appendChild(t),t.focus(),t.select();const n=document.execCommand("copy");return document.body.removeChild(t),n}catch{return!1}}function hm(e){if(!e)return null;const t=n=>({id:n.id||yl(),title:n.title,labels:n.labels||[],collapsed:!!n.collapsed,children:(n.children||[]).map(t)});return t(e)}function HS(e,t,n=" "){const r=yl();return[Su(e,i=>i.id===t?{...i,children:[...i.children||[],{id:r,title:n,children:[]}]}:i),r]}function VS(e,t,n=" "){const r=yl(),s=o=>{if((o.children||[]).findIndex(h=>h.id===t)!==-1){const h={id:r,title:n,children:[]};return{...o,children:[...o.children||[],h]}}return{...o,children:(o.children||[]).map(s)}};return[e.id===t?Z6(e,t,n):s(e),r]}function d8(e,t){if(e.id===t)return e;const n=r=>{const s=(r.children||[]).filter(i=>i.id!==t).map(n);return{...r,children:s}};return n(e)}async function h8(e){const t=await e.arrayBuffer(),n=await s6.loadAsync(t),r=Object.values(n.files).find(o=>/content\.json$/i.test(o.name));if(r){const o=await r.async("string");try{const c=JSON.parse(o),h=mg(c);if(h)return hm(h)}catch(c){console.warn("JSON parse error",c)}}const s=Object.values(n.files).find(o=>/content\.xml$/i.test(o.name));if(s){const o=await s.async("string");try{const h=new K6({ignoreAttributes:!1,attributeNamePrefix:"@"}).parse(o),d=qS(h);if(d)return hm(d)}catch(c){console.warn("XML parse error",c)}}const i=Object.values(n.files).find(o=>/\.json$/i.test(o.name));if(i){const o=await i.async("string");try{const c=JSON.parse(o),h=mg(c);if(h)return hm(h)}catch{}}return null}function mx(e){return e?e.title??e.TopicName??e.text??e.caption??e["@title"]??e["@TEXT"]??"( )":""}function sl(e){return e?Array.isArray(e)?e:[e]:[]}function mg(e){const t=Bd(e);return t?GS(t):null}function Bd(e){if(!e||typeof e!="object")return null;if(e.topic||e.rootTopic||p8(e))return e.topic??e.rootTopic??e;for(const t of Object.keys(e)){const n=e[t];if(Array.isArray(n))for(const r of n){const s=Bd(r);if(s)return s}else if(typeof n=="object"){const r=Bd(n);if(r)return r}}return null}function p8(e){if(!e||typeof e!="object")return!1;const t="title"in e||"@title"in e||"text"in e||"TopicName"in e,n="topics"in e||"children"in e||"subTopics"in e;return!!(t&&n)}function GS(e){const t=mx(e),n=sl(e.labels||e.label||e.markers).map(o=>typeof o=="string"?o:o?.label?o.label:o?.title?o.title:String(o??"")),r=e.topics??e.subTopics??e.children?.topics??e.children?.attached??e.children??[],s=sl(r).flat(),i=[];for(const o of s){if(!o)continue;const c=o.topic?[o.topic]:o.topics?sl(o.topics):[o];for(const h of c)i.push(GS(h))}return{id:yl(),title:t,labels:n,children:i}}function qS(e){const t=e["xmap-content"]||e.xmap||e,r=sl(t?.sheet)[0],s=r?.topic||r?.rootTopic||Bd(r);return s?WS(s):null}function WS(e){const t=e.title??e["@title"]??e["@TEXT"]??e.plain,n=typeof t=="string"?t:mx(t??e),r=sl(e.labels?.label).map(c=>typeof c=="string"?c:c?.["@text"]||c?.["@TITLE"]||String(c)),s=e.children?.topics||e.topics,o=sl(s?.topic??s).map(c=>WS(c));return{id:yl(),title:n||"( )",labels:r,children:o}}function m8({data:e,selectedIds:t,onSelect:n,onToggle:r,onAddChild:s,onAddSibling:i,onDeleteIds:o,onRename:c,onReparent:h,controlsRef:d,onContextMenu:p}){const g=q.useRef(null),v=q.useRef(null),x=q.useRef(null),b=q.useRef(null),y=q.useRef(el),[_,E]=q.useState({w:1100,h:680}),[T,C]=q.useState(null),[N,R]=q.useState(null),P=q.useRef([]),[j,O]=q.useState(null),D=q.useRef(null),[Y,Z]=q.useState(!1);q.useEffect(()=>{const ee=G=>{G.code==="Space"&&Z(!0)},V=G=>{G.code==="Space"&&Z(!1)};return window.addEventListener("keydown",ee),window.addEventListener("keyup",V),()=>{window.removeEventListener("keydown",ee),window.removeEventListener("keyup",V)}},[]),q.useEffect(()=>{const ee=mi(g.current),V=mi(x.current),G=t6().scaleExtent([.2,6]).on("zoom",de=>{y.current=de.transform,V.attr("transform",de.transform)});ee.call(G),ee.on("dblclick.zoom",null),b.current=G;const ce=(de,Me,_e)=>{const Re=ee,Ue=b.current,Ze=typeof Me=="number"?Me:y.current.k,$e=de===e?.id?{x:0,y:0}:P.current.find(Lt=>Lt.id===de)||null;if(!$e){_e?.();return}const wt=$e.x,Qt=$e.y,bt=el.translate(-Ze*wt,-Ze*Qt).scale(Ze);Re.transition().duration(240).call(Ue.transform,bt).on("end",_e||null)};d.current={zoomIn:()=>ee.transition().call(G.scaleBy,1.2),zoomOut:()=>ee.transition().call(G.scaleBy,1/1.2),reset:()=>ee.transition().call(G.transform,el),fit:()=>{try{const de=x.current,Me=g.current,_e=de.getBBox(),Re=24,Ue=Math.min((Me.clientWidth-Re*2)/_e.width,(Me.clientHeight-Re*2)/_e.height,6),Ze=(Me.clientWidth-Ue*(_e.x+_e.width))/2+Ue*_e.x*-1,$e=(Me.clientHeight-Ue*(_e.y+_e.height))/2+Ue*_e.y*-1,wt=el.translate(Ze,$e).scale(Ue);ee.transition().call(G.transform,wt)}catch{}},focusNode:(de,Me)=>ce(de,Me)};const Te=requestAnimationFrame(()=>{const de=D.current;de&&(D.current=null,ce(de,void 0,()=>C({id:de,value:""})))});return()=>{d.current=null,ee.on("zoom",null),cancelAnimationFrame(Te)}},[d,e]),q.useEffect(()=>{const ee=()=>{const V=g.current?.parentElement;if(!V)return;const G=V.getBoundingClientRect();E({w:Math.max(800,G.width),h:Math.max(520,G.height)})};return ee(),window.addEventListener("resize",ee),()=>window.removeEventListener("resize",ee)},[]);const z=ee=>Math.max(64,Math.min(320,10*ee.length+28)),re=28,k=q.useMemo(()=>{if(!e)return{nodes:[],links:[],rootLayout:null};const V=($e=>$e.collapsed?[]:$e.children||[])(e),G=[],ce=[];V.forEach(($e,wt)=>(wt%2?G:ce).push($e));const pe=[],Te=($e,wt)=>{const Qt={id:"__root__"+wt,title:"",children:$e},bt=hx(Qt,Qe=>Qe.collapsed?[]:Qe.children||[]);K5().nodeSize([36,140])(bt);const gt=[];return bt.each(Qe=>{Qe.data.id.startsWith("__root__")||(gt.push({x:Qe.x,y:wt*Qe.y,d:Qe,w:z(Qe.data.title),h:re}),Qe.parent&&!Qe.parent.data.id.startsWith("__root__")?pe.push({s:Qe.parent.data.id,t:Qe.data.id}):Qe.parent&&pe.push({s:e.id,t:Qe.data.id}))}),{nodes:gt}},de=Te(G,-1),Me=Te(ce,1),_e=[...de.nodes,...Me.nodes],Re=new Map(_e.map($e=>[$e.d.data.id,$e])),Ue={x:0,y:0,d:{data:e},w:z(e.title),h:40};Re.set(e.id,Ue);const Ze=pe.map(({s:$e,t:wt})=>({s:Re.get($e||e.id),t:Re.get(wt)}));return P.current=_e.map($e=>({id:$e.d.data.id,x:$e.y,y:$e.x,w:$e.w,h:$e.h})),{nodes:_e,links:Ze,rootLayout:Ue}},[e]),K=_.w/2,X=_.h/2;q.useEffect(()=>{const ee=V=>{if(!e)return;const G=Array.from(t)[0]||e.id;if(T){if(V.key==="Escape")C(null);else if(V.key==="Enter")V.preventDefault(),c(T.id,T.value.trim()||""),C(null);else if(V.key==="Tab"){V.preventDefault();const ce=i(T.id);ce&&(D.current=ce)}return}if(V.key==="Tab"){V.preventDefault();const ce=s(G);ce&&(D.current=ce)}if(V.key==="Enter"){V.preventDefault();const ce=i(G);ce&&(D.current=ce)}if(V.key==="Delete"&&t.size>0&&o(t),(V.ctrlKey||V.metaKey)&&V.key.toLowerCase()==="c"){const ce=[];t.forEach(Te=>{const de=e&&Xa(e,Te);de&&ce.push(de.title)});const pe=Array.from(new Set(ce)).join(`
`);pg(pe)}if(V.key==="F2"){const ce=Xa(e,G);ce&&C({id:G,value:ce.title})}};return window.addEventListener("keydown",ee),()=>window.removeEventListener("keydown",ee)},[e,t,T,s,i,o,c]);const H=(ee,V)=>{const ce=g.current.getBoundingClientRect(),pe=ee-ce.left-K,Te=V-ce.top-X,de=y.current.invert([pe,Te]);return{x:de[0],y:de[1]}},ne=ee=>{if(Y||ee.target.closest('[data-node="1"]'))return;ee.preventDefault();const V=H(ee.clientX,ee.clientY);R({x1:V.x,y1:V.y,x2:V.x,y2:V.y}),n(new Set)},se=ee=>{if(!N)return;const V=H(ee.clientX,ee.clientY),G={...N,x2:V.x,y2:V.y};R(G);const ce=Math.min(G.x1,G.x2),pe=Math.max(G.x1,G.x2),Te=Math.min(G.y1,G.y2),de=Math.max(G.y1,G.y2),Me=new Set;for(const _e of P.current)_e.x>=ce&&_e.x<=pe&&_e.y>=Te&&_e.y<=de&&Me.add(_e.id);n(Me)},oe=()=>R(null),M=(ee,V)=>{ee.stopPropagation();const G=new Set(t);ee.shiftKey?G.has(V)?G.delete(V):G.add(V):(G.clear(),G.add(V)),n(G)},A=(ee,V)=>{ee.stopPropagation();const G=e?Xa(e,V):null;G&&C({id:V,value:G.title})},U=(ee,V,G)=>{ee.stopPropagation(),C({id:V,value:G})},F=(ee,V)=>{ee.preventDefault(),ee.stopPropagation(),t.has(V)||n(new Set([V])),p?.("node",ee.clientX,ee.clientY,V)},B=ee=>{ee.target.closest('[data-node="1"]')||(ee.preventDefault(),p?.("bg",ee.clientX,ee.clientY))},ue=q.useRef(null),[xe,ge]=q.useState(null),ve=q.useRef(!1),je=(ee,V,G)=>{for(const pe of P.current){if(G&&pe.id===G)continue;const Te=pe.x-pe.w/2-6,de=pe.x+pe.w/2+6,Me=pe.y-pe.h/2-6,_e=pe.y+pe.h/2+6;if(ee>=Te&&ee<=de&&V>=Me&&V<=_e)return pe.id}if(e){const pe=Math.max(64,Math.min(320,10*e.title.length+28)),Te=40,de=-pe/2-6,Me=pe/2+6,_e=-Te/2-6,Re=Te/2+6;if(ee>=de&&ee<=Me&&V>=_e&&V<=Re)return e.id}return null},Be=(ee,V)=>{if(ee.button!==0)return;ee.stopPropagation();const G=H(ee.clientX,ee.clientY);ue.current={id:V,x0:G.x,y0:G.y,mode:ee.shiftKey?"single":"subtree",started:!1},ve.current=!1;const ce=Te=>{if(!ue.current)return;const de=H(Te.clientX,Te.clientY),Me=de.x-ue.current.x0,_e=de.y-ue.current.y0;!ue.current.started&&Math.hypot(Me,_e)>6&&(ue.current.started=!0),ue.current.started&&(ve.current=!0,ge(je(de.x,de.y,ue.current.id)))},pe=Te=>{window.removeEventListener("mousemove",ce),window.removeEventListener("mouseup",pe);const de=ue.current;if(ue.current=null,!de||!de.started){ge(null);return}const Me=xe;ge(null),Me&&Me!==de.id&&h(de.id,Me,de.mode)};window.addEventListener("mousemove",ce),window.addEventListener("mouseup",pe)},Ge=ee=>!!(ee&&(ee.children?.length||0)>0),at=ee=>({x:ee.y,y:ee.x,w:ee.w,h:ee.h}),I=(ee,V)=>{const G=at(ee),ce=at(V),pe=Math.sign(ce.x-G.x)||1,Te=G.x+pe*(G.w/2),de=G.y,Me=ce.x-pe*(ce.w/2),_e=ce.y,Re=(Te+Me)/2;return`M ${Te},${de} C ${Re},${de} ${Re},${_e} ${Me},${_e}`},ye=({id:ee,w:V,x:G,y:ce,parentX:pe,parentY:Te,collapsed:de})=>{const _e=(G<0?1:-1)*(V/2+12),Re=0,Ue=9,Ze=$e=>{$e.stopPropagation(),r(ee)};return u.jsxs("g",{className:"cursor-pointer",onClick:Ze,children:[u.jsx("circle",{cx:_e,cy:Re,r:Ue,className:"fill-white stroke-[#C8D1DC] hover:stroke-black"}),u.jsx("line",{x1:_e-4,y1:Re,x2:_e+4,y2:Re,stroke:"#111",strokeWidth:1.5}),de&&u.jsx("line",{x1:_e,y1:Re-4,x2:_e,y2:Re+4,stroke:"#111",strokeWidth:1.5})]})};return u.jsx("svg",{ref:g,width:_.w,height:_.h,className:"bg-white rounded-2xl shadow-inner select-none",onMouseDown:ne,onMouseMove:se,onMouseUp:oe,onMouseLeave:oe,onContextMenu:B,style:{cursor:Y?"grab":"default"},children:u.jsx("g",{ref:v,transform:`translate(${K},${X})`,children:u.jsxs("g",{ref:x,children:[u.jsx("g",{stroke:"#D9DEE5",fill:"none",children:k.links.map((ee,V)=>u.jsx("path",{d:I(ee.s,ee.t)},V))}),e&&u.jsxs("g",{transform:"translate(0,0)","data-node":"1",onDoubleClick:ee=>A(ee,e.id),onClick:ee=>{ve.current||M(ee,e.id)},onContextMenu:ee=>F(ee,e.id),onMouseDown:ee=>Be(ee,e.id),onMouseEnter:()=>O(e.id),onMouseLeave:()=>O(ee=>ee===e.id?null:ee),children:[u.jsx("rect",{x:-z(e.title)/2,y:-20,rx:10,ry:10,width:z(e.title),height:40,className:t.has(e.id)?"fill-[#EAF2FF] stroke-black":"fill-[#EAF2FF] stroke-[#7EA9FF]"}),xe===e.id&&u.jsx("rect",{x:-z(e.title)/2,y:-20,width:z(e.title),height:40,rx:10,ry:10,className:"fill-transparent stroke-amber-500",strokeWidth:2}),u.jsx("text",{textAnchor:"middle",y:5,className:"text-sm font-semibold",onDoubleClick:ee=>U(ee,e.id,e.title),children:e.title}),j===e.id&&Ge(e)&&u.jsx(ye,{id:e.id,w:z(e.title),x:0,y:0,parentX:0,parentY:0,collapsed:!!e.collapsed})]}),u.jsx("g",{children:k.nodes.map((ee,V)=>{const G=ee.d.data,ce=t.has(G.id),pe=ee.w,Te=ee.h,de=ee.y,Me=ee.x;let _e=k.rootLayout;if(ee.d.parent&&!ee.d.parent.data.id.startsWith("__root__")){const Re=ee.d.parent.data.id,Ue=k.nodes.find(Ze=>Ze.d.data.id===Re);Ue&&(_e={x:Ue.y,y:Ue.x})}return u.jsxs("g",{transform:`translate(${de},${Me})`,className:"cursor-pointer","data-node":"1",onDoubleClick:Re=>A(Re,G.id),onClick:Re=>{ve.current||M(Re,G.id)},onContextMenu:Re=>F(Re,G.id),onMouseDown:Re=>Be(Re,G.id),onMouseEnter:()=>O(G.id),onMouseLeave:()=>O(Re=>Re===G.id?null:Re),children:[u.jsx("rect",{x:-pe/2,y:-Te/2,width:pe,height:Te,rx:8,ry:8,className:ce?"fill-white stroke-black":"fill-white stroke-[#C8D1DC]"}),xe===G.id&&u.jsx("rect",{x:-pe/2,y:-Te/2,width:pe,height:Te,rx:8,ry:8,className:"fill-transparent stroke-amber-500",strokeWidth:2}),u.jsx("text",{textAnchor:"middle",y:4,className:"text-xs",onDoubleClick:Re=>U(Re,G.id,G.title),children:G.title}),j===G.id&&Ge(G)&&u.jsx(ye,{id:G.id,w:pe,x:de,y:Me,parentX:_e?.x||0,parentY:_e?.y||0,collapsed:!!G.collapsed})]},V)})}),T&&(()=>{const ee=P.current.find(V=>V.id===T.id)||{x:0,y:0,w:300};return u.jsx("foreignObject",{x:ee.x-Math.min(300,ee.w),y:ee.y-16,width:Math.min(300,ee.w*1.2),height:32,children:u.jsx("input",{autoFocus:!0,value:T.value,onChange:V=>C({id:T.id,value:V.target.value}),onBlur:()=>{c(T.id,T.value.trim()||""),C(null)},className:"w-full h-full border rounded px-2 text-sm bg-white"})})})(),N&&u.jsx("rect",{x:Math.min(N.x1,N.x2),y:Math.min(N.y1,N.y2),width:Math.abs(N.x2-N.x1),height:Math.abs(N.y2-N.y1),className:"fill-blue-500/10 stroke-blue-500",strokeDasharray:"4 4"})]})})})}const KS=["core","products","mods","attrs","geo","brands"];function gg(e,t=5){const n=KS.map(i=>XS(e[i]));let r=[];const s=(i,o)=>{if(i===n.length){const c=o.filter(Boolean).join(" ").trim();if(!c)return;c.split(/\s+/).length<=t&&r.push(c.toLowerCase());return}for(const c of n[i])s(i+1,[...o,c])};return s(0,[]),r=Array.from(new Set(r)),r.sort((i,o)=>i.localeCompare(o)),r}function XS(e){return(e||"").split(/\r?\n/).map(t=>t.trim()).filter(Boolean)}function g8(){const e=[];e.push({name:"pickTitle priority",run:()=>mx({TopicName:"TN",text:"TXT",caption:"CAP","@title":"AT","@TEXT":"AX",title:"T"})==="T"}),e.push({name:"normalizeFromJSON basic tree",run:()=>{const i=mg({rootTopic:{title:"Root",topics:[{topic:{title:"A",topics:[{topic:{title:"A1"}}]}},{topic:{title:"B"}}]}});return i?i.title==="Root"&&(i.children?.length??0)===2&&(i.children?.[0].children?.length??0)===1:"null root"}}),e.push({name:"normalizeFromXML minimal",run:()=>{const i=qS({"xmap-content":{sheet:{topic:{title:"R",children:{topics:{topic:[{title:"L1"},{title:"L2",children:{topics:{topic:[{title:"L2-1"}]}}}]}}}}}});return i?i.title==="R"&&(i.children?.length??0)===2&&(i.children?.[1].children?.length??0)===1:"null root"}}),e.push({name:"tree ops add/rename/delete/toggle",run:()=>{let s={id:"r",title:"R",children:[{id:"a",title:"A"}]};return s=HS(s,"a","A1")[0],s=px(s,"a",{title:"A*"}),s=FS(s,"a"),s=d8(s,"a"),s=VS(s,"r","S")[0],(s.children?.length??0)===1?!0:JSON.stringify(s)}}),e.push({name:"generateMasks respects maxWords",run:()=>gg({core:"",products:"iphone 15",mods:" ",attrs:"128 ",geo:"",brands:"apple"},3).every(o=>o.split(/\s+/).length<=3)}),e.push({name:"splitLines trims and filters",run:()=>{const s=XS(` a 
 
 b 
`);return s.length===2&&s[0]==="a"&&s[1]==="b"}}),e.push({name:"generateMasks handles empties",run:()=>{const i=gg({core:"",products:"",mods:`A
`,attrs:"",geo:"",brands:"B"},5);return Array.isArray(i)&&i.every(o=>typeof o=="string")}});const t=e.map(s=>({name:s.name,result:s.run()})),n=t.filter(s=>s.result===!0).length,r=t.filter(s=>s.result!==!0);return{results:t,passed:n,failed:r}}function x8(){const[e,t]=q.useState(null);return u.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow border border-zinc-200",children:[u.jsx("h3",{className:"font-semibold mb-3",children:" "}),u.jsx("button",{className:"px-3 py-1.5 rounded-lg bg-zinc-900 text-white text-sm",onClick:()=>t(g8()),children:" "}),e&&u.jsxs("div",{className:"mt-3 text-sm",children:[u.jsxs("div",{className:"mb-2",children:[": ",u.jsx("b",{children:e.passed})," / ",e.results.length]}),u.jsx("div",{className:"grid gap-1",children:e.results.map((n,r)=>u.jsxs("div",{className:`px-2 py-1 rounded ${n.result===!0?"bg-green-50":"bg-red-50"}`,children:[u.jsx("b",{children:n.name}),": ",n.result===!0?"OK":String(n.result)]},r))})]})]})}function v8(){const[e,t]=q.useState("map"),[n,r]=q.useState(null),[s,i]=q.useState(""),[o,c]=q.useState(new Set),h=q.useRef(null),d=q.useRef(null),[p,g]=q.useState(null),[v,x]=q.useState(""),b=H=>{x(H),setTimeout(()=>x(""),1200)},[y,_]=q.useState({core:"",products:"",mods:"",attrs:"",geo:"",brands:""}),E=q.useMemo(()=>gg(y,5),[y]),T=q.useCallback(async H=>{i(H.name);const ne=await h8(H);r(ne),c(new Set(ne?.id?[ne.id]:[]))},[]),C=q.useCallback(async H=>{H.preventDefault();const ne=H.dataTransfer.files?.[0];ne&&T(ne)},[T]),N=q.useCallback(async H=>{const ne=H.target.files?.[0];ne&&T(ne)},[T]),R=H=>c(new Set(H)),P=H=>r(ne=>ne&&FS(ne,H)),j=H=>{if(!n)return null;const[ne,se]=HS(n,H," ");return r(ne),c(new Set([se])),se},O=H=>{if(!n)return null;const[ne,se]=VS(n,H," ");return r(ne),c(new Set([se])),se},D=H=>r(ne=>ne&&X6(ne,H)),Y=(H,ne)=>r(se=>se&&px(se,H,{title:ne})),Z=(H,ne,se)=>{n&&(r(se==="subtree"?Y6(n,H,ne):J6(n,H,ne)),c(new Set([H])))},z=(H,ne,se,oe)=>{const A=d.current.getBoundingClientRect();g({x:ne-A.left,y:se-A.top,id:oe})},re=async()=>{if(!n)return;const H=[];o.forEach(se=>{const oe=Xa(n,se);oe&&H.push(oe.title)}),await pg(Array.from(new Set(H)).join(`
`))&&b(""),g(null)},k=()=>{p?.id&&P(p.id),g(null)},K=()=>{o.size&&D(o),g(null)},X=()=>{const H=document.querySelector("svg");if(!H)return;const ne=new XMLSerializer().serializeToString(H),se=new Blob([ne],{type:"image/svg+xml;charset=utf-8"}),oe=URL.createObjectURL(se),M=document.createElement("a");M.href=oe,M.download=(s?.replace(/\.[^.]+$/,"")||"mindmap")+".svg",M.click(),URL.revokeObjectURL(oe)};return u.jsx("div",{className:"p-4 bg-zinc-100 min-h-[540px]",onClick:()=>g(null),children:u.jsxs("div",{className:"mx-auto max-w-[1200px]",children:[u.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"KeySet   + XMind ()"}),u.jsxs("nav",{className:"flex items-center gap-2 rounded-xl bg-white p-1 shadow",children:[u.jsx("button",{onClick:()=>t("map"),className:`px-3 py-1.5 rounded-lg text-sm ${e==="map"?"bg-black text-white":"hover:bg-zinc-100"}`,children:" "}),u.jsx("button",{onClick:()=>t("gen"),className:`px-3 py-1.5 rounded-lg text-sm ${e==="gen"?"bg-black text-white":"hover:bg-zinc-100"}`,children:"  "}),u.jsx("button",{onClick:()=>t("prof"),className:`px-3 py-1.5 rounded-lg text-sm ${e==="prof"?"bg-black text-white":"hover:bg-zinc-100"}`,children:" . "}),u.jsx("button",{onClick:()=>t("tests"),className:`px-3 py-1.5 rounded-lg text-sm ${e==="tests"?"bg-black text-white":"hover:bg-zinc-100"}`,children:" "})]})]}),e==="map"?u.jsx("section",{children:u.jsxs("div",{onDrop:C,onDragOver:H=>H.preventDefault(),ref:d,className:"relative rounded-2xl bg-white p-4 shadow border border-zinc-200",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-black text-white cursor-pointer",children:[u.jsx("input",{type:"file",accept:".xmind",className:"hidden",onChange:N}),u.jsx("span",{children:" .xmind"})]}),u.jsx("span",{className:"text-xs text-zinc-500",children:"   "})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>h.current&&h.current.zoomOut?.(),className:"px-2 py-1.5 rounded-lg bg-zinc-900 text-white text-sm",children:""}),u.jsx("button",{onClick:()=>h.current&&h.current.reset?.(),className:"px-2 py-1.5 rounded-lg bg-zinc-900 text-white text-sm",children:"1:1"}),u.jsx("button",{onClick:()=>h.current&&h.current.zoomIn?.(),className:"px-2 py-1.5 rounded-lg bg-zinc-900 text-white text-sm",children:""}),u.jsx("button",{onClick:()=>h.current&&h.current.fit?.(),className:"px-2 py-1.5 rounded-lg bg-zinc-900 text-white text-sm",children:"Fit"}),u.jsx("button",{onClick:X,className:"px-3 py-1.5 rounded-lg bg-zinc-900 text-white text-sm",children:" SVG"})]})]}),u.jsx("div",{className:"text-sm text-zinc-600 mb-2",children:s?`: ${s}`:"  "}),u.jsx(m8,{data:n,selectedIds:o,onSelect:R,onToggle:P,onAddChild:j,onAddSibling:O,onDeleteIds:D,onRename:Y,onReparent:Z,controlsRef:h,onContextMenu:z}),p&&u.jsxs("div",{style:{left:p.x,top:p.y},className:"absolute z-50 min-w-[160px] rounded-xl border bg-white shadow-lg text-sm overflow-hidden",children:[u.jsx("button",{className:"w-full text-left px-3 py-2 hover:bg-zinc-100",onClick:re,children:""}),p.id&&u.jsx("button",{className:"w-full text-left px-3 py-2 hover:bg-zinc-100",onClick:k,children:"/"}),u.jsx("button",{className:"w-full text-left px-3 py-2 hover:bg-zinc-100 text-red-600",onClick:K,children:""})]}),!!v&&u.jsx("div",{className:"absolute right-4 bottom-4 bg-black text-white text-xs px-3 py-2 rounded-lg shadow",children:v}),u.jsxs("p",{className:"text-xs text-zinc-500 mt-3",children:[": 1   ; ",u.jsx("b",{children:"Tab/Enter"}),"        ;    .       /+    .         . Ctrl+C    . Space  ,   ."]})]})}):e==="prof"?u.jsx("section",{className:"mt-4",children:u.jsx(f8,{xmindData:n,onExport:H=>{console.log(" :",H)}})}):e==="gen"?u.jsxs("section",{className:"rounded-2xl bg-white p-4 shadow border border-zinc-200 mt-4",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"   (MVP)"}),u.jsx("div",{className:"grid lg:grid-cols-6 gap-3 mb-4",children:KS.map(H=>u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-xs font-medium mb-1 uppercase tracking-wide text-zinc-600",children:H}),u.jsx("textarea",{className:"min-h-[110px] rounded-xl border p-2 text-sm focus:outline-none focus:ring-2 focus:ring-black/10",placeholder:H==="core"?`

`:H==="products"?`iphone 15

xiaomi 8 pro`:H==="mods"?`
 
 `:H==="attrs"?`
128 
`:H==="geo"?`

`:`apple
xiaomi
samsung`,value:y[H],onChange:ne=>_(se=>({...se,[H]:ne.target.value}))})]},H))}),u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"text-sm text-zinc-600",children:[" : ",u.jsx("b",{children:E.length})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:async()=>{await pg(E.join(`
`))&&b("")},className:"px-3 py-1.5 rounded-lg bg-zinc-900 text-white text-sm",children:" "}),u.jsx("button",{onClick:()=>{const H=`mask
`+E.join(`
`),ne=new Blob([H],{type:"text/csv;charset=utf-8"}),se=URL.createObjectURL(ne),oe=document.createElement("a");oe.href=se,oe.download="masks.csv",oe.click(),URL.revokeObjectURL(se)},className:"px-3 py-1.5 rounded-lg bg-zinc-900 text-white text-sm",children:" CSV"})]})]}),u.jsx("div",{className:"h-[320px] overflow-auto border rounded-xl p-3 text-sm bg-zinc-50",children:E.map((H,ne)=>u.jsx("div",{className:"py-1 border-b last:border-b-0 border-zinc-200",children:H},ne))})]}):u.jsx(x8,{})]})})}function y8(){return u.jsx(tj,{children:u.jsx(v8,{})})}const w8=Object.freeze(Object.defineProperty({__proto__:null,default:y8},Symbol.toStringTag,{value:"Module"})),Gb=e=>e instanceof Error?{message:e.message,stack:e.stack,name:e.name}:{message:"Unknown error",details:JSON.stringify(e,null,2)};let b8=class extends ke.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("KeySet Error Boundary caught an error:",t,n);try{const i={path:window.location.pathname,userAgent:navigator.userAgent,error:Gb(t),info:n,timestamp:Date.now()};fetch(wu("/api/debug/react-error"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).catch(()=>{})}catch{}const r=t?.message??"";if(r.includes("JSON")||r.includes("parse")||r.includes("Invalid hook call")||r.includes("#185"))try{const i=[];Object.keys(localStorage).forEach(o=>{(o.includes("keyset")||o.includes("column")||o.includes("phrase"))&&(localStorage.removeItem(o),i.push(o))}),console.warn("[KeySet][store] Cleared potentially corrupted localStorage entries:",i),setTimeout(()=>{window.location.reload()},1500)}catch(i){console.error("[KeySet][store] Failed to clear localStorage after crash:",i)}this.setState({errorInfo:n})}render(){if(this.state.hasError){const t=Gb(this.state.error);return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsx("div",{className:"max-w-2xl w-full mx-4",children:u.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 border border-red-200",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:u.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-red-800",children:" KeySet"}),u.jsx("p",{className:"text-red-600",children:"    "})]})]}),u.jsxs("div",{className:"bg-red-50 rounded p-4 mb-4",children:[u.jsx("h3",{className:"text-sm font-medium text-red-800 mb-2",children:" :"}),u.jsx("pre",{className:"text-xs text-red-700 overflow-auto",children:JSON.stringify(t,null,2)})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:" "}),u.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"w-full bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"   "})]}),t.stack&&u.jsxs("details",{className:"mt-4",children:[u.jsx("summary",{className:"text-sm text-gray-600 cursor-pointer",children:" "}),u.jsx("pre",{className:"text-xs text-gray-500 mt-2 p-2 bg-gray-100 rounded overflow-auto max-h-32",children:t.stack})]})]})})})}return this.props.children}};const YS=["shift","alt","meta","mod","ctrl","control"],_8={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function la(e){return(_8[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function JS(e){return YS.includes(e)}function pm(e,t=","){return e.toLowerCase().split(t)}function mm(e,t="+",n=">",r=!1,s){let i=[],o=!1;e=e.trim(),e.includes(n)?(o=!0,i=e.toLocaleLowerCase().split(n).map(d=>la(d))):i=e.toLocaleLowerCase().split(t).map(d=>la(d));const c={alt:i.includes("alt"),ctrl:i.includes("ctrl")||i.includes("control"),shift:i.includes("shift"),meta:i.includes("meta"),mod:i.includes("mod"),useKey:r},h=i.filter(d=>!YS.includes(d));return{...c,keys:h,description:s,isSequence:o,hotkey:e}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&ZS([la(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&QS([la(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{xi.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{xi.clear()},0)}));const xi=new Set;function gx(e){return Array.isArray(e)}function S8(e,t=","){return(gx(e)?e:e.split(t)).every(n=>xi.has(n.trim().toLowerCase()))}function ZS(e){const t=Array.isArray(e)?e:[e];xi.has("meta")&&xi.forEach(n=>!JS(n)&&xi.delete(n.toLowerCase())),t.forEach(n=>xi.add(n.toLowerCase()))}function QS(e){const t=Array.isArray(e)?e:[e];e==="meta"?xi.clear():t.forEach(n=>xi.delete(n.toLowerCase()))}function E8(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function T8(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}const C8=["input","textarea","select","searchbox","slider","spinbutton","menuitem","menuitemcheckbox","menuitemradio","option","radio","textbox"];function N8(e){return eE(e,C8)}function eE(e,t=!1){const{target:n,composed:r}=e;let s,i;return k8(n)&&r?(s=e.composedPath()[0]&&e.composedPath()[0].tagName,i=e.composedPath()[0]&&e.composedPath()[0].role):(s=n&&n.tagName,i=n&&n.role),gx(t)?!!(s&&t&&t.some(o=>o.toLowerCase()===s.toLowerCase()||o===i)):!!(s&&t&&t)}function k8(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function A8(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(n=>t.includes(n))||e.includes("*"):!0}const j8=(e,t,n=!1)=>{const{alt:r,meta:s,mod:i,shift:o,ctrl:c,keys:h,useKey:d}=t,{code:p,key:g,ctrlKey:v,metaKey:x,shiftKey:b,altKey:y}=e,_=la(p);if(d&&h?.length===1&&h.includes(g))return!0;if(!h?.includes(_)&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(_))return!1;if(!n){if(r!==y&&_!=="alt"||o!==b&&_!=="shift")return!1;if(i){if(!x&&!v)return!1}else if(s!==x&&_!=="meta"&&_!=="os"||c!==v&&_!=="ctrl"&&_!=="control")return!1}return h&&h.length===1&&h.includes(_)?!0:h?S8(h):!h},R8=q.createContext(void 0),O8=()=>q.useContext(R8);function tE(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((n,r)=>n&&tE(e[r],t[r]),!0):e===t}const M8=q.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),D8=()=>q.useContext(M8);function I8(e){const t=q.useRef(void 0);return tE(t.current,e)||(t.current=e),t.current}const qb=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},L8=typeof window<"u"?q.useLayoutEffect:q.useEffect;function ys(e,t,n,r){const s=q.useRef(null),i=q.useRef(!1),o=Array.isArray(n)?Array.isArray(r)?void 0:r:n,c=gx(e)?e.join(o?.delimiter):e,h=Array.isArray(n)?n:Array.isArray(r)?r:void 0,d=q.useCallback(t,h??[]),p=q.useRef(d);h?p.current=d:p.current=t;const g=I8(o),{activeScopes:v}=D8(),x=O8();return L8(()=>{if(g?.enabled===!1||!A8(v,g?.scopes))return;let b=[],y;const _=(N,R=!1)=>{if(!(N8(N)&&!eE(N,g?.enableOnFormTags))){if(s.current!==null){const P=s.current.getRootNode();if((P instanceof Document||P instanceof ShadowRoot)&&P.activeElement!==s.current&&!s.current.contains(P.activeElement)){qb(N);return}}N.target?.isContentEditable&&!g?.enableOnContentEditable||pm(c,g?.delimiter).forEach(P=>{if(P.includes(g?.splitKey??"+")&&P.includes(g?.sequenceSplitKey??">")){console.warn(`Hotkey ${P} contains both ${g?.splitKey??"+"} and ${g?.sequenceSplitKey??">"} which is not supported.`);return}const j=mm(P,g?.splitKey,g?.sequenceSplitKey,g?.useKey,g?.description);if(j.isSequence){y=setTimeout(()=>{b=[]},g?.sequenceTimeoutMs??1e3);const O=j.useKey?N.key:la(N.code);if(JS(O.toLowerCase()))return;b.push(O);const D=j.keys?.[b.length-1];if(O!==D){b=[],y&&clearTimeout(y);return}b.length===j.keys?.length&&(p.current(N,j),y&&clearTimeout(y),b=[])}else if(j8(N,j,g?.ignoreModifiers)||j.keys?.includes("*")){if(g?.ignoreEventWhen?.(N)||R&&i.current)return;if(E8(N,j,g?.preventDefault),!T8(N,j,g?.enabled)){qb(N);return}p.current(N,j),R||(i.current=!0)}})}},E=N=>{N.code!==void 0&&(ZS(la(N.code)),(g?.keydown===void 0&&g?.keyup!==!0||g?.keydown)&&_(N))},T=N=>{N.code!==void 0&&(QS(la(N.code)),i.current=!1,g?.keyup&&_(N,!0))},C=s.current||o?.document||document;return C.addEventListener("keyup",T,o?.eventListenerOptions),C.addEventListener("keydown",E,o?.eventListenerOptions),x&&pm(c,g?.delimiter).forEach(N=>x.addHotkey(mm(N,g?.splitKey,g?.sequenceSplitKey,g?.useKey,g?.description))),()=>{C.removeEventListener("keyup",T,o?.eventListenerOptions),C.removeEventListener("keydown",E,o?.eventListenerOptions),x&&pm(c,g?.delimiter).forEach(N=>x.removeHotkey(mm(N,g?.splitKey,g?.sequenceSplitKey,g?.useKey,g?.description))),b=[],y&&clearTimeout(y)}},[c,g,v]),s}const Sh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function wl(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function xx(e){return"nodeType"in e}function kr(e){var t,n;return e?wl(e)?e:xx(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function vx(e){const{Document:t}=kr(e);return e instanceof t}function Eu(e){return wl(e)?!1:e instanceof kr(e).HTMLElement}function nE(e){return e instanceof kr(e).SVGElement}function bl(e){return e?wl(e)?e.document:xx(e)?vx(e)?e:Eu(e)||nE(e)?e.ownerDocument:document:document:document}const ca=Sh?q.useLayoutEffect:q.useEffect;function yx(e){const t=q.useRef(e);return ca(()=>{t.current=e}),q.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function F8(){const e=q.useRef(null),t=q.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=q.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function tu(e,t){t===void 0&&(t=[e]);const n=q.useRef(e);return ca(()=>{n.current!==e&&(n.current=e)},t),n}function Tu(e,t){const n=q.useRef();return q.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Ud(e){const t=yx(e),n=q.useRef(null),r=q.useCallback(s=>{s!==n.current&&t?.(s,n.current),n.current=s},[]);return[n,r]}function xg(e){const t=q.useRef();return q.useEffect(()=>{t.current=e},[e]),t.current}let gm={};function Eh(e,t){return q.useMemo(()=>{if(t)return t;const n=gm[e]==null?0:gm[e]+1;return gm[e]=n,e+"-"+n},[e,t])}function rE(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const c=Object.entries(o);for(const[h,d]of c){const p=i[h];p!=null&&(i[h]=p+e*d)}return i},{...t})}}const il=rE(1),$d=rE(-1);function P8(e){return"clientX"in e&&"clientY"in e}function sE(e){if(!e)return!1;const{KeyboardEvent:t}=kr(e.target);return t&&e instanceof t}function z8(e){if(!e)return!1;const{TouchEvent:t}=kr(e.target);return t&&e instanceof t}function vg(e){if(z8(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return P8(e)?{x:e.clientX,y:e.clientY}:null}const Wb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function B8(e){return e.matches(Wb)?e:e.querySelector(Wb)}const U8={display:"none"};function $8(e){let{id:t,value:n}=e;return ke.createElement("div",{id:t,style:U8},n)}function H8(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ke.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function V8(){const[e,t]=q.useState("");return{announce:q.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const iE=q.createContext(null);function G8(e){const t=q.useContext(iE);q.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function q8(){const[e]=q.useState(()=>new Set),t=q.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[q.useCallback(r=>{let{type:s,event:i}=r;e.forEach(o=>{var c;return(c=o[s])==null?void 0:c.call(o,i)})},[e]),t]}const W8={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},K8={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function X8(e){let{announcements:t=K8,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=W8}=e;const{announce:i,announcement:o}=V8(),c=Eh("DndLiveRegion"),[h,d]=q.useState(!1);if(q.useEffect(()=>{d(!0)},[]),G8(q.useMemo(()=>({onDragStart(g){let{active:v}=g;i(t.onDragStart({active:v}))},onDragMove(g){let{active:v,over:x}=g;t.onDragMove&&i(t.onDragMove({active:v,over:x}))},onDragOver(g){let{active:v,over:x}=g;i(t.onDragOver({active:v,over:x}))},onDragEnd(g){let{active:v,over:x}=g;i(t.onDragEnd({active:v,over:x}))},onDragCancel(g){let{active:v,over:x}=g;i(t.onDragCancel({active:v,over:x}))}}),[i,t])),!h)return null;const p=ke.createElement(ke.Fragment,null,ke.createElement($8,{id:r,value:s.draggable}),ke.createElement(H8,{id:c,announcement:o}));return n?jc.createPortal(p,n):p}var An;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(An||(An={}));function Hd(){}function Y8(e,t){return q.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function J8(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return q.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Rs=Object.freeze({x:0,y:0});function Z8(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Q8(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function eM(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=s-r,c=i-n;if(r<s&&n<i){const h=t.width*t.height,d=e.width*e.height,p=o*c,g=p/(h+d-p);return Number(g.toFixed(4))}return 0}const tM=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const i of r){const{id:o}=i,c=n.get(o);if(c){const h=eM(c,t);h>0&&s.push({id:o,data:{droppableContainer:i,value:h}})}}return s.sort(Z8)};function nM(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function aE(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Rs}function rM(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,c)=>({...o,top:o.top+e*c.y,bottom:o.bottom+e*c.y,left:o.left+e*c.x,right:o.right+e*c.x}),{...n})}}const sM=rM(1);function iM(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function aM(e,t,n){const r=iM(t);if(!r)return e;const{scaleX:s,scaleY:i,x:o,y:c}=r,h=e.left-o-(1-s)*parseFloat(n),d=e.top-c-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),p=s?e.width/s:e.width,g=i?e.height/i:e.height;return{width:p,height:g,top:d,right:h+p,bottom:d+g,left:h}}const oM={ignoreTransform:!1};function Cu(e,t){t===void 0&&(t=oM);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:p}=kr(e).getComputedStyle(e);d&&(n=aM(n,d,p))}const{top:r,left:s,width:i,height:o,bottom:c,right:h}=n;return{top:r,left:s,width:i,height:o,bottom:c,right:h}}function Kb(e){return Cu(e,{ignoreTransform:!0})}function lM(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function cM(e,t){return t===void 0&&(t=kr(e).getComputedStyle(e)),t.position==="fixed"}function uM(e,t){t===void 0&&(t=kr(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?n.test(i):!1})}function wx(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(vx(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Eu(s)||nE(s)||n.includes(s))return n;const i=kr(e).getComputedStyle(s);return s!==e&&uM(s,i)&&n.push(s),cM(s,i)?n:r(s.parentNode)}return e?r(e):n}function oE(e){const[t]=wx(e,1);return t??null}function xm(e){return!Sh||!e?null:wl(e)?e:xx(e)?vx(e)||e===bl(e).scrollingElement?window:Eu(e)?e:null:null}function lE(e){return wl(e)?e.scrollX:e.scrollLeft}function cE(e){return wl(e)?e.scrollY:e.scrollTop}function yg(e){return{x:lE(e),y:cE(e)}}var In;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(In||(In={}));function uE(e){return!Sh||!e?!1:e===document.scrollingElement}function fE(e){const t={x:0,y:0},n=uE(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,c=e.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:c,maxScroll:r,minScroll:t}}const fM={x:.2,y:.2};function dM(e,t,n,r,s){let{top:i,left:o,right:c,bottom:h}=n;r===void 0&&(r=10),s===void 0&&(s=fM);const{isTop:d,isBottom:p,isLeft:g,isRight:v}=fE(e),x={x:0,y:0},b={x:0,y:0},y={height:t.height*s.y,width:t.width*s.x};return!d&&i<=t.top+y.height?(x.y=In.Backward,b.y=r*Math.abs((t.top+y.height-i)/y.height)):!p&&h>=t.bottom-y.height&&(x.y=In.Forward,b.y=r*Math.abs((t.bottom-y.height-h)/y.height)),!v&&c>=t.right-y.width?(x.x=In.Forward,b.x=r*Math.abs((t.right-y.width-c)/y.width)):!g&&o<=t.left+y.width&&(x.x=In.Backward,b.x=r*Math.abs((t.left+y.width-o)/y.width)),{direction:x,speed:b}}function hM(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function dE(e){return e.reduce((t,n)=>il(t,yg(n)),Rs)}function pM(e){return e.reduce((t,n)=>t+lE(n),0)}function mM(e){return e.reduce((t,n)=>t+cE(n),0)}function gM(e,t){if(t===void 0&&(t=Cu),!e)return;const{top:n,left:r,bottom:s,right:i}=t(e);oE(e)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const xM=[["x",["left","right"],pM],["y",["top","bottom"],mM]];class bx{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=wx(n),s=dE(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,c]of xM)for(const h of o)Object.defineProperty(this,h,{get:()=>{const d=c(r),p=s[i]-d;return this.rect[h]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Lc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function vM(e){const{EventTarget:t}=kr(e);return e instanceof t?e:bl(e)}function vm(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var os;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(os||(os={}));function Xb(e){e.preventDefault()}function yM(e){e.stopPropagation()}var Xt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Xt||(Xt={}));const hE={start:[Xt.Space,Xt.Enter],cancel:[Xt.Esc],end:[Xt.Space,Xt.Enter,Xt.Tab]},wM=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Xt.Right:return{...n,x:n.x+25};case Xt.Left:return{...n,x:n.x-25};case Xt.Down:return{...n,y:n.y+25};case Xt.Up:return{...n,y:n.y-25}}};class pE{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Lc(bl(n)),this.windowListeners=new Lc(kr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(os.Resize,this.handleCancel),this.windowListeners.add(os.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(os.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&gM(r),n(Rs)}handleKeyDown(t){if(sE(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=hE,coordinateGetter:o=wM,scrollBehavior:c="smooth"}=s,{code:h}=t;if(i.end.includes(h)){this.handleEnd(t);return}if(i.cancel.includes(h)){this.handleCancel(t);return}const{collisionRect:d}=r.current,p=d?{x:d.left,y:d.top}:Rs;this.referenceCoordinates||(this.referenceCoordinates=p);const g=o(t,{active:n,context:r.current,currentCoordinates:p});if(g){const v=$d(g,p),x={x:0,y:0},{scrollableAncestors:b}=r.current;for(const y of b){const _=t.code,{isTop:E,isRight:T,isLeft:C,isBottom:N,maxScroll:R,minScroll:P}=fE(y),j=hM(y),O={x:Math.min(_===Xt.Right?j.right-j.width/2:j.right,Math.max(_===Xt.Right?j.left:j.left+j.width/2,g.x)),y:Math.min(_===Xt.Down?j.bottom-j.height/2:j.bottom,Math.max(_===Xt.Down?j.top:j.top+j.height/2,g.y))},D=_===Xt.Right&&!T||_===Xt.Left&&!C,Y=_===Xt.Down&&!N||_===Xt.Up&&!E;if(D&&O.x!==g.x){const Z=y.scrollLeft+v.x,z=_===Xt.Right&&Z<=R.x||_===Xt.Left&&Z>=P.x;if(z&&!v.y){y.scrollTo({left:Z,behavior:c});return}z?x.x=y.scrollLeft-Z:x.x=_===Xt.Right?y.scrollLeft-R.x:y.scrollLeft-P.x,x.x&&y.scrollBy({left:-x.x,behavior:c});break}else if(Y&&O.y!==g.y){const Z=y.scrollTop+v.y,z=_===Xt.Down&&Z<=R.y||_===Xt.Up&&Z>=P.y;if(z&&!v.x){y.scrollTo({top:Z,behavior:c});return}z?x.y=y.scrollTop-Z:x.y=_===Xt.Down?y.scrollTop-R.y:y.scrollTop-P.y,x.y&&y.scrollBy({top:-x.y,behavior:c});break}}this.handleMove(t,il($d(g,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}pE.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=hE,onActivation:s}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const c=i.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),s?.({event:e.nativeEvent}),!0)}return!1}}];function Yb(e){return!!(e&&"distance"in e)}function Jb(e){return!!(e&&"delay"in e)}class _x{constructor(t,n,r){var s;r===void 0&&(r=vM(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=bl(o),this.documentListeners=new Lc(this.document),this.listeners=new Lc(r),this.windowListeners=new Lc(kr(o)),this.initialCoordinates=(s=vg(i))!=null?s:Rs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(os.Resize,this.handleCancel),this.windowListeners.add(os.DragStart,Xb),this.windowListeners.add(os.VisibilityChange,this.handleCancel),this.windowListeners.add(os.ContextMenu,Xb),this.documentListeners.add(os.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Jb(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Yb(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(os.Click,yM,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(os.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:c}}=i;if(!s)return;const h=(n=vg(t))!=null?n:Rs,d=$d(s,h);if(!r&&c){if(Yb(c)){if(c.tolerance!=null&&vm(d,c.tolerance))return this.handleCancel();if(vm(d,c.distance))return this.handleStart()}if(Jb(c)&&vm(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}t.cancelable&&t.preventDefault(),o(h)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Xt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const bM={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Sx extends _x{constructor(t){const{event:n}=t,r=bl(n.target);super(t,bM,r)}}Sx.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const _M={move:{name:"mousemove"},end:{name:"mouseup"}};var wg;(function(e){e[e.RightClick=2]="RightClick"})(wg||(wg={}));class SM extends _x{constructor(t){super(t,_M,bl(t.event.target))}}SM.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===wg.RightClick?!1:(r?.({event:n}),!0)}}];const ym={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class EM extends _x{constructor(t){super(t,ym)}static setup(){return window.addEventListener(ym.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(ym.move.name,t)};function t(){}}}EM.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r?.({event:n}),!0)}}];var Fc;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Fc||(Fc={}));var Vd;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Vd||(Vd={}));function TM(e){let{acceleration:t,activator:n=Fc.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:c=Vd.TreeOrder,pointerCoordinates:h,scrollableAncestors:d,scrollableAncestorRects:p,delta:g,threshold:v}=e;const x=NM({delta:g,disabled:!i}),[b,y]=F8(),_=q.useRef({x:0,y:0}),E=q.useRef({x:0,y:0}),T=q.useMemo(()=>{switch(n){case Fc.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case Fc.DraggableRect:return s}},[n,s,h]),C=q.useRef(null),N=q.useCallback(()=>{const P=C.current;if(!P)return;const j=_.current.x*E.current.x,O=_.current.y*E.current.y;P.scrollBy(j,O)},[]),R=q.useMemo(()=>c===Vd.TreeOrder?[...d].reverse():d,[c,d]);q.useEffect(()=>{if(!i||!d.length||!T){y();return}for(const P of R){if(r?.(P)===!1)continue;const j=d.indexOf(P),O=p[j];if(!O)continue;const{direction:D,speed:Y}=dM(P,O,T,t,v);for(const Z of["x","y"])x[Z][D[Z]]||(Y[Z]=0,D[Z]=0);if(Y.x>0||Y.y>0){y(),C.current=P,b(N,o),_.current=Y,E.current=D;return}}_.current={x:0,y:0},E.current={x:0,y:0},y()},[t,N,r,y,i,o,JSON.stringify(T),JSON.stringify(x),b,d,R,p,JSON.stringify(v)])}const CM={x:{[In.Backward]:!1,[In.Forward]:!1},y:{[In.Backward]:!1,[In.Forward]:!1}};function NM(e){let{delta:t,disabled:n}=e;const r=xg(t);return Tu(s=>{if(n||!r||!s)return CM;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[In.Backward]:s.x[In.Backward]||i.x===-1,[In.Forward]:s.x[In.Forward]||i.x===1},y:{[In.Backward]:s.y[In.Backward]||i.y===-1,[In.Forward]:s.y[In.Forward]||i.y===1}}},[n,t,r])}function kM(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Tu(s=>{var i;return t==null?null:(i=r??s)!=null?i:null},[r,t])}function AM(e,t){return q.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...i]},[]),[e,t])}var nu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(nu||(nu={}));var bg;(function(e){e.Optimized="optimized"})(bg||(bg={}));const Zb=new Map;function jM(e,t){let{dragging:n,dependencies:r,config:s}=t;const[i,o]=q.useState(null),{frequency:c,measure:h,strategy:d}=s,p=q.useRef(e),g=_(),v=tu(g),x=q.useCallback(function(E){E===void 0&&(E=[]),!v.current&&o(T=>T===null?E:T.concat(E.filter(C=>!T.includes(C))))},[v]),b=q.useRef(null),y=Tu(E=>{if(g&&!n)return Zb;if(!E||E===Zb||p.current!==e||i!=null){const T=new Map;for(let C of e){if(!C)continue;if(i&&i.length>0&&!i.includes(C.id)&&C.rect.current){T.set(C.id,C.rect.current);continue}const N=C.node.current,R=N?new bx(h(N),N):null;C.rect.current=R,R&&T.set(C.id,R)}return T}return E},[e,i,n,g,h]);return q.useEffect(()=>{p.current=e},[e]),q.useEffect(()=>{g||x()},[n,g]),q.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),q.useEffect(()=>{g||typeof c!="number"||b.current!==null||(b.current=setTimeout(()=>{x(),b.current=null},c))},[c,g,x,...r]),{droppableRects:y,measureDroppableContainers:x,measuringScheduled:i!=null};function _(){switch(d){case nu.Always:return!1;case nu.BeforeDragging:return n;default:return!n}}}function mE(e,t){return Tu(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function RM(e,t){return mE(e,t)}function OM(e){let{callback:t,disabled:n}=e;const r=yx(t),s=q.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return q.useEffect(()=>()=>s?.disconnect(),[s]),s}function Th(e){let{callback:t,disabled:n}=e;const r=yx(t),s=q.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return q.useEffect(()=>()=>s?.disconnect(),[s]),s}function MM(e){return new bx(Cu(e),e)}function Qb(e,t,n){t===void 0&&(t=MM);const[r,s]=q.useState(null);function i(){s(h=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=h??n)!=null?d:null}const p=t(e);return JSON.stringify(h)===JSON.stringify(p)?h:p})}const o=OM({callback(h){if(e)for(const d of h){const{type:p,target:g}=d;if(p==="childList"&&g instanceof HTMLElement&&g.contains(e)){i();break}}}}),c=Th({callback:i});return ca(()=>{i(),e?(c?.observe(e),o?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),o?.disconnect())},[e]),r}function DM(e){const t=mE(e);return aE(e,t)}const e_=[];function IM(e){const t=q.useRef(e),n=Tu(r=>e?r&&r!==e_&&e&&t.current&&e.parentNode===t.current.parentNode?r:wx(e):e_,[e]);return q.useEffect(()=>{t.current=e},[e]),n}function LM(e){const[t,n]=q.useState(null),r=q.useRef(e),s=q.useCallback(i=>{const o=xm(i.target);o&&n(c=>c?(c.set(o,yg(o)),new Map(c)):null)},[]);return q.useEffect(()=>{const i=r.current;if(e!==i){o(i);const c=e.map(h=>{const d=xm(h);return d?(d.addEventListener("scroll",s,{passive:!0}),[d,yg(d)]):null}).filter(h=>h!=null);n(c.length?new Map(c):null),r.current=e}return()=>{o(e),o(i)};function o(c){c.forEach(h=>{const d=xm(h);d?.removeEventListener("scroll",s)})}},[s,e]),q.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>il(i,o),Rs):dE(e):Rs,[e,t])}function t_(e,t){t===void 0&&(t=[]);const n=q.useRef(null);return q.useEffect(()=>{n.current=null},t),q.useEffect(()=>{const r=e!==Rs;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?$d(e,n.current):Rs}function FM(e){q.useEffect(()=>{if(!Sh)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function PM(e,t){return q.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,t)},n},{}),[e,t])}function gE(e){return q.useMemo(()=>e?lM(e):null,[e])}const n_=[];function zM(e,t){t===void 0&&(t=Cu);const[n]=e,r=gE(n?kr(n):null),[s,i]=q.useState(n_);function o(){i(()=>e.length?e.map(h=>uE(h)?r:new bx(t(h),h)):n_)}const c=Th({callback:o});return ca(()=>{c?.disconnect(),o(),e.forEach(h=>c?.observe(h))},[e]),s}function BM(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Eu(t)?t:e}function UM(e){let{measure:t}=e;const[n,r]=q.useState(null),s=q.useCallback(d=>{for(const{target:p}of d)if(Eu(p)){r(g=>{const v=t(p);return g?{...g,width:v.width,height:v.height}:v});break}},[t]),i=Th({callback:s}),o=q.useCallback(d=>{const p=BM(d);i?.disconnect(),p&&i?.observe(p),r(p?t(p):null)},[t,i]),[c,h]=Ud(o);return q.useMemo(()=>({nodeRef:c,rect:n,setRef:h}),[n,c,h])}const $M=[{sensor:Sx,options:{}},{sensor:pE,options:{}}],HM={current:{}},Ad={draggable:{measure:Kb},droppable:{measure:Kb,strategy:nu.WhileDragging,frequency:bg.Optimized},dragOverlay:{measure:Cu}};class Pc extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const VM={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Pc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Hd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ad,measureDroppableContainers:Hd,windowRect:null,measuringScheduled:!1},GM={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Hd,draggableNodes:new Map,over:null,measureDroppableContainers:Hd},Ch=q.createContext(GM),qM=q.createContext(VM);function WM(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Pc}}}function KM(e,t){switch(t.type){case An.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case An.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case An.DragEnd:case An.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case An.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new Pc(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case An.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new Pc(e.droppable.containers);return o.set(n,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:o}}}case An.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new Pc(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function XM(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=q.useContext(Ch),i=xg(r),o=xg(n?.id);return q.useEffect(()=>{if(!t&&!r&&i&&o!=null){if(!sE(i)||document.activeElement===i.target)return;const c=s.get(o);if(!c)return;const{activatorNode:h,node:d}=c;if(!h.current&&!d.current)return;requestAnimationFrame(()=>{for(const p of[h.current,d.current]){if(!p)continue;const g=B8(p);if(g){g.focus();break}}})}},[r,t,s,o,i]),null}function YM(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...r}),n):n}function JM(e){return q.useMemo(()=>({draggable:{...Ad.draggable,...e?.draggable},droppable:{...Ad.droppable,...e?.droppable},dragOverlay:{...Ad.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function ZM(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const i=q.useRef(!1),{x:o,y:c}=typeof s=="boolean"?{x:s,y:s}:s;ca(()=>{if(!o&&!c||!t){i.current=!1;return}if(i.current||!r)return;const d=t?.node.current;if(!d||d.isConnected===!1)return;const p=n(d),g=aE(p,r);if(o||(g.x=0),c||(g.y=0),i.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const v=oE(d);v&&v.scrollBy({top:g.y,left:g.x})}},[t,o,c,r,n])}const xE=q.createContext({...Rs,scaleX:1,scaleY:1});var na;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(na||(na={}));const QM=q.memo(function(t){var n,r,s,i;let{id:o,accessibility:c,autoScroll:h=!0,children:d,sensors:p=$M,collisionDetection:g=tM,measuring:v,modifiers:x,...b}=t;const y=q.useReducer(KM,void 0,WM),[_,E]=y,[T,C]=q8(),[N,R]=q.useState(na.Uninitialized),P=N===na.Initialized,{draggable:{active:j,nodes:O,translate:D},droppable:{containers:Y}}=_,Z=j!=null?O.get(j):null,z=q.useRef({initial:null,translated:null}),re=q.useMemo(()=>{var At;return j!=null?{id:j,data:(At=Z?.data)!=null?At:HM,rect:z}:null},[j,Z]),k=q.useRef(null),[K,X]=q.useState(null),[H,ne]=q.useState(null),se=tu(b,Object.values(b)),oe=Eh("DndDescribedBy",o),M=q.useMemo(()=>Y.getEnabled(),[Y]),A=JM(v),{droppableRects:U,measureDroppableContainers:F,measuringScheduled:B}=jM(M,{dragging:P,dependencies:[D.x,D.y],config:A.droppable}),ue=kM(O,j),xe=q.useMemo(()=>H?vg(H):null,[H]),ge=zn(),ve=RM(ue,A.draggable.measure);ZM({activeNode:j!=null?O.get(j):null,config:ge.layoutShiftCompensation,initialRect:ve,measure:A.draggable.measure});const je=Qb(ue,A.draggable.measure,ve),Be=Qb(ue?ue.parentElement:null),Ge=q.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:U,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:Y,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),at=Y.getNodeFor((n=Ge.current.over)==null?void 0:n.id),I=UM({measure:A.dragOverlay.measure}),ye=(r=I.nodeRef.current)!=null?r:ue,ee=P?(s=I.rect)!=null?s:je:null,V=!!(I.nodeRef.current&&I.rect),G=DM(V?null:je),ce=gE(ye?kr(ye):null),pe=IM(P?at??ue:null),Te=zM(pe),de=YM(x,{transform:{x:D.x-G.x,y:D.y-G.y,scaleX:1,scaleY:1},activatorEvent:H,active:re,activeNodeRect:je,containerNodeRect:Be,draggingNodeRect:ee,over:Ge.current.over,overlayNodeRect:I.rect,scrollableAncestors:pe,scrollableAncestorRects:Te,windowRect:ce}),Me=xe?il(xe,D):null,_e=LM(pe),Re=t_(_e),Ue=t_(_e,[je]),Ze=il(de,Re),$e=ee?sM(ee,de):null,wt=re&&$e?g({active:re,collisionRect:$e,droppableRects:U,droppableContainers:M,pointerCoordinates:Me}):null,Qt=Q8(wt,"id"),[bt,Lt]=q.useState(null),gt=V?de:il(de,Ue),Qe=nM(gt,(i=bt?.rect)!=null?i:null,je),Ht=q.useRef(null),kt=q.useCallback((At,jt)=>{let{sensor:en,options:On}=jt;if(k.current==null)return;const Zn=O.get(k.current);if(!Zn)return;const Mn=At.nativeEvent,Qn=new en({active:k.current,activeNode:Zn,event:Mn,options:On,context:Ge,onAbort(hn){if(!O.get(hn))return;const{onDragAbort:Bn}=se.current,pr={id:hn};Bn?.(pr),T({type:"onDragAbort",event:pr})},onPending(hn,jr,Bn,pr){if(!O.get(hn))return;const{onDragPending:ps}=se.current,W={id:hn,constraint:jr,initialCoordinates:Bn,offset:pr};ps?.(W),T({type:"onDragPending",event:W})},onStart(hn){const jr=k.current;if(jr==null)return;const Bn=O.get(jr);if(!Bn)return;const{onDragStart:pr}=se.current,hs={activatorEvent:Mn,active:{id:jr,data:Bn.data,rect:z}};jc.unstable_batchedUpdates(()=>{pr?.(hs),R(na.Initializing),E({type:An.DragStart,initialCoordinates:hn,active:jr}),T({type:"onDragStart",event:hs}),X(Ht.current),ne(Mn)})},onMove(hn){E({type:An.DragMove,coordinates:hn})},onEnd:hr(An.DragEnd),onCancel:hr(An.DragCancel)});Ht.current=Qn;function hr(hn){return async function(){const{active:Bn,collisions:pr,over:hs,scrollAdjustedTranslate:ps}=Ge.current;let W=null;if(Bn&&ps){const{cancelDrop:ae}=se.current;W={activatorEvent:Mn,active:Bn,collisions:pr,delta:ps,over:hs},hn===An.DragEnd&&typeof ae=="function"&&await Promise.resolve(ae(W))&&(hn=An.DragCancel)}k.current=null,jc.unstable_batchedUpdates(()=>{E({type:hn}),R(na.Uninitialized),Lt(null),X(null),ne(null),Ht.current=null;const ae=hn===An.DragEnd?"onDragEnd":"onDragCancel";if(W){const Q=se.current[ae];Q?.(W),T({type:ae,event:W})}})}}},[O]),ds=q.useCallback((At,jt)=>(en,On)=>{const Zn=en.nativeEvent,Mn=O.get(On);if(k.current!==null||!Mn||Zn.dndKit||Zn.defaultPrevented)return;const Qn={active:Mn};At(en,jt.options,Qn)===!0&&(Zn.dndKit={capturedBy:jt.sensor},k.current=On,kt(en,jt))},[O,kt]),Ar=AM(p,ds);FM(p),ca(()=>{je&&N===na.Initializing&&R(na.Initialized)},[je,N]),q.useEffect(()=>{const{onDragMove:At}=se.current,{active:jt,activatorEvent:en,collisions:On,over:Zn}=Ge.current;if(!jt||!en)return;const Mn={active:jt,activatorEvent:en,collisions:On,delta:{x:Ze.x,y:Ze.y},over:Zn};jc.unstable_batchedUpdates(()=>{At?.(Mn),T({type:"onDragMove",event:Mn})})},[Ze.x,Ze.y]),q.useEffect(()=>{const{active:At,activatorEvent:jt,collisions:en,droppableContainers:On,scrollAdjustedTranslate:Zn}=Ge.current;if(!At||k.current==null||!jt||!Zn)return;const{onDragOver:Mn}=se.current,Qn=On.get(Qt),hr=Qn&&Qn.rect.current?{id:Qn.id,rect:Qn.rect.current,data:Qn.data,disabled:Qn.disabled}:null,hn={active:At,activatorEvent:jt,collisions:en,delta:{x:Zn.x,y:Zn.y},over:hr};jc.unstable_batchedUpdates(()=>{Lt(hr),Mn?.(hn),T({type:"onDragOver",event:hn})})},[Qt]),ca(()=>{Ge.current={activatorEvent:H,active:re,activeNode:ue,collisionRect:$e,collisions:wt,droppableRects:U,draggableNodes:O,draggingNode:ye,draggingNodeRect:ee,droppableContainers:Y,over:bt,scrollableAncestors:pe,scrollAdjustedTranslate:Ze},z.current={initial:ee,translated:$e}},[re,ue,wt,$e,O,ye,ee,U,Y,bt,pe,Ze]),TM({...ge,delta:D,draggingRect:$e,pointerCoordinates:Me,scrollableAncestors:pe,scrollableAncestorRects:Te});const or=q.useMemo(()=>({active:re,activeNode:ue,activeNodeRect:je,activatorEvent:H,collisions:wt,containerNodeRect:Be,dragOverlay:I,draggableNodes:O,droppableContainers:Y,droppableRects:U,over:bt,measureDroppableContainers:F,scrollableAncestors:pe,scrollableAncestorRects:Te,measuringConfiguration:A,measuringScheduled:B,windowRect:ce}),[re,ue,je,H,wt,Be,I,O,Y,U,bt,F,pe,Te,A,B,ce]),Rn=q.useMemo(()=>({activatorEvent:H,activators:Ar,active:re,activeNodeRect:je,ariaDescribedById:{draggable:oe},dispatch:E,draggableNodes:O,over:bt,measureDroppableContainers:F}),[H,Ar,re,je,E,oe,O,bt,F]);return ke.createElement(iE.Provider,{value:C},ke.createElement(Ch.Provider,{value:Rn},ke.createElement(qM.Provider,{value:or},ke.createElement(xE.Provider,{value:Qe},d)),ke.createElement(XM,{disabled:c?.restoreFocus===!1})),ke.createElement(X8,{...c,hiddenTextDescribedById:oe}));function zn(){const At=K?.autoScrollEnabled===!1,jt=typeof h=="object"?h.enabled===!1:h===!1,en=P&&!At&&!jt;return typeof h=="object"?{...h,enabled:en}:{enabled:en}}}),eD=q.createContext(null),r_="button",tD="Draggable";function vE(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const i=Eh(tD),{activators:o,activatorEvent:c,active:h,activeNodeRect:d,ariaDescribedById:p,draggableNodes:g,over:v}=q.useContext(Ch),{role:x=r_,roleDescription:b="draggable",tabIndex:y=0}=s??{},_=h?.id===t,E=q.useContext(_?xE:eD),[T,C]=Ud(),[N,R]=Ud(),P=PM(o,t),j=tu(n);ca(()=>(g.set(t,{id:t,key:i,node:T,activatorNode:N,data:j}),()=>{const D=g.get(t);D&&D.key===i&&g.delete(t)}),[g,t]);const O=q.useMemo(()=>({role:x,tabIndex:y,"aria-disabled":r,"aria-pressed":_&&x===r_?!0:void 0,"aria-roledescription":b,"aria-describedby":p.draggable}),[r,x,y,_,b,p.draggable]);return{active:h,activatorEvent:c,activeNodeRect:d,attributes:O,isDragging:_,listeners:r?void 0:P,node:T,over:v,setNodeRef:C,setActivatorNodeRef:R,transform:E}}const nD="Droppable",rD={timeout:25};function sD(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const i=Eh(nD),{active:o,dispatch:c,over:h,measureDroppableContainers:d}=q.useContext(Ch),p=q.useRef({disabled:n}),g=q.useRef(!1),v=q.useRef(null),x=q.useRef(null),{disabled:b,updateMeasurementsFor:y,timeout:_}={...rD,...s},E=tu(y??r),T=q.useCallback(()=>{if(!g.current){g.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{d(Array.isArray(E.current)?E.current:[E.current]),x.current=null},_)},[_]),C=Th({callback:T,disabled:b||!o}),N=q.useCallback((O,D)=>{C&&(D&&(C.unobserve(D),g.current=!1),O&&C.observe(O))},[C]),[R,P]=Ud(N),j=tu(t);return q.useEffect(()=>{!C||!R.current||(C.disconnect(),g.current=!1,C.observe(R.current))},[R,C]),q.useEffect(()=>(c({type:An.RegisterDroppable,element:{id:r,key:i,disabled:n,node:R,rect:v,data:j}}),()=>c({type:An.UnregisterDroppable,key:i,id:r})),[r]),q.useEffect(()=>{n!==p.current.disabled&&(c({type:An.SetDroppableDisabled,id:r,key:i,disabled:n}),p.current.disabled=n)},[r,i,n,c]),{active:o,rect:v,isOver:h?.id===r,node:R,over:h,setNodeRef:P}}const iD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aD=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),s_=e=>{const t=aD(e);return t.charAt(0).toUpperCase()+t.slice(1)},yE=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),oD=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var lD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cD=q.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...c},h)=>q.createElement("svg",{ref:h,...lD,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:yE("lucide",s),...!i&&!oD(c)&&{"aria-hidden":"true"},...c},[...o.map(([d,p])=>q.createElement(d,p)),...Array.isArray(i)?i:[i]]));const ct=(e,t)=>{const n=q.forwardRef(({className:r,...s},i)=>q.createElement(cD,{ref:i,iconNode:t,className:yE(`lucide-${iD(s_(e))}`,`lucide-${e}`,r),...s}));return n.displayName=s_(e),n};const uD=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],fD=ct("arrow-down",uD);const dD=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],hD=ct("arrow-up",dD);const pD=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],mD=ct("bookmark",pD);const gD=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],xD=ct("camera",gD);const vD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_g=ct("chart-column",vD);const yD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ex=ct("check",yD);const wD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],i_=ct("chevron-down",wD);const bD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Nh=ct("circle-alert",bD);const _D=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Tx=ct("circle-check-big",_D);const SD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Sg=ct("circle-check",SD);const ED=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],TD=ct("circle-play",ED);const CD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],wE=ct("circle-x",CD);const ND=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],kD=ct("clipboard",ND);const AD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bE=ct("clock",AD);const jD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],RD=ct("columns-2",jD);const OD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],a_=ct("dollar-sign",OD);const MD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],DD=ct("eye-off",MD);const ID=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LD=ct("eye",ID);const FD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],_E=ct("file-down",FD);const PD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Eg=ct("file-spreadsheet",PD);const zD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],SE=ct("file-text",zD);const BD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],UD=ct("file-up",BD);const $D=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],HD=ct("folder-open",$D);const VD=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],EE=ct("folder-plus",VD);const GD=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],TE=ct("folder",GD);const qD=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],WD=ct("git-merge",qD);const KD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],CE=ct("globe",KD);const XD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],YD=ct("house",XD);const JD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Cx=ct("info",JD);const ZD=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],o_=ct("lightbulb",ZD);const QD=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],NE=ct("link-2",QD);const eI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hl=ct("loader-circle",eI);const tI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nI=ct("lock",tI);const rI=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],sI=ct("maximize-2",rI);const iI=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],aI=ct("mouse-pointer-click",iI);const oI=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],lI=ct("pause",oI);const cI=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],uI=ct("pin",cI);const fI=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],dI=ct("play",fI);const hI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Nx=ct("plus",hI);const pI=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Gd=ct("refresh-cw",pI);const mI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kE=ct("save",mI);const gI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],kh=ct("search",gI);const xI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AE=ct("settings",xI);const vI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jE=ct("sparkles",vI);const yI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],wI=ct("star",yI);const bI=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],_I=ct("tag",bI);const SI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],RE=ct("target",SI);const EI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ru=ct("trash-2",EI);const TI=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],CI=ct("trending-down",TI);const NI=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qd=ct("trending-up",NI);const kI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],su=ct("triangle-alert",kI);const AI=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],jI=ct("unlink",AI);const RI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],OI=ct("upload",RI);const MI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_l=ct("x",MI);const DI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],OE=ct("zap",DI);function ME(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=ME(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function II(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=ME(e))&&(r&&(r+=" "),r+=t);return r}const LI=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},FI=(e,t)=>({classGroupId:e,validator:t}),DE=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Wd="-",l_=[],PI="arbitrary..",zI=e=>{const t=UI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return BI(o);const c=o.split(Wd),h=c[0]===""&&c.length>1?1:0;return IE(c,h,t)},getConflictingClassGroupIds:(o,c)=>{if(c){const h=r[o],d=n[o];return h?d?LI(d,h):h:d||l_}return n[o]||l_}}},IE=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],i=n.nextPart.get(s);if(i){const d=IE(e,t+1,i);if(d)return d}const o=n.validators;if(o===null)return;const c=t===0?e.join(Wd):e.slice(t).join(Wd),h=o.length;for(let d=0;d<h;d++){const p=o[d];if(p.validator(c))return p.classGroupId}},BI=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?PI+r:void 0})(),UI=e=>{const{theme:t,classGroups:n}=e;return $I(n,t)},$I=(e,t)=>{const n=DE();for(const r in e){const s=e[r];kx(s,n,r,t)}return n},kx=(e,t,n,r)=>{const s=e.length;for(let i=0;i<s;i++){const o=e[i];HI(o,t,n,r)}},HI=(e,t,n,r)=>{if(typeof e=="string"){VI(e,t,n);return}if(typeof e=="function"){GI(e,t,n,r);return}qI(e,t,n,r)},VI=(e,t,n)=>{const r=e===""?t:LE(t,e);r.classGroupId=n},GI=(e,t,n,r)=>{if(WI(e)){kx(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(FI(n,e))},qI=(e,t,n,r)=>{const s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[c,h]=s[o];kx(h,LE(t,c),n,r)}},LE=(e,t)=>{let n=e;const r=t.split(Wd),s=r.length;for(let i=0;i<s;i++){const o=r[i];let c=n.nextPart.get(o);c||(c=DE(),n.nextPart.set(o,c)),n=c}return n},WI=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,KI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const s=(i,o)=>{n[i]=o,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(i){let o=n[i];if(o!==void 0)return o;if((o=r[i])!==void 0)return s(i,o),o},set(i,o){i in n?n[i]=o:s(i,o)}}},Tg="!",c_=":",XI=[],u_=(e,t,n,r,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),YI=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const i=[];let o=0,c=0,h=0,d;const p=s.length;for(let y=0;y<p;y++){const _=s[y];if(o===0&&c===0){if(_===c_){i.push(s.slice(h,y)),h=y+1;continue}if(_==="/"){d=y;continue}}_==="["?o++:_==="]"?o--:_==="("?c++:_===")"&&c--}const g=i.length===0?s:s.slice(h);let v=g,x=!1;g.endsWith(Tg)?(v=g.slice(0,-1),x=!0):g.startsWith(Tg)&&(v=g.slice(1),x=!0);const b=d&&d>h?d-h:void 0;return u_(i,x,v,b)};if(t){const s=t+c_,i=r;r=o=>o.startsWith(s)?i(o.slice(s.length)):u_(XI,!1,o,void 0,!0)}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},JI=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let i=0;i<n.length;i++){const o=n[i],c=o[0]==="[",h=t.has(o);c||h?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(o)):s.push(o)}return s.length>0&&(s.sort(),r.push(...s)),r}},ZI=e=>({cache:KI(e.cacheSize),parseClassName:YI(e),sortModifiers:JI(e),...zI(e)}),QI=/\s+/,eL=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],c=e.trim().split(QI);let h="";for(let d=c.length-1;d>=0;d-=1){const p=c[d],{isExternal:g,modifiers:v,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:y}=n(p);if(g){h=p+(h.length>0?" "+h:h);continue}let _=!!y,E=r(_?b.substring(0,y):b);if(!E){if(!_){h=p+(h.length>0?" "+h:h);continue}if(E=r(b),!E){h=p+(h.length>0?" "+h:h);continue}_=!1}const T=v.length===0?"":v.length===1?v[0]:i(v).join(":"),C=x?T+Tg:T,N=C+E;if(o.indexOf(N)>-1)continue;o.push(N);const R=s(E,_);for(let P=0;P<R.length;++P){const j=R[P];o.push(C+j)}h=p+(h.length>0?" "+h:h)}return h},tL=(...e)=>{let t=0,n,r,s="";for(;t<e.length;)(n=e[t++])&&(r=FE(n))&&(s&&(s+=" "),s+=r);return s},FE=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=FE(e[r]))&&(n&&(n+=" "),n+=t);return n},nL=(e,...t)=>{let n,r,s,i;const o=h=>{const d=t.reduce((p,g)=>g(p),e());return n=ZI(d),r=n.cache.get,s=n.cache.set,i=c,c(h)},c=h=>{const d=r(h);if(d)return d;const p=eL(h,n);return s(h,p),p};return i=o,(...h)=>i(tL(...h))},rL=[],Cn=e=>{const t=n=>n[e]||rL;return t.isThemeGetter=!0,t},PE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,sL=/^\d+\/\d+$/,iL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,lL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bo=e=>sL.test(e),_t=e=>!!e&&!Number.isNaN(Number(e)),Zi=e=>!!e&&Number.isInteger(Number(e)),wm=e=>e.endsWith("%")&&_t(e.slice(0,-1)),di=e=>iL.test(e),uL=()=>!0,fL=e=>aL.test(e)&&!oL.test(e),BE=()=>!1,dL=e=>lL.test(e),hL=e=>cL.test(e),pL=e=>!tt(e)&&!nt(e),mL=e=>Sl(e,HE,BE),tt=e=>PE.test(e),Ia=e=>Sl(e,VE,fL),bm=e=>Sl(e,wL,_t),f_=e=>Sl(e,UE,BE),gL=e=>Sl(e,$E,hL),ed=e=>Sl(e,GE,dL),nt=e=>zE.test(e),Nc=e=>El(e,VE),xL=e=>El(e,bL),d_=e=>El(e,UE),vL=e=>El(e,HE),yL=e=>El(e,$E),td=e=>El(e,GE,!0),Sl=(e,t,n)=>{const r=PE.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},El=(e,t,n=!1)=>{const r=zE.exec(e);return r?r[1]?t(r[1]):n:!1},UE=e=>e==="position"||e==="percentage",$E=e=>e==="image"||e==="url",HE=e=>e==="length"||e==="size"||e==="bg-size",VE=e=>e==="length",wL=e=>e==="number",bL=e=>e==="family-name",GE=e=>e==="shadow",_L=()=>{const e=Cn("color"),t=Cn("font"),n=Cn("text"),r=Cn("font-weight"),s=Cn("tracking"),i=Cn("leading"),o=Cn("breakpoint"),c=Cn("container"),h=Cn("spacing"),d=Cn("radius"),p=Cn("shadow"),g=Cn("inset-shadow"),v=Cn("text-shadow"),x=Cn("drop-shadow"),b=Cn("blur"),y=Cn("perspective"),_=Cn("aspect"),E=Cn("ease"),T=Cn("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...N(),nt,tt],P=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],O=()=>[nt,tt,h],D=()=>[Bo,"full","auto",...O()],Y=()=>[Zi,"none","subgrid",nt,tt],Z=()=>["auto",{span:["full",Zi,nt,tt]},Zi,nt,tt],z=()=>[Zi,"auto",nt,tt],re=()=>["auto","min","max","fr",nt,tt],k=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...O()],H=()=>[Bo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],ne=()=>[e,nt,tt],se=()=>[...N(),d_,f_,{position:[nt,tt]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",vL,mL,{size:[nt,tt]}],A=()=>[wm,Nc,Ia],U=()=>["","none","full",d,nt,tt],F=()=>["",_t,Nc,Ia],B=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[_t,wm,d_,f_],ge=()=>["","none",b,nt,tt],ve=()=>["none",_t,nt,tt],je=()=>["none",_t,nt,tt],Be=()=>[_t,nt,tt],Ge=()=>[Bo,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[di],breakpoint:[di],color:[uL],container:[di],"drop-shadow":[di],ease:["in","out","in-out"],font:[pL],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[di],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[di],shadow:[di],spacing:["px",_t],text:[di],"text-shadow":[di],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bo,tt,nt,_]}],container:["container"],columns:[{columns:[_t,tt,nt,c]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Zi,"auto",nt,tt]}],basis:[{basis:[Bo,"full","auto",c,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_t,Bo,"auto","initial","none",tt]}],grow:[{grow:["",_t,nt,tt]}],shrink:[{shrink:["",_t,nt,tt]}],order:[{order:[Zi,"first","last","none",nt,tt]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:Z()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:Z()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":re()}],"auto-rows":[{"auto-rows":re()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...k(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...k()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":k()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[c,"screen",...H()]}],"min-w":[{"min-w":[c,"screen","none",...H()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",n,Nc,Ia]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,nt,bm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wm,tt]}],"font-family":[{font:[xL,tt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,nt,tt]}],"line-clamp":[{"line-clamp":[_t,"none",nt,bm]}],leading:[{leading:[i,...O()]}],"list-image":[{"list-image":["none",nt,tt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",nt,tt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ne()}],"text-color":[{text:ne()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:[_t,"from-font","auto",nt,Ia]}],"text-decoration-color":[{decoration:ne()}],"underline-offset":[{"underline-offset":[_t,"auto",nt,tt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt,tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt,tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Zi,nt,tt],radial:["",nt,tt],conic:[Zi,nt,tt]},yL,gL]}],"bg-color":[{bg:ne()}],"gradient-from-pos":[{from:A()}],"gradient-via-pos":[{via:A()}],"gradient-to-pos":[{to:A()}],"gradient-from":[{from:ne()}],"gradient-via":[{via:ne()}],"gradient-to":[{to:ne()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:F()}],"border-w-x":[{"border-x":F()}],"border-w-y":[{"border-y":F()}],"border-w-s":[{"border-s":F()}],"border-w-e":[{"border-e":F()}],"border-w-t":[{"border-t":F()}],"border-w-r":[{"border-r":F()}],"border-w-b":[{"border-b":F()}],"border-w-l":[{"border-l":F()}],"divide-x":[{"divide-x":F()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":F()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...B(),"hidden","none"]}],"divide-style":[{divide:[...B(),"hidden","none"]}],"border-color":[{border:ne()}],"border-color-x":[{"border-x":ne()}],"border-color-y":[{"border-y":ne()}],"border-color-s":[{"border-s":ne()}],"border-color-e":[{"border-e":ne()}],"border-color-t":[{"border-t":ne()}],"border-color-r":[{"border-r":ne()}],"border-color-b":[{"border-b":ne()}],"border-color-l":[{"border-l":ne()}],"divide-color":[{divide:ne()}],"outline-style":[{outline:[...B(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_t,nt,tt]}],"outline-w":[{outline:["",_t,Nc,Ia]}],"outline-color":[{outline:ne()}],shadow:[{shadow:["","none",p,td,ed]}],"shadow-color":[{shadow:ne()}],"inset-shadow":[{"inset-shadow":["none",g,td,ed]}],"inset-shadow-color":[{"inset-shadow":ne()}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ne()}],"ring-offset-w":[{"ring-offset":[_t,Ia]}],"ring-offset-color":[{"ring-offset":ne()}],"inset-ring-w":[{"inset-ring":F()}],"inset-ring-color":[{"inset-ring":ne()}],"text-shadow":[{"text-shadow":["none",v,td,ed]}],"text-shadow-color":[{"text-shadow":ne()}],opacity:[{opacity:[_t,nt,tt]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_t]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":ne()}],"mask-image-linear-to-color":[{"mask-linear-to":ne()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":ne()}],"mask-image-t-to-color":[{"mask-t-to":ne()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":ne()}],"mask-image-r-to-color":[{"mask-r-to":ne()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":ne()}],"mask-image-b-to-color":[{"mask-b-to":ne()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":ne()}],"mask-image-l-to-color":[{"mask-l-to":ne()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":ne()}],"mask-image-x-to-color":[{"mask-x-to":ne()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":ne()}],"mask-image-y-to-color":[{"mask-y-to":ne()}],"mask-image-radial":[{"mask-radial":[nt,tt]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":ne()}],"mask-image-radial-to-color":[{"mask-radial-to":ne()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[_t]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":ne()}],"mask-image-conic-to-color":[{"mask-conic-to":ne()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",nt,tt]}],filter:[{filter:["","none",nt,tt]}],blur:[{blur:ge()}],brightness:[{brightness:[_t,nt,tt]}],contrast:[{contrast:[_t,nt,tt]}],"drop-shadow":[{"drop-shadow":["","none",x,td,ed]}],"drop-shadow-color":[{"drop-shadow":ne()}],grayscale:[{grayscale:["",_t,nt,tt]}],"hue-rotate":[{"hue-rotate":[_t,nt,tt]}],invert:[{invert:["",_t,nt,tt]}],saturate:[{saturate:[_t,nt,tt]}],sepia:[{sepia:["",_t,nt,tt]}],"backdrop-filter":[{"backdrop-filter":["","none",nt,tt]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[_t,nt,tt]}],"backdrop-contrast":[{"backdrop-contrast":[_t,nt,tt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_t,nt,tt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_t,nt,tt]}],"backdrop-invert":[{"backdrop-invert":["",_t,nt,tt]}],"backdrop-opacity":[{"backdrop-opacity":[_t,nt,tt]}],"backdrop-saturate":[{"backdrop-saturate":[_t,nt,tt]}],"backdrop-sepia":[{"backdrop-sepia":["",_t,nt,tt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",nt,tt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_t,"initial",nt,tt]}],ease:[{ease:["linear","initial",E,nt,tt]}],delay:[{delay:[_t,nt,tt]}],animate:[{animate:["none",T,nt,tt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,nt,tt]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:ve()}],"rotate-x":[{"rotate-x":ve()}],"rotate-y":[{"rotate-y":ve()}],"rotate-z":[{"rotate-z":ve()}],scale:[{scale:je()}],"scale-x":[{"scale-x":je()}],"scale-y":[{"scale-y":je()}],"scale-z":[{"scale-z":je()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[nt,tt,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ge()}],"translate-x":[{"translate-x":Ge()}],"translate-y":[{"translate-y":Ge()}],"translate-z":[{"translate-z":Ge()}],"translate-none":["translate-none"],accent:[{accent:ne()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ne()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt,tt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt,tt]}],fill:[{fill:["none",...ne()]}],"stroke-w":[{stroke:[_t,Nc,Ia,bm]}],stroke:[{stroke:["none",...ne()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},SL=nL(_L);function cs(...e){return SL(II(e))}const We=ke.forwardRef(({className:e,variant:t="secondary",size:n="md",icon:r,children:s,disabled:i,...o},c)=>u.jsxs("button",{ref:c,disabled:i,className:cs("inline-flex items-center justify-center gap-2","font-medium transition-all duration-fast","focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed",n==="sm"&&"px-3 py-2 text-xs rounded-sm",n==="md"&&"px-4 py-2.5 text-sm rounded-sm",t==="primary"&&["bg-blue-500 text-white shadow-sm","hover:bg-blue-600 active:bg-blue-700","disabled:hover:bg-blue-500"],t==="secondary"&&["bg-white text-gray-700 border border-gray-300 shadow-xs","hover:bg-gray-50 hover:border-gray-400","active:bg-gray-100","disabled:hover:bg-white disabled:hover:border-gray-300"],t==="danger"&&["bg-white text-error-500 border border-error-300","hover:bg-error-100 hover:border-error-400","active:bg-error-100","disabled:hover:bg-white"],t==="ghost"&&["text-gray-600 hover:bg-gray-100","active:bg-gray-200"],e),...o,children:[r&&u.jsx("span",{className:"flex-shrink-0",children:r}),s]}));We.displayName="Button";const h_=({trigger:e,items:t,align:n="left",className:r})=>{const[s,i]=ke.useState(!1),o=ke.useRef(null);ke.useEffect(()=>{const h=d=>{o.current&&!o.current.contains(d.target)&&i(!1)};return s&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[s]),ke.useEffect(()=>{const h=d=>{d.key==="Escape"&&s&&i(!1)};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[s]);const c=h=>{!h.disabled&&h.onClick&&h.onClick(),i(!1)};return u.jsxs("div",{ref:o,className:cs("relative inline-block",r),children:[u.jsx("div",{onClick:()=>i(!s),children:e}),s&&u.jsx("div",{className:cs("absolute top-full mt-1 z-10","min-w-[200px] max-h-[300px] overflow-y-auto","bg-white border border-gray-200 rounded-md shadow-md","py-1","animate-in fade-in-0 zoom-in-95 duration-100",n==="right"?"right-0":"left-0"),children:t.map((h,d)=>u.jsxs("button",{onClick:()=>c(h),disabled:h.disabled,className:cs("w-full flex items-center gap-2 px-3 py-2 text-left text-sm","transition-colors duration-fast",h.disabled&&"opacity-50 cursor-not-allowed",!h.disabled&&!h.danger&&"hover:bg-gray-100",!h.disabled&&h.danger&&"text-error-500 hover:bg-error-50"),children:[h.icon&&u.jsx("span",{className:"flex-shrink-0",children:h.icon}),u.jsx("span",{children:h.label})]},d))})]})},p_=e=>{let t;const n=new Set,r=(d,p)=>{const g=typeof d=="function"?d(t):d;if(!Object.is(g,t)){const v=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(x=>x(t,v))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>h,subscribe:d=>(n.add(d),()=>n.delete(d))},h=t=e(r,s,c);return c},EL=(e=>e?p_(e):p_),TL=e=>e;function CL(e,t=TL){const n=ke.useSyncExternalStore(e.subscribe,ke.useCallback(()=>t(e.getState()),[e,t]),ke.useCallback(()=>t(e.getInitialState()),[e,t]));return ke.useDebugValue(n),n}const m_=e=>{const t=EL(e),n=r=>CL(t,r);return Object.assign(n,t),n},NL=(e=>e?m_(e):m_);function qE(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=h=>h===null?null:JSON.parse(h,void 0),c=(i=n.getItem(s))!=null?i:null;return c instanceof Promise?c.then(o):o(c)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Cg=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Cg(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Cg(r)(n)}}}},kL=(e,t)=>(n,r,s)=>{let i={storage:qE(()=>localStorage),partialize:y=>y,version:0,merge:(y,_)=>({..._,...y}),...t},o=!1;const c=new Set,h=new Set;let d=i.storage;if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},r,s);const p=()=>{const y=i.partialize({...r()});return d.setItem(i.name,{state:y,version:i.version})},g=s.setState;s.setState=(y,_)=>(g(y,_),p());const v=e((...y)=>(n(...y),p()),r,s);s.getInitialState=()=>v;let x;const b=()=>{var y,_;if(!d)return;o=!1,c.forEach(T=>{var C;return T((C=r())!=null?C:v)});const E=((_=i.onRehydrateStorage)==null?void 0:_.call(i,(y=r())!=null?y:v))||void 0;return Cg(d.getItem.bind(d))(i.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==i.version){if(i.migrate){const C=i.migrate(T.state,T.version);return C instanceof Promise?C.then(N=>[!0,N]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var C;const[N,R]=T;if(x=i.merge(R,(C=r())!=null?C:v),n(x,!0),N)return p()}).then(()=>{E?.(x,void 0),x=r(),o=!0,h.forEach(T=>T(x))}).catch(T=>{E?.(void 0,T)})};return s.persist={setOptions:y=>{i={...i,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:y=>(c.add(y),()=>{c.delete(y)}),onFinishHydration:y=>(h.add(y),()=>{h.delete(y)})},i.skipHydration||b(),x||v},AL=kL,Gn=[];for(let e=0;e<256;++e)Gn.push((e+256).toString(16).slice(1));function jL(e,t=0){return(Gn[e[t+0]]+Gn[e[t+1]]+Gn[e[t+2]]+Gn[e[t+3]]+"-"+Gn[e[t+4]]+Gn[e[t+5]]+"-"+Gn[e[t+6]]+Gn[e[t+7]]+"-"+Gn[e[t+8]]+Gn[e[t+9]]+"-"+Gn[e[t+10]]+Gn[e[t+11]]+Gn[e[t+12]]+Gn[e[t+13]]+Gn[e[t+14]]+Gn[e[t+15]]).toLowerCase()}let _m;const RL=new Uint8Array(16);function OL(){if(!_m){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_m=crypto.getRandomValues.bind(crypto)}return _m(RL)}const ML=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),g_={randomUUID:ML};function DL(e,t,n){e=e||{};const r=e.random??e.rng?.()??OL();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,jL(r)}function Pr(e,t,n){return g_.randomUUID&&!e?g_.randomUUID():DL(e)}const IL=wu("/api/data");async function Tl(e,t){const n=await fetch(`${IL}${e}`,{headers:{"Content-Type":"application/json",...t?.headers??{}},...t});if(!n.ok){const r=await n.text();throw new Error(r||`Data API error (${n.status})`)}return await n.json()}function LL(e={}){const t=new URLSearchParams;e.limit&&t.set("limit",String(e.limit)),e.offset&&t.set("offset",String(e.offset)),e.search&&t.set("search",e.search),e.status&&t.set("status",e.status),e.q&&t.set("q",e.q),e.cursor!==void 0&&e.cursor!==null&&t.set("cursor",String(e.cursor)),e.sort&&t.set("sort",e.sort);const n=t.toString()?`?${t.toString()}`:"";return Tl(`/phrases${n}`)}function FL(){return Tl("/groups")}function WE(e){return Tl("/phrases/enqueue",{method:"POST",body:JSON.stringify(e)})}function PL(e){return Tl("/phrases/delete",{method:"POST",body:JSON.stringify({ids:e})})}function zL(){return Tl("/phrases/clear",{method:"POST"})}function BL(e,t){return Tl("/phrases/group",{method:"POST",body:JSON.stringify({ids:e,group:t})})}const x_={phrases:[],groups:[],stopwords:[],filters:{},savedFilters:[],columnVisibility:{phrase:!0,ws:!0,qws:!0,bws:!0,status:!0,dateAdded:!1},selectedPhraseIds:new Set,selectedGroupId:null,activeGroupIds:new Set,activityLog:[],processProgress:0,processCurrent:0,processTotal:0,columnOrder:[],columnPinning:{},viewTemplates:[],searchMasks:[{id:"1",name:"Google",url:"https://www.google.com/search?q={QUERY}"},{id:"2",name:"Yandex",url:"https://yandex.ru/search/?text={QUERY}"}],phraseColors:{},groupColors:{},pinnedPhraseIds:new Set,footerStats:{},markedPhraseIds:new Set,pinnedGroupIds:new Set,snapshots:[],exportPresets:[],phraseTags:[],version:5,isDataLoaded:!1,isDataLoading:!1,dataError:null,phrasesCursor:null};let qa=[],Mc=[];const UL=50,Ng="keyset-store",v_="keyset-storage-version",y_="2025-11-11",$L=()=>{try{const e=[];[Ng,"columnOrder","columnPinning","viewTemplates","phraseColors","groupColors","pinnedPhraseIds","markedPhraseIds","pinnedGroupIds"].forEach(n=>{localStorage.getItem(n)!==null&&(localStorage.removeItem(n),e.push(n))}),e.length&&console.warn("[KeySet][store] Purged stale persisted data:",e)}catch(e){console.error("[KeySet][store] Failed to purge persisted data:",e)}};if(typeof window<"u")try{localStorage.getItem(v_)!==y_&&($L(),localStorage.setItem(v_,y_))}catch(e){console.error("[KeySet][store] Unable to verify storage version:",e)}const HL=()=>({getItem:e=>{try{return localStorage.getItem(e)}catch(t){return console.error("[KeySet][store] Failed to read from localStorage",t),null}},setItem:(e,t)=>{try{localStorage.setItem(e,t)}catch(n){console.error("[KeySet][store] Failed to write to localStorage",n)}},removeItem:e=>{try{localStorage.removeItem(e)}catch(t){console.error("[KeySet][store] Failed to remove entry from localStorage",t)}}}),w_=e=>{if(e==null)return null;if(typeof e=="number")return e;const t=String(e).match(/(\d+)$/);if(!t)return null;const n=Number(t[1]);return Number.isNaN(n)?null:n},Sm=(...e)=>{for(const t of e)if(typeof t=="number"&&!Number.isNaN(t))return t;return 0},VL=e=>{const t=e.updatedAt?Date.parse(e.updatedAt):Date.now(),n=Sm(e.ws,e.freq),r=Sm(e.wsQuotes,e.freqQuotes,e.qws),s=Sm(e.wsExact,e.freqExact,e.bws),i={ok:"success",ready:"success",done:"success",queued:"pending",pending:"pending",running:"pending",error:"error",failed:"error"};return{id:`freq-${e.id}`,text:e.phrase??"",ws:n,qws:r,bws:s,status:i[(e.status||"").toLowerCase()]??"done",groupId:e.group??null,createdAt:t,dateAdded:t,hasStopword:!1,history:[],locked:!1}},GL=e=>({id:e.id,name:e.name,parentId:e.parentId,children:[],collapsed:!1,type:e.type||"normal",color:e.color||"#6366f1",locked:e.locked??!1,comment:e.comment??void 0}),kg=e=>{try{const t=n=>{try{if(n===null||typeof n!="object")return n;if(n instanceof Set)return Array.from(n);if(n instanceof Date)return n.toISOString();if(n.__visited)return null;if(n.__visited=!0,Array.isArray(n))return n.map(t).filter(s=>s!==null);const r={};for(const s in n)n.hasOwnProperty(s)&&s!=="__visited"&&(r[s]=t(n[s]));return delete n.__visited,r}catch(r){return console.warn("  :",r),null}};return{phrases:t(e.phrases)||[],groups:t(e.groups)||[],stopwords:t(e.stopwords)||[],timestamp:Date.now()}}catch(t){return console.warn("  :",t),{phrases:[],groups:[],stopwords:[],timestamp:Date.now()}}},Sr=e=>{const t=kg(e);qa.push(t),Mc=[],qa.length>UL&&qa.shift()},pt=NL()(AL((e,t)=>({...x_,history:{past:[],present:{...x_,history:{past:[],present:{},future:[]}},future:[]},addPhrases:async n=>{const r=Array.from(new Set(n.map(s=>(s.text||"").trim()).filter(s=>!!s)));if(r.length===0){t().addLog("warning","  :   ");return}try{await WE({phrases:r,region:225}),t().addLog("info",`   : ${r.length}`),await t().loadInitialData()}catch(s){t().addLog("error",`  : ${s.message}`)}},updatePhrase:(n,r)=>{Sr(t()),e(s=>({phrases:s.phrases.map(i=>i.id===n?{...i,...r}:i)})),t().addLog("info",` : ${n.substring(0,8)}...`)},applyWordstatResults:n=>{if(!n||n.length===0)return;Sr(t());const r=new Map;n.forEach(s=>{const i=(s?.phrase||"").trim().toLowerCase();i&&r.set(i,{ws:typeof s.ws=="number"?s.ws:null,qws:typeof s.qws=="number"?s.qws:null,bws:typeof s.bws=="number"?s.bws:null,status:s.status||"success"})}),e(s=>({phrases:s.phrases.map(i=>{const o=(i.text||"").trim().toLowerCase(),c=r.get(o);return c?{...i,ws:typeof c.ws=="number"?c.ws:i.ws,qws:typeof c.qws=="number"?c.qws:i.qws,bws:typeof c.bws=="number"?c.bws:i.bws,status:c.status?.toLowerCase().includes("error")?"error":"success"}:i})})),t().addLog("success",` : ${n.length} `)},deletePhrases:async n=>{const r=n.map(s=>w_(s)).filter(s=>s!==null);try{r.length>0&&await PL(r),Sr(t()),e(s=>({phrases:s.phrases.filter(i=>!n.includes(i.id)),selectedPhraseIds:new Set(Array.from(s.selectedPhraseIds).filter(i=>!n.includes(i)))})),t().addLog("warning",` : ${n.length}`)}catch(s){t().addLog("error",`   : ${s.message}`)}},clearPhrases:async()=>{try{await zL();const n=t().phrases.length;e({phrases:[],selectedPhraseIds:new Set}),t().addLog("warning",`  (${n} )`)}catch(n){t().addLog("error",`   : ${n.message}`)}},setPhrases:n=>{Sr(t()),e({phrases:n,selectedPhraseIds:new Set}),t().addLog("info",` : ${n.length}`)},selectPhrase:(n,r=!1)=>{e(s=>{const i=new Set(r?s.selectedPhraseIds:[]);return i.has(n)?i.delete(n):i.add(n),{selectedPhraseIds:i}})},selectAll:()=>{e(n=>({selectedPhraseIds:new Set(n.phrases.map(r=>r.id))})),t().addLog("info",` : ${t().phrases.length} `)},deselectAll:()=>{e({selectedPhraseIds:new Set})},invertSelection:()=>{e(n=>{const r=new Set(n.phrases.map(i=>i.id)),s=new Set;return r.forEach(i=>{n.selectedPhraseIds.has(i)||s.add(i)}),{selectedPhraseIds:s}}),t().addLog("info"," ")},addGroup:(n,r=null)=>{Sr(t());const s={id:Pr(),name:n,parentId:r};e(i=>({groups:[...i.groups,s]})),t().addLog("success",` : "${n}"`)},updateGroup:(n,r)=>{Sr(t()),e(s=>({groups:s.groups.map(i=>i.id===n?{...i,...r}:i)})),r.name&&t().addLog("info",` : "${r.name}"`)},deleteGroup:n=>{Sr(t());const r=t().groups.find(s=>s.id===n);e(s=>({groups:s.groups.filter(i=>i.id!==n&&i.parentId!==n),phrases:s.phrases.map(i=>i.groupId===n?{...i,groupId:null}:i),selectedGroupId:s.selectedGroupId===n?null:s.selectedGroupId})),r&&t().addLog("warning",` : "${r.name}"`)},selectGroup:n=>{if(e({selectedGroupId:n}),n){const r=t().groups.find(s=>s.id===n);if(r){const s=t().phrases.filter(i=>i.groupId===n).length;t().addLog("info",`  : "${r.name}" (${s} )`)}}else t().addLog("info","  -   ")},movePhrases:(n,r)=>{e(o=>({phrases:o.phrases.map(c=>n.includes(c.id)?{...c,groupId:r}:c)}));const s=r?t().groups.find(o=>o.id===r):null,i=s?s.name:" ";t().addLog("info",`   "${i}": ${n.length} .`)},addStopwords:n=>{const r=n.map(s=>({id:Pr(),text:s,matchType:"partial",useMorphology:!1,category:""}));e(s=>({stopwords:[...s.stopwords,...r]})),t().addLog("success",`- : ${n.length} .`)},removeStopword:n=>{e(r=>({stopwords:r.stopwords.filter(s=>s.text!==n)})),t().addLog("info",`- : "${n}"`)},clearStopwords:()=>{const n=t().stopwords.length;e({stopwords:[]}),t().addLog("warning",` -  (${n} .)`)},addStopword:n=>{e(r=>({stopwords:[...r.stopwords,n]})),t().addLog("success",`- : "${n.text}"`)},deleteStopword:n=>{const r=t().stopwords.find(s=>s.id===n);e(s=>({stopwords:s.stopwords.filter(i=>i.id!==n)})),r&&t().addLog("info",`- : "${r.text}"`)},updateStopword:(n,r)=>{e(s=>({stopwords:s.stopwords.map(i=>i.id===n?{...i,...r}:i)}))},markStopwordPhrases:()=>{const{phrases:n,stopwords:r}=t(),s=[],i=n.map(o=>{const c=r.some(h=>o.text.includes(h.text));return c&&s.push(o.id),{...o,hasStopword:c}});return e({phrases:i}),t().addLog("info",`   -: ${s.length}`),s},deleteStopwordPhrases:()=>{const n=t().phrases.length;e(s=>({phrases:s.phrases.filter(i=>!i.hasStopword)}));const r=n-t().phrases.length;return t().addLog("warning",`   -: ${r}`),r},addLog:(n,r)=>{const s={id:Pr(),timestamp:Date.now(),level:n,message:r};e(i=>({activityLog:[...i.activityLog.slice(-99),s]}))},clearLog:()=>{e({activityLog:[]})},setFilters:n=>{e(r=>({filters:{...r.filters,...n}}))},clearFilters:()=>{e({filters:{}}),t().addLog("info"," ")},saveCurrentFilter:n=>{const r={id:Pr(),name:n,filter:t().filters};e(s=>({savedFilters:[...s.savedFilters,r]})),t().addLog("success",` : "${n}"`)},applyFilter:n=>{const r=t().savedFilters.find(s=>s.id===n);r&&(e({filters:r.filter}),t().addLog("info",` : "${r.name}"`))},deleteSavedFilter:n=>{e(r=>({savedFilters:r.savedFilters.filter(s=>s.id!==n)}))},setColumnVisibility:n=>{e(r=>({columnVisibility:{...r.columnVisibility,...n}}))},setProcessProgress:(n,r,s)=>{e({processProgress:n,processCurrent:r,processTotal:s})},resetProgress:()=>{e({processProgress:0,processCurrent:0,processTotal:0})},editPhrase:(n,r)=>{Sr(t()),e(s=>({phrases:s.phrases.map(i=>i.id===n?{...i,text:r}:i)})),t().addLog("info"," ")},markRowColor:(n,r)=>{e(s=>({phrases:s.phrases.map(i=>i.id===n?{...i,color:r}:i)}))},toggleRowLock:n=>{e(r=>({phrases:r.phrases.map(s=>s.id===n?{...s,locked:!s.locked}:s)}))},deleteSelectedPhrases:async n=>{await t().deletePhrases(n)},movePhrasesToGroup:async(n,r)=>{const s=n.map(i=>w_(i)).filter(i=>i!==null);try{s.length>0&&await BL(s,r),Sr(t()),e(i=>({phrases:i.phrases.map(o=>n.includes(o.id)?{...o,groupId:r}:o),selectedPhraseIds:new Set})),t().addLog("info",` : ${n.length} .`)}catch(i){t().addLog("error",`   : ${i.message}`)}},copyPhrasesToGroup:(n,r)=>{Sr(t());const i=t().phrases.filter(o=>n.includes(o.id)).map(o=>({...o,id:Pr(),groupId:r,createdAt:Date.now()}));e(o=>({phrases:[...o.phrases,...i]})),t().addLog("success",` : ${i.length} .`)},undo:()=>{if(qa.length===0){t().addLog("warning"," ");return}const n=kg(t());Mc.push(n);const r=qa.pop();e({phrases:r.phrases,groups:r.groups,stopwords:r.stopwords}),t().addLog("info","  ")},redo:()=>{if(Mc.length===0){t().addLog("warning"," ");return}const n=kg(t());qa.push(n);const r=Mc.pop();e({phrases:r.phrases,groups:r.groups,stopwords:r.stopwords}),t().addLog("info","  ")},canUndo:()=>qa.length>0,canRedo:()=>Mc.length>0,toggleActiveGroup:n=>{e(r=>{const s=new Set(r.activeGroupIds);return s.has(n)?s.delete(n):s.add(n),{activeGroupIds:s}})},clearActiveGroups:()=>{e({activeGroupIds:new Set})},setColumnOrder:n=>{e({columnOrder:n}),localStorage.setItem("columnOrder",JSON.stringify(n))},setColumnPinning:n=>{e({columnPinning:n}),localStorage.setItem("columnPinning",JSON.stringify(n))},saveViewTemplate:n=>{const r=t(),s={id:Pr(),name:n,columnVisibility:r.columnVisibility,columnOrder:r.columnOrder,columnPinning:r.columnPinning,sorting:[]};e(i=>({viewTemplates:[...i.viewTemplates,s]})),localStorage.setItem("viewTemplates",JSON.stringify([...r.viewTemplates,s])),t().addLog("success",`  : "${n}"`)},loadViewTemplate:n=>{const r=t().viewTemplates.find(s=>s.id===n);r&&(e({columnVisibility:r.columnVisibility,columnOrder:r.columnOrder,columnPinning:r.columnPinning}),t().addLog("info",`  : "${r.name}"`))},deleteViewTemplate:n=>{const r=t().viewTemplates.find(i=>i.id===n);e(i=>({viewTemplates:i.viewTemplates.filter(o=>o.id!==n)}));const s=t().viewTemplates;localStorage.setItem("viewTemplates",JSON.stringify(s)),r&&t().addLog("warning",`  : "${r.name}"`)},addSearchMask:n=>{e(r=>({searchMasks:[...r.searchMasks,n]})),t().addLog("success",`  : "${n.name}"`)},removeSearchMask:n=>{const r=t().searchMasks.find(s=>s.id===n);e(s=>({searchMasks:s.searchMasks.filter(i=>i.id!==n)})),r&&t().addLog("info",`  : "${r.name}"`)},markPhraseColor:(n,r)=>{e(s=>({phraseColors:{...s.phraseColors,[n]:r}})),localStorage.setItem("phraseColors",JSON.stringify({...t().phraseColors,[n]:r}))},setGroupColor:(n,r)=>{e(s=>({groupColors:{...s.groupColors,[n]:r}})),localStorage.setItem("groupColors",JSON.stringify({...t().groupColors,[n]:r}))},togglePinPhrase:n=>{e(s=>{const i=new Set(s.pinnedPhraseIds);return i.has(n)?i.delete(n):i.add(n),{pinnedPhraseIds:i}});const r=Array.from(t().pinnedPhraseIds);localStorage.setItem("pinnedPhraseIds",JSON.stringify(r))},updateFooterStats:(n,r)=>{e(s=>({footerStats:{...s.footerStats,[n]:r}}))},toggleMarkPhrase:n=>{e(r=>{const s=new Set(r.markedPhraseIds);return s.has(n)?s.delete(n):s.add(n),{markedPhraseIds:s}})},markPhrasesByFilter:()=>{Sr(t());const n=t(),r=new Set(n.markedPhraseIds),s=n.phrases.filter(i=>{const{filters:o}=n;return!(o.wsMin&&(i.ws||0)<o.wsMin||o.wsMax&&(i.ws||0)>o.wsMax||o.contains&&!i.text.toLowerCase().includes(o.contains.toLowerCase())||o.notContains&&i.text.toLowerCase().includes(o.notContains.toLowerCase()))});s.forEach(i=>{r.add(i.id)}),e({markedPhraseIds:r}),t().addLog("success",`  : ${s.length} `)},invertMarkedPhrases:()=>{e(n=>{const r=new Set(n.phrases.map(i=>i.id)),s=new Set;return r.forEach(i=>{n.markedPhraseIds.has(i)||s.add(i)}),{markedPhraseIds:s}}),t().addLog("info"," ")},clearAllMarks:()=>{e({markedPhraseIds:new Set}),t().addLog("info","  ")},markAllPhrases:()=>{e(n=>({markedPhraseIds:new Set(n.phrases.map(r=>r.id))})),t().addLog("info",`  : ${t().phrases.length}`)},unmarkAllPhrases:()=>{e({markedPhraseIds:new Set}),t().addLog("info","  ")},togglePinGroup:n=>{e(r=>{const s=new Set(r.pinnedGroupIds);return s.has(n)?s.delete(n):s.add(n),{pinnedGroupIds:s}})},copyGroupStructure:(n,r)=>{if(Sr(t()),!t().groups.find(c=>c.id===n))return;const o=t().groups.filter(c=>c.parentId===n).map(c=>({...c,id:Pr(),parentId:r}));e(c=>({groups:[...c.groups,...o]})),t().addLog("success",`  : ${o.length} `)},createSnapshot:(n,r="")=>{const s=t(),i={id:Pr(),name:n,description:r,timestamp:Date.now(),data:{phrases:JSON.parse(JSON.stringify(s.phrases)),groups:JSON.parse(JSON.stringify(s.groups)),filters:{...s.filters}}};e(o=>({snapshots:[...o.snapshots,i]})),t().addLog("success",` : "${n}"`)},restoreSnapshot:n=>{const r=t().snapshots.find(s=>s.id===n);r&&(Sr(t()),e({phrases:JSON.parse(JSON.stringify(r.data.phrases)),groups:JSON.parse(JSON.stringify(r.data.groups)),filters:{...r.data.filters},selectedPhraseIds:new Set}),t().addLog("success",` : "${r.name}"`))},deleteSnapshot:n=>{const r=t().snapshots.find(s=>s.id===n);e(s=>({snapshots:s.snapshots.filter(i=>i.id!==n)})),r&&t().addLog("warning",` : "${r.name}"`)},saveExportPreset:n=>{const r={...n,id:Pr(),created:Date.now()};e(s=>({exportPresets:[...s.exportPresets,r]})),t().addLog("success",`  : "${n.name}"`)},loadExportPreset:n=>t().exportPresets.find(s=>s.id===n),deleteExportPreset:n=>{const r=t().exportPresets.find(s=>s.id===n);e(s=>({exportPresets:s.exportPresets.filter(i=>i.id!==n)})),r&&t().addLog("warning",`  : "${r.name}"`)},addPhraseTag:(n,r="#6366f1")=>{const s={id:Pr(),name:n,color:r,created:Date.now()};e(i=>({phraseTags:[...i.phraseTags,s]})),t().addLog("success",` : "${n}"`)},assignTagToPhrase:(n,r)=>{e(s=>({phrases:s.phrases.map(i=>i.id===n?{...i,tags:[...i.tags||[],r]}:i)}))},removeTagFromPhrase:(n,r)=>{e(s=>({phrases:s.phrases.map(i=>i.id===n?{...i,tags:(i.tags||[]).filter(o=>o!==r)}:i)}))},deletePhraseTag:n=>{e(r=>({phraseTags:r.phraseTags.filter(s=>s.id!==n),phrases:r.phrases.map(s=>({...s,tags:(s.tags||[]).filter(i=>i!==n)}))})),t().addLog("warning"," ")},updateGroupParent:(n,r)=>{Sr(t()),e(o=>({groups:o.groups.map(c=>c.id===n?{...c,parentId:r}:c)}));const s=t().groups.find(o=>o.id===n),i=r?t().groups.find(o=>o.id===r):null;if(s){const o=i?i.name:"";t().addLog("success",` "${s.name}"   "${o}"`)}},loadInitialData:async()=>{const{isDataLoading:n}=t();if(!n){e({isDataLoading:!0,dataError:null});try{const[r,s]=await Promise.all([LL({limit:1e3}),FL()]),i=Array.isArray(r?.items)?r.items:[],o=r?.nextCursor??null;e(()=>({phrases:i.map(VL),groups:s.map(GL),selectedPhraseIds:new Set,activeGroupIds:new Set,pinnedPhraseIds:new Set,markedPhraseIds:new Set,pinnedGroupIds:new Set,isDataLoading:!1,isDataLoaded:!0,dataError:null,phrasesCursor:o}))}catch(r){e({isDataLoading:!1,isDataLoaded:!1,dataError:r.message||"   ",phrasesCursor:null})}}}}),{name:Ng,storage:qE(()=>HL()),version:2,partialize:e=>({stopwords:e.stopwords,filters:e.filters,savedFilters:e.savedFilters,columnVisibility:e.columnVisibility,columnOrder:e.columnOrder,columnPinning:e.columnPinning,viewTemplates:e.viewTemplates,searchMasks:e.searchMasks,phraseColors:e.phraseColors,groupColors:e.groupColors,snapshots:e.snapshots,exportPresets:e.exportPresets,phraseTags:e.phraseTags,version:e.version}),onRehydrateStorage:()=>(e,t)=>{if(t){console.error("[KeySet][store] Rehydration failed, clearing corrupted data",t);try{localStorage.removeItem(Ng)}catch(n){console.error("[KeySet][store] Failed to remove corrupted store snapshot",n)}return}if(e){e.selectedPhraseIds=new Set,e.selectedGroupId=null,e.activeGroupIds=new Set,e.pinnedPhraseIds=new Set,e.markedPhraseIds=new Set,e.pinnedGroupIds=new Set;const n=(s,i=null)=>{try{const o=localStorage.getItem(s);if(o)return JSON.parse(o)}catch(o){console.warn(`  ${s}:`,o),localStorage.removeItem(s)}return i};e.columnOrder=n("columnOrder",[]),e.columnPinning=n("columnPinning",{}),e.viewTemplates=n("viewTemplates",[]),e.phraseColors=n("phraseColors",{}),e.groupColors=n("groupColors",{});const r=s=>{try{const i=localStorage.getItem(s);if(i){const o=JSON.parse(i);if(Array.isArray(o))return new Set(o)}}catch(i){console.warn(`  Set ${s}:`,i),localStorage.removeItem(s)}return new Set};e.pinnedPhraseIds=r("pinnedPhraseIds"),e.markedPhraseIds=r("markedPhraseIds"),e.pinnedGroupIds=r("pinnedGroupIds"),setTimeout(()=>{e.addLog&&e.addLog("success","   localStorage")},0)}}})),qL=({onImportClick:e,onExportClick:t,onDuplicatesClick:n,onStopwordsClick:r,onParsingClick:s,onFiltersClick:i,onColumnSettingsClick:o,onStatisticsClick:c,onSimilarPhrasesClick:h,onAutomationClick:d,onGroupTypeManagerClick:p,onViewTemplatesClick:g,onCrossMinusationClick:v,onMorphDuplicatesClick:x,onDataQualityClick:b,onPipelinesClick:y,onExportPresetsClick:_,onSnapshotsClick:E,onTagsClick:T})=>{const{selectedPhraseIds:C,phrases:N,markedPhraseIds:R,selectAll:P,deselectAll:j,invertSelection:O,deletePhrases:D,clearPhrases:Y,markAllPhrases:Z,unmarkAllPhrases:z,invertMarkedPhrases:re,markPhrasesByFilter:k}=pt(),K=C.size,X=K>0,H=()=>{if(!X)return;window.confirm(`   (${K} .)?`)&&D(Array.from(C))},ne=()=>{if(N.length===0)return;window.confirm(`   (${N.length} )?`)&&Y()},se=[{label:" ",value:"select-all",onClick:P},{label:" ",value:"deselect-all",onClick:j,disabled:!X},{label:"",value:"invert",onClick:O}],oe=[{label:" ",value:"mark-all",onClick:Z},{label:"  ",value:"unmark-all",onClick:z,disabled:R.size===0},{label:" ",value:"invert-marks",onClick:re},{label:"  ",value:"mark-by-filter",onClick:k}];return u.jsxs("div",{className:"h-14 bg-white border-b border-gray-200 px-4 flex items-center gap-2",children:[u.jsx(We,{variant:"primary",icon:u.jsx(Nx,{className:"w-4 h-4"}),onClick:e,children:""}),u.jsxs(We,{variant:"danger",icon:u.jsx(ru,{className:"w-4 h-4"}),onClick:H,disabled:!X,children:[" ",X&&`(${K})`]}),u.jsx(h_,{trigger:u.jsxs(We,{variant:"secondary",children:["",u.jsx(i_,{className:"w-4 h-4"})]}),items:se}),u.jsx(h_,{trigger:u.jsxs(We,{variant:"secondary",children:[u.jsx(mD,{className:"w-4 h-4 mr-1"})," ",R.size>0&&`(${R.size})`,u.jsx(i_,{className:"w-4 h-4 ml-1"})]}),items:oe}),u.jsx("div",{className:"w-px h-6 bg-gray-200"}),u.jsx(We,{variant:"secondary",onClick:s,title:"   Yandex Wordstat",children:""}),u.jsx(We,{variant:"secondary",onClick:i,title:" ",children:""}),u.jsx(We,{variant:"secondary",onClick:o,title:"  ",children:""}),u.jsx(We,{variant:"secondary",icon:u.jsx(RD,{className:"w-4 h-4"}),onClick:g,title:"  ",children:""}),u.jsx("div",{className:"w-px h-6 bg-gray-200"}),u.jsx(We,{variant:"secondary",onClick:n,disabled:N.length===0,title:"  ",children:" "}),u.jsx(We,{variant:"secondary",onClick:x,disabled:N.length===0,title:"  ",icon:u.jsx(Gd,{className:"w-4 h-4"}),children:". "}),u.jsx(We,{variant:"secondary",onClick:v,disabled:N.length===0,title:"- ",icon:u.jsx(NE,{className:"w-4 h-4"}),children:"-"}),u.jsx(We,{variant:"secondary",onClick:b,disabled:N.length===0,title:"    ",icon:u.jsx(jE,{className:"w-4 h-4"}),children:""}),u.jsx(We,{variant:"secondary",onClick:y,disabled:N.length===0,title:"   1 ",icon:u.jsx(OE,{className:"w-4 h-4"}),children:""}),u.jsx(We,{variant:"secondary",onClick:r,title:" - (-)",children:"-"}),u.jsx(We,{variant:"secondary",icon:u.jsx(kh,{className:"w-4 h-4"}),onClick:h,disabled:N.length===0,title:"    ",children:""}),u.jsx(We,{variant:"secondary",icon:u.jsx(_g,{className:"w-4 h-4"}),onClick:c,disabled:N.length===0,title:" ",children:""}),u.jsx("div",{className:"w-px h-6 bg-gray-200"}),u.jsx(We,{variant:"secondary",icon:u.jsx(EE,{className:"w-4 h-4"}),onClick:p,title:"  ",children:" "}),u.jsx(We,{variant:"secondary",icon:u.jsx(_I,{className:"w-4 h-4"}),onClick:T,title:"  ",children:""}),u.jsx(We,{variant:"secondary",icon:u.jsx(bE,{className:"w-4 h-4"}),onClick:d,title:"  ",children:""}),u.jsx(We,{variant:"secondary",icon:u.jsx(xD,{className:"w-4 h-4"}),onClick:E,title:"  ",children:""}),u.jsx(We,{variant:"secondary",onClick:ne,disabled:N.length===0,children:""}),u.jsx("div",{className:"flex-1"}),u.jsx(We,{variant:"secondary",icon:u.jsx(kE,{className:"w-4 h-4"}),onClick:_,title:"  ",children:""}),u.jsx(We,{variant:"secondary",icon:u.jsx(_E,{className:"w-4 h-4"}),onClick:t,disabled:N.length===0,children:""}),N.length>0&&u.jsxs("div",{className:"text-xs text-gray-500",children:[" : ",u.jsx("span",{className:"font-medium text-gray-700",children:N.length}),X&&u.jsxs(u.Fragment,{children:[" "," | : ",u.jsx("span",{className:"font-medium text-blue-600",children:K})]})]})]})};function WL(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function ia(e,t){return typeof e=="function"?e(t):e}function qr(e,t){return n=>{t.setState(r=>({...r,[e]:ia(n,r[e])}))}}function Ah(e){return e instanceof Function}function KL(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function XL(e,t){const n=[],r=s=>{s.forEach(i=>{n.push(i);const o=t(i);o!=null&&o.length&&r(o)})};return r(e),n}function dt(e,t,n){let r=[],s;return i=>{let o;n.key&&n.debug&&(o=Date.now());const c=e(i);if(!(c.length!==r.length||c.some((p,g)=>r[g]!==p)))return s;r=c;let d;if(n.key&&n.debug&&(d=Date.now()),s=t(...c),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const p=Math.round((Date.now()-o)*100)/100,g=Math.round((Date.now()-d)*100)/100,v=g/16,x=(b,y)=>{for(b=String(b);b.length<y;)b=" "+b;return b};console.info(`%c ${x(g,5)} /${x(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,n?.key)}return s}}function ht(e,t,n,r){return{debug:()=>{var s;return(s=e?.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function YL(e,t,n,r){const s=()=>{var o;return(o=i.getValue())!=null?o:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:dt(()=>[e,n,t,i],(o,c,h,d)=>({table:o,column:c,row:h,cell:d,getValue:d.getValue,renderValue:d.renderValue}),ht(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(i,n,t,e)},{}),i}function JL(e,t,n,r){var s,i;const c={...e._getDefaultColumnDef(),...t},h=c.accessorKey;let d=(s=(i=c.id)!=null?i:h?typeof String.prototype.replaceAll=="function"?h.replaceAll(".","_"):h.replace(/\./g,"_"):void 0)!=null?s:typeof c.header=="string"?c.header:void 0,p;if(c.accessorFn?p=c.accessorFn:h&&(h.includes(".")?p=v=>{let x=v;for(const y of h.split(".")){var b;x=(b=x)==null?void 0:b[y]}return x}:p=v=>v[c.accessorKey]),!d)throw new Error;let g={id:`${String(d)}`,accessorFn:p,parent:r,depth:n,columnDef:c,columns:[],getFlatColumns:dt(()=>[!0],()=>{var v;return[g,...(v=g.columns)==null?void 0:v.flatMap(x=>x.getFlatColumns())]},ht(e.options,"debugColumns")),getLeafColumns:dt(()=>[e._getOrderColumnsFn()],v=>{var x;if((x=g.columns)!=null&&x.length){let b=g.columns.flatMap(y=>y.getLeafColumns());return v(b)}return[g]},ht(e.options,"debugColumns"))};for(const v of e._features)v.createColumn==null||v.createColumn(g,e);return g}const tr="debugHeaders";function b_(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],c=h=>{h.subHeaders&&h.subHeaders.length&&h.subHeaders.map(c),o.push(h)};return c(i),o},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(i,e)}),i}const ZL={createTable:e=>{e.getHeaderGroups=dt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var i,o;const c=(i=r?.map(g=>n.find(v=>v.id===g)).filter(Boolean))!=null?i:[],h=(o=s?.map(g=>n.find(v=>v.id===g)).filter(Boolean))!=null?o:[],d=n.filter(g=>!(r!=null&&r.includes(g.id))&&!(s!=null&&s.includes(g.id)));return nd(t,[...c,...d,...h],e)},ht(e.options,tr)),e.getCenterHeaderGroups=dt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(s!=null&&s.includes(i.id))),nd(t,n,e,"center")),ht(e.options,tr)),e.getLeftHeaderGroups=dt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const i=(s=r?.map(o=>n.find(c=>c.id===o)).filter(Boolean))!=null?s:[];return nd(t,i,e,"left")},ht(e.options,tr)),e.getRightHeaderGroups=dt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const i=(s=r?.map(o=>n.find(c=>c.id===o)).filter(Boolean))!=null?s:[];return nd(t,i,e,"right")},ht(e.options,tr)),e.getFooterGroups=dt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),ht(e.options,tr)),e.getLeftFooterGroups=dt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),ht(e.options,tr)),e.getCenterFooterGroups=dt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),ht(e.options,tr)),e.getRightFooterGroups=dt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),ht(e.options,tr)),e.getFlatHeaders=dt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),ht(e.options,tr)),e.getLeftFlatHeaders=dt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),ht(e.options,tr)),e.getCenterFlatHeaders=dt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),ht(e.options,tr)),e.getRightFlatHeaders=dt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),ht(e.options,tr)),e.getCenterLeafHeaders=dt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ht(e.options,tr)),e.getLeftLeafHeaders=dt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ht(e.options,tr)),e.getRightLeafHeaders=dt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ht(e.options,tr)),e.getLeafHeaders=dt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,i,o,c,h,d;return[...(s=(i=t[0])==null?void 0:i.headers)!=null?s:[],...(o=(c=n[0])==null?void 0:c.headers)!=null?o:[],...(h=(d=r[0])==null?void 0:d.headers)!=null?h:[]].map(p=>p.getLeafHeaders()).flat()},ht(e.options,tr))}};function nd(e,t,n,r){var s,i;let o=0;const c=function(v,x){x===void 0&&(x=1),o=Math.max(o,x),v.filter(b=>b.getIsVisible()).forEach(b=>{var y;(y=b.columns)!=null&&y.length&&c(b.columns,x+1)},0)};c(e);let h=[];const d=(v,x)=>{const b={depth:x,id:[r,`${x}`].filter(Boolean).join("_"),headers:[]},y=[];v.forEach(_=>{const E=[...y].reverse()[0],T=_.column.depth===b.depth;let C,N=!1;if(T&&_.column.parent?C=_.column.parent:(C=_.column,N=!0),E&&E?.column===C)E.subHeaders.push(_);else{const R=b_(n,C,{id:[r,x,C.id,_?.id].filter(Boolean).join("_"),isPlaceholder:N,placeholderId:N?`${y.filter(P=>P.column===C).length}`:void 0,depth:x,index:y.length});R.subHeaders.push(_),y.push(R)}b.headers.push(_),_.headerGroup=b}),h.push(b),x>0&&d(y,x-1)},p=t.map((v,x)=>b_(n,v,{depth:o,index:x}));d(p,o-1),h.reverse();const g=v=>v.filter(b=>b.column.getIsVisible()).map(b=>{let y=0,_=0,E=[0];b.subHeaders&&b.subHeaders.length?(E=[],g(b.subHeaders).forEach(C=>{let{colSpan:N,rowSpan:R}=C;y+=N,E.push(R)})):y=1;const T=Math.min(...E);return _=_+T,b.colSpan=y,b.rowSpan=_,{colSpan:y,rowSpan:_}});return g((s=(i=h[0])==null?void 0:i.headers)!=null?s:[]),h}const QL=(e,t,n,r,s,i,o)=>{let c={id:t,index:r,original:n,depth:s,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:h=>{if(c._valuesCache.hasOwnProperty(h))return c._valuesCache[h];const d=e.getColumn(h);if(d!=null&&d.accessorFn)return c._valuesCache[h]=d.accessorFn(c.original,r),c._valuesCache[h]},getUniqueValues:h=>{if(c._uniqueValuesCache.hasOwnProperty(h))return c._uniqueValuesCache[h];const d=e.getColumn(h);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(c._uniqueValuesCache[h]=d.columnDef.getUniqueValues(c.original,r),c._uniqueValuesCache[h]):(c._uniqueValuesCache[h]=[c.getValue(h)],c._uniqueValuesCache[h])},renderValue:h=>{var d;return(d=c.getValue(h))!=null?d:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>XL(c.subRows,h=>h.subRows),getParentRow:()=>c.parentId?e.getRow(c.parentId,!0):void 0,getParentRows:()=>{let h=[],d=c;for(;;){const p=d.getParentRow();if(!p)break;h.push(p),d=p}return h.reverse()},getAllCells:dt(()=>[e.getAllLeafColumns()],h=>h.map(d=>YL(e,c,d,d.id)),ht(e.options,"debugRows")),_getAllCellsByColumnId:dt(()=>[c.getAllCells()],h=>h.reduce((d,p)=>(d[p.column.id]=p,d),{}),ht(e.options,"debugRows"))};for(let h=0;h<e._features.length;h++){const d=e._features[h];d==null||d.createRow==null||d.createRow(c,e)}return c},eF={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},KE=(e,t,n)=>{var r,s;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(i))};KE.autoRemove=e=>As(e);const XE=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};XE.autoRemove=e=>As(e);const YE=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};YE.autoRemove=e=>As(e);const JE=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};JE.autoRemove=e=>As(e);const ZE=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});ZE.autoRemove=e=>As(e)||!(e!=null&&e.length);const QE=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});QE.autoRemove=e=>As(e)||!(e!=null&&e.length);const eT=(e,t,n)=>e.getValue(t)===n;eT.autoRemove=e=>As(e);const tT=(e,t,n)=>e.getValue(t)==n;tT.autoRemove=e=>As(e);const Ax=(e,t,n)=>{let[r,s]=n;const i=e.getValue(t);return i>=r&&i<=s};Ax.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(s)?1/0:s;if(i>o){const c=i;i=o,o=c}return[i,o]};Ax.autoRemove=e=>As(e)||As(e[0])&&As(e[1]);const hi={includesString:KE,includesStringSensitive:XE,equalsString:YE,arrIncludes:JE,arrIncludesAll:ZE,arrIncludesSome:QE,equals:eT,weakEquals:tT,inNumberRange:Ax};function As(e){return e==null||e===""}const tF={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:qr("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);return typeof r=="string"?hi.includesString:typeof r=="number"?hi.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?hi.equals:Array.isArray(r)?hi.arrIncludes:hi.weakEquals},e.getFilterFn=()=>{var n,r;return Ah(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:hi[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),i=r?.find(p=>p.id===e.id),o=ia(n,i?i.value:void 0);if(__(s,o,e)){var c;return(c=r?.filter(p=>p.id!==e.id))!=null?c:[]}const h={id:e.id,value:o};if(i){var d;return(d=r?.map(p=>p.id===e.id?h:p))!=null?d:[]}return r!=null&&r.length?[...r,h]:[h]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var i;return(i=ia(t,s))==null?void 0:i.filter(o=>{const c=n.find(h=>h.id===o.id);if(c){const h=c.getFilterFn();if(__(h,o.value,c))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function __(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const nF=(e,t,n)=>n.reduce((r,s)=>{const i=s.getValue(e);return r+(typeof i=="number"?i:0)},0),rF=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},sF=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},iF=(e,t,n)=>{let r,s;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)))}),[r,s]},aF=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let i=s.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},oF=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!KL(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((i,o)=>i-o);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},lF=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),cF=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,uF=(e,t)=>t.length,Em={sum:nF,min:rF,max:sF,extent:iF,mean:aF,median:oF,unique:lF,uniqueCount:cF,count:uF},fF={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:qr("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);if(typeof r=="number")return Em.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Em.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Ah(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Em[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function dF(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(o=>o.id===i)).filter(Boolean),...r]}const hF={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:qr("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=dt(n=>[zc(t,n)],n=>n.findIndex(r=>r.id===e.id),ht(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=zc(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=zc(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=dt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let i=[];if(!(t!=null&&t.length))i=s;else{const o=[...t],c=[...s];for(;c.length&&o.length;){const h=o.shift(),d=c.findIndex(p=>p.id===h);d>-1&&i.push(c.splice(d,1)[0])}i=[...i,...c]}return dF(i,n,r)},ht(e.options,"debugTable"))}},Tm=()=>({left:[],right:[]}),pF={getInitialState:e=>({columnPinning:Tm(),...e}),getDefaultOptions:e=>({onColumnPinningChange:qr("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var i,o;if(n==="right"){var c,h;return{left:((c=s?.left)!=null?c:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((h=s?.right)!=null?h:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(n==="left"){var d,p;return{left:[...((d=s?.left)!=null?d:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((p=s?.right)!=null?p:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((i=s?.left)!=null?i:[]).filter(g=>!(r!=null&&r.includes(g))),right:((o=s?.right)!=null?o:[]).filter(g=>!(r!=null&&r.includes(g)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,i,o;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((i=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(c=>c.id),{left:r,right:s}=t.getState().columnPinning,i=n.some(c=>r?.includes(c)),o=n.some(c=>s?.includes(c));return i?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=dt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const i=[...r??[],...s??[]];return n.filter(o=>!i.includes(o.column.id))},ht(t.options,"debugRows")),e.getLeftVisibleCells=dt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),ht(t.options,"debugRows")),e.getRightVisibleCells=dt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),ht(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Tm():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Tm())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,i;return!!((s=r.left)!=null&&s.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=dt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),ht(e.options,"debugColumns")),e.getRightLeafColumns=dt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),ht(e.options,"debugColumns")),e.getCenterLeafColumns=dt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(i=>!s.includes(i.id))},ht(e.options,"debugColumns"))}};function mF(e){return e||(typeof document<"u"?document:null)}const rd={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Cm=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),gF={getDefaultColumnDef:()=>rd,getInitialState:e=>({columnSizing:{},columnSizingInfo:Cm(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:qr("columnSizing",e),onColumnSizingInfoChange:qr("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:rd.minSize,(r=i??e.columnDef.size)!=null?r:rd.size),(s=e.columnDef.maxSize)!=null?s:rd.maxSize)},e.getStart=dt(n=>[n,zc(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,i)=>s+i.getSize(),0),ht(t.options,"debugColumns")),e.getAfter=dt(n=>[n,zc(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,i)=>s+i.getSize(),0),ht(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var i;n+=(i=s.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r?.getCanResize();return i=>{if(!r||!s||(i.persist==null||i.persist(),Nm(i)&&i.touches&&i.touches.length>1))return;const o=e.getSize(),c=e?e.getLeafHeaders().map(E=>[E.column.id,E.column.getSize()]):[[r.id,r.getSize()]],h=Nm(i)?Math.round(i.touches[0].clientX):i.clientX,d={},p=(E,T)=>{typeof T=="number"&&(t.setColumnSizingInfo(C=>{var N,R;const P=t.options.columnResizeDirection==="rtl"?-1:1,j=(T-((N=C?.startOffset)!=null?N:0))*P,O=Math.max(j/((R=C?.startSize)!=null?R:0),-.999999);return C.columnSizingStart.forEach(D=>{let[Y,Z]=D;d[Y]=Math.round(Math.max(Z+Z*O,0)*100)/100}),{...C,deltaOffset:j,deltaPercentage:O}}),(t.options.columnResizeMode==="onChange"||E==="end")&&t.setColumnSizing(C=>({...C,...d})))},g=E=>p("move",E),v=E=>{p("end",E),t.setColumnSizingInfo(T=>({...T,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},x=mF(n),b={moveHandler:E=>g(E.clientX),upHandler:E=>{x?.removeEventListener("mousemove",b.moveHandler),x?.removeEventListener("mouseup",b.upHandler),v(E.clientX)}},y={moveHandler:E=>(E.cancelable&&(E.preventDefault(),E.stopPropagation()),g(E.touches[0].clientX),!1),upHandler:E=>{var T;x?.removeEventListener("touchmove",y.moveHandler),x?.removeEventListener("touchend",y.upHandler),E.cancelable&&(E.preventDefault(),E.stopPropagation()),v((T=E.touches[0])==null?void 0:T.clientX)}},_=xF()?{passive:!1}:!1;Nm(i)?(x?.addEventListener("touchmove",y.moveHandler,_),x?.addEventListener("touchend",y.upHandler,_)):(x?.addEventListener("mousemove",b.moveHandler,_),x?.addEventListener("mouseup",b.upHandler,_)),t.setColumnSizingInfo(E=>({...E,startOffset:h,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:c,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Cm():(n=e.initialState.columnSizingInfo)!=null?n:Cm())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let sd=null;function xF(){if(typeof sd=="boolean")return sd;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return sd=e,sd}function Nm(e){return e.type==="touchstart"}const vF={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:qr("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=dt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),ht(t.options,"debugRows")),e.getVisibleCells=dt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],ht(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>dt(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),ht(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,i)=>({...s,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function zc(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const yF={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},wF={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:qr("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>hi.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Ah(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:hi[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},bF={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:qr("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,i;e.setExpanded(r?{}:(s=(i=e.initialState)==null?void 0:i.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const o=i.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const i=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(c=>{o[c]=!0}):o=r,n=(s=n)!=null?s:!i,!i&&n)return{...o,[e.id]:!0};if(i&&!n){const{[e.id]:c,...h}=o;return h}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r?.[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Ag=0,jg=10,km=()=>({pageIndex:Ag,pageSize:jg}),_F={getInitialState:e=>({...e,pagination:{...km(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:qr("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=i=>ia(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?km():(s=e.initialState.pagination)!=null?s:km())},e.setPageIndex=r=>{e.setPagination(s=>{let i=ia(r,s.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...s,pageIndex:i}})},e.resetPageIndex=r=>{var s,i;e.setPageIndex(r?Ag:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?s:Ag)},e.resetPageSize=r=>{var s,i;e.setPageSize(r?jg:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?s:jg)},e.setPageSize=r=>{e.setPagination(s=>{const i=Math.max(1,ia(r,s.pageSize)),o=s.pageSize*s.pageIndex,c=Math.floor(o/i);return{...s,pageIndex:c,pageSize:i}})},e.setPageCount=r=>e.setPagination(s=>{var i;let o=ia(r,(i=e.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...s,pageCount:o}}),e.getPageOptions=dt(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((i,o)=>o)),s},ht(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Am=()=>({top:[],bottom:[]}),SF={getInitialState:e=>({rowPinning:Am(),...e}),getDefaultOptions:e=>({onRowPinningChange:qr("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const i=r?e.getLeafRows().map(h=>{let{id:d}=h;return d}):[],o=s?e.getParentRows().map(h=>{let{id:d}=h;return d}):[],c=new Set([...o,e.id,...i]);t.setRowPinning(h=>{var d,p;if(n==="bottom"){var g,v;return{top:((g=h?.top)!=null?g:[]).filter(y=>!(c!=null&&c.has(y))),bottom:[...((v=h?.bottom)!=null?v:[]).filter(y=>!(c!=null&&c.has(y))),...Array.from(c)]}}if(n==="top"){var x,b;return{top:[...((x=h?.top)!=null?x:[]).filter(y=>!(c!=null&&c.has(y))),...Array.from(c)],bottom:((b=h?.bottom)!=null?b:[]).filter(y=>!(c!=null&&c.has(y)))}}return{top:((d=h?.top)!=null?d:[]).filter(y=>!(c!=null&&c.has(y))),bottom:((p=h?.bottom)!=null?p:[]).filter(y=>!(c!=null&&c.has(y)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,i=n.some(c=>r?.includes(c)),o=n.some(c=>s?.includes(c));return i?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const i=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:c}=o;return c});return(r=i?.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Am():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Am())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,i;return!!((s=r.top)!=null&&s.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(o=>{const c=e.getRow(o,!0);return c.getIsAllParentsExpanded()?c:null}):(n??[]).map(o=>t.find(c=>c.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=dt(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),ht(e.options,"debugRows")),e.getBottomRows=dt(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),ht(e.options,"debugRows")),e.getCenterRows=dt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(i=>!s.has(i.id))},ht(e.options,"debugRows"))}},EF={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:qr("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):s.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(i=>{Rg(s,i.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=dt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?jm(e,n):{rows:[],flatRows:[],rowsById:{}},ht(e.options,"debugTable")),e.getFilteredSelectedRowModel=dt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?jm(e,n):{rows:[],flatRows:[],rowsById:{}},ht(e.options,"debugTable")),e.getGroupedSelectedRowModel=dt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?jm(e,n):{rows:[],flatRows:[],rowsById:{}},ht(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(i=>{var o;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return i;const c={...i};return Rg(c,e.id,n,(o=r?.selectChildren)!=null?o:!0,t),c})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return jx(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Og(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Og(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},Rg=(e,t,n,r,s)=>{var i;const o=s.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(c=>delete e[c]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(c=>Rg(e,c.id,n,r,s))};function jm(e,t){const n=e.getState().rowSelection,r=[],s={},i=function(o,c){return o.map(h=>{var d;const p=jx(h,n);if(p&&(r.push(h),s[h.id]=h),(d=h.subRows)!=null&&d.length&&(h={...h,subRows:i(h.subRows)}),p)return h}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:s}}function jx(e,t){var n;return(n=t[e.id])!=null?n:!1}function Og(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,i=!1;return e.subRows.forEach(o=>{if(!(i&&!s)&&(o.getCanSelect()&&(jx(o,t)?i=!0:s=!1),o.subRows&&o.subRows.length)){const c=Og(o,t);c==="all"?i=!0:(c==="some"&&(i=!0),s=!1)}}),s?"all":i?"some":!1}const Mg=/([0-9]+)/gm,TF=(e,t,n)=>nT(ua(e.getValue(n)).toLowerCase(),ua(t.getValue(n)).toLowerCase()),CF=(e,t,n)=>nT(ua(e.getValue(n)),ua(t.getValue(n))),NF=(e,t,n)=>Rx(ua(e.getValue(n)).toLowerCase(),ua(t.getValue(n)).toLowerCase()),kF=(e,t,n)=>Rx(ua(e.getValue(n)),ua(t.getValue(n))),AF=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},jF=(e,t,n)=>Rx(e.getValue(n),t.getValue(n));function Rx(e,t){return e===t?0:e>t?1:-1}function ua(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function nT(e,t){const n=e.split(Mg).filter(Boolean),r=t.split(Mg).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),i=r.shift(),o=parseInt(s,10),c=parseInt(i,10),h=[o,c].sort();if(isNaN(h[0])){if(s>i)return 1;if(i>s)return-1;continue}if(isNaN(h[1]))return isNaN(o)?-1:1;if(o>c)return 1;if(c>o)return-1}return n.length-r.length}const kc={alphanumeric:TF,alphanumericCaseSensitive:CF,text:NF,textCaseSensitive:kF,datetime:AF,basic:jF},RF={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:qr("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const i=s?.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return kc.datetime;if(typeof i=="string"&&(r=!0,i.split(Mg).length>1))return kc.alphanumeric}return r?kc.text:kc.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof n?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Ah(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:kc[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(o=>{const c=o?.find(x=>x.id===e.id),h=o?.findIndex(x=>x.id===e.id);let d=[],p,g=i?n:s==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?c?p="toggle":p="add":o!=null&&o.length&&h!==o.length-1?p="replace":c?p="toggle":p="replace",p==="toggle"&&(i||s||(p="remove")),p==="add"){var v;d=[...o,{id:e.id,desc:g}],d.splice(0,d.length-((v=t.options.maxMultiSortColCount)!=null?v:Number.MAX_SAFE_INTEGER))}else p==="toggle"?d=o.map(x=>x.id===e.id?{...x,desc:g}:x):p==="remove"?d=o.filter(x=>x.id!==e.id):d=[{id:e.id,desc:g}];return d})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const i=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:o==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},OF=[ZL,vF,hF,pF,eF,tF,yF,wF,RF,fF,bF,_F,SF,EF,gF];function MF(e){var t,n;const r=[...OF,...(t=e._features)!=null?t:[]];let s={_features:r};const i=s._features.reduce((v,x)=>Object.assign(v,x.getDefaultOptions==null?void 0:x.getDefaultOptions(s)),{}),o=v=>s.options.mergeOptions?s.options.mergeOptions(i,v):{...i,...v};let h={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(v=>{var x;h=(x=v.getInitialState==null?void 0:v.getInitialState(h))!=null?x:h});const d=[];let p=!1;const g={_features:r,options:{...i,...e},initialState:h,_queue:v=>{d.push(v),p||(p=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();p=!1}).catch(x=>setTimeout(()=>{throw x})))},reset:()=>{s.setState(s.initialState)},setOptions:v=>{const x=ia(v,s.options);s.options=o(x)},getState:()=>s.options.state,setState:v=>{s.options.onStateChange==null||s.options.onStateChange(v)},_getRowId:(v,x,b)=>{var y;return(y=s.options.getRowId==null?void 0:s.options.getRowId(v,x,b))!=null?y:`${b?[b.id,x].join("."):x}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(v,x)=>{let b=(x?s.getPrePaginationRowModel():s.getRowModel()).rowsById[v];if(!b&&(b=s.getCoreRowModel().rowsById[v],!b))throw new Error;return b},_getDefaultColumnDef:dt(()=>[s.options.defaultColumn],v=>{var x;return v=(x=v)!=null?x:{},{header:b=>{const y=b.header.column.columnDef;return y.accessorKey?y.accessorKey:y.accessorFn?y.id:null},cell:b=>{var y,_;return(y=(_=b.renderValue())==null||_.toString==null?void 0:_.toString())!=null?y:null},...s._features.reduce((b,y)=>Object.assign(b,y.getDefaultColumnDef==null?void 0:y.getDefaultColumnDef()),{}),...v}},ht(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:dt(()=>[s._getColumnDefs()],v=>{const x=function(b,y,_){return _===void 0&&(_=0),b.map(E=>{const T=JL(s,E,_,y),C=E;return T.columns=C.columns?x(C.columns,T,_+1):[],T})};return x(v)},ht(e,"debugColumns")),getAllFlatColumns:dt(()=>[s.getAllColumns()],v=>v.flatMap(x=>x.getFlatColumns()),ht(e,"debugColumns")),_getAllFlatColumnsById:dt(()=>[s.getAllFlatColumns()],v=>v.reduce((x,b)=>(x[b.id]=b,x),{}),ht(e,"debugColumns")),getAllLeafColumns:dt(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(v,x)=>{let b=v.flatMap(y=>y.getLeafColumns());return x(b)},ht(e,"debugColumns")),getColumn:v=>s._getAllFlatColumnsById()[v]};Object.assign(s,g);for(let v=0;v<s._features.length;v++){const x=s._features[v];x==null||x.createTable==null||x.createTable(s)}return s}function DF(){return e=>dt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,i,o){i===void 0&&(i=0);const c=[];for(let d=0;d<s.length;d++){const p=QL(e,e._getRowId(s[d],d,o),s[d],d,i,void 0,o?.id);if(n.flatRows.push(p),n.rowsById[p.id]=p,c.push(p),e.options.getSubRows){var h;p.originalSubRows=e.options.getSubRows(s[d],d),(h=p.originalSubRows)!=null&&h.length&&(p.subRows=r(p.originalSubRows,i+1,p))}}return c};return n.rows=r(t),n},ht(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function IF(){return e=>dt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],i=r.filter(h=>{var d;return(d=e.getColumn(h.id))==null?void 0:d.getCanSort()}),o={};i.forEach(h=>{const d=e.getColumn(h.id);d&&(o[h.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const c=h=>{const d=h.map(p=>({...p}));return d.sort((p,g)=>{for(let x=0;x<i.length;x+=1){var v;const b=i[x],y=o[b.id],_=y.sortUndefined,E=(v=b?.desc)!=null?v:!1;let T=0;if(_){const C=p.getValue(b.id),N=g.getValue(b.id),R=C===void 0,P=N===void 0;if(R||P){if(_==="first")return R?-1:1;if(_==="last")return R?1:-1;T=R&&P?0:R?_:-_}}if(T===0&&(T=y.sortingFn(p,g,b.id)),T!==0)return E&&(T*=-1),y.invertSorting&&(T*=-1),T}return p.index-g.index}),d.forEach(p=>{var g;s.push(p),(g=p.subRows)!=null&&g.length&&(p.subRows=c(p.subRows))}),d};return{rows:c(n.rows),flatRows:s,rowsById:n.rowsById}},ht(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function S_(e,t){return e?LF(e)?q.createElement(e,t):e:null}function LF(e){return FF(e)||typeof e=="function"||PF(e)}function FF(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function PF(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function zF(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=q.useState(()=>({current:MF(t)})),[r,s]=q.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:o=>{s(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}const sr=ke.forwardRef(({className:e,label:t,indeterminate:n,checked:r,id:s,...i},o)=>{const c=s||`checkbox-${Math.random().toString(36).substr(2,9)}`,h=ke.useRef(null);return ke.useImperativeHandle(o,()=>h.current),ke.useEffect(()=>{h.current&&(h.current.indeterminate=n||!1)},[n]),u.jsxs("div",{className:"inline-flex items-center",children:[u.jsxs("div",{className:"relative inline-flex items-center",children:[u.jsx("input",{ref:h,type:"checkbox",id:c,checked:r,className:cs("peer h-4 w-4 cursor-pointer appearance-none","border-1.5 border-gray-300 rounded-[3px]","bg-white transition-all duration-fast","hover:border-blue-500","checked:bg-blue-500 checked:border-blue-500","focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",e),...i}),(r||n)&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:n?u.jsx("div",{className:"w-2 h-0.5 bg-white rounded"}):u.jsx(Ex,{className:"w-3 h-3 text-white",strokeWidth:3})})]}),t&&u.jsx("label",{htmlFor:c,className:"ml-2 text-sm text-gray-700 cursor-pointer select-none",children:t})]})});sr.displayName="Checkbox";const La=WL(),Rm=(e,t,n)=>n===t?"transparent":`rgba(34, 197, 94, ${.15+(e-t)/(n-t)*.35})`,BF=({x:e,y:t,columnId:n,onClose:r})=>{const{setColumnVisibility:s,columnVisibility:i}=pt(),o=ke.useRef(null);ke.useEffect(()=>{const d=p=>{o.current&&!o.current.contains(p.target)&&r()};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[r]);const c=()=>{s({...i,[n]:!1}),r()},h=()=>{r()};return u.jsxs("div",{ref:o,className:"fixed bg-white border border-gray-300 rounded-lg shadow-lg z-50 py-1 min-w-[160px]",style:{top:t,left:e},children:[u.jsxs("button",{onClick:c,className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center gap-2",children:[u.jsx(DD,{className:"w-4 h-4"})," "]}),u.jsxs("button",{onClick:h,className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center gap-2",children:[u.jsx(sI,{className:"w-4 h-4"}),"-"]})]})},UF=({phrase:e,isSelected:t,isEven:n,children:r,onContextMenu:s})=>{const{phraseColors:i,groupColors:o,pinnedPhraseIds:c,markedPhraseIds:h}=pt(),{attributes:d,listeners:p,setNodeRef:g,isDragging:v}=vE({id:e.id,data:{type:"phrase",phrase:e}}),x=c.has(e.id),b=h.has(e.id),y=i[e.id],_=e.groupId?o[e.groupId]:void 0,E=y||_;return u.jsx("tr",{ref:g,...d,...p,onContextMenu:s,className:cs("h-9 border-b border-gray-200 transition-colors",v&&"opacity-50 bg-blue-200",b&&!E&&!x&&"bg-amber-50 border-amber-200",E&&`bg-${E}-100`,x&&!E&&"bg-blue-50 border-blue-200",t&&!E&&!x&&!b&&"bg-blue-100 border-blue-200",!t&&!E&&!x&&!b&&n&&"bg-white",!t&&!E&&!x&&!b&&!n&&"bg-gray-50",!t&&!E&&!x&&!b&&"hover:bg-blue-50",e.locked&&"opacity-60"),children:r})},$F=({x:e,y:t,phrase:n,onClose:r,onShowHistory:s})=>{const{groups:i,editPhrase:o,markPhraseColor:c,toggleRowLock:h,deletePhrases:d,movePhrasesToGroup:p,addStopword:g,addLog:v,togglePinPhrase:x,toggleMarkPhrase:b}=pt(),y=ke.useRef(null);ke.useEffect(()=>{const P=j=>{y.current&&!y.current.contains(j.target)&&r()};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[r]);const _=()=>{navigator.clipboard.writeText(n.text),v("info",`  : "${n.text}"`),r()},E=()=>{const P=prompt(" :",n.text);P&&P.trim()&&o(n.id,P.trim()),r()},T=()=>{confirm(`  "${n.text}"?`)&&d([n.id]),r()},C=P=>{c(n.id,P),r()},N=P=>{p([n.id],P),r()},R=()=>{const P=n.text.split(" ");P.forEach(j=>{g({id:Date.now().toString()+Math.random(),text:j,matchType:"partial",useMorphology:!1,category:""})}),v("success",`  -: ${P.length} `),r()};return u.jsxs("div",{ref:y,className:"fixed bg-white border border-gray-300 rounded shadow-lg py-1 z-50 min-w-[220px]",style:{left:e,top:t},children:[u.jsx("button",{onClick:_,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:"  "}),u.jsx("button",{onClick:E,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:""}),u.jsx("div",{className:"border-t my-1"}),u.jsxs("div",{className:"relative group/move",children:[u.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:"   "}),u.jsx("div",{className:"hidden group-hover/move:block absolute left-full top-0 bg-white border border-gray-300 rounded shadow-lg py-1 min-w-[150px] ml-1",children:i.length===0?u.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:" "}):i.map(P=>u.jsx("button",{onClick:()=>N(P.id),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:P.name},P.id))})]}),u.jsxs("div",{className:"relative group/color",children:[u.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:" "}),u.jsxs("div",{className:"hidden group-hover/color:block absolute left-full top-0 bg-white border border-gray-300 rounded shadow-lg py-1 min-w-[120px] ml-1",children:[u.jsxs("button",{onClick:()=>C("red"),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 rounded bg-red-500"})," "]}),u.jsxs("button",{onClick:()=>C("yellow"),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 rounded bg-yellow-500"})," "]}),u.jsxs("button",{onClick:()=>C("green"),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 rounded bg-green-500"})," "]}),u.jsxs("button",{onClick:()=>C("blue"),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 rounded bg-blue-500"})," "]}),u.jsx("button",{onClick:()=>C(""),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:""})]})]}),u.jsx("div",{className:"border-t my-1"}),u.jsx("button",{onClick:()=>{h(n.id),r()},className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:n.locked?"":""}),u.jsx("button",{onClick:()=>{x(n.id),r()},className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:" "}),u.jsx("button",{onClick:()=>{b(n.id),r()},className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:pt.getState().markedPhraseIds.has(n.id)?" ":" "}),u.jsx("button",{onClick:R,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:"  -"}),s&&u.jsx("button",{onClick:()=>{s(n.id),r()},className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:" "}),u.jsx("div",{className:"border-t my-1"}),u.jsx("button",{onClick:T,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm text-red-600",children:""})]})},HF=({onShowHistory:e})=>{const{phrases:t,selectedPhraseIds:n,selectedGroupId:r,activeGroupIds:s,filters:i,columnVisibility:o,columnOrder:c,columnPinning:h,pinnedPhraseIds:d,markedPhraseIds:p,searchMasks:g,selectPhrase:v,selectAll:x,deselectAll:b,updatePhrase:y,setColumnOrder:_,setColumnPinning:E,toggleMarkPhrase:T}=pt(),[C,N]=ke.useState([]),[R,P]=ke.useState(null),[j,O]=ke.useState(""),[D,Y]=ke.useState(null),[Z,z]=ke.useState(null),re=ke.useMemo(()=>{let oe=t;return s.size>0?oe=oe.filter(M=>M.groupId&&s.has(M.groupId)):r&&(oe=oe.filter(M=>M.groupId===r)),i.wsMin!==void 0&&(oe=oe.filter(M=>M.ws>=i.wsMin)),i.wsMax!==void 0&&(oe=oe.filter(M=>M.ws<=i.wsMax)),i.qwsMin!==void 0&&(oe=oe.filter(M=>M.qws>=i.qwsMin)),i.qwsMax!==void 0&&(oe=oe.filter(M=>M.qws<=i.qwsMax)),i.bwsMin!==void 0&&(oe=oe.filter(M=>M.bws>=i.bwsMin)),i.bwsMax!==void 0&&(oe=oe.filter(M=>M.bws<=i.bwsMax)),i.lengthMin!==void 0&&(oe=oe.filter(M=>M.text.length>=i.lengthMin)),i.lengthMax!==void 0&&(oe=oe.filter(M=>M.text.length<=i.lengthMax)),i.wordCountMin!==void 0&&(oe=oe.filter(M=>M.text.split(/\s+/).length>=i.wordCountMin)),i.wordCountMax!==void 0&&(oe=oe.filter(M=>M.text.split(/\s+/).length<=i.wordCountMax)),i.contains&&(oe=oe.filter(M=>M.text.toLowerCase().includes(i.contains.toLowerCase()))),i.notContains&&(oe=oe.filter(M=>!M.text.toLowerCase().includes(i.notContains.toLowerCase()))),i.startsWith&&(oe=oe.filter(M=>M.text.toLowerCase().startsWith(i.startsWith.toLowerCase()))),i.endsWith&&(oe=oe.filter(M=>M.text.toLowerCase().endsWith(i.endsWith.toLowerCase()))),i.showOnlyHighFreq&&(oe=oe.filter(M=>M.ws>1e3)),i.showOnlyLowFreq&&(oe=oe.filter(M=>M.ws<100&&M.ws>0)),i.showOnlyZeroFreq&&(oe=oe.filter(M=>M.ws===0)),i.showOnlyWithStopwords&&(oe=oe.filter(M=>M.hasStopword===!0)),i.showOnlySelected&&(oe=oe.filter(M=>n.has(M.id))),oe.sort((M,A)=>d.has(M.id)&&!d.has(A.id)?-1:!d.has(M.id)&&d.has(A.id)?1:0),oe},[t,r,s,i,n,d]),k=(oe,M)=>{if(M.ctrlKey&&!M.altKey&&g[0]){const A=g[0].url.replace("{QUERY}",encodeURIComponent(oe.text));window.open(A,"_blank")}else if(M.ctrlKey&&M.altKey&&g[1]){const A=g[1].url.replace("{QUERY}",encodeURIComponent(oe.text));window.open(A,"_blank")}},K=ke.useMemo(()=>{const oe=[La.display({id:"select",size:60,header:({table:M})=>{const A=re.length>0&&re.every(F=>n.has(F.id)),U=re.some(F=>n.has(F.id));return u.jsx(sr,{checked:A,indeterminate:!A&&U,onChange:()=>A?b():x()})},cell:({row:M})=>u.jsxs("div",{className:"flex items-center gap-1",children:[d.has(M.original.id)&&u.jsx(uI,{className:"w-3 h-3 text-blue-500 fill-blue-500"}),M.original.locked&&u.jsx(nI,{className:"w-3 h-3 text-gray-500"}),u.jsx(sr,{checked:n.has(M.original.id),onChange:()=>v(M.original.id)})]})}),La.display({id:"index",size:50,header:"",cell:({row:M})=>u.jsx("span",{className:"text-gray-500",children:M.index+1})})];if(o.phrase!==!1&&oe.push(La.accessor("text",{header:"",size:400,cell:({row:M})=>R===M.original.id?u.jsx("input",{type:"text",value:j,onChange:U=>O(U.target.value),onBlur:()=>{j.trim()&&y(M.original.id,{text:j.trim()}),P(null)},onKeyDown:U=>{U.key==="Enter"?(j.trim()&&y(M.original.id,{text:j.trim()}),P(null)):U.key==="Escape"&&P(null)},autoFocus:!0,className:"w-full px-2 py-1 text-sm border border-blue-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-300"}):u.jsx("span",{onDoubleClick:()=>{P(M.original.id),O(M.original.text)},onClick:U=>k(M.original,U),className:"cursor-text",title:"Ctrl+ - Google | Ctrl+Alt+ - Yandex",children:M.original.text})})),o.ws!==!1){const M=re.map(F=>F.ws).filter(F=>F>0),A=M.length>0?Math.min(...M):0,U=M.length>0?Math.max(...M):0;oe.push(La.accessor("ws",{header:"ws",size:80,cell:({getValue:F})=>{const B=F(),ue=B>0?Rm(B,A,U):"transparent";return u.jsx("span",{className:"text-gray-600 font-medium px-2 py-1 rounded block",style:{backgroundColor:ue},children:B>0?B.toLocaleString("ru-RU"):"-"})}}))}if(o.qws!==!1){const M=re.map(F=>F.qws).filter(F=>F>0),A=M.length>0?Math.min(...M):0,U=M.length>0?Math.max(...M):0;oe.push(La.accessor("qws",{header:"qws",size:80,cell:({getValue:F})=>{const B=F(),ue=B>0?Rm(B,A,U):"transparent";return u.jsx("span",{className:"text-gray-600 font-medium px-2 py-1 rounded block",style:{backgroundColor:ue},children:B>0?B.toLocaleString("ru-RU"):"-"})}}))}if(o.bws!==!1){const M=re.map(F=>F.bws).filter(F=>F>0),A=M.length>0?Math.min(...M):0,U=M.length>0?Math.max(...M):0;oe.push(La.accessor("bws",{header:"bws",size:80,cell:({getValue:F})=>{const B=F(),ue=B>0?Rm(B,A,U):"transparent";return u.jsx("span",{className:"text-gray-600 font-medium px-2 py-1 rounded block",style:{backgroundColor:ue},children:B>0?B.toLocaleString("ru-RU"):"-"})}}))}return o.status!==!1&&oe.push(La.accessor("status",{header:"",size:80,cell:({getValue:M})=>{const A=M();return u.jsxs("div",{className:"flex items-center justify-center",children:[(A==="done"||A==="success")&&u.jsx(Sg,{className:"w-4 h-4 text-success-500"}),A==="pending"&&u.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300"}),A==="error"&&u.jsx("div",{className:"w-2 h-2 rounded-full bg-error-500"})]})}})),oe},[re,n,R,j,o,d,v,x,b,y]),X=zF({data:re,columns:K,state:{sorting:C,columnOrder:c,columnPinning:h},onSortingChange:N,onColumnOrderChange:_,onColumnPinningChange:E,getCoreRowModel:DF(),getSortedRowModel:IF(),enableMultiSort:!0,maxMultiSortColCount:3}),H=(oe,M)=>{oe.preventDefault(),Y({x:oe.clientX,y:oe.clientY,phrase:M})},ne=(oe,M)=>{oe.preventDefault(),oe.stopPropagation(),z({x:oe.clientX,y:oe.clientY,columnId:M})},se=ke.useMemo(()=>{const oe=re.map(B=>B.ws).filter(B=>B>0),M=oe.reduce((B,ue)=>B+ue,0),A=oe.length>0?Math.round(M/oe.length):0,U=oe.length>0?Math.max(...oe):0,F=oe.length>0?Math.min(...oe):0;return{sum:M,avg:A,max:U,min:F,count:re.length}},[re]);return re.length===0?u.jsx("div",{className:"flex-1 bg-white flex items-center justify-center",children:u.jsxs("div",{className:"text-center text-gray-500",children:[u.jsx("p",{className:"text-base mb-2",children:"   "}),u.jsx("p",{className:"text-sm",children:r||s.size>0?"    ":Object.keys(i).length>0?"     ":'    ""   '})]})}):u.jsxs("div",{className:"flex-1 bg-white overflow-auto flex flex-col",children:[u.jsx("div",{className:"flex-1 overflow-auto",children:u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:X.getHeaderGroups().map(oe=>u.jsx("tr",{className:"border-b-2 border-gray-300",children:oe.headers.map(M=>u.jsx("th",{style:{width:M.getSize()},className:cs("h-10 px-3 text-left text-sm font-medium text-gray-700",M.column.getCanSort()&&"cursor-pointer select-none hover:bg-gray-200"),onClick:M.column.getToggleSortingHandler(),onContextMenu:A=>ne(A,M.column.id),children:u.jsxs("div",{className:"flex items-center gap-2",children:[S_(M.column.columnDef.header,M.getContext()),M.column.getIsSorted()&&u.jsx("span",{className:"text-blue-500",children:M.column.getIsSorted()==="asc"?u.jsx(hD,{className:"w-4 h-4"}):u.jsx(fD,{className:"w-4 h-4"})})]})},M.id))},oe.id))}),u.jsx("tbody",{children:X.getRowModel().rows.map((oe,M)=>{const A=n.has(oe.original.id),U=M%2===0,F=oe.original;return u.jsx(UF,{phrase:F,isSelected:A,isEven:U,onContextMenu:B=>H(B,F),children:oe.getVisibleCells().map(B=>u.jsx("td",{className:"px-3 text-sm text-gray-600",children:S_(B.column.columnDef.cell,B.getContext())},B.id))},oe.id)})})]})}),u.jsxs("div",{className:"border-t bg-gray-50 px-4 py-2 flex items-center justify-between text-sm",children:[u.jsxs("div",{children:[" : ",u.jsx("strong",{children:se.count}),n.size>0&&u.jsxs("span",{className:"text-blue-600 ml-4",children:[": ",u.jsx("strong",{children:n.size})]})]}),u.jsxs("div",{className:"flex gap-6 text-xs text-gray-600",children:[u.jsxs("div",{children:[" ws: ",u.jsx("strong",{children:se.sum.toLocaleString("ru-RU")})]}),u.jsxs("div",{children:[" ws: ",u.jsx("strong",{children:se.avg.toLocaleString("ru-RU")})]}),u.jsxs("div",{children:[" ws: ",u.jsx("strong",{children:se.max.toLocaleString("ru-RU")})]}),u.jsxs("div",{children:[" ws: ",u.jsx("strong",{children:se.min.toLocaleString("ru-RU")})]})]})]}),D&&u.jsx($F,{x:D.x,y:D.y,phrase:D.phrase,onClose:()=>Y(null),onShowHistory:e}),Z&&u.jsx(BF,{x:Z.x,y:Z.y,columnId:Z.columnId,onClose:()=>z(null)})]})},jn=({isOpen:e,onClose:t,title:n,children:r,size:s="md",footer:i})=>(ke.useEffect(()=>{const o=c=>{c.key==="Escape"&&e&&t()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e,t]),ke.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),e?u.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",onClick:o=>{o.target===o.currentTarget&&t()},children:[u.jsx("div",{className:"absolute inset-0 bg-gray-900/50 backdrop-blur-sm"}),u.jsxs("div",{className:cs("relative bg-white rounded-lg shadow-lg","flex flex-col max-h-[90vh]","animate-in fade-in-0 zoom-in-95 duration-200",s==="sm"&&"w-full max-w-md",s==="md"&&"w-full max-w-lg",s==="lg"&&"w-full max-w-2xl"),children:[n&&u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[u.jsx("h2",{className:"text-md font-semibold text-gray-800",children:n}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded hover:bg-gray-100","aria-label":"",children:u.jsx(_l,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:r}),i&&u.jsx("div",{className:"flex items-center justify-end gap-2 px-6 py-4 border-t border-gray-200",children:i})]})]}):null),Ei=ke.forwardRef(({className:e,error:t,label:n,helperText:r,id:s,...i},o)=>{const c=s||`input-${Math.random().toString(36).substr(2,9)}`;return u.jsxs("div",{className:"w-full",children:[n&&u.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700 mb-1.5",children:n}),u.jsx("input",{ref:o,id:c,className:cs("w-full h-10 px-3 py-2.5","text-sm text-gray-700 placeholder:text-gray-400","bg-white border rounded-sm","transition-all duration-fast","focus:outline-none focus:ring-2 focus:ring-blue-300 focus:border-blue-500","disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",t?"border-error-500 bg-error-100 focus:border-error-500 focus:ring-error-300":"border-gray-300 hover:border-gray-400",e),...i}),r&&u.jsx("p",{className:cs("mt-1.5 text-xs",t?"text-error-600":"text-gray-500"),children:r})]})});Ei.displayName="Input";const VF=({group:e,level:t,isSelected:n,isActive:r,count:s,hasChildren:i,onClick:o,onContextMenu:c})=>{const{attributes:h,listeners:d,setNodeRef:p,isDragging:g}=vE({id:`group-drag:${e.id}`,data:{type:"group",group:e}}),{setNodeRef:v,isOver:x}=sD({id:e.id,data:{type:"group-target",group:e}}),{groupColors:b,pinnedGroupIds:y}=pt(),_=b[e.id],E=y.has(e.id);return u.jsxs("div",{ref:T=>{p(T),v(T)},className:`
        flex items-center gap-2 px-3 py-2 cursor-pointer transition-colors
        ${g?"opacity-50 bg-blue-200":""}
        ${x?"bg-green-100 border-2 border-green-500":""}
        ${n?"bg-blue-100 border-l-4 border-blue-500":"hover:bg-gray-100"}
        ${r&&!n?"bg-blue-50 border-l-2 border-blue-400":""}
        ${e.locked?"opacity-60":""}
        ${_?`bg-${_}-50`:""}
        ${E?"border-l-4 border-yellow-400":""}
      `,style:{paddingLeft:`${t*16+12}px`},onClick:o,onContextMenu:c,...h,...d,children:[E&&u.jsx(wI,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),i?u.jsx(HD,{className:"w-4 h-4 text-blue-500"}):u.jsx(TE,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"flex-1 text-sm truncate",title:e.name,children:e.name}),e.locked&&u.jsx("span",{className:"text-xs",children:""}),_&&u.jsx("span",{className:`w-2 h-2 rounded-full bg-${_}-500`}),u.jsx("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded",children:s})]})},GF=({x:e,y:t,group:n,onClose:r})=>{const{groups:s,phrases:i,addGroup:o,updateGroup:c,deleteGroup:h,addLog:d,copyPhrasesToGroup:p,movePhrasesToGroup:g,setGroupColor:v,copyGroupStructure:x,togglePinGroup:b}=pt(),y=ke.useRef(null),[_,E]=ke.useState({});ke.useEffect(()=>{const K=X=>{y.current&&!y.current.contains(X.target)&&r()};return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[r]);const T=()=>{const K=prompt("  :",n.name);K&&K.trim()&&(c(n.id,{name:K.trim()}),d("success",` : "${K}"`)),r()},C=()=>{confirm(`  "${n.name}"?`)&&(h(n.id),d("warning",` : "${n.name}"`)),r()},N=()=>{const K=prompt(" :");K&&K.trim()&&(o(K.trim(),n.id),d("success",` : "${K}"`)),r()},R=()=>{const K=`${n.name}_`;o(K,n.parentId);const X=i.filter(H=>H.groupId===n.id);X.length>0&&setTimeout(()=>{const H=s.find(ne=>ne.name===K);H&&p(X.map(ne=>ne.id),H.id)},100),d("success",` : "${K}"`),r()},P=()=>{if(confirm(`   "${n.name}"?`)){const K=`${n.name}_`;o(K,n.parentId),setTimeout(()=>{const X=s.find(H=>H.name===K);X&&x(n.id,X.id)},100),d("success",`  : "${K}"`)}r()},j=()=>{b(n.id),r()},O=K=>{const X=s.find(H=>H.id===K);if(X){if(confirm(`  "${n.name}"  "${X.name}"?`)){const H=i.filter(ne=>ne.groupId===n.id);H.length>0&&g(H.map(ne=>ne.id),K),h(n.id),d("success",` : "${n.name}"  "${X.name}"`)}r()}},D=()=>{const K=i.filter(se=>se.groupId===n.id);if(K.length===0){alert("     ");return}const X=[",ws,qws,bws,",...K.map(se=>`"${se.text}",${se.ws},${se.qws},${se.bws},${se.status}`)].join(`
`),H=new Blob([X],{type:"text/csv;charset=utf-8;"}),ne=document.createElement("a");ne.href=URL.createObjectURL(H),ne.download=`${n.name}_${Date.now()}.csv`,ne.click(),d("success",` : "${n.name}" (${K.length} )`),r()},Y=()=>{c(n.id,{locked:!n.locked}),d("info",` ${n.locked?"":""}: "${n.name}"`),r()},Z=K=>{v(n.id,K),d("info",`  : "${n.name}"`),r()},z=()=>{const K=prompt("  :",n.comment||"");K!==null&&(c(n.id,{comment:K}),d("info",` ${K?"":""}: "${n.name}"`)),r()},re=()=>{const K=i.filter(oe=>oe.groupId===n.id),X=K.reduce((oe,M)=>oe+M.ws,0),H=K.length>0?Math.round(X/K.length):0,ne=K.length>0?Math.max(...K.map(oe=>oe.ws)):0,se=`
  "${n.name}":

 : ${K.length}
  (ws): ${X.toLocaleString("ru-RU")}
 : ${H.toLocaleString("ru-RU")}
 : ${ne.toLocaleString("ru-RU")}
    `.trim();alert(se),r()},k=s.filter(K=>K.id!==n.id);return u.jsxs("div",{ref:y,className:"fixed bg-white border border-gray-300 rounded shadow-lg py-1 z-50 min-w-[220px]",style:{left:e,top:t},onClick:K=>K.stopPropagation(),children:[u.jsx("button",{onClick:N,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:" "}),u.jsx("button",{onClick:T,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:""}),u.jsx("button",{onClick:C,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm text-red-600",children:""}),u.jsx("div",{className:"border-t my-1"}),u.jsx("button",{onClick:R,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:" "}),u.jsx("button",{onClick:P,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:" "}),u.jsx("button",{onClick:j,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:n.id&&pt.getState().pinnedGroupIds.has(n.id)?" ":" "}),u.jsxs("div",{className:"relative group/merge",children:[u.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",onMouseEnter:()=>E({..._,merge:!0}),children:" ... "}),_.merge&&k.length>0&&u.jsx("div",{className:"absolute left-full top-0 bg-white border border-gray-300 rounded shadow-lg py-1 min-w-[180px] ml-1",onMouseLeave:()=>E({..._,merge:!1}),children:k.map(K=>u.jsx("button",{onClick:()=>O(K.id),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:K.name},K.id))})]}),u.jsx("button",{onClick:D,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:" "}),u.jsx("div",{className:"border-t my-1"}),u.jsx("button",{onClick:Y,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:n.locked?"":""}),u.jsxs("div",{className:"relative group/color",children:[u.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",onMouseEnter:()=>E({..._,color:!0}),children:"  "}),_.color&&u.jsx("div",{className:"absolute left-full top-0 bg-white border border-gray-300 rounded shadow-lg py-1 min-w-[150px] ml-1",onMouseLeave:()=>E({..._,color:!1}),children:[{name:"",value:"red"},{name:"",value:"yellow"},{name:"",value:"green"},{name:"",value:"blue"},{name:"",value:"purple"},{name:"",value:""}].map(K=>u.jsxs("button",{onClick:()=>Z(K.value),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:[K.value&&u.jsx("span",{className:`w-3 h-3 rounded bg-${K.value}-500`}),K.name]},K.value))})]}),u.jsx("button",{onClick:z,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:n.comment?" ":" "}),u.jsx("div",{className:"border-t my-1"}),u.jsx("button",{onClick:re,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:"  "})]})},qF=()=>{const{groups:e,selectedGroupId:t,activeGroupIds:n,phrases:r,addGroup:s,deleteGroup:i,selectGroup:o,toggleActiveGroup:c,clearActiveGroups:h}=pt(),[d,p]=ke.useState(!1),[g,v]=ke.useState(""),[x,b]=ke.useState(null),y=()=>{g.trim()&&(s(g.trim()),v(""),p(!1))},_=(R,P)=>{R.preventDefault(),R.stopPropagation(),b({x:R.clientX,y:R.clientY,group:P})},E=(R,P)=>{P.ctrlKey?c(R):(h(),o(R))},T=ke.useMemo(()=>{const R={};return e.forEach(P=>{R[P.id]=r.filter(j=>j.groupId===P.id).length}),R},[e,r]),C=(R,P=0)=>{const j=t===R.id,O=n.has(R.id),D=T[R.id]||0,Y=e.some(Z=>Z.parentId===R.id);return u.jsxs("div",{children:[u.jsx(VF,{group:R,level:P,isSelected:j,isActive:O,count:D,hasChildren:Y,onClick:Z=>E(R.id,Z),onContextMenu:Z=>_(Z,R)}),e.filter(Z=>Z.parentId===R.id).map(Z=>C(Z,P+1))]},R.id)},N=e.filter(R=>!R.parentId);return u.jsxs("div",{className:"h-full flex flex-col bg-white border-l border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200",children:[u.jsxs("h2",{className:"font-semibold text-gray-700",children:["",n.size>1&&u.jsxs("span",{className:"ml-2 text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[" (",n.size,")"]})]}),u.jsx(We,{onClick:()=>p(!0),variant:"ghost",icon:u.jsx(Nx,{className:"w-4 h-4"}),title:" "})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[u.jsxs("div",{className:`
            flex items-center gap-2 px-3 py-2 cursor-pointer transition-colors
            ${t===null&&n.size===0?"bg-blue-100 border-l-4 border-blue-500":"hover:bg-gray-100"}
          `,onClick:()=>{h(),o(null)},children:[u.jsx(TE,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"flex-1 text-sm font-medium",children:" "}),u.jsx("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded",children:r.length})]}),N.map(R=>C(R)),N.length===0&&u.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:" .   ."}),n.size>0&&u.jsx("div",{className:"p-3 text-xs text-gray-600 bg-blue-50 border-t",children:": Ctrl+    "})]}),u.jsx(jn,{isOpen:d,onClose:()=>{p(!1),v("")},title:" ",size:"sm",children:u.jsxs("div",{className:"p-6",children:[u.jsx(Ei,{value:g,onChange:R=>v(R.target.value),placeholder:" ",autoFocus:!0,onKeyPress:R=>{R.key==="Enter"&&y()}}),u.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[u.jsx(We,{onClick:()=>{p(!1),v("")},variant:"secondary",children:""}),u.jsx(We,{onClick:y,variant:"primary",children:""})]})]})}),x&&u.jsx(GF,{x:x.x,y:x.y,group:x.group,onClose:()=>b(null)})]})},WF=()=>{const{activityLog:e}=pt(),t=ke.useRef(null);ke.useEffect(()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)},[e]);const n=i=>new Date(i).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),r=i=>{switch(i){case"success":return"text-success-400";case"warning":return"text-warning-400";case"error":return"text-error-400";default:return"text-gray-300"}},s=i=>{switch(i){case"success":return"";case"warning":return"";case"error":return"";default:return""}};return u.jsxs("div",{className:"h-[140px] bg-gray-900 border-t border-gray-700 px-4 py-3 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-xs font-medium text-gray-400 uppercase tracking-wide",children:" "}),u.jsx("div",{className:"text-xs text-gray-500",children:e.length>0&&`: ${e.length}`})]}),u.jsx("div",{ref:t,className:"h-[calc(100%-28px)] overflow-y-auto font-mono text-xs leading-relaxed",style:{scrollbarWidth:"thin"},children:e.length===0?u.jsx("div",{className:"text-gray-500 italic",children:" .    ."}):e.map(i=>u.jsxs("div",{className:"flex items-start gap-2 mb-1 hover:bg-gray-800/30 px-1 -mx-1 rounded",children:[u.jsxs("span",{className:"text-gray-500 flex-shrink-0",children:["[",n(i.timestamp),"]"]}),u.jsx("span",{className:cs("flex-shrink-0",r(i.level)),children:s(i.level)}),u.jsx("span",{className:cs("flex-1",i.level==="error"?"text-error-400":"text-gray-300"),children:i.message})]},i.id))})]})},KF=()=>{const{phrases:e,selectedPhraseIds:t,selectedGroupId:n,groups:r}=pt(),s=e.length,i=t.size,o=n?e.filter(p=>p.groupId===n).length:0,c=ke.useMemo(()=>{const p=new Set;let g=0;return e.forEach(v=>{p.has(v.text.toLowerCase())?g++:p.add(v.text.toLowerCase())}),g},[e]),h=e.filter(p=>p.hasStopword).length,d=e.filter(p=>!p.groupId).length;return u.jsxs("div",{className:"h-8 bg-gray-50 border-t border-gray-200 px-4 flex items-center justify-between text-xs text-gray-600",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("span",{children:[": ",u.jsx("strong",{className:"text-gray-900",children:s})]}),u.jsxs("span",{children:[": ",u.jsx("strong",{className:"text-blue-600",children:i})]}),n&&u.jsxs("span",{children:[" : ",u.jsx("strong",{className:"text-green-600",children:o})]})]}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("span",{children:[": ",u.jsx("strong",{className:"text-gray-900",children:r.length})]}),u.jsxs("span",{children:[" : ",u.jsx("strong",{className:"text-orange-600",children:d})]}),c>0&&u.jsxs("span",{children:[": ",u.jsx("strong",{className:"text-red-600",children:c})]}),h>0&&u.jsxs("span",{children:["-: ",u.jsx("strong",{className:"text-red-600",children:h})]})]})]})};var jd={exports:{}};var XF=jd.exports,E_;function YF(){return E_||(E_=1,(function(e,t){((n,r)=>{e.exports=r()})(XF,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s,i=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,c={},h=0,d={};function p(O){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(D){var Y=R(D);Y.chunkSize=parseInt(Y.chunkSize),D.step||D.chunk||(Y.chunkSize=null),this._handle=new y(Y),(this._handle.streamer=this)._config=Y}).call(this,O),this.parseChunk=function(D,Y){var Z=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<Z){let re=this._config.newline;re||(z=this._config.quoteChar||'"',re=this._handle.guessLineEndings(D,z)),D=[...D.split(re).slice(Z)].join(re)}this.isFirstChunk&&j(this._config.beforeFirstChunk)&&(z=this._config.beforeFirstChunk(D))!==void 0&&(D=z),this.isFirstChunk=!1,this._halted=!1;var Z=this._partialLine+D,z=(this._partialLine="",this._handle.parse(Z,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(D=z.meta.cursor,Z=(this._finished||(this._partialLine=Z.substring(D-this._baseIndex),this._baseIndex=D),z&&z.data&&(this._rowCount+=z.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:z,workerId:d.WORKER_ID,finished:Z});else if(j(this._config.chunk)&&!Y){if(this._config.chunk(z,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=z=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(z.data),this._completeResults.errors=this._completeResults.errors.concat(z.errors),this._completeResults.meta=z.meta),this._completed||!Z||!j(this._config.complete)||z&&z.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Z||z&&z.meta.paused||this._nextChunk(),z}this._halted=!0},this._sendError=function(D){j(this._config.error)?this._config.error(D):o&&this._config.error&&r.postMessage({workerId:d.WORKER_ID,error:D,finished:!1})}}function g(O){var D;(O=O||{}).chunkSize||(O.chunkSize=d.RemoteChunkSize),p.call(this,O),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Y){this._input=Y,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(D=new XMLHttpRequest,this._config.withCredentials&&(D.withCredentials=this._config.withCredentials),i||(D.onload=P(this._chunkLoaded,this),D.onerror=P(this._chunkError,this)),D.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var Y,Z=this._config.downloadRequestHeaders;for(Y in Z)D.setRequestHeader(Y,Z[Y])}var z;this._config.chunkSize&&(z=this._start+this._config.chunkSize-1,D.setRequestHeader("Range","bytes="+this._start+"-"+z));try{D.send(this._config.downloadRequestBody)}catch(re){this._chunkError(re.message)}i&&D.status===0&&this._chunkError()}},this._chunkLoaded=function(){D.readyState===4&&(D.status<200||400<=D.status?this._chunkError():(this._start+=this._config.chunkSize||D.responseText.length,this._finished=!this._config.chunkSize||this._start>=(Y=>(Y=Y.getResponseHeader("Content-Range"))!==null?parseInt(Y.substring(Y.lastIndexOf("/")+1)):-1)(D),this.parseChunk(D.responseText)))},this._chunkError=function(Y){Y=D.statusText||Y,this._sendError(new Error(Y))}}function v(O){(O=O||{}).chunkSize||(O.chunkSize=d.LocalChunkSize),p.call(this,O);var D,Y,Z=typeof FileReader<"u";this.stream=function(z){this._input=z,Y=z.slice||z.webkitSlice||z.mozSlice,Z?((D=new FileReader).onload=P(this._chunkLoaded,this),D.onerror=P(this._chunkError,this)):D=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var z=this._input,re=(this._config.chunkSize&&(re=Math.min(this._start+this._config.chunkSize,this._input.size),z=Y.call(z,this._start,re)),D.readAsText(z,this._config.encoding));Z||this._chunkLoaded({target:{result:re}})},this._chunkLoaded=function(z){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(z.target.result)},this._chunkError=function(){this._sendError(D.error)}}function x(O){var D;p.call(this,O=O||{}),this.stream=function(Y){return D=Y,this._nextChunk()},this._nextChunk=function(){var Y,Z;if(!this._finished)return Y=this._config.chunkSize,D=Y?(Z=D.substring(0,Y),D.substring(Y)):(Z=D,""),this._finished=!D,this.parseChunk(Z)}}function b(O){p.call(this,O=O||{});var D=[],Y=!0,Z=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(z){this._input=z,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Z&&D.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),D.length?this.parseChunk(D.shift()):Y=!0},this._streamData=P(function(z){try{D.push(typeof z=="string"?z:z.toString(this._config.encoding)),Y&&(Y=!1,this._checkIsFinished(),this.parseChunk(D.shift()))}catch(re){this._streamError(re)}},this),this._streamError=P(function(z){this._streamCleanUp(),this._sendError(z)},this),this._streamEnd=P(function(){this._streamCleanUp(),Z=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function y(O){var D,Y,Z,z,re=Math.pow(2,53),k=-re,K=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,X=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,ne=0,se=0,oe=!1,M=!1,A=[],U={data:[],errors:[],meta:{}};function F(ge){return O.skipEmptyLines==="greedy"?ge.join("").trim()==="":ge.length===1&&ge[0].length===0}function B(){if(U&&Z&&(xe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),Z=!1),O.skipEmptyLines&&(U.data=U.data.filter(function(Ge){return!F(Ge)})),ue()){let Ge=function(at,I){j(O.transformHeader)&&(at=O.transformHeader(at,I)),A.push(at)};var Be=Ge;if(U)if(Array.isArray(U.data[0])){for(var ge=0;ue()&&ge<U.data.length;ge++)U.data[ge].forEach(Ge);U.data.splice(0,1)}else U.data.forEach(Ge)}function ve(Ge,at){for(var I=O.header?{}:[],ye=0;ye<Ge.length;ye++){var ee=ye,V=Ge[ye],V=((G,ce)=>(pe=>(O.dynamicTypingFunction&&O.dynamicTyping[pe]===void 0&&(O.dynamicTyping[pe]=O.dynamicTypingFunction(pe)),(O.dynamicTyping[pe]||O.dynamicTyping)===!0))(G)?ce==="true"||ce==="TRUE"||ce!=="false"&&ce!=="FALSE"&&((pe=>{if(K.test(pe)&&(pe=parseFloat(pe),k<pe&&pe<re))return 1})(ce)?parseFloat(ce):X.test(ce)?new Date(ce):ce===""?null:ce):ce)(ee=O.header?ye>=A.length?"__parsed_extra":A[ye]:ee,V=O.transform?O.transform(V,ee):V);ee==="__parsed_extra"?(I[ee]=I[ee]||[],I[ee].push(V)):I[ee]=V}return O.header&&(ye>A.length?xe("FieldMismatch","TooManyFields","Too many fields: expected "+A.length+" fields but parsed "+ye,se+at):ye<A.length&&xe("FieldMismatch","TooFewFields","Too few fields: expected "+A.length+" fields but parsed "+ye,se+at)),I}var je;U&&(O.header||O.dynamicTyping||O.transform)&&(je=1,!U.data.length||Array.isArray(U.data[0])?(U.data=U.data.map(ve),je=U.data.length):U.data=ve(U.data,0),O.header&&U.meta&&(U.meta.fields=A),se+=je)}function ue(){return O.header&&A.length===0}function xe(ge,ve,je,Be){ge={type:ge,code:ve,message:je},Be!==void 0&&(ge.row=Be),U.errors.push(ge)}j(O.step)&&(z=O.step,O.step=function(ge){U=ge,ue()?B():(B(),U.data.length!==0&&(ne+=ge.data.length,O.preview&&ne>O.preview?Y.abort():(U.data=U.data[0],z(U,H))))}),this.parse=function(ge,ve,je){var Be=O.quoteChar||'"',Be=(O.newline||(O.newline=this.guessLineEndings(ge,Be)),Z=!1,O.delimiter?j(O.delimiter)&&(O.delimiter=O.delimiter(ge),U.meta.delimiter=O.delimiter):((Be=((Ge,at,I,ye,ee)=>{var V,G,ce,pe;ee=ee||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var Te=0;Te<ee.length;Te++){for(var de,Me=ee[Te],_e=0,Re=0,Ue=0,Ze=(ce=void 0,new E({comments:ye,delimiter:Me,newline:at,preview:10}).parse(Ge)),$e=0;$e<Ze.data.length;$e++)I&&F(Ze.data[$e])?Ue++:(de=Ze.data[$e].length,Re+=de,ce===void 0?ce=de:0<de&&(_e+=Math.abs(de-ce),ce=de));0<Ze.data.length&&(Re/=Ze.data.length-Ue),(G===void 0||_e<=G)&&(pe===void 0||pe<Re)&&1.99<Re&&(G=_e,V=Me,pe=Re)}return{successful:!!(O.delimiter=V),bestDelimiter:V}})(ge,O.newline,O.skipEmptyLines,O.comments,O.delimitersToGuess)).successful?O.delimiter=Be.bestDelimiter:(Z=!0,O.delimiter=d.DefaultDelimiter),U.meta.delimiter=O.delimiter),R(O));return O.preview&&O.header&&Be.preview++,D=ge,Y=new E(Be),U=Y.parse(D,ve,je),B(),oe?{meta:{paused:!0}}:U||{meta:{paused:!1}}},this.paused=function(){return oe},this.pause=function(){oe=!0,Y.abort(),D=j(O.chunk)?"":D.substring(Y.getCharIndex())},this.resume=function(){H.streamer._halted?(oe=!1,H.streamer.parseChunk(D,!0)):setTimeout(H.resume,3)},this.aborted=function(){return M},this.abort=function(){M=!0,Y.abort(),U.meta.aborted=!0,j(O.complete)&&O.complete(U),D=""},this.guessLineEndings=function(Ge,Be){Ge=Ge.substring(0,1048576);var Be=new RegExp(_(Be)+"([^]*?)"+_(Be),"gm"),je=(Ge=Ge.replace(Be,"")).split("\r"),Be=Ge.split(`
`),Ge=1<Be.length&&Be[0].length<je[0].length;if(je.length===1||Ge)return`
`;for(var at=0,I=0;I<je.length;I++)je[I][0]===`
`&&at++;return at>=je.length/2?`\r
`:"\r"}}function _(O){return O.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function E(O){var D=(O=O||{}).delimiter,Y=O.newline,Z=O.comments,z=O.step,re=O.preview,k=O.fastMode,K=null,X=!1,H=O.quoteChar==null?'"':O.quoteChar,ne=H;if(O.escapeChar!==void 0&&(ne=O.escapeChar),(typeof D!="string"||-1<d.BAD_DELIMITERS.indexOf(D))&&(D=","),Z===D)throw new Error("Comment character same as delimiter");Z===!0?Z="#":(typeof Z!="string"||-1<d.BAD_DELIMITERS.indexOf(Z))&&(Z=!1),Y!==`
`&&Y!=="\r"&&Y!==`\r
`&&(Y=`
`);var se=0,oe=!1;this.parse=function(M,A,U){if(typeof M!="string")throw new Error("Input must be a string");var F=M.length,B=D.length,ue=Y.length,xe=Z.length,ge=j(z),ve=[],je=[],Be=[],Ge=se=0;if(!M)return _e();if(k||k!==!1&&M.indexOf(H)===-1){for(var at=M.split(Y),I=0;I<at.length;I++){if(Be=at[I],se+=Be.length,I!==at.length-1)se+=Y.length;else if(U)return _e();if(!Z||Be.substring(0,xe)!==Z){if(ge){if(ve=[],pe(Be.split(D)),Re(),oe)return _e()}else pe(Be.split(D));if(re&&re<=I)return ve=ve.slice(0,re),_e(!0)}}return _e()}for(var ye=M.indexOf(D,se),ee=M.indexOf(Y,se),V=new RegExp(_(ne)+_(H),"g"),G=M.indexOf(H,se);;)if(M[se]===H)for(G=se,se++;;){if((G=M.indexOf(H,G+1))===-1)return U||je.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ve.length,index:se}),de();if(G===F-1)return de(M.substring(se,G).replace(V,H));if(H===ne&&M[G+1]===ne)G++;else if(H===ne||G===0||M[G-1]!==ne){ye!==-1&&ye<G+1&&(ye=M.indexOf(D,G+1));var ce=Te((ee=ee!==-1&&ee<G+1?M.indexOf(Y,G+1):ee)===-1?ye:Math.min(ye,ee));if(M.substr(G+1+ce,B)===D){Be.push(M.substring(se,G).replace(V,H)),M[se=G+1+ce+B]!==H&&(G=M.indexOf(H,se)),ye=M.indexOf(D,se),ee=M.indexOf(Y,se);break}if(ce=Te(ee),M.substring(G+1+ce,G+1+ce+ue)===Y){if(Be.push(M.substring(se,G).replace(V,H)),Me(G+1+ce+ue),ye=M.indexOf(D,se),G=M.indexOf(H,se),ge&&(Re(),oe))return _e();if(re&&ve.length>=re)return _e(!0);break}je.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ve.length,index:se}),G++}}else if(Z&&Be.length===0&&M.substring(se,se+xe)===Z){if(ee===-1)return _e();se=ee+ue,ee=M.indexOf(Y,se),ye=M.indexOf(D,se)}else if(ye!==-1&&(ye<ee||ee===-1))Be.push(M.substring(se,ye)),se=ye+B,ye=M.indexOf(D,se);else{if(ee===-1)break;if(Be.push(M.substring(se,ee)),Me(ee+ue),ge&&(Re(),oe))return _e();if(re&&ve.length>=re)return _e(!0)}return de();function pe(Ue){ve.push(Ue),Ge=se}function Te(Ue){var Ze=0;return Ze=Ue!==-1&&(Ue=M.substring(G+1,Ue))&&Ue.trim()===""?Ue.length:Ze}function de(Ue){return U||(Ue===void 0&&(Ue=M.substring(se)),Be.push(Ue),se=F,pe(Be),ge&&Re()),_e()}function Me(Ue){se=Ue,pe(Be),Be=[],ee=M.indexOf(Y,se)}function _e(Ue){if(O.header&&!A&&ve.length&&!X){var Ze=ve[0],$e=Object.create(null),wt=new Set(Ze);let Qt=!1;for(let bt=0;bt<Ze.length;bt++){let Lt=Ze[bt];if($e[Lt=j(O.transformHeader)?O.transformHeader(Lt,bt):Lt]){let gt,Qe=$e[Lt];for(;gt=Lt+"_"+Qe,Qe++,wt.has(gt););wt.add(gt),Ze[bt]=gt,$e[Lt]++,Qt=!0,(K=K===null?{}:K)[gt]=Lt}else $e[Lt]=1,Ze[bt]=Lt;wt.add(Lt)}Qt&&console.warn("Duplicate headers found and renamed."),X=!0}return{data:ve,errors:je,meta:{delimiter:D,linebreak:Y,aborted:oe,truncated:!!Ue,cursor:Ge+(A||0),renamedHeaders:K}}}function Re(){z(_e()),ve=[],je=[]}},this.abort=function(){oe=!0},this.getCharIndex=function(){return se}}function T(O){var D=O.data,Y=c[D.workerId],Z=!1;if(D.error)Y.userError(D.error,D.file);else if(D.results&&D.results.data){var z={abort:function(){Z=!0,C(D.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:N,resume:N};if(j(Y.userStep)){for(var re=0;re<D.results.data.length&&(Y.userStep({data:D.results.data[re],errors:D.results.errors,meta:D.results.meta},z),!Z);re++);delete D.results}else j(Y.userChunk)&&(Y.userChunk(D.results,z,D.file),delete D.results)}D.finished&&!Z&&C(D.workerId,D.results)}function C(O,D){var Y=c[O];j(Y.userComplete)&&Y.userComplete(D),Y.terminate(),delete c[O]}function N(){throw new Error("Not implemented.")}function R(O){if(typeof O!="object"||O===null)return O;var D,Y=Array.isArray(O)?[]:{};for(D in O)Y[D]=R(O[D]);return Y}function P(O,D){return function(){O.apply(D,arguments)}}function j(O){return typeof O=="function"}return d.parse=function(O,D){var Y=(D=D||{}).dynamicTyping||!1;if(j(Y)&&(D.dynamicTypingFunction=Y,Y={}),D.dynamicTyping=Y,D.transform=!!j(D.transform)&&D.transform,!D.worker||!d.WORKERS_SUPPORTED)return Y=null,d.NODE_STREAM_INPUT,typeof O=="string"?(O=(Z=>Z.charCodeAt(0)!==65279?Z:Z.slice(1))(O),Y=new(D.download?g:x)(D)):O.readable===!0&&j(O.read)&&j(O.on)?Y=new b(D):(r.File&&O instanceof File||O instanceof Object)&&(Y=new v(D)),Y.stream(O);(Y=(()=>{var Z;return!!d.WORKERS_SUPPORTED&&(Z=(()=>{var z=r.URL||r.webkitURL||null,re=n.toString();return d.BLOB_URL||(d.BLOB_URL=z.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",re,")();"],{type:"text/javascript"})))})(),(Z=new r.Worker(Z)).onmessage=T,Z.id=h++,c[Z.id]=Z)})()).userStep=D.step,Y.userChunk=D.chunk,Y.userComplete=D.complete,Y.userError=D.error,D.step=j(D.step),D.chunk=j(D.chunk),D.complete=j(D.complete),D.error=j(D.error),delete D.worker,Y.postMessage({input:O,config:D,workerId:Y.id})},d.unparse=function(O,D){var Y=!1,Z=!0,z=",",re=`\r
`,k='"',K=k+k,X=!1,H=null,ne=!1,se=((()=>{if(typeof D=="object"){if(typeof D.delimiter!="string"||d.BAD_DELIMITERS.filter(function(A){return D.delimiter.indexOf(A)!==-1}).length||(z=D.delimiter),typeof D.quotes!="boolean"&&typeof D.quotes!="function"&&!Array.isArray(D.quotes)||(Y=D.quotes),typeof D.skipEmptyLines!="boolean"&&typeof D.skipEmptyLines!="string"||(X=D.skipEmptyLines),typeof D.newline=="string"&&(re=D.newline),typeof D.quoteChar=="string"&&(k=D.quoteChar),typeof D.header=="boolean"&&(Z=D.header),Array.isArray(D.columns)){if(D.columns.length===0)throw new Error("Option columns is empty");H=D.columns}D.escapeChar!==void 0&&(K=D.escapeChar+k),D.escapeFormulae instanceof RegExp?ne=D.escapeFormulae:typeof D.escapeFormulae=="boolean"&&D.escapeFormulae&&(ne=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(k),"g"));if(typeof O=="string"&&(O=JSON.parse(O)),Array.isArray(O)){if(!O.length||Array.isArray(O[0]))return oe(null,O,X);if(typeof O[0]=="object")return oe(H||Object.keys(O[0]),O,X)}else if(typeof O=="object")return typeof O.data=="string"&&(O.data=JSON.parse(O.data)),Array.isArray(O.data)&&(O.fields||(O.fields=O.meta&&O.meta.fields||H),O.fields||(O.fields=Array.isArray(O.data[0])?O.fields:typeof O.data[0]=="object"?Object.keys(O.data[0]):[]),Array.isArray(O.data[0])||typeof O.data[0]=="object"||(O.data=[O.data])),oe(O.fields||[],O.data||[],X);throw new Error("Unable to serialize unrecognized input");function oe(A,U,F){var B="",ue=(typeof A=="string"&&(A=JSON.parse(A)),typeof U=="string"&&(U=JSON.parse(U)),Array.isArray(A)&&0<A.length),xe=!Array.isArray(U[0]);if(ue&&Z){for(var ge=0;ge<A.length;ge++)0<ge&&(B+=z),B+=M(A[ge],ge);0<U.length&&(B+=re)}for(var ve=0;ve<U.length;ve++){var je=(ue?A:U[ve]).length,Be=!1,Ge=ue?Object.keys(U[ve]).length===0:U[ve].length===0;if(F&&!ue&&(Be=F==="greedy"?U[ve].join("").trim()==="":U[ve].length===1&&U[ve][0].length===0),F==="greedy"&&ue){for(var at=[],I=0;I<je;I++){var ye=xe?A[I]:I;at.push(U[ve][ye])}Be=at.join("").trim()===""}if(!Be){for(var ee=0;ee<je;ee++){0<ee&&!Ge&&(B+=z);var V=ue&&xe?A[ee]:ee;B+=M(U[ve][V],ee)}ve<U.length-1&&(!F||0<je&&!Ge)&&(B+=re)}}return B}function M(A,U){var F,B;return A==null?"":A.constructor===Date?JSON.stringify(A).slice(1,25):(B=!1,ne&&typeof A=="string"&&ne.test(A)&&(A="'"+A,B=!0),F=A.toString().replace(se,K),(B=B||Y===!0||typeof Y=="function"&&Y(A,U)||Array.isArray(Y)&&Y[U]||((ue,xe)=>{for(var ge=0;ge<xe.length;ge++)if(-1<ue.indexOf(xe[ge]))return!0;return!1})(F,d.BAD_DELIMITERS)||-1<F.indexOf(z)||F.charAt(0)===" "||F.charAt(F.length-1)===" ")?k+F+k:F)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!i&&!!r.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=E,d.ParserHandle=y,d.NetworkStreamer=g,d.FileStreamer=v,d.StringStreamer=x,d.ReadableStreamStreamer=b,r.jQuery&&((s=r.jQuery).fn.parse=function(O){var D=O.config||{},Y=[];return this.each(function(re){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var k=0;k<this.files.length;k++)Y.push({file:this.files[k],inputElem:this,instanceConfig:s.extend({},D)})}),Z(),this;function Z(){if(Y.length===0)j(O.complete)&&O.complete();else{var re,k,K,X,H=Y[0];if(j(O.before)){var ne=O.before(H.file,H.inputElem);if(typeof ne=="object"){if(ne.action==="abort")return re="AbortError",k=H.file,K=H.inputElem,X=ne.reason,void(j(O.error)&&O.error({name:re},k,K,X));if(ne.action==="skip")return void z();typeof ne.config=="object"&&(H.instanceConfig=s.extend(H.instanceConfig,ne.config))}else if(ne==="skip")return void z()}var se=H.instanceConfig.complete;H.instanceConfig.complete=function(oe){j(se)&&se(oe,H.file,H.inputElem),z()},d.parse(H.file,H.instanceConfig)}}function z(){Y.splice(0,1),Z()}}),o&&(r.onmessage=function(O){O=O.data,d.WORKER_ID===void 0&&O&&(d.WORKER_ID=O.workerId),typeof O.input=="string"?r.postMessage({workerId:d.WORKER_ID,results:d.parse(O.input,O.config),finished:!0}):(r.File&&O.input instanceof File||O.input instanceof Object)&&(O=d.parse(O.input,O.config))&&r.postMessage({workerId:d.WORKER_ID,results:O,finished:!0})}),(g.prototype=Object.create(p.prototype)).constructor=g,(v.prototype=Object.create(p.prototype)).constructor=v,(x.prototype=Object.create(x.prototype)).constructor=x,(b.prototype=Object.create(p.prototype)).constructor=b,d})})(jd)),jd.exports}var JF=YF();const rT=ph(JF);var Kd={};Kd.version="0.18.5";var sT=1252,ZF=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],iT=function(e){ZF.indexOf(e)!=-1&&(sT=e)};function QF(){iT(1252)}var iu=function(e){iT(e)};function eP(){iu(1200),QF()}var id=function(t){return String.fromCharCode(t)},T_=function(t){return String.fromCharCode(t)},Xd,aa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function au(e){for(var t="",n=0,r=0,s=0,i=0,o=0,c=0,h=0,d=0;d<e.length;)n=e.charCodeAt(d++),i=n>>2,r=e.charCodeAt(d++),o=(n&3)<<4|r>>4,s=e.charCodeAt(d++),c=(r&15)<<2|s>>6,h=s&63,isNaN(r)?c=h=64:isNaN(s)&&(h=64),t+=aa.charAt(i)+aa.charAt(o)+aa.charAt(c)+aa.charAt(h);return t}function Ti(e){var t="",n=0,r=0,s=0,i=0,o=0,c=0,h=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=aa.indexOf(e.charAt(d++)),o=aa.indexOf(e.charAt(d++)),n=i<<2|o>>4,t+=String.fromCharCode(n),c=aa.indexOf(e.charAt(d++)),r=(o&15)<<4|c>>2,c!==64&&(t+=String.fromCharCode(r)),h=aa.indexOf(e.charAt(d++)),s=(c&3)<<6|h,h!==64&&(t+=String.fromCharCode(s));return t}var It=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ni=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Za(e){return It?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function C_(e){return It?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ns=function(t){return It?Ni(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function jh(e){if(typeof ArrayBuffer>"u")return Ns(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=e.charCodeAt(r)&255;return t}function Nu(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function tP(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Kn=It?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ni(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),s=0;for(t=0,n=0;t<e.length;n+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function nP(e){for(var t=[],n=0,r=e.length+250,s=Za(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[n++]=o;else if(o<2048)s[n++]=192|o>>6&31,s[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=e.charCodeAt(++i)&1023;s[n++]=240|o>>8&7,s[n++]=128|o>>2&63,s[n++]=128|c>>6&15|(o&3)<<4,s[n++]=128|c&63}else s[n++]=224|o>>12&15,s[n++]=128|o>>6&63,s[n++]=128|o&63;n>r&&(t.push(s.slice(0,n)),n=0,s=Za(65535),r=65530)}return t.push(s.slice(0,n)),Kn(t)}var Bc=/\u0000/g,ad=/[\u0001-\u0006]/g;function al(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function ks(e,t){var n=""+e;return n.length>=t?n:fn("0",t-n.length)+n}function Ox(e,t){var n=""+e;return n.length>=t?n:fn(" ",t-n.length)+n}function Yd(e,t){var n=""+e;return n.length>=t?n:n+fn(" ",t-n.length)}function rP(e,t){var n=""+Math.round(e);return n.length>=t?n:fn("0",t-n.length)+n}function sP(e,t){var n=""+e;return n.length>=t?n:fn("0",t-n.length)+n}var N_=Math.pow(2,32);function Uo(e,t){if(e>N_||e<-N_)return rP(e,t);var n=Math.round(e);return sP(n,t)}function Jd(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var k_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Om=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function iP(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var dn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},A_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},aP={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Zd(e,t,n){for(var r=e<0?-1:1,s=e*r,i=0,o=1,c=0,h=1,d=0,p=0,g=Math.floor(s);d<t&&(g=Math.floor(s),c=g*o+i,p=g*d+h,!(s-g<5e-8));)s=1/(s-g),i=o,o=c,h=d,d=p;if(p>t&&(d>t?(p=h,c=i):(p=d,c=o)),!n)return[0,r*c,p];var v=Math.floor(r*c/p);return[v,r*c-v*p,p]}function od(e,t,n){if(e>2958465||e<0)return null;var r=e|0,s=Math.floor(86400*(e-r)),i=0,o=[],c={D:r,T:s,u:86400*(e-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),t&&t.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++s==86400&&(c.T=s=0,++r,++c.D)),r===60)o=n?[1317,10,29]:[1900,2,29],i=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var h=new Date(1900,0,1);h.setDate(h.getDate()+r-1),o=[h.getFullYear(),h.getMonth()+1,h.getDate()],i=h.getDay(),r<60&&(i=(i+6)%7),n&&(i=hP(h,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=i,c}var aT=new Date(1899,11,31,0,0,0),oP=aT.getTime(),lP=new Date(1900,2,1,0,0,0);function oT(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=lP&&(n+=1440*60*1e3),(n-(oP+(e.getTimezoneOffset()-aT.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Mx(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function cP(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function uP(e){var t=e<0?12:11,n=Mx(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function fP(e){var t=Mx(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function dP(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=uP(e):t===10?n=e.toFixed(10).substr(0,12):n=fP(e),Mx(cP(n.toUpperCase()))}function Dg(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):dP(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return fa(14,oT(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function hP(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function pP(e,t,n,r){var s="",i=0,o=0,c=n.y,h,d=0;switch(e){case 98:c=n.y+543;case 121:switch(t.length){case 1:case 2:h=c%100,d=2;break;default:h=c%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:h=n.m,d=t.length;break;case 3:return Om[n.m-1][1];case 5:return Om[n.m-1][0];default:return Om[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:h=n.d,d=t.length;break;case 3:return k_[n.q][0];default:return k_[n.q][1]}break;case 104:switch(t.length){case 1:case 2:h=1+(n.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:h=n.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:h=n.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?ks(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,i=Math.round(o*(n.S+n.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(s=ks(i,2+r),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":h=n.D*24+n.H;break;case"[m]":case"[mm]":h=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":h=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:h=c,d=1;break}var p=d>0?ks(h,d):"";return p}function oa(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var lT=/%/g;function mP(e,t,n){var r=t.replace(lT,""),s=t.length-r.length;return yi(e,r,n*Math.pow(10,2*s))+fn("%",s)}function gP(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return yi(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function cT(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+cT(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(t/Math.pow(10,i)).toPrecision(r+1+(s+i)%s),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,h,d,p){return h+d+p.substr(0,(s+i)%s)+"."+p.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var uT=/# (\?+)( ?)\/( ?)(\d+)/;function xP(e,t,n){var r=parseInt(e[4],10),s=Math.round(t*r),i=Math.floor(s/r),o=s-i*r,c=r;return n+(i===0?"":""+i)+" "+(o===0?fn(" ",e[1].length+1+e[4].length):Ox(o,e[1].length)+e[2]+"/"+e[3]+ks(c,e[4].length))}function vP(e,t,n){return n+(t===0?"":""+t)+fn(" ",e[1].length+2+e[4].length)}var fT=/^#*0*\.([0#]+)/,dT=/\).*[0#]/,hT=/\(###\) ###\\?-####/;function ur(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function j_(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function R_(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function yP(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function wP(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function is(e,t,n){if(e.charCodeAt(0)===40&&!t.match(dT)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?is("n",r,n):"("+is("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return gP(e,t,n);if(t.indexOf("%")!==-1)return mP(e,t,n);if(t.indexOf("E")!==-1)return cT(t,n);if(t.charCodeAt(0)===36)return"$"+is(e,t.substr(t.charAt(1)==" "?2:1),n);var s,i,o,c,h=Math.abs(n),d=n<0?"-":"";if(t.match(/^00+$/))return d+Uo(h,t.length);if(t.match(/^[#?]+$/))return s=Uo(n,0),s==="0"&&(s=""),s.length>t.length?s:ur(t.substr(0,t.length-s.length))+s;if(i=t.match(uT))return xP(i,h,d);if(t.match(/^#+0+$/))return d+Uo(h,t.length-t.indexOf("0"));if(i=t.match(fT))return s=j_(n,i[1].length).replace(/^([^\.]+)$/,"$1."+ur(i[1])).replace(/\.$/,"."+ur(i[1])).replace(/\.(\d*)$/,function(b,y){return"."+y+fn("0",ur(i[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+j_(h,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+oa(Uo(h,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+is(e,t,-n):oa(""+(Math.floor(n)+yP(n,i[1].length)))+"."+ks(R_(n,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return is(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=al(is(e,t.replace(/[\\-]/g,""),n)),o=0,al(al(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return o<s.length?s.charAt(o++):b==="0"?"0":""}));if(t.match(hT))return s=is(e,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=Zd(h,Math.pow(10,o)-1,!1),s=""+d,p=yi("n",i[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+i[2]+"/"+i[3],p=Yd(c[2],o),p.length<i[4].length&&(p=ur(i[4].substr(i[4].length-p.length))+p),s+=p,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=Zd(h,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Ox(c[1],o)+i[2]+"/"+i[3]+Yd(c[2],o):fn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=Uo(n,0),t.length<=s.length?s:ur(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var g=t.indexOf(".")-o,v=t.length-s.length-g;return ur(t.substr(0,g)+s+t.substr(t.length-v))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=R_(n,i[1].length),n<0?"-"+is(e,t,-n):oa(wP(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?ks(0,3-b.length):"")+b})+"."+ks(o,i[1].length);switch(t){case"###,##0.00":return is(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var x=oa(Uo(h,0));return x!=="0"?d+x:"";case"###,###.00":return is(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return is(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function bP(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return yi(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function _P(e,t,n){var r=t.replace(lT,""),s=t.length-r.length;return yi(e,r,n*Math.pow(10,2*s))+fn("%",s)}function pT(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+pT(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(t/Math.pow(10,i)).toPrecision(r+1+(s+i)%s),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,h,d,p){return h+d+p.substr(0,(s+i)%s)+"."+p.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function zs(e,t,n){if(e.charCodeAt(0)===40&&!t.match(dT)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?zs("n",r,n):"("+zs("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return bP(e,t,n);if(t.indexOf("%")!==-1)return _P(e,t,n);if(t.indexOf("E")!==-1)return pT(t,n);if(t.charCodeAt(0)===36)return"$"+zs(e,t.substr(t.charAt(1)==" "?2:1),n);var s,i,o,c,h=Math.abs(n),d=n<0?"-":"";if(t.match(/^00+$/))return d+ks(h,t.length);if(t.match(/^[#?]+$/))return s=""+n,n===0&&(s=""),s.length>t.length?s:ur(t.substr(0,t.length-s.length))+s;if(i=t.match(uT))return vP(i,h,d);if(t.match(/^#+0+$/))return d+ks(h,t.length-t.indexOf("0"));if(i=t.match(fT))return s=(""+n).replace(/^([^\.]+)$/,"$1."+ur(i[1])).replace(/\.$/,"."+ur(i[1])),s=s.replace(/\.(\d*)$/,function(b,y){return"."+y+fn("0",ur(i[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+oa(""+h);if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+zs(e,t,-n):oa(""+n)+"."+fn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return zs(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=al(zs(e,t.replace(/[\\-]/g,""),n)),o=0,al(al(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return o<s.length?s.charAt(o++):b==="0"?"0":""}));if(t.match(hT))return s=zs(e,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=Zd(h,Math.pow(10,o)-1,!1),s=""+d,p=yi("n",i[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+i[2]+"/"+i[3],p=Yd(c[2],o),p.length<i[4].length&&(p=ur(i[4].substr(i[4].length-p.length))+p),s+=p,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=Zd(h,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Ox(c[1],o)+i[2]+"/"+i[3]+Yd(c[2],o):fn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+n,t.length<=s.length?s:ur(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var g=t.indexOf(".")-o,v=t.length-s.length-g;return ur(t.substr(0,g)+s+t.substr(t.length-v))}if(i=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+zs(e,t,-n):oa(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?ks(0,3-b.length):"")+b})+"."+ks(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=oa(""+h);return x!=="0"?d+x:"";default:if(t.match(/\.[0#?]*$/))return zs(e,t.slice(0,t.lastIndexOf(".")),n)+ur(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function yi(e,t,n){return(n|0)===n?zs(e,t,n):is(e,t,n)}function SP(e){for(var t=[],n=!1,r=0,s=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(s,r-s),s=r+1}if(t[t.length]=e.substr(s),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var mT=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function gT(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":Jd(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(mT))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function EP(e,t,n,r){for(var s=[],i="",o=0,c="",h="t",d,p,g,v="H";o<e.length;)switch(c=e.charAt(o)){case"G":if(!Jd(e,o))throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(g=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(g);s[s.length]={t:"t",v:i},++o;break;case"\\":var x=e.charAt(++o),b=x==="("||x===")"?x:"t";s[s.length]={t:b,v:x},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=od(t,n,e.charAt(o+1)==="2"),d==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},h=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=od(t,n),d==null))return"";for(i=c;++o<e.length&&e.charAt(o).toLowerCase()===c;)i+=c;c==="m"&&h.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=v),s[s.length]={t:c,v:i},h=c;break;case"A":case"a":case"":var y={t:c,v:c};if(d==null&&(d=od(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(y.v=d.H>=12?"P":"A"),y.t="T",v="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(y.v=d.H>=12?"PM":"AM"),y.t="T",o+=5,v="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(y.v=d.H>=12?"":""),y.t="T",o+=5,v="h"):(y.t="t",++o),d==null&&y.t==="T")return"";s[s.length]=y,h=c;break;case"[":for(i=c;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(mT)){if(d==null&&(d=od(t,n),d==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},h=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",gT(e)||(s[s.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=c;++o<e.length&&(c=e.charAt(o))==="0";)i+=c;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=c;++o<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(o))>-1;)i+=c;s[s.length]={t:"n",v:i};break;case"?":for(i=c;e.charAt(++o)===c;)i+=c;s[s.length]={t:c,v:i},h=c;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:r===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=c;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:c,v:c},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"t",v:c},++o;break}var _=0,E=0,T;for(o=s.length-1,h="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=v,h="h",_<1&&(_=1);break;case"s":(T=s[o].v.match(/\.0+$/))&&(E=Math.max(E,T[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":h=s[o].t;break;case"m":h==="s"&&(s[o].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&s[o].v.match(/[Hh]/)&&(_=1),_<2&&s[o].v.match(/[Mm]/)&&(_=2),_<3&&s[o].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var C="",N;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=pP(s[o].t.charCodeAt(0),s[o].v,d,E),s[o].t="t";break;case"n":case"?":for(N=o+1;s[N]!=null&&((c=s[N].t)==="?"||c==="D"||(c===" "||c==="t")&&s[N+1]!=null&&(s[N+1].t==="?"||s[N+1].t==="t"&&s[N+1].v==="/")||s[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(s[N].v==="/"||s[N].v===" "&&s[N+1]!=null&&s[N+1].t=="?"));)s[o].v+=s[N].v,s[N]={v:"",t:";"},++N;C+=s[o].v,o=N-1;break;case"G":s[o].t="t",s[o].v=Dg(t,n);break}var R="",P,j;if(C.length>0){C.charCodeAt(0)==40?(P=t<0&&C.charCodeAt(0)===45?-t:t,j=yi("n",C,P)):(P=t<0&&r>1?-t:t,j=yi("n",C,P),P<0&&s[0]&&s[0].t=="t"&&(j=j.substr(1),s[0].v="-"+s[0].v)),N=j.length-1;var O=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){O=o;break}var D=s.length;if(O===s.length&&j.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(N>=s[o].v.length-1?(N-=s[o].v.length,s[o].v=j.substr(N+1,s[o].v.length)):N<0?s[o].v="":(s[o].v=j.substr(0,N+1),N=-1),s[o].t="t",D=o);N>=0&&D<s.length&&(s[D].v=j.substr(0,N+1)+s[D].v)}else if(O!==s.length&&j.indexOf("E")===-1){for(N=j.indexOf(".")-1,o=O;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(p=s[o].v.indexOf(".")>-1&&o===O?s[o].v.indexOf(".")-1:s[o].v.length-1,R=s[o].v.substr(p+1);p>=0;--p)N>=0&&(s[o].v.charAt(p)==="0"||s[o].v.charAt(p)==="#")&&(R=j.charAt(N--)+R);s[o].v=R,s[o].t="t",D=o}for(N>=0&&D<s.length&&(s[D].v=j.substr(0,N+1)+s[D].v),N=j.indexOf(".")+1,o=O;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==O)){for(p=s[o].v.indexOf(".")>-1&&o===O?s[o].v.indexOf(".")+1:0,R=s[o].v.substr(0,p);p<s[o].v.length;++p)N<j.length&&(R+=j.charAt(N++));s[o].v=R,s[o].t="t",D=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(P=r>1&&t<0&&o>0&&s[o-1].v==="-"?-t:t,s[o].v=yi(s[o].t,s[o].v,P),s[o].t="t");var Y="";for(o=0;o!==s.length;++o)s[o]!=null&&(Y+=s[o].v);return Y}var O_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function M_(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function TP(e,t){var n=SP(e),r=n.length,s=n[r-1].indexOf("@");if(r<4&&s>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(O_),c=n[1].match(O_);return M_(t,o)?[r,n[0]]:M_(t,c)?[r,n[1]]:[r,n[o!=null&&c!=null?2:1]]}return[r,i]}function fa(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:dn)[e],r==null&&(r=n.table&&n.table[A_[e]]||dn[A_[e]]),r==null&&(r=aP[e]||"General");break}if(Jd(r,0))return Dg(t,n);t instanceof Date&&(t=oT(t,n.date1904));var s=TP(r,t);if(Jd(s[1]))return Dg(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return EP(s[1],t,n,s[0])}function xT(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(dn[n]==null){t<0&&(t=n);continue}if(dn[n]==e){t=n;break}}t<0&&(t=391)}return dn[t]=e,t}function Rh(e){for(var t=0;t!=392;++t)e[t]!==void 0&&xT(e[t],t)}function Oh(){dn=iP()}var vT=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function CP(e){var t=typeof e=="number"?dn[e]:e;return t=t.replace(vT,"(\\d+)"),new RegExp("^"+t+"$")}function NP(e,t,n){var r=-1,s=-1,i=-1,o=-1,c=-1,h=-1;(t.match(vT)||[]).forEach(function(g,v){var x=parseInt(n[v+1],10);switch(g.toLowerCase().charAt(0)){case"y":r=x;break;case"d":i=x;break;case"h":o=x;break;case"s":h=x;break;case"m":o>=0?c=x:s=x;break}}),h>=0&&c==-1&&s>=0&&(c=s,s=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var p=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return o==-1&&c==-1&&h==-1?d:r==-1&&s==-1&&i==-1?p:d+"T"+p}var kP=(function(){var e={};e.version="1.2.0";function t(){for(var j=0,O=new Array(256),D=0;D!=256;++D)j=D,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,O[D]=j;return typeof Int32Array<"u"?new Int32Array(O):O}var n=t();function r(j){var O=0,D=0,Y=0,Z=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Y=0;Y!=256;++Y)Z[Y]=j[Y];for(Y=0;Y!=256;++Y)for(D=j[Y],O=256+Y;O<4096;O+=256)D=Z[O]=D>>>8^j[D&255];var z=[];for(Y=1;Y!=16;++Y)z[Y-1]=typeof Int32Array<"u"?Z.subarray(Y*256,Y*256+256):Z.slice(Y*256,Y*256+256);return z}var s=r(n),i=s[0],o=s[1],c=s[2],h=s[3],d=s[4],p=s[5],g=s[6],v=s[7],x=s[8],b=s[9],y=s[10],_=s[11],E=s[12],T=s[13],C=s[14];function N(j,O){for(var D=O^-1,Y=0,Z=j.length;Y<Z;)D=D>>>8^n[(D^j.charCodeAt(Y++))&255];return~D}function R(j,O){for(var D=O^-1,Y=j.length-15,Z=0;Z<Y;)D=C[j[Z++]^D&255]^T[j[Z++]^D>>8&255]^E[j[Z++]^D>>16&255]^_[j[Z++]^D>>>24]^y[j[Z++]]^b[j[Z++]]^x[j[Z++]]^v[j[Z++]]^g[j[Z++]]^p[j[Z++]]^d[j[Z++]]^h[j[Z++]]^c[j[Z++]]^o[j[Z++]]^i[j[Z++]]^n[j[Z++]];for(Y+=15;Z<Y;)D=D>>>8^n[(D^j[Z++])&255];return~D}function P(j,O){for(var D=O^-1,Y=0,Z=j.length,z=0,re=0;Y<Z;)z=j.charCodeAt(Y++),z<128?D=D>>>8^n[(D^z)&255]:z<2048?(D=D>>>8^n[(D^(192|z>>6&31))&255],D=D>>>8^n[(D^(128|z&63))&255]):z>=55296&&z<57344?(z=(z&1023)+64,re=j.charCodeAt(Y++)&1023,D=D>>>8^n[(D^(240|z>>8&7))&255],D=D>>>8^n[(D^(128|z>>2&63))&255],D=D>>>8^n[(D^(128|re>>6&15|(z&3)<<4))&255],D=D>>>8^n[(D^(128|re&63))&255]):(D=D>>>8^n[(D^(224|z>>12&15))&255],D=D>>>8^n[(D^(128|z>>6&63))&255],D=D>>>8^n[(D^(128|z&63))&255]);return~D}return e.table=n,e.bstr=N,e.buf=R,e.str=P,e})(),Wt=(function(){var t={};t.version="1.2.1";function n(W,ae){for(var Q=W.split("/"),te=ae.split("/"),ie=0,le=0,Se=Math.min(Q.length,te.length);ie<Se;++ie){if(le=Q[ie].length-te[ie].length)return le;if(Q[ie]!=te[ie])return Q[ie]<te[ie]?-1:1}return Q.length-te.length}function r(W){if(W.charAt(W.length-1)=="/")return W.slice(0,-1).indexOf("/")===-1?W:r(W.slice(0,-1));var ae=W.lastIndexOf("/");return ae===-1?W:W.slice(0,ae+1)}function s(W){if(W.charAt(W.length-1)=="/")return s(W.slice(0,-1));var ae=W.lastIndexOf("/");return ae===-1?W:W.slice(ae+1)}function i(W,ae){typeof ae=="string"&&(ae=new Date(ae));var Q=ae.getHours();Q=Q<<6|ae.getMinutes(),Q=Q<<5|ae.getSeconds()>>>1,W.write_shift(2,Q);var te=ae.getFullYear()-1980;te=te<<4|ae.getMonth()+1,te=te<<5|ae.getDate(),W.write_shift(2,te)}function o(W){var ae=W.read_shift(2)&65535,Q=W.read_shift(2)&65535,te=new Date,ie=Q&31;Q>>>=5;var le=Q&15;Q>>>=4,te.setMilliseconds(0),te.setFullYear(Q+1980),te.setMonth(le-1),te.setDate(ie);var Se=ae&31;ae>>>=5;var Le=ae&63;return ae>>>=6,te.setHours(ae),te.setMinutes(Le),te.setSeconds(Se<<1),te}function c(W){Br(W,0);for(var ae={},Q=0;W.l<=W.length-4;){var te=W.read_shift(2),ie=W.read_shift(2),le=W.l+ie,Se={};switch(te){case 21589:Q=W.read_shift(1),Q&1&&(Se.mtime=W.read_shift(4)),ie>5&&(Q&2&&(Se.atime=W.read_shift(4)),Q&4&&(Se.ctime=W.read_shift(4))),Se.mtime&&(Se.mt=new Date(Se.mtime*1e3));break}W.l=le,ae[te]=Se}return ae}var h;function d(){return h||(h={})}function p(W,ae){if(W[0]==80&&W[1]==75)return Rn(W,ae);if((W[0]|32)==109&&(W[1]|32)==105)return hr(W,ae);if(W.length<512)throw new Error("CFB file size "+W.length+" < 512");var Q=3,te=512,ie=0,le=0,Se=0,Le=0,Ee=0,Ce=[],Ae=W.slice(0,512);Br(Ae,0);var He=g(Ae);switch(Q=He[0],Q){case 3:te=512;break;case 4:te=4096;break;case 0:if(He[1]==0)return Rn(W,ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+Q)}te!==512&&(Ae=W.slice(0,te),Br(Ae,28));var qe=W.slice(0,te);v(Ae,Q);var Je=Ae.read_shift(4,"i");if(Q===3&&Je!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Je);Ae.l+=4,Se=Ae.read_shift(4,"i"),Ae.l+=4,Ae.chk("00100000","Mini Stream Cutoff Size: "),Le=Ae.read_shift(4,"i"),ie=Ae.read_shift(4,"i"),Ee=Ae.read_shift(4,"i"),le=Ae.read_shift(4,"i");for(var Ve=-1,Ye=0;Ye<109&&(Ve=Ae.read_shift(4,"i"),!(Ve<0));++Ye)Ce[Ye]=Ve;var rt=x(W,te);_(Ee,le,rt,te,Ce);var Yt=T(rt,Se,Ce,te);Yt[Se].name="!Directory",ie>0&&Le!==re&&(Yt[Le].name="!MiniFAT"),Yt[Ce[0]].name="!FAT",Yt.fat_addrs=Ce,Yt.ssz=te;var Jt={},sn=[],Kr=[],ga=[];C(Se,Yt,rt,sn,ie,Jt,Kr,Le),b(Kr,ga,sn),sn.shift();var ki={FileIndex:Kr,FullPaths:ga};return ae&&ae.raw&&(ki.raw={header:qe,sectors:rt}),ki}function g(W){if(W[W.l]==80&&W[W.l+1]==75)return[0,0];W.chk(k,"Header Signature: "),W.l+=16;var ae=W.read_shift(2,"u");return[W.read_shift(2,"u"),ae]}function v(W,ae){var Q=9;switch(W.l+=2,Q=W.read_shift(2)){case 9:if(ae!=3)throw new Error("Sector Shift: Expected 9 saw "+Q);break;case 12:if(ae!=4)throw new Error("Sector Shift: Expected 12 saw "+Q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Q)}W.chk("0600","Mini Sector Shift: "),W.chk("000000000000","Reserved: ")}function x(W,ae){for(var Q=Math.ceil(W.length/ae)-1,te=[],ie=1;ie<Q;++ie)te[ie-1]=W.slice(ie*ae,(ie+1)*ae);return te[Q-1]=W.slice(Q*ae),te}function b(W,ae,Q){for(var te=0,ie=0,le=0,Se=0,Le=0,Ee=Q.length,Ce=[],Ae=[];te<Ee;++te)Ce[te]=Ae[te]=te,ae[te]=Q[te];for(;Le<Ae.length;++Le)te=Ae[Le],ie=W[te].L,le=W[te].R,Se=W[te].C,Ce[te]===te&&(ie!==-1&&Ce[ie]!==ie&&(Ce[te]=Ce[ie]),le!==-1&&Ce[le]!==le&&(Ce[te]=Ce[le])),Se!==-1&&(Ce[Se]=te),ie!==-1&&te!=Ce[te]&&(Ce[ie]=Ce[te],Ae.lastIndexOf(ie)<Le&&Ae.push(ie)),le!==-1&&te!=Ce[te]&&(Ce[le]=Ce[te],Ae.lastIndexOf(le)<Le&&Ae.push(le));for(te=1;te<Ee;++te)Ce[te]===te&&(le!==-1&&Ce[le]!==le?Ce[te]=Ce[le]:ie!==-1&&Ce[ie]!==ie&&(Ce[te]=Ce[ie]));for(te=1;te<Ee;++te)if(W[te].type!==0){if(Le=te,Le!=Ce[Le])do Le=Ce[Le],ae[te]=ae[Le]+"/"+ae[te];while(Le!==0&&Ce[Le]!==-1&&Le!=Ce[Le]);Ce[te]=-1}for(ae[0]+="/",te=1;te<Ee;++te)W[te].type!==2&&(ae[te]+="/")}function y(W,ae,Q){for(var te=W.start,ie=W.size,le=[],Se=te;Q&&ie>0&&Se>=0;)le.push(ae.slice(Se*z,Se*z+z)),ie-=z,Se=Ua(Q,Se*4);return le.length===0?De(0):Kn(le).slice(0,W.size)}function _(W,ae,Q,te,ie){var le=re;if(W===re){if(ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(W!==-1){var Se=Q[W],Le=(te>>>2)-1;if(!Se)return;for(var Ee=0;Ee<Le&&(le=Ua(Se,Ee*4))!==re;++Ee)ie.push(le);_(Ua(Se,te-4),ae-1,Q,te,ie)}}function E(W,ae,Q,te,ie){var le=[],Se=[];ie||(ie=[]);var Le=te-1,Ee=0,Ce=0;for(Ee=ae;Ee>=0;){ie[Ee]=!0,le[le.length]=Ee,Se.push(W[Ee]);var Ae=Q[Math.floor(Ee*4/te)];if(Ce=Ee*4&Le,te<4+Ce)throw new Error("FAT boundary crossed: "+Ee+" 4 "+te);if(!W[Ae])break;Ee=Ua(W[Ae],Ce)}return{nodes:le,data:U_([Se])}}function T(W,ae,Q,te){var ie=W.length,le=[],Se=[],Le=[],Ee=[],Ce=te-1,Ae=0,He=0,qe=0,Je=0;for(Ae=0;Ae<ie;++Ae)if(Le=[],qe=Ae+ae,qe>=ie&&(qe-=ie),!Se[qe]){Ee=[];var Ve=[];for(He=qe;He>=0;){Ve[He]=!0,Se[He]=!0,Le[Le.length]=He,Ee.push(W[He]);var Ye=Q[Math.floor(He*4/te)];if(Je=He*4&Ce,te<4+Je)throw new Error("FAT boundary crossed: "+He+" 4 "+te);if(!W[Ye]||(He=Ua(W[Ye],Je),Ve[He]))break}le[qe]={nodes:Le,data:U_([Ee])}}return le}function C(W,ae,Q,te,ie,le,Se,Le){for(var Ee=0,Ce=te.length?2:0,Ae=ae[W].data,He=0,qe=0,Je;He<Ae.length;He+=128){var Ve=Ae.slice(He,He+128);Br(Ve,64),qe=Ve.read_shift(2),Je=Px(Ve,0,qe-Ce),te.push(Je);var Ye={name:Je,type:Ve.read_shift(1),color:Ve.read_shift(1),L:Ve.read_shift(4,"i"),R:Ve.read_shift(4,"i"),C:Ve.read_shift(4,"i"),clsid:Ve.read_shift(16),state:Ve.read_shift(4,"i"),start:0,size:0},rt=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);rt!==0&&(Ye.ct=N(Ve,Ve.l-8));var Yt=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);Yt!==0&&(Ye.mt=N(Ve,Ve.l-8)),Ye.start=Ve.read_shift(4,"i"),Ye.size=Ve.read_shift(4,"i"),Ye.size<0&&Ye.start<0&&(Ye.size=Ye.type=0,Ye.start=re,Ye.name=""),Ye.type===5?(Ee=Ye.start,ie>0&&Ee!==re&&(ae[Ee].name="!StreamData")):Ye.size>=4096?(Ye.storage="fat",ae[Ye.start]===void 0&&(ae[Ye.start]=E(Q,Ye.start,ae.fat_addrs,ae.ssz)),ae[Ye.start].name=Ye.name,Ye.content=ae[Ye.start].data.slice(0,Ye.size)):(Ye.storage="minifat",Ye.size<0?Ye.size=0:Ee!==re&&Ye.start!==re&&ae[Ee]&&(Ye.content=y(Ye,ae[Ee].data,(ae[Le]||{}).data))),Ye.content&&Br(Ye.content,0),le[Je]=Ye,Se.push(Ye)}}function N(W,ae){return new Date(($r(W,ae+4)/1e7*Math.pow(2,32)+$r(W,ae)/1e7-11644473600)*1e3)}function R(W,ae){return d(),p(h.readFileSync(W),ae)}function P(W,ae){var Q=ae&&ae.type;switch(Q||It&&Buffer.isBuffer(W)&&(Q="buffer"),Q||"base64"){case"file":return R(W,ae);case"base64":return p(Ns(Ti(W)),ae);case"binary":return p(Ns(W),ae)}return p(W,ae)}function j(W,ae){var Q=ae||{},te=Q.root||"Root Entry";if(W.FullPaths||(W.FullPaths=[]),W.FileIndex||(W.FileIndex=[]),W.FullPaths.length!==W.FileIndex.length)throw new Error("inconsistent CFB structure");W.FullPaths.length===0&&(W.FullPaths[0]=te+"/",W.FileIndex[0]={name:te,type:5}),Q.CLSID&&(W.FileIndex[0].clsid=Q.CLSID),O(W)}function O(W){var ae="Sh33tJ5";if(!Wt.find(W,"/"+ae)){var Q=De(4);Q[0]=55,Q[1]=Q[3]=50,Q[2]=54,W.FileIndex.push({name:ae,type:2,content:Q,size:4,L:69,R:69,C:69}),W.FullPaths.push(W.FullPaths[0]+ae),D(W)}}function D(W,ae){j(W);for(var Q=!1,te=!1,ie=W.FullPaths.length-1;ie>=0;--ie){var le=W.FileIndex[ie];switch(le.type){case 0:te?Q=!0:(W.FileIndex.pop(),W.FullPaths.pop());break;case 1:case 2:case 5:te=!0,isNaN(le.R*le.L*le.C)&&(Q=!0),le.R>-1&&le.L>-1&&le.R==le.L&&(Q=!0);break;default:Q=!0;break}}if(!(!Q&&!ae)){var Se=new Date(1987,1,19),Le=0,Ee=Object.create?Object.create(null):{},Ce=[];for(ie=0;ie<W.FullPaths.length;++ie)Ee[W.FullPaths[ie]]=!0,W.FileIndex[ie].type!==0&&Ce.push([W.FullPaths[ie],W.FileIndex[ie]]);for(ie=0;ie<Ce.length;++ie){var Ae=r(Ce[ie][0]);te=Ee[Ae],te||(Ce.push([Ae,{name:s(Ae).replace("/",""),type:1,clsid:X,ct:Se,mt:Se,content:null}]),Ee[Ae]=!0)}for(Ce.sort(function(Je,Ve){return n(Je[0],Ve[0])}),W.FullPaths=[],W.FileIndex=[],ie=0;ie<Ce.length;++ie)W.FullPaths[ie]=Ce[ie][0],W.FileIndex[ie]=Ce[ie][1];for(ie=0;ie<Ce.length;++ie){var He=W.FileIndex[ie],qe=W.FullPaths[ie];if(He.name=s(qe).replace("/",""),He.L=He.R=He.C=-(He.color=1),He.size=He.content?He.content.length:0,He.start=0,He.clsid=He.clsid||X,ie===0)He.C=Ce.length>1?1:-1,He.size=0,He.type=5;else if(qe.slice(-1)=="/"){for(Le=ie+1;Le<Ce.length&&r(W.FullPaths[Le])!=qe;++Le);for(He.C=Le>=Ce.length?-1:Le,Le=ie+1;Le<Ce.length&&r(W.FullPaths[Le])!=r(qe);++Le);He.R=Le>=Ce.length?-1:Le,He.type=1}else r(W.FullPaths[ie+1]||"")==r(qe)&&(He.R=ie+1),He.type=2}}}function Y(W,ae){var Q=ae||{};if(Q.fileType=="mad")return hn(W,Q);switch(D(W),Q.fileType){case"zip":return At(W,Q)}var te=(function(Je){for(var Ve=0,Ye=0,rt=0;rt<Je.FileIndex.length;++rt){var Yt=Je.FileIndex[rt];if(Yt.content){var Jt=Yt.content.length;Jt>0&&(Jt<4096?Ve+=Jt+63>>6:Ye+=Jt+511>>9)}}for(var sn=Je.FullPaths.length+3>>2,Kr=Ve+7>>3,ga=Ve+127>>7,ki=Kr+Ye+sn+ga,Ds=ki+127>>7,Ol=Ds<=109?0:Math.ceil((Ds-109)/127);ki+Ds+Ol+127>>7>Ds;)Ol=++Ds<=109?0:Math.ceil((Ds-109)/127);var mr=[1,Ol,Ds,ga,sn,Ye,Ve,0];return Je.FileIndex[0].size=Ve<<6,mr[7]=(Je.FileIndex[0].start=mr[0]+mr[1]+mr[2]+mr[3]+mr[4]+mr[5])+(mr[6]+7>>3),mr})(W),ie=De(te[7]<<9),le=0,Se=0;{for(le=0;le<8;++le)ie.write_shift(1,K[le]);for(le=0;le<8;++le)ie.write_shift(2,0);for(ie.write_shift(2,62),ie.write_shift(2,3),ie.write_shift(2,65534),ie.write_shift(2,9),ie.write_shift(2,6),le=0;le<3;++le)ie.write_shift(2,0);for(ie.write_shift(4,0),ie.write_shift(4,te[2]),ie.write_shift(4,te[0]+te[1]+te[2]+te[3]-1),ie.write_shift(4,0),ie.write_shift(4,4096),ie.write_shift(4,te[3]?te[0]+te[1]+te[2]-1:re),ie.write_shift(4,te[3]),ie.write_shift(-4,te[1]?te[0]-1:re),ie.write_shift(4,te[1]),le=0;le<109;++le)ie.write_shift(-4,le<te[2]?te[1]+le:-1)}if(te[1])for(Se=0;Se<te[1];++Se){for(;le<236+Se*127;++le)ie.write_shift(-4,le<te[2]?te[1]+le:-1);ie.write_shift(-4,Se===te[1]-1?re:Se+1)}var Le=function(Je){for(Se+=Je;le<Se-1;++le)ie.write_shift(-4,le+1);Je&&(++le,ie.write_shift(-4,re))};for(Se=le=0,Se+=te[1];le<Se;++le)ie.write_shift(-4,H.DIFSECT);for(Se+=te[2];le<Se;++le)ie.write_shift(-4,H.FATSECT);Le(te[3]),Le(te[4]);for(var Ee=0,Ce=0,Ae=W.FileIndex[0];Ee<W.FileIndex.length;++Ee)Ae=W.FileIndex[Ee],Ae.content&&(Ce=Ae.content.length,!(Ce<4096)&&(Ae.start=Se,Le(Ce+511>>9)));for(Le(te[6]+7>>3);ie.l&511;)ie.write_shift(-4,H.ENDOFCHAIN);for(Se=le=0,Ee=0;Ee<W.FileIndex.length;++Ee)Ae=W.FileIndex[Ee],Ae.content&&(Ce=Ae.content.length,!(!Ce||Ce>=4096)&&(Ae.start=Se,Le(Ce+63>>6)));for(;ie.l&511;)ie.write_shift(-4,H.ENDOFCHAIN);for(le=0;le<te[4]<<2;++le){var He=W.FullPaths[le];if(!He||He.length===0){for(Ee=0;Ee<17;++Ee)ie.write_shift(4,0);for(Ee=0;Ee<3;++Ee)ie.write_shift(4,-1);for(Ee=0;Ee<12;++Ee)ie.write_shift(4,0);continue}Ae=W.FileIndex[le],le===0&&(Ae.start=Ae.size?Ae.start-1:re);var qe=le===0&&Q.root||Ae.name;if(Ce=2*(qe.length+1),ie.write_shift(64,qe,"utf16le"),ie.write_shift(2,Ce),ie.write_shift(1,Ae.type),ie.write_shift(1,Ae.color),ie.write_shift(-4,Ae.L),ie.write_shift(-4,Ae.R),ie.write_shift(-4,Ae.C),Ae.clsid)ie.write_shift(16,Ae.clsid,"hex");else for(Ee=0;Ee<4;++Ee)ie.write_shift(4,0);ie.write_shift(4,Ae.state||0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,Ae.start),ie.write_shift(4,Ae.size),ie.write_shift(4,0)}for(le=1;le<W.FileIndex.length;++le)if(Ae=W.FileIndex[le],Ae.size>=4096)if(ie.l=Ae.start+1<<9,It&&Buffer.isBuffer(Ae.content))Ae.content.copy(ie,ie.l,0,Ae.size),ie.l+=Ae.size+511&-512;else{for(Ee=0;Ee<Ae.size;++Ee)ie.write_shift(1,Ae.content[Ee]);for(;Ee&511;++Ee)ie.write_shift(1,0)}for(le=1;le<W.FileIndex.length;++le)if(Ae=W.FileIndex[le],Ae.size>0&&Ae.size<4096)if(It&&Buffer.isBuffer(Ae.content))Ae.content.copy(ie,ie.l,0,Ae.size),ie.l+=Ae.size+63&-64;else{for(Ee=0;Ee<Ae.size;++Ee)ie.write_shift(1,Ae.content[Ee]);for(;Ee&63;++Ee)ie.write_shift(1,0)}if(It)ie.l=ie.length;else for(;ie.l<ie.length;)ie.write_shift(1,0);return ie}function Z(W,ae){var Q=W.FullPaths.map(function(Ee){return Ee.toUpperCase()}),te=Q.map(function(Ee){var Ce=Ee.split("/");return Ce[Ce.length-(Ee.slice(-1)=="/"?2:1)]}),ie=!1;ae.charCodeAt(0)===47?(ie=!0,ae=Q[0].slice(0,-1)+ae):ie=ae.indexOf("/")!==-1;var le=ae.toUpperCase(),Se=ie===!0?Q.indexOf(le):te.indexOf(le);if(Se!==-1)return W.FileIndex[Se];var Le=!le.match(ad);for(le=le.replace(Bc,""),Le&&(le=le.replace(ad,"!")),Se=0;Se<Q.length;++Se)if((Le?Q[Se].replace(ad,"!"):Q[Se]).replace(Bc,"")==le||(Le?te[Se].replace(ad,"!"):te[Se]).replace(Bc,"")==le)return W.FileIndex[Se];return null}var z=64,re=-2,k="d0cf11e0a1b11ae1",K=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",H={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:re,FREESECT:-1,HEADER_SIGNATURE:k,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ne(W,ae,Q){d();var te=Y(W,Q);h.writeFileSync(ae,te)}function se(W){for(var ae=new Array(W.length),Q=0;Q<W.length;++Q)ae[Q]=String.fromCharCode(W[Q]);return ae.join("")}function oe(W,ae){var Q=Y(W,ae);switch(ae&&ae.type||"buffer"){case"file":return d(),h.writeFileSync(ae.filename,Q),Q;case"binary":return typeof Q=="string"?Q:se(Q);case"base64":return au(typeof Q=="string"?Q:se(Q));case"buffer":if(It)return Buffer.isBuffer(Q)?Q:Ni(Q);case"array":return typeof Q=="string"?Ns(Q):Q}return Q}var M;function A(W){try{var ae=W.InflateRaw,Q=new ae;if(Q._processChunk(new Uint8Array([3,0]),Q._finishFlushFlag),Q.bytesRead)M=W;else throw new Error("zlib does not expose bytesRead")}catch(te){console.error("cannot use native zlib: "+(te.message||te))}}function U(W,ae){if(!M)return Ar(W,ae);var Q=M.InflateRaw,te=new Q,ie=te._processChunk(W.slice(W.l),te._finishFlushFlag);return W.l+=te.bytesRead,ie}function F(W){return M?M.deflateRawSync(W):Qt(W)}var B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ue=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],xe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ge(W){var ae=(W<<1|W<<11)&139536|(W<<5|W<<15)&558144;return(ae>>16|ae>>8|ae)&255}for(var ve=typeof Uint8Array<"u",je=ve?new Uint8Array(256):[],Be=0;Be<256;++Be)je[Be]=ge(Be);function Ge(W,ae){var Q=je[W&255];return ae<=8?Q>>>8-ae:(Q=Q<<8|je[W>>8&255],ae<=16?Q>>>16-ae:(Q=Q<<8|je[W>>16&255],Q>>>24-ae))}function at(W,ae){var Q=ae&7,te=ae>>>3;return(W[te]|(Q<=6?0:W[te+1]<<8))>>>Q&3}function I(W,ae){var Q=ae&7,te=ae>>>3;return(W[te]|(Q<=5?0:W[te+1]<<8))>>>Q&7}function ye(W,ae){var Q=ae&7,te=ae>>>3;return(W[te]|(Q<=4?0:W[te+1]<<8))>>>Q&15}function ee(W,ae){var Q=ae&7,te=ae>>>3;return(W[te]|(Q<=3?0:W[te+1]<<8))>>>Q&31}function V(W,ae){var Q=ae&7,te=ae>>>3;return(W[te]|(Q<=1?0:W[te+1]<<8))>>>Q&127}function G(W,ae,Q){var te=ae&7,ie=ae>>>3,le=(1<<Q)-1,Se=W[ie]>>>te;return Q<8-te||(Se|=W[ie+1]<<8-te,Q<16-te)||(Se|=W[ie+2]<<16-te,Q<24-te)||(Se|=W[ie+3]<<24-te),Se&le}function ce(W,ae,Q){var te=ae&7,ie=ae>>>3;return te<=5?W[ie]|=(Q&7)<<te:(W[ie]|=Q<<te&255,W[ie+1]=(Q&7)>>8-te),ae+3}function pe(W,ae,Q){var te=ae&7,ie=ae>>>3;return Q=(Q&1)<<te,W[ie]|=Q,ae+1}function Te(W,ae,Q){var te=ae&7,ie=ae>>>3;return Q<<=te,W[ie]|=Q&255,Q>>>=8,W[ie+1]=Q,ae+8}function de(W,ae,Q){var te=ae&7,ie=ae>>>3;return Q<<=te,W[ie]|=Q&255,Q>>>=8,W[ie+1]=Q&255,W[ie+2]=Q>>>8,ae+16}function Me(W,ae){var Q=W.length,te=2*Q>ae?2*Q:ae+5,ie=0;if(Q>=ae)return W;if(It){var le=C_(te);if(W.copy)W.copy(le);else for(;ie<W.length;++ie)le[ie]=W[ie];return le}else if(ve){var Se=new Uint8Array(te);if(Se.set)Se.set(W);else for(;ie<Q;++ie)Se[ie]=W[ie];return Se}return W.length=te,W}function _e(W){for(var ae=new Array(W),Q=0;Q<W;++Q)ae[Q]=0;return ae}function Re(W,ae,Q){var te=1,ie=0,le=0,Se=0,Le=0,Ee=W.length,Ce=ve?new Uint16Array(32):_e(32);for(le=0;le<32;++le)Ce[le]=0;for(le=Ee;le<Q;++le)W[le]=0;Ee=W.length;var Ae=ve?new Uint16Array(Ee):_e(Ee);for(le=0;le<Ee;++le)Ce[ie=W[le]]++,te<ie&&(te=ie),Ae[le]=0;for(Ce[0]=0,le=1;le<=te;++le)Ce[le+16]=Le=Le+Ce[le-1]<<1;for(le=0;le<Ee;++le)Le=W[le],Le!=0&&(Ae[le]=Ce[Le+16]++);var He=0;for(le=0;le<Ee;++le)if(He=W[le],He!=0)for(Le=Ge(Ae[le],te)>>te-He,Se=(1<<te+4-He)-1;Se>=0;--Se)ae[Le|Se<<He]=He&15|le<<4;return te}var Ue=ve?new Uint16Array(512):_e(512),Ze=ve?new Uint16Array(32):_e(32);if(!ve){for(var $e=0;$e<512;++$e)Ue[$e]=0;for($e=0;$e<32;++$e)Ze[$e]=0}(function(){for(var W=[],ae=0;ae<32;ae++)W.push(5);Re(W,Ze,32);var Q=[];for(ae=0;ae<=143;ae++)Q.push(8);for(;ae<=255;ae++)Q.push(9);for(;ae<=279;ae++)Q.push(7);for(;ae<=287;ae++)Q.push(8);Re(Q,Ue,288)})();var wt=(function(){for(var ae=ve?new Uint8Array(32768):[],Q=0,te=0;Q<xe.length-1;++Q)for(;te<xe[Q+1];++te)ae[te]=Q;for(;te<32768;++te)ae[te]=29;var ie=ve?new Uint8Array(259):[];for(Q=0,te=0;Q<ue.length-1;++Q)for(;te<ue[Q+1];++te)ie[te]=Q;function le(Le,Ee){for(var Ce=0;Ce<Le.length;){var Ae=Math.min(65535,Le.length-Ce),He=Ce+Ae==Le.length;for(Ee.write_shift(1,+He),Ee.write_shift(2,Ae),Ee.write_shift(2,~Ae&65535);Ae-- >0;)Ee[Ee.l++]=Le[Ce++]}return Ee.l}function Se(Le,Ee){for(var Ce=0,Ae=0,He=ve?new Uint16Array(32768):[];Ae<Le.length;){var qe=Math.min(65535,Le.length-Ae);if(qe<10){for(Ce=ce(Ee,Ce,+(Ae+qe==Le.length)),Ce&7&&(Ce+=8-(Ce&7)),Ee.l=Ce/8|0,Ee.write_shift(2,qe),Ee.write_shift(2,~qe&65535);qe-- >0;)Ee[Ee.l++]=Le[Ae++];Ce=Ee.l*8;continue}Ce=ce(Ee,Ce,+(Ae+qe==Le.length)+2);for(var Je=0;qe-- >0;){var Ve=Le[Ae];Je=(Je<<5^Ve)&32767;var Ye=-1,rt=0;if((Ye=He[Je])&&(Ye|=Ae&-32768,Ye>Ae&&(Ye-=32768),Ye<Ae))for(;Le[Ye+rt]==Le[Ae+rt]&&rt<250;)++rt;if(rt>2){Ve=ie[rt],Ve<=22?Ce=Te(Ee,Ce,je[Ve+1]>>1)-1:(Te(Ee,Ce,3),Ce+=5,Te(Ee,Ce,je[Ve-23]>>5),Ce+=3);var Yt=Ve<8?0:Ve-4>>2;Yt>0&&(de(Ee,Ce,rt-ue[Ve]),Ce+=Yt),Ve=ae[Ae-Ye],Ce=Te(Ee,Ce,je[Ve]>>3),Ce-=3;var Jt=Ve<4?0:Ve-2>>1;Jt>0&&(de(Ee,Ce,Ae-Ye-xe[Ve]),Ce+=Jt);for(var sn=0;sn<rt;++sn)He[Je]=Ae&32767,Je=(Je<<5^Le[Ae])&32767,++Ae;qe-=rt-1}else Ve<=143?Ve=Ve+48:Ce=pe(Ee,Ce,1),Ce=Te(Ee,Ce,je[Ve]),He[Je]=Ae&32767,++Ae}Ce=Te(Ee,Ce,0)-1}return Ee.l=(Ce+7)/8|0,Ee.l}return function(Ee,Ce){return Ee.length<8?le(Ee,Ce):Se(Ee,Ce)}})();function Qt(W){var ae=De(50+Math.floor(W.length*1.1)),Q=wt(W,ae);return ae.slice(0,Q)}var bt=ve?new Uint16Array(32768):_e(32768),Lt=ve?new Uint16Array(32768):_e(32768),gt=ve?new Uint16Array(128):_e(128),Qe=1,Ht=1;function kt(W,ae){var Q=ee(W,ae)+257;ae+=5;var te=ee(W,ae)+1;ae+=5;var ie=ye(W,ae)+4;ae+=4;for(var le=0,Se=ve?new Uint8Array(19):_e(19),Le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ee=1,Ce=ve?new Uint8Array(8):_e(8),Ae=ve?new Uint8Array(8):_e(8),He=Se.length,qe=0;qe<ie;++qe)Se[B[qe]]=le=I(W,ae),Ee<le&&(Ee=le),Ce[le]++,ae+=3;var Je=0;for(Ce[0]=0,qe=1;qe<=Ee;++qe)Ae[qe]=Je=Je+Ce[qe-1]<<1;for(qe=0;qe<He;++qe)(Je=Se[qe])!=0&&(Le[qe]=Ae[Je]++);var Ve=0;for(qe=0;qe<He;++qe)if(Ve=Se[qe],Ve!=0){Je=je[Le[qe]]>>8-Ve;for(var Ye=(1<<7-Ve)-1;Ye>=0;--Ye)gt[Je|Ye<<Ve]=Ve&7|qe<<3}var rt=[];for(Ee=1;rt.length<Q+te;)switch(Je=gt[V(W,ae)],ae+=Je&7,Je>>>=3){case 16:for(le=3+at(W,ae),ae+=2,Je=rt[rt.length-1];le-- >0;)rt.push(Je);break;case 17:for(le=3+I(W,ae),ae+=3;le-- >0;)rt.push(0);break;case 18:for(le=11+V(W,ae),ae+=7;le-- >0;)rt.push(0);break;default:rt.push(Je),Ee<Je&&(Ee=Je);break}var Yt=rt.slice(0,Q),Jt=rt.slice(Q);for(qe=Q;qe<286;++qe)Yt[qe]=0;for(qe=te;qe<30;++qe)Jt[qe]=0;return Qe=Re(Yt,bt,286),Ht=Re(Jt,Lt,30),ae}function ds(W,ae){if(W[0]==3&&!(W[1]&3))return[Za(ae),2];for(var Q=0,te=0,ie=C_(ae||1<<18),le=0,Se=ie.length>>>0,Le=0,Ee=0;(te&1)==0;){if(te=I(W,Q),Q+=3,te>>>1)te>>1==1?(Le=9,Ee=5):(Q=kt(W,Q),Le=Qe,Ee=Ht);else{Q&7&&(Q+=8-(Q&7));var Ce=W[Q>>>3]|W[(Q>>>3)+1]<<8;if(Q+=32,Ce>0)for(!ae&&Se<le+Ce&&(ie=Me(ie,le+Ce),Se=ie.length);Ce-- >0;)ie[le++]=W[Q>>>3],Q+=8;continue}for(;;){!ae&&Se<le+32767&&(ie=Me(ie,le+32767),Se=ie.length);var Ae=G(W,Q,Le),He=te>>>1==1?Ue[Ae]:bt[Ae];if(Q+=He&15,He>>>=4,(He>>>8&255)===0)ie[le++]=He;else{if(He==256)break;He-=257;var qe=He<8?0:He-4>>2;qe>5&&(qe=0);var Je=le+ue[He];qe>0&&(Je+=G(W,Q,qe),Q+=qe),Ae=G(W,Q,Ee),He=te>>>1==1?Ze[Ae]:Lt[Ae],Q+=He&15,He>>>=4;var Ve=He<4?0:He-2>>1,Ye=xe[He];for(Ve>0&&(Ye+=G(W,Q,Ve),Q+=Ve),!ae&&Se<Je&&(ie=Me(ie,Je+100),Se=ie.length);le<Je;)ie[le]=ie[le-Ye],++le}}}return ae?[ie,Q+7>>>3]:[ie.slice(0,le),Q+7>>>3]}function Ar(W,ae){var Q=W.slice(W.l||0),te=ds(Q,ae);return W.l+=te[1],te[0]}function or(W,ae){if(W)typeof console<"u"&&console.error(ae);else throw new Error(ae)}function Rn(W,ae){var Q=W;Br(Q,0);var te=[],ie=[],le={FileIndex:te,FullPaths:ie};j(le,{root:ae.root});for(var Se=Q.length-4;(Q[Se]!=80||Q[Se+1]!=75||Q[Se+2]!=5||Q[Se+3]!=6)&&Se>=0;)--Se;Q.l=Se+4,Q.l+=4;var Le=Q.read_shift(2);Q.l+=6;var Ee=Q.read_shift(4);for(Q.l=Ee,Se=0;Se<Le;++Se){Q.l+=20;var Ce=Q.read_shift(4),Ae=Q.read_shift(4),He=Q.read_shift(2),qe=Q.read_shift(2),Je=Q.read_shift(2);Q.l+=8;var Ve=Q.read_shift(4),Ye=c(Q.slice(Q.l+He,Q.l+He+qe));Q.l+=He+qe+Je;var rt=Q.l;Q.l=Ve+4,zn(Q,Ce,Ae,le,Ye),Q.l=rt}return le}function zn(W,ae,Q,te,ie){W.l+=2;var le=W.read_shift(2),Se=W.read_shift(2),Le=o(W);if(le&8257)throw new Error("Unsupported ZIP encryption");for(var Ee=W.read_shift(4),Ce=W.read_shift(4),Ae=W.read_shift(4),He=W.read_shift(2),qe=W.read_shift(2),Je="",Ve=0;Ve<He;++Ve)Je+=String.fromCharCode(W[W.l++]);if(qe){var Ye=c(W.slice(W.l,W.l+qe));(Ye[21589]||{}).mt&&(Le=Ye[21589].mt),((ie||{})[21589]||{}).mt&&(Le=ie[21589].mt)}W.l+=qe;var rt=W.slice(W.l,W.l+Ce);switch(Se){case 8:rt=U(W,Ae);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Se)}var Yt=!1;le&8&&(Ee=W.read_shift(4),Ee==134695760&&(Ee=W.read_shift(4),Yt=!0),Ce=W.read_shift(4),Ae=W.read_shift(4)),Ce!=ae&&or(Yt,"Bad compressed size: "+ae+" != "+Ce),Ae!=Q&&or(Yt,"Bad uncompressed size: "+Q+" != "+Ae),Bn(te,Je,rt,{unsafe:!0,mt:Le})}function At(W,ae){var Q=ae||{},te=[],ie=[],le=De(1),Se=Q.compression?8:0,Le=0,Ee=0,Ce=0,Ae=0,He=0,qe=W.FullPaths[0],Je=qe,Ve=W.FileIndex[0],Ye=[],rt=0;for(Ee=1;Ee<W.FullPaths.length;++Ee)if(Je=W.FullPaths[Ee].slice(qe.length),Ve=W.FileIndex[Ee],!(!Ve.size||!Ve.content||Je=="Sh33tJ5")){var Yt=Ae,Jt=De(Je.length);for(Ce=0;Ce<Je.length;++Ce)Jt.write_shift(1,Je.charCodeAt(Ce)&127);Jt=Jt.slice(0,Jt.l),Ye[He]=kP.buf(Ve.content,0);var sn=Ve.content;Se==8&&(sn=F(sn)),le=De(30),le.write_shift(4,67324752),le.write_shift(2,20),le.write_shift(2,Le),le.write_shift(2,Se),Ve.mt?i(le,Ve.mt):le.write_shift(4,0),le.write_shift(-4,Ye[He]),le.write_shift(4,sn.length),le.write_shift(4,Ve.content.length),le.write_shift(2,Jt.length),le.write_shift(2,0),Ae+=le.length,te.push(le),Ae+=Jt.length,te.push(Jt),Ae+=sn.length,te.push(sn),le=De(46),le.write_shift(4,33639248),le.write_shift(2,0),le.write_shift(2,20),le.write_shift(2,Le),le.write_shift(2,Se),le.write_shift(4,0),le.write_shift(-4,Ye[He]),le.write_shift(4,sn.length),le.write_shift(4,Ve.content.length),le.write_shift(2,Jt.length),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(4,0),le.write_shift(4,Yt),rt+=le.l,ie.push(le),rt+=Jt.length,ie.push(Jt),++He}return le=De(22),le.write_shift(4,101010256),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,He),le.write_shift(2,He),le.write_shift(4,rt),le.write_shift(4,Ae),le.write_shift(2,0),Kn([Kn(te),Kn(ie),le])}var jt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function en(W,ae){if(W.ctype)return W.ctype;var Q=W.name||"",te=Q.match(/\.([^\.]+)$/);return te&&jt[te[1]]||ae&&(te=(Q=ae).match(/[\.\\]([^\.\\])+$/),te&&jt[te[1]])?jt[te[1]]:"application/octet-stream"}function On(W){for(var ae=au(W),Q=[],te=0;te<ae.length;te+=76)Q.push(ae.slice(te,te+76));return Q.join(`\r
`)+`\r
`}function Zn(W){var ae=W.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ce){var Ae=Ce.charCodeAt(0).toString(16).toUpperCase();return"="+(Ae.length==1?"0"+Ae:Ae)});ae=ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ae.charAt(0)==`
`&&(ae="=0D"+ae.slice(1)),ae=ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Q=[],te=ae.split(`\r
`),ie=0;ie<te.length;++ie){var le=te[ie];if(le.length==0){Q.push("");continue}for(var Se=0;Se<le.length;){var Le=76,Ee=le.slice(Se,Se+Le);Ee.charAt(Le-1)=="="?Le--:Ee.charAt(Le-2)=="="?Le-=2:Ee.charAt(Le-3)=="="&&(Le-=3),Ee=le.slice(Se,Se+Le),Se+=Le,Se<le.length&&(Ee+="="),Q.push(Ee)}}return Q.join(`\r
`)}function Mn(W){for(var ae=[],Q=0;Q<W.length;++Q){for(var te=W[Q];Q<=W.length&&te.charAt(te.length-1)=="=";)te=te.slice(0,te.length-1)+W[++Q];ae.push(te)}for(var ie=0;ie<ae.length;++ie)ae[ie]=ae[ie].replace(/[=][0-9A-Fa-f]{2}/g,function(le){return String.fromCharCode(parseInt(le.slice(1),16))});return Ns(ae.join(`\r
`))}function Qn(W,ae,Q){for(var te="",ie="",le="",Se,Le=0;Le<10;++Le){var Ee=ae[Le];if(!Ee||Ee.match(/^\s*$/))break;var Ce=Ee.match(/^(.*?):\s*([^\s].*)$/);if(Ce)switch(Ce[1].toLowerCase()){case"content-location":te=Ce[2].trim();break;case"content-type":le=Ce[2].trim();break;case"content-transfer-encoding":ie=Ce[2].trim();break}}switch(++Le,ie.toLowerCase()){case"base64":Se=Ns(Ti(ae.slice(Le).join("")));break;case"quoted-printable":Se=Mn(ae.slice(Le));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ie)}var Ae=Bn(W,te.slice(Q.length),Se,{unsafe:!0});le&&(Ae.ctype=le)}function hr(W,ae){if(se(W.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Q=ae&&ae.root||"",te=(It&&Buffer.isBuffer(W)?W.toString("binary"):se(W)).split(`\r
`),ie=0,le="";for(ie=0;ie<te.length;++ie)if(le=te[ie],!!/^Content-Location:/i.test(le)&&(le=le.slice(le.indexOf("file")),Q||(Q=le.slice(0,le.lastIndexOf("/")+1)),le.slice(0,Q.length)!=Q))for(;Q.length>0&&(Q=Q.slice(0,Q.length-1),Q=Q.slice(0,Q.lastIndexOf("/")+1),le.slice(0,Q.length)!=Q););var Se=(te[1]||"").match(/boundary="(.*?)"/);if(!Se)throw new Error("MAD cannot find boundary");var Le="--"+(Se[1]||""),Ee=[],Ce=[],Ae={FileIndex:Ee,FullPaths:Ce};j(Ae);var He,qe=0;for(ie=0;ie<te.length;++ie){var Je=te[ie];Je!==Le&&Je!==Le+"--"||(qe++&&Qn(Ae,te.slice(He,ie),Q),He=ie)}return Ae}function hn(W,ae){var Q=ae||{},te=Q.boundary||"SheetJS";te="------="+te;for(var ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+te.slice(2)+'"',"","",""],le=W.FullPaths[0],Se=le,Le=W.FileIndex[0],Ee=1;Ee<W.FullPaths.length;++Ee)if(Se=W.FullPaths[Ee].slice(le.length),Le=W.FileIndex[Ee],!(!Le.size||!Le.content||Se=="Sh33tJ5")){Se=Se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(rt){return"_x"+rt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(rt){return"_u"+rt.charCodeAt(0).toString(16)+"_"});for(var Ce=Le.content,Ae=It&&Buffer.isBuffer(Ce)?Ce.toString("binary"):se(Ce),He=0,qe=Math.min(1024,Ae.length),Je=0,Ve=0;Ve<=qe;++Ve)(Je=Ae.charCodeAt(Ve))>=32&&Je<128&&++He;var Ye=He>=qe*4/5;ie.push(te),ie.push("Content-Location: "+(Q.root||"file:///C:/SheetJS/")+Se),ie.push("Content-Transfer-Encoding: "+(Ye?"quoted-printable":"base64")),ie.push("Content-Type: "+en(Le,Se)),ie.push(""),ie.push(Ye?Zn(Ae):On(Ae))}return ie.push(te+`--\r
`),ie.join(`\r
`)}function jr(W){var ae={};return j(ae,W),ae}function Bn(W,ae,Q,te){var ie=te&&te.unsafe;ie||j(W);var le=!ie&&Wt.find(W,ae);if(!le){var Se=W.FullPaths[0];ae.slice(0,Se.length)==Se?Se=ae:(Se.slice(-1)!="/"&&(Se+="/"),Se=(Se+ae).replace("//","/")),le={name:s(ae),type:2},W.FileIndex.push(le),W.FullPaths.push(Se),ie||Wt.utils.cfb_gc(W)}return le.content=Q,le.size=Q?Q.length:0,te&&(te.CLSID&&(le.clsid=te.CLSID),te.mt&&(le.mt=te.mt),te.ct&&(le.ct=te.ct)),le}function pr(W,ae){j(W);var Q=Wt.find(W,ae);if(Q){for(var te=0;te<W.FileIndex.length;++te)if(W.FileIndex[te]==Q)return W.FileIndex.splice(te,1),W.FullPaths.splice(te,1),!0}return!1}function hs(W,ae,Q){j(W);var te=Wt.find(W,ae);if(te){for(var ie=0;ie<W.FileIndex.length;++ie)if(W.FileIndex[ie]==te)return W.FileIndex[ie].name=s(Q),W.FullPaths[ie]=Q,!0}return!1}function ps(W){D(W,!0)}return t.find=Z,t.read=P,t.parse=p,t.write=oe,t.writeFile=ne,t.utils={cfb_new:jr,cfb_add:Bn,cfb_del:pr,cfb_mov:hs,cfb_gc:ps,ReadShift:$c,CheckField:LT,prep_blob:Br,bconcat:Kn,use_zlib:A,_deflateRaw:Qt,_inflateRaw:Ar,consts:H},t})();function AP(e){return typeof e=="string"?jh(e):Array.isArray(e)?tP(e):e}function ku(e,t,n){if(typeof Deno<"u"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=jh(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r=n=="utf8"?lu(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,e);if(typeof Blob<"u"){var s=new Blob([AP(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(e);return c.open("w"),c.encoding="binary",Array.isArray(t)&&(t=Nu(t)),c.write(t),c.close(),t}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+e)}function Jn(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function D_(e,t){for(var n=[],r=Jn(e),s=0;s!==r.length;++s)n[e[r[s]][t]]==null&&(n[e[r[s]][t]]=r[s]);return n}function Dx(e){for(var t=[],n=Jn(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function Mh(e){for(var t=[],n=Jn(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}function jP(e){for(var t=[],n=Jn(e),r=0;r!==n.length;++r)t[e[n[r]]]==null&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}var Qd=new Date(1899,11,30,0,0,0);function Cr(e,t){var n=e.getTime(),r=Qd.getTime()+(e.getTimezoneOffset()-Qd.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var yT=new Date,RP=Qd.getTime()+(yT.getTimezoneOffset()-Qd.getTimezoneOffset())*6e4,I_=yT.getTimezoneOffset();function wT(e){var t=new Date;return t.setTime(e*24*60*60*1e3+RP),t.getTimezoneOffset()!==I_&&t.setTime(t.getTime()+(t.getTimezoneOffset()-I_)*6e4),t}var L_=new Date("2017-02-19T19:06:09.000Z"),bT=isNaN(L_.getFullYear())?new Date("2/19/17"):L_,OP=bT.getFullYear()==2017;function dr(e,t){var n=new Date(e);if(OP)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(bT.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Dh(e,t){if(It&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return n[i]||i})}catch{}for(var r=[],s=0;s!=e.length;++s)r.push(String.fromCharCode(e[s]));return r.join("")}function Nr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Nr(e[n]));return t}function fn(e,t){for(var n="";n.length<t;)n+=e;return n}function wi(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(s,i){return n=-n,i}),!isNaN(t=Number(r)))?t/n:t}var MP=["january","february","march","april","may","june","july","august","september","october","november","december"];function ou(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&MP.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(s>0||i>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}function yt(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return It?r=Ni(n):r=nP(n),Wt.utils.cfb_add(e,t,r)}Wt.utils.cfb_add(e,t,n)}else e.file(t,n)}function Ix(){return Wt.utils.cfb_new()}var En=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,DP={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Lx=Dx(DP),Fx=/[&<>'"]/g,IP=/[\u0000-\u0008\u000b-\u001f]/g;function Ut(e){var t=e+"";return t.replace(Fx,function(n){return Lx[n]}).replace(IP,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function F_(e){return Ut(e).replace(/ /g,"_x0020_")}var _T=/[\u0000-\u001f]/g;function LP(e){var t=e+"";return t.replace(Fx,function(n){return Lx[n]}).replace(/\n/g,"<br/>").replace(_T,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function FP(e){var t=e+"";return t.replace(Fx,function(n){return Lx[n]}).replace(_T,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function PP(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function zP(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Mm(e){for(var t="",n=0,r=0,s=0,i=0,o=0,c=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(s=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=s&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(n++),c=((r&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(c>>>10&1023)),t+=String.fromCharCode(56320+(c&1023))}return t}function P_(e){var t=Za(2*e.length),n,r,s=1,i=0,o=0,c;for(r=0;r<e.length;r+=s)s=1,(c=e.charCodeAt(r))<128?n=c:c<224?(n=(c&31)*64+(e.charCodeAt(r+1)&63),s=2):c<240?(n=(c&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),s=3):(s=4,n=(c&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=n%256,t[i++]=n>>>8;return t.slice(0,i).toString("ucs2")}function z_(e){return Ni(e,"binary").toString("utf8")}var ld="foo bar baz",Uc=It&&(z_(ld)==Mm(ld)&&z_||P_(ld)==Mm(ld)&&P_)||Mm,lu=It?function(e){return Ni(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,s=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,s=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},BP=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)r=r.replace(e[s][0],e[s][1]);return r}})(),ST=/(^\s|\s$|\n)/;function Xn(e,t){return"<"+e+(t.match(ST)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function cu(e){return Jn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ke(e,t,n){return"<"+e+(n!=null?cu(n):"")+(t!=null?(t.match(ST)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Ig(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function UP(e,t){switch(typeof e){case"string":var n=Ke("vt:lpwstr",Ut(e));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Ke((e|0)==e?"vt:i4":"vt:r8",Ut(String(e)));case"boolean":return Ke("vt:bool",e?"true":"false")}if(e instanceof Date)return Ke("vt:filetime",Ig(e));throw new Error("Unable to serialize "+e)}var Ln={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Cl=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ur={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function $P(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return r==2047?s==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,s+=Math.pow(2,52)),n*Math.pow(2,r-52)*s)}function HP(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,o=r?-t:t;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var c=0;c<=5;++c,i/=256)e[n+c]=i&255;e[n+6]=(s&15)<<4|i&15,e[n+7]=s>>4|r}var B_=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var s=0,i=e[0][r].length;s<i;s+=n)t.push.apply(t,e[0][r].slice(s,s+n));return t},U_=It?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ni(t)})):B_(e)}:B_,$_=function(e,t,n){for(var r=[],s=t;s<n;s+=2)r.push(String.fromCharCode(Dc(e,s)));return r.join("").replace(Bc,"")},Px=It?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(Bc,""):$_(e,t,n)}:$_,H_=function(e,t,n){for(var r=[],s=t;s<t+n;++s)r.push(("0"+e[s].toString(16)).slice(-2));return r.join("")},ET=It?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):H_(e,t,n)}:H_,V_=function(e,t,n){for(var r=[],s=t;s<n;s++)r.push(String.fromCharCode(Yo(e,s)));return r.join("")},Au=It?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):V_(t,n,r)}:V_,TT=function(e,t){var n=$r(e,t);return n>0?Au(e,t+4,t+4+n-1):""},CT=TT,NT=function(e,t){var n=$r(e,t);return n>0?Au(e,t+4,t+4+n-1):""},kT=NT,AT=function(e,t){var n=2*$r(e,t);return n>0?Au(e,t+4,t+4+n-1):""},jT=AT,RT=function(t,n){var r=$r(t,n);return r>0?Px(t,n+4,n+4+r):""},OT=RT,MT=function(e,t){var n=$r(e,t);return n>0?Au(e,t+4,t+4+n):""},DT=MT,IT=function(e,t){return $P(e,t)},eh=IT,zx=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};It&&(CT=function(t,n){if(!Buffer.isBuffer(t))return TT(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},kT=function(t,n){if(!Buffer.isBuffer(t))return NT(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},jT=function(t,n){if(!Buffer.isBuffer(t))return AT(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},OT=function(t,n){if(!Buffer.isBuffer(t))return RT(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},DT=function(t,n){if(!Buffer.isBuffer(t))return MT(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},eh=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):IT(t,n)},zx=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Yo=function(e,t){return e[t]},Dc=function(e,t){return e[t+1]*256+e[t]},VP=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},$r=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ua=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},GP=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function $c(e,t){var n="",r,s,i=[],o,c,h,d;switch(t){case"dbcs":if(d=this.l,It&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(h=0;h<e;++h)n+=String.fromCharCode(Dc(this,d)),d+=2;e*=2;break;case"utf8":n=Au(this,this.l,this.l+e);break;case"utf16le":e*=2,n=Px(this,this.l,this.l+e);break;case"wstr":return $c.call(this,e,"dbcs");case"lpstr-ansi":n=CT(this,this.l),e=4+$r(this,this.l);break;case"lpstr-cp":n=kT(this,this.l),e=4+$r(this,this.l);break;case"lpwstr":n=jT(this,this.l),e=4+2*$r(this,this.l);break;case"lpp4":e=4+$r(this,this.l),n=OT(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+$r(this,this.l),n=DT(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=Yo(this,this.l+e++))!==0;)i.push(id(o));n=i.join("");break;case"_wstr":for(e=0,n="";(o=Dc(this,this.l+e))!==0;)i.push(id(o)),e+=2;e+=2,n=i.join("");break;case"dbcs-cont":for(n="",d=this.l,h=0;h<e;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Yo(this,d),this.l=d+1,c=$c.call(this,e-h,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(id(Dc(this,d))),d+=2}n=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",d=this.l,h=0;h!=e;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Yo(this,d),this.l=d+1,c=$c.call(this,e-h,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(id(Yo(this,d))),d+=1}n=i.join("");break;default:switch(e){case 1:return r=Yo(this,this.l),this.l++,r;case 2:return r=(t==="i"?VP:Dc)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?Ua:GP)(this,this.l),this.l+=4,r):(s=$r(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=eh(this,this.l):s=eh([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:n=ET(this,this.l,e);break}}return this.l+=e,n}var qP=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},WP=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},KP=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function XP(e,t,n){var r=0,s=0;if(n==="dbcs"){for(s=0;s!=t.length;++s)KP(this,t.charCodeAt(s),this.l+2*s);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;r=t.length}else if(n==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var o=t.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,qP(this,t,this.l);break;case 8:if(r=8,n==="f"){HP(this,t,this.l);break}case 16:break;case-4:r=4,WP(this,t,this.l);break}return this.l+=r,this}function LT(e,t){var n=ET(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Br(e,t){e.l=t,e.read_shift=$c,e.chk=LT,e.write_shift=XP}function Hs(e,t){e.l+=t}function De(e){var t=Za(e);return Br(t,0),t}function Tr(){var e=[],t=It?256:2048,n=function(d){var p=De(d);return Br(p,0),p},r=n(t),s=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},i=function(d){return r&&d<r.length-r.l?r:(s(),r=n(Math.max(d+1,t)))},o=function(){return s(),Kn(e)},c=function(d){s(),r=d,r.l==null&&(r.l=r.length),i(t)};return{next:i,push:c,end:o,_bufs:e}}function ze(e,t,n,r){var s=+t,i;if(!isNaN(s)){r||(r=$$[s].p||(n||[]).length||0),i=1+(s>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var o=e.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var c=0;c!=4;++c)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&zx(n)&&e.push(n)}}function Hc(e,t,n){var r=Nr(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function G_(e,t,n){var r=Nr(e);return r.s=Hc(r.s,t.s,n),r.e=Hc(r.e,t.s,n),r}function Vc(e,t){if(e.cRel&&e.c<0)for(e=Nr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Nr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=$t(e);return!e.cRel&&e.cRel!=null&&(n=ZP(n)),!e.rRel&&e.rRel!=null&&(n=YP(n)),n}function Dm(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ir(e.s.c)+":"+(e.e.cRel?"":"$")+ir(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Yn(e.s.r)+":"+(e.e.rRel?"":"$")+Yn(e.e.r):Vc(e.s,t.biff)+":"+Vc(e.e,t.biff)}function Bx(e){return parseInt(JP(e),10)-1}function Yn(e){return""+(e+1)}function YP(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function JP(e){return e.replace(/\$(\d+)$/,"$1")}function Ux(e){for(var t=QP(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function ir(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function ZP(e){return e.replace(/^([A-Z])/,"$$$1")}function QP(e){return e.replace(/^\$([A-Z])/,"$1")}function e7(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Fn(e){for(var t=0,n=0,r=0;r<e.length;++r){var s=e.charCodeAt(r);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:t-1}}function $t(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Wr(e){var t=e.indexOf(":");return t==-1?{s:Fn(e),e:Fn(e)}:{s:Fn(e.slice(0,t)),e:Fn(e.slice(t+1))}}function Sn(e,t){return typeof t>"u"||typeof t=="number"?Sn(e.s,e.e):(typeof e!="string"&&(e=$t(e)),typeof t!="string"&&(t=$t(t)),e==t?e:e+":"+t)}function rn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,s=0,i=e.length;for(n=0;r<i&&!((s=e.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(t.s.c=--n,n=0;r<i&&!((s=e.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;if(t.s.r=--n,r===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=i&&!((s=e.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(t.e.c=--n,n=0;r!=i&&!((s=e.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;return t.e.r=--n,t}function q_(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=fa(e.z,n?Cr(t):t)}catch{}try{return e.w=fa((e.XF||{}).numFmtId||(n?14:0),n?Cr(t):t)}catch{return""+t}}function Ci(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?ju[e.v]||e.v:t==null?q_(e,e.v):q_(e,t))}function to(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function FT(e,t,n){var r=n||{},s=e?Array.isArray(e):r.dense,i=e||(s?[]:{}),o=0,c=0;if(i&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var h=typeof r.origin=="string"?Fn(r.origin):r.origin;o=h.r,c=h.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var p=rn(i["!ref"]);d.s.c=p.s.c,d.s.r=p.s.r,d.e.c=Math.max(d.e.c,p.e.c),d.e.r=Math.max(d.e.r,p.e.r),o==-1&&(d.e.r=o=p.e.r+1)}for(var g=0;g!=t.length;++g)if(t[g]){if(!Array.isArray(t[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=t[g].length;++v)if(!(typeof t[g][v]>"u")){var x={v:t[g][v]},b=o+g,y=c+v;if(d.s.r>b&&(d.s.r=b),d.s.c>y&&(d.s.c=y),d.e.r<b&&(d.e.r=b),d.e.c<y&&(d.e.c=y),t[g][v]&&typeof t[g][v]=="object"&&!Array.isArray(t[g][v])&&!(t[g][v]instanceof Date))x=t[g][v];else if(Array.isArray(x.v)&&(x.f=t[g][v][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(r.nullError)x.t="e",x.v=0;else if(r.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=r.dateNF||dn[14],r.cellDates?(x.t="d",x.w=fa(x.z,Cr(x.v))):(x.t="n",x.v=Cr(x.v),x.w=fa(x.z,x.v))):x.t="s";if(s)i[b]||(i[b]=[]),i[b][y]&&i[b][y].z&&(x.z=i[b][y].z),i[b][y]=x;else{var _=$t({c:y,r:b});i[_]&&i[_].z&&(x.z=i[_].z),i[_]=x}}}return d.s.c<1e7&&(i["!ref"]=Sn(d)),i}function Nl(e,t){return FT(null,e,t)}function t7(e){return e.read_shift(4,"i")}function js(e,t){return t||(t=De(4)),t.write_shift(4,e),t}function ar(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Pn(e,t){var n=!1;return t==null&&(n=!0,t=De(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function n7(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function r7(e,t){return t||(t=De(4)),t.write_shift(2,0),t.write_shift(2,0),t}function $x(e,t){var n=e.l,r=e.read_shift(1),s=ar(e),i=[],o={t:s,h:s};if((r&1)!==0){for(var c=e.read_shift(4),h=0;h!=c;++h)i.push(n7(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}function s7(e,t){var n=!1;return t==null&&(n=!0,t=De(15+4*e.t.length)),t.write_shift(1,0),Pn(e.t,t),n?t.slice(0,t.l):t}var i7=$x;function a7(e,t){var n=!1;return t==null&&(n=!0,t=De(23+4*e.t.length)),t.write_shift(1,1),Pn(e.t,t),t.write_shift(4,1),r7({},t),n?t.slice(0,t.l):t}function fs(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function no(e,t){return t==null&&(t=De(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function ro(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function so(e,t){return t==null&&(t=De(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var o7=ar,PT=Pn;function Hx(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function th(e,t){var n=!1;return t==null&&(n=!0,t=De(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var l7=ar,Lg=Hx,Vx=th;function zT(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var s=r===0?eh([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ua(t,0)>>2;return n?s/100:s}function BT(e,t){t==null&&(t=De(4));var n=0,r=0,s=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?r=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(r=1,n=1),r)t.write_shift(-4,((n?s:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function UT(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function c7(e,t){return t||(t=De(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var io=UT,kl=c7;function Al(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Qa(e,t){return(t||De(8)).write_shift(8,e,"f")}function u7(e){var t={},n=e.read_shift(1),r=n>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),c=e.read_shift(1),h=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=s;var d=y7[s];d&&(t.rgb=r2(d));break;case 2:t.rgb=r2([o,c,h]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function nh(e,t){if(t||(t=De(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=e.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function f7(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function d7(e,t){t||(t=De(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}var $T=2,zr=3,cd=11,rh=19,ud=64,h7=65,p7=71,m7=4108,g7=4126,Wn=80,W_={1:{n:"CodePage",t:$T},2:{n:"Category",t:Wn},3:{n:"PresentationFormat",t:Wn},4:{n:"ByteCount",t:zr},5:{n:"LineCount",t:zr},6:{n:"ParagraphCount",t:zr},7:{n:"SlideCount",t:zr},8:{n:"NoteCount",t:zr},9:{n:"HiddenCount",t:zr},10:{n:"MultimediaClipCount",t:zr},11:{n:"ScaleCrop",t:cd},12:{n:"HeadingPairs",t:m7},13:{n:"TitlesOfParts",t:g7},14:{n:"Manager",t:Wn},15:{n:"Company",t:Wn},16:{n:"LinksUpToDate",t:cd},17:{n:"CharacterCount",t:zr},19:{n:"SharedDoc",t:cd},22:{n:"HyperlinksChanged",t:cd},23:{n:"AppVersion",t:zr,p:"version"},24:{n:"DigSig",t:h7},26:{n:"ContentType",t:Wn},27:{n:"ContentStatus",t:Wn},28:{n:"Language",t:Wn},29:{n:"Version",t:Wn},255:{},2147483648:{n:"Locale",t:rh},2147483651:{n:"Behavior",t:rh},1919054434:{}},K_={1:{n:"CodePage",t:$T},2:{n:"Title",t:Wn},3:{n:"Subject",t:Wn},4:{n:"Author",t:Wn},5:{n:"Keywords",t:Wn},6:{n:"Comments",t:Wn},7:{n:"Template",t:Wn},8:{n:"LastAuthor",t:Wn},9:{n:"RevNumber",t:Wn},10:{n:"EditTime",t:ud},11:{n:"LastPrinted",t:ud},12:{n:"CreatedDate",t:ud},13:{n:"ModifiedDate",t:ud},14:{n:"PageCount",t:zr},15:{n:"WordCount",t:zr},16:{n:"CharCount",t:zr},17:{n:"Thumbnail",t:p7},18:{n:"Application",t:Wn},19:{n:"DocSecurity",t:zr},255:{},2147483648:{n:"Locale",t:rh},2147483651:{n:"Behavior",t:rh},1919054434:{}};function x7(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var v7=x7([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),y7=Nr(v7),ju={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},w7={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},fd={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function HT(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function VT(e,t){var n=jP(w7),r=[],s;r[r.length]=En,r[r.length]=Ke("Types",null,{xmlns:Ln.CT,"xmlns:xsd":Ln.xsd,"xmlns:xsi":Ln.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return Ke("Default",null,{Extension:h[0],ContentType:h[1]})}));var i=function(h){e[h]&&e[h].length>0&&(s=e[h][0],r[r.length]=Ke("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:fd[h][t.bookType]||fd[h].xlsx}))},o=function(h){(e[h]||[]).forEach(function(d){r[r.length]=Ke("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:fd[h][t.bookType]||fd[h].xlsx})})},c=function(h){(e[h]||[]).forEach(function(d){r[r.length]=Ke("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:n[h][0]})})};return i("workbooks"),o("sheets"),o("charts"),c("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),o("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Mt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function GT(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function ol(e){var t=[En,Ke("Relationships",null,{xmlns:Ln.RELS})];return Jn(e["!id"]).forEach(function(n){t[t.length]=Ke("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Bt(e,t,n,r,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=r,s.Target=n,[Mt.HLINK,Mt.XPATH,Mt.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function b7(e){var t=[En];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function X_(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function _7(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function S7(e){var t=[En];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(X_(e[n][0],e[n][1])),t.push(_7("",e[n][0]));return t.push(X_("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function qT(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Kd.version+"</meta:generator></office:meta></office:document-meta>"}var Ya=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Im(e,t,n,r,s){s[e]!=null||t==null||t===""||(s[e]=t,t=Ut(t),r[r.length]=n?Ke(e,t,n):Xn(e,t))}function WT(e,t){var n=t||{},r=[En,Ke("cp:coreProperties",null,{"xmlns:cp":Ln.CORE_PROPS,"xmlns:dc":Ln.dc,"xmlns:dcterms":Ln.dcterms,"xmlns:dcmitype":Ln.dcmitype,"xmlns:xsi":Ln.xsi})],s={};if(!e&&!n.Props)return r.join("");e&&(e.CreatedDate!=null&&Im("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Ig(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s),e.ModifiedDate!=null&&Im("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Ig(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s));for(var i=0;i!=Ya.length;++i){var o=Ya[i],c=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:e?e[o[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&Im(o[0],c,null,r,s)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var ll=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],KT=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function XT(e){var t=[],n=Ke;return e||(e={}),e.Application="SheetJS",t[t.length]=En,t[t.length]=Ke("Properties",null,{xmlns:Ln.EXT_PROPS,"xmlns:vt":Ln.vt}),ll.forEach(function(r){if(e[r[1]]!==void 0){var s;switch(r[2]){case"string":s=Ut(String(e[r[1]]));break;case"bool":s=e[r[1]]?"true":"false";break}s!==void 0&&(t[t.length]=n(r[0],s))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+Ut(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function YT(e){var t=[En,Ke("Properties",null,{xmlns:Ln.CUST_PROPS,"xmlns:vt":Ln.vt})];if(!e)return t.join("");var n=1;return Jn(e).forEach(function(s){++n,t[t.length]=Ke("property",UP(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Ut(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Y_={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function E7(e,t){var n=[];return Jn(Y_).map(function(r){for(var s=0;s<Ya.length;++s)if(Ya[s][1]==r)return Ya[s];for(s=0;s<ll.length;++s)if(ll[s][1]==r)return ll[s];throw r}).forEach(function(r){if(e[r[1]]!=null){var s=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),n.push(Xn(Y_[r[1]]||r[1],s))}}),Ke("DocumentProperties",n.join(""),{xmlns:Ur.o})}function T7(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",s=[];return e&&Jn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Ya.length;++o)if(i==Ya[o][1])return;for(o=0;o<ll.length;++o)if(i==ll[o][1])return;for(o=0;o<n.length;++o)if(i==n[o])return;var c=e[i],h="string";typeof c=="number"?(h="float",c=String(c)):c===!0||c===!1?(h="boolean",c=c?"1":"0"):c=String(c),s.push(Ke(F_(i),c,{"dt:dt":h}))}}),t&&Jn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o instanceof Date?(c="dateTime.tz",o=o.toISOString()):o=String(o),s.push(Ke(F_(i),o,{"dt:dt":c}))}}),"<"+r+' xmlns="'+Ur.o+'">'+s.join("")+"</"+r+">"}function C7(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,r=n%Math.pow(2,32),s=(n-r)/Math.pow(2,32);r*=1e7,s*=1e7;var i=r/Math.pow(2,32)|0;i>0&&(r=r%Math.pow(2,32),s+=i);var o=De(8);return o.write_shift(4,r),o.write_shift(4,s),o}function J_(e,t){var n=De(4),r=De(4);switch(n.write_shift(4,e==80?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=De(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=C7(t);break;case 31:case 80:for(r=De(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Kn([n,r])}var JT=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function N7(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function Z_(e,t,n){var r=De(8),s=[],i=[],o=8,c=0,h=De(8),d=De(8);if(h.write_shift(4,2),h.write_shift(4,1200),d.write_shift(4,1),i.push(h),s.push(d),o+=8+h.length,!t){d=De(8),d.write_shift(4,0),s.unshift(d);var p=[De(4)];for(p[0].write_shift(4,e.length),c=0;c<e.length;++c){var g=e[c][0];for(h=De(8+2*(g.length+1)+(g.length%2?0:2)),h.write_shift(4,c+2),h.write_shift(4,g.length+1),h.write_shift(0,g,"dbcs");h.l!=h.length;)h.write_shift(1,0);p.push(h)}h=Kn(p),i.unshift(h),o+=8+h.length}for(c=0;c<e.length;++c)if(!(t&&!t[e[c][0]])&&!(JT.indexOf(e[c][0])>-1||KT.indexOf(e[c][0])>-1)&&e[c][1]!=null){var v=e[c][1],x=0;if(t){x=+t[e[c][0]];var b=n[x];if(b.p=="version"&&typeof v=="string"){var y=v.split(".");v=(+y[0]<<16)+(+y[1]||0)}h=J_(b.t,v)}else{var _=N7(v);_==-1&&(_=31,v=String(v)),h=J_(_,v)}i.push(h),d=De(8),d.write_shift(4,t?x:2+c),s.push(d),o+=8+h.length}var E=8*(i.length+1);for(c=0;c<i.length;++c)s[c].write_shift(4,E),E+=i[c].length;return r.write_shift(4,o),r.write_shift(4,i.length),Kn([r].concat(s).concat(i))}function Q_(e,t,n,r,s,i){var o=De(s?68:48),c=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Wt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,s?68:48);var h=Z_(e,n,r);if(c.push(h),s){var d=Z_(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+h.length),c.push(d)}return Kn(c)}function k7(e,t){t||(t=De(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function A7(e,t){return e.read_shift(t)===1}function fr(e,t){return t||(t=De(2)),t.write_shift(2,+!!e),t}function ZT(e){return e.read_shift(2,"u")}function as(e,t){return t||(t=De(2)),t.write_shift(2,e),t}function QT(e,t,n){return n||(n=De(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function eC(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else n.biff==12&&(s="wstr");n.biff>=2&&n.biff<=5&&(s="cpstr");var o=r?e.read_shift(r,s):"";return o}function j7(e){var t=e.t||"",n=De(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=De(2*t.length);r.write_shift(2*t.length,t,"utf16le");var s=[n,r];return Kn(s)}function R7(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function O7(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):R7(e,r,n)}function M7(e,t,n){if(n.biff>5)return O7(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function tC(e,t,n){return n||(n=De(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function e2(e,t){t||(t=De(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function D7(e){var t=De(512),n=0,r=e.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var s=r.indexOf("#"),i=s>-1?31:23;switch(r.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(i==28)r=r.slice(1),e2(r,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var c=s>-1?r.slice(0,s):r;for(t.write_shift(4,2*(c.length+1)),n=0;n<c.length;++n)t.write_shift(2,c.charCodeAt(n));t.write_shift(2,0),i&8&&e2(s>-1?r.slice(s+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var h=0;r.slice(h*3,h*3+3)=="../"||r.slice(h*3,h*3+3)=="..\\";)++h;for(t.write_shift(2,h),t.write_shift(4,r.length-3*h+1),n=0;n<r.length-3*h;++n)t.write_shift(1,r.charCodeAt(n+3*h)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function eo(e,t,n,r){return r||(r=De(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function I7(e,t,n){var r=n.biff>8?4:2,s=e.read_shift(r),i=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[s,i,o]}function L7(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2);return{s:{c:r,r:t},e:{c:s,r:n}}}function nC(e,t){return t||(t=De(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Gx(e,t,n){var r=1536,s=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,s=8;break;case"biff4":r=4,s=6;break;case"biff3":r=3,s=6;break;case"biff2":r=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=De(s);return i.write_shift(2,r),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function F7(e,t){var n=!t||t.biff==8,r=De(n?112:54);for(r.write_shift(t.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function P7(e,t){var n=!t||t.biff>=8?2:1,r=De(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=r.slice(0,r.l);return s.l=r.l,s}function z7(e,t){var n=De(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],s=0;s<e.length;++s)r[s]=j7(e[s]);var i=Kn([n].concat(r));return i.parts=[n.length].concat(r.map(function(o){return o.length})),i}function B7(){var e=De(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function U7(e){var t=De(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function $7(e,t){var n=e.name||"Arial",r=t&&t.biff==5,s=r?15+n.length:16+2*n.length,i=De(s);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,n.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),i}function H7(e,t,n,r){var s=De(10);return eo(e,t,r,s),s.write_shift(4,n),s}function V7(e,t,n,r,s){var i=!s||s.biff==8,o=De(8+ +i+(1+i)*n.length);return eo(e,t,r,o),o.write_shift(2,n.length),i&&o.write_shift(1,1),o.write_shift((1+i)*n.length,n,i?"utf16le":"sbcs"),o}function G7(e,t,n,r){var s=n&&n.biff==5;r||(r=De(s?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(s?1:2,t.length),s||r.write_shift(1,1),r.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=r.length>r.l?r.slice(0,r.l):r;return i.l==null&&(i.l=i.length),i}function q7(e,t){var n=t.biff==8||!t.biff?4:2,r=De(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function t2(e,t,n,r){var s=n&&n.biff==5;r||(r=De(s?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),r.write_shift(4,i),r.write_shift(4,0),s||r.write_shift(4,0),r.write_shift(2,0),r}function W7(e){var t=De(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function K7(e,t,n,r,s,i){var o=De(8);return eo(e,t,r,o),QT(n,i,o),o}function X7(e,t,n,r){var s=De(14);return eo(e,t,r,s),Qa(n,s),s}function Y7(e,t,n){if(n.biff<8)return J7(e,t,n);for(var r=[],s=e.l+t,i=e.read_shift(n.biff>8?4:2);i--!==0;)r.push(I7(e,n.biff>8?12:6,n));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return r}function J7(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=eC(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function Z7(e){var t=De(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)nC(e[n],t);return t}function Q7(e){var t=De(24),n=Fn(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(r[s],16));return Kn([t,D7(e[1])])}function ez(e){var t=e[1].Tooltip,n=De(10+2*(t.length+1));n.write_shift(2,2048);var r=Fn(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var s=0;s<t.length;++s)n.write_shift(2,t.charCodeAt(s));return n.write_shift(2,0),n}function tz(e){return e||(e=De(4)),e.write_shift(2,1),e.write_shift(2,1),e}function nz(e,t,n){if(!n.cellStyles)return Hs(e,t);var r=n&&n.biff>=12?4:2,s=e.read_shift(r),i=e.read_shift(r),o=e.read_shift(r),c=e.read_shift(r),h=e.read_shift(2);r==2&&(e.l+=2);var d={s,e:i,w:o,ixfe:c,flags:h};return(n.biff>=5||!n.biff)&&(d.level=h>>8&7),d}function rz(e,t){var n=De(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function sz(e){for(var t=De(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}function iz(e,t,n){var r=De(15);return Ou(r,e,t),r.write_shift(8,n,"f"),r}function az(e,t,n){var r=De(9);return Ou(r,e,t),r.write_shift(2,n),r}var oz=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Dx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,h){var d=[],p=Za(1);switch(h.type){case"base64":p=Ns(Ti(c));break;case"binary":p=Ns(c);break;case"buffer":case"array":p=c;break}Br(p,0);var g=p.read_shift(1),v=!!(g&136),x=!1,b=!1;switch(g){case 2:break;case 3:break;case 48:x=!0,v=!0;break;case 49:x=!0,v=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var y=0,_=521;g==2&&(y=p.read_shift(2)),p.l+=3,g!=2&&(y=p.read_shift(4)),y>1048576&&(y=1e6),g!=2&&(_=p.read_shift(2));var E=p.read_shift(2),T=h.codepage||1252;g!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(T=e[p[p.l]]),p.l+=1,p.l+=2),b&&(p.l+=36);for(var C=[],N={},R=Math.min(p.length,g==2?521:_-10-(x?264:0)),P=b?32:11;p.l<R&&p[p.l]!=13;)switch(N={},N.name=Xd.utils.decode(T,p.slice(p.l,p.l+P)).replace(/[\u0000\r\n].*$/g,""),p.l+=P,N.type=String.fromCharCode(p.read_shift(1)),g!=2&&!b&&(N.offset=p.read_shift(4)),N.len=p.read_shift(1),g==2&&(N.offset=p.read_shift(2)),N.dec=p.read_shift(1),N.name.length&&C.push(N),g!=2&&(p.l+=b?13:14),N.type){case"B":(!x||N.len!=8)&&h.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(p[p.l]!==13&&(p.l=_-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=_;var j=0,O=0;for(d[0]=[],O=0;O!=C.length;++O)d[0][O]=C[O].name;for(;y-- >0;){if(p[p.l]===42){p.l+=E;continue}for(++p.l,d[++j]=[],O=0,O=0;O!=C.length;++O){var D=p.slice(p.l,p.l+C[O].len);p.l+=C[O].len,Br(D,0);var Y=Xd.utils.decode(T,D);switch(C[O].type){case"C":Y.trim().length&&(d[j][O]=Y.replace(/\s+$/,""));break;case"D":Y.length===8?d[j][O]=new Date(+Y.slice(0,4),+Y.slice(4,6)-1,+Y.slice(6,8)):d[j][O]=Y;break;case"F":d[j][O]=parseFloat(Y.trim());break;case"+":case"I":d[j][O]=b?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(Y.trim().toUpperCase()){case"Y":case"T":d[j][O]=!0;break;case"N":case"F":d[j][O]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Y+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));d[j][O]="##MEMO##"+(b?parseInt(Y.trim(),10):D.read_shift(4));break;case"N":Y=Y.replace(/\u0000/g,"").trim(),Y&&Y!="."&&(d[j][O]=+Y||0);break;case"@":d[j][O]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":d[j][O]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":d[j][O]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[j][O]=-D.read_shift(-8,"f");break;case"B":if(x&&C[O].len==8){d[j][O]=D.read_shift(8,"f");break}case"G":case"P":D.l+=C[O].len;break;case"0":if(C[O].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[O].type)}}}if(g!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return h&&h.sheetRows&&(d=d.slice(0,h.sheetRows)),h.DBF=C,d}function r(c,h){var d=h||{};d.dateNF||(d.dateNF="yyyymmdd");var p=Nl(n(c,d),d);return p["!cols"]=d.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete d.DBF,p}function s(c,h){try{return to(r(c,h),h)}catch(d){if(h&&h.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,h){var d=h||{};if(+d.codepage>=0&&iu(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var p=Tr(),g=lh(c,{header:1,raw:!0,cellDates:!0}),v=g[0],x=g.slice(1),b=c["!cols"]||[],y=0,_=0,E=0,T=1;for(y=0;y<v.length;++y){if(((b[y]||{}).DBF||{}).name){v[y]=b[y].DBF.name,++E;continue}if(v[y]!=null){if(++E,typeof v[y]=="number"&&(v[y]=v[y].toString(10)),typeof v[y]!="string")throw new Error("DBF Invalid column name "+v[y]+" |"+typeof v[y]+"|");if(v.indexOf(v[y])!==y){for(_=0;_<1024;++_)if(v.indexOf(v[y]+"_"+_)==-1){v[y]+="_"+_;break}}}}var C=rn(c["!ref"]),N=[],R=[],P=[];for(y=0;y<=C.e.c-C.s.c;++y){var j="",O="",D=0,Y=[];for(_=0;_<x.length;++_)x[_][y]!=null&&Y.push(x[_][y]);if(Y.length==0||v[y]==null){N[y]="?";continue}for(_=0;_<Y.length;++_){switch(typeof Y[_]){case"number":O="B";break;case"string":O="C";break;case"boolean":O="L";break;case"object":O=Y[_]instanceof Date?"D":"C";break;default:O="C"}D=Math.max(D,String(Y[_]).length),j=j&&j!=O?"C":O}D>250&&(D=250),O=((b[y]||{}).DBF||{}).type,O=="C"&&b[y].DBF.len>D&&(D=b[y].DBF.len),j=="B"&&O=="N"&&(j="N",P[y]=b[y].DBF.dec,D=b[y].DBF.len),R[y]=j=="C"||O=="N"?D:i[j]||0,T+=R[y],N[y]=j}var Z=p.next(32);for(Z.write_shift(4,318902576),Z.write_shift(4,x.length),Z.write_shift(2,296+32*E),Z.write_shift(2,T),y=0;y<4;++y)Z.write_shift(4,0);for(Z.write_shift(4,0|(+t[sT]||3)<<8),y=0,_=0;y<v.length;++y)if(v[y]!=null){var z=p.next(32),re=(v[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);z.write_shift(1,re,"sbcs"),z.write_shift(1,N[y]=="?"?"C":N[y],"sbcs"),z.write_shift(4,_),z.write_shift(1,R[y]||i[N[y]]||0),z.write_shift(1,P[y]||0),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(1,0),z.write_shift(4,0),z.write_shift(4,0),_+=R[y]||i[N[y]]||0}var k=p.next(264);for(k.write_shift(4,13),y=0;y<65;++y)k.write_shift(4,0);for(y=0;y<x.length;++y){var K=p.next(T);for(K.write_shift(1,0),_=0;_<v.length;++_)if(v[_]!=null)switch(N[_]){case"L":K.write_shift(1,x[y][_]==null?63:x[y][_]?84:70);break;case"B":K.write_shift(8,x[y][_]||0,"f");break;case"N":var X="0";for(typeof x[y][_]=="number"&&(X=x[y][_].toFixed(P[_]||0)),E=0;E<R[_]-X.length;++E)K.write_shift(1,32);K.write_shift(1,X,"sbcs");break;case"D":x[y][_]?(K.write_shift(4,("0000"+x[y][_].getFullYear()).slice(-4),"sbcs"),K.write_shift(2,("00"+(x[y][_].getMonth()+1)).slice(-2),"sbcs"),K.write_shift(2,("00"+x[y][_].getDate()).slice(-2),"sbcs")):K.write_shift(8,"00000000","sbcs");break;case"C":var H=String(x[y][_]!=null?x[y][_]:"").slice(0,R[_]);for(K.write_shift(1,H,"sbcs"),E=0;E<R[_]-H.length;++E)K.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:s,to_sheet:r,from_sheet:o}})(),lz=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Jn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(v,x){var b=e[x];return typeof b=="number"?T_(b):b},r=function(v,x,b){var y=x.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return y==59?v:T_(y)};e["|"]=254;function s(v,x){switch(x.type){case"base64":return i(Ti(v),x);case"binary":return i(v,x);case"buffer":return i(It&&Buffer.isBuffer(v)?v.toString("binary"):Nu(v),x);case"array":return i(Dh(v),x)}throw new Error("Unrecognized type "+x.type)}function i(v,x){var b=v.split(/[\n\r]+/),y=-1,_=-1,E=0,T=0,C=[],N=[],R=null,P={},j=[],O=[],D=[],Y=0,Z;for(+x.codepage>=0&&iu(+x.codepage);E!==b.length;++E){Y=0;var z=b[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),re=z.replace(/;;/g,"\0").split(";").map(function(B){return B.replace(/\u0000/g,";")}),k=re[0],K;if(z.length>0)switch(k){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":re[1].charAt(0)=="P"&&N.push(z.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,H=!1,ne=!1,se=!1,oe=-1,M=-1;for(T=1;T<re.length;++T)switch(re[T].charAt(0)){case"A":break;case"X":_=parseInt(re[T].slice(1))-1,H=!0;break;case"Y":for(y=parseInt(re[T].slice(1))-1,H||(_=0),Z=C.length;Z<=y;++Z)C[Z]=[];break;case"K":K=re[T].slice(1),K.charAt(0)==='"'?K=K.slice(1,K.length-1):K==="TRUE"?K=!0:K==="FALSE"?K=!1:isNaN(wi(K))?isNaN(ou(K).getDate())||(K=dr(K)):(K=wi(K),R!==null&&gT(R)&&(K=wT(K))),X=!0;break;case"E":se=!0;var A=a9(re[T].slice(1),{r:y,c:_});C[y][_]=[C[y][_],A];break;case"S":ne=!0,C[y][_]=[C[y][_],"S5S"];break;case"G":break;case"R":oe=parseInt(re[T].slice(1))-1;break;case"C":M=parseInt(re[T].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+z)}if(X&&(C[y][_]&&C[y][_].length==2?C[y][_][0]=K:C[y][_]=K,R=null),ne){if(se)throw new Error("SYLK shared formula cannot have own formula");var U=oe>-1&&C[oe][M];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");C[y][_][1]=o9(U[1],{r:y-oe,c:_-M})}break;case"F":var F=0;for(T=1;T<re.length;++T)switch(re[T].charAt(0)){case"X":_=parseInt(re[T].slice(1))-1,++F;break;case"Y":for(y=parseInt(re[T].slice(1))-1,Z=C.length;Z<=y;++Z)C[Z]=[];break;case"M":Y=parseInt(re[T].slice(1))/20;break;case"F":break;case"G":break;case"P":R=N[parseInt(re[T].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=re[T].slice(1).split(" "),Z=parseInt(D[0],10);Z<=parseInt(D[1],10);++Z)Y=parseInt(D[2],10),O[Z-1]=Y===0?{hidden:!0}:{wch:Y},qx(O[Z-1]);break;case"C":_=parseInt(re[T].slice(1))-1,O[_]||(O[_]={});break;case"R":y=parseInt(re[T].slice(1))-1,j[y]||(j[y]={}),Y>0?(j[y].hpt=Y,j[y].hpx=oC(Y)):Y===0&&(j[y].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+z)}F<1&&(R=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+z)}}return j.length>0&&(P["!rows"]=j),O.length>0&&(P["!cols"]=O),x&&x.sheetRows&&(C=C.slice(0,x.sheetRows)),[C,P]}function o(v,x){var b=s(v,x),y=b[0],_=b[1],E=Nl(y,x);return Jn(_).forEach(function(T){E[T]=_[T]}),E}function c(v,x){return to(o(v,x),x)}function h(v,x,b,y){var _="C;Y"+(b+1)+";X"+(y+1)+";K";switch(v.t){case"n":_+=v.v||0,v.f&&!v.F&&(_+=";E"+Kx(v.f,{r:b,c:y}));break;case"b":_+=v.v?"TRUE":"FALSE";break;case"e":_+=v.w||v.v;break;case"d":_+='"'+(v.w||v.v)+'"';break;case"s":_+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function d(v,x){x.forEach(function(b,y){var _="F;W"+(y+1)+" "+(y+1)+" ";b.hidden?_+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=sh(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=ih(b.wpx)),typeof b.wch=="number"&&(_+=Math.round(b.wch))),_.charAt(_.length-1)!=" "&&v.push(_)})}function p(v,x){x.forEach(function(b,y){var _="F;";b.hidden?_+="M0;":b.hpt?_+="M"+20*b.hpt+";":b.hpx&&(_+="M"+20*ah(b.hpx)+";"),_.length>2&&v.push(_+"R"+(y+1))})}function g(v,x){var b=["ID;PWXL;N;E"],y=[],_=rn(v["!ref"]),E,T=Array.isArray(v),C=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),v["!cols"]&&d(b,v["!cols"]),v["!rows"]&&p(b,v["!rows"]),b.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var N=_.s.r;N<=_.e.r;++N)for(var R=_.s.c;R<=_.e.c;++R){var P=$t({r:N,c:R});E=T?(v[N]||[])[R]:v[P],!(!E||E.v==null&&(!E.f||E.F))&&y.push(h(E,v,N,R))}return b.join(C)+C+y.join(C)+C+"E"+C}return{to_workbook:c,to_sheet:o,from_sheet:g}})(),cz=(function(){function e(i,o){switch(o.type){case"base64":return t(Ti(i),o);case"binary":return t(i,o);case"buffer":return t(It&&Buffer.isBuffer(i)?i.toString("binary"):Nu(i),o);case"array":return t(Dh(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var c=i.split(`
`),h=-1,d=-1,p=0,g=[];p!==c.length;++p){if(c[p].trim()==="BOT"){g[++h]=[],d=0;continue}if(!(h<0)){var v=c[p].trim().split(","),x=v[0],b=v[1];++p;for(var y=c[p]||"";(y.match(/["]/g)||[]).length&1&&p<c.length-1;)y+=`
`+c[++p];switch(y=y.trim(),+x){case-1:if(y==="BOT"){g[++h]=[],d=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?g[h][d]=!0:y==="FALSE"?g[h][d]=!1:isNaN(wi(b))?isNaN(ou(b).getDate())?g[h][d]=b:g[h][d]=dr(b):g[h][d]=wi(b),++d;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),g[h][d++]=y!==""?y:null;break}if(y==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function n(i,o){return Nl(e(i,o),o)}function r(i,o){return to(n(i,o),o)}var s=(function(){var i=function(h,d,p,g,v){h.push(d),h.push(p+","+g),h.push('"'+v.replace(/"/g,'""')+'"')},o=function(h,d,p,g){h.push(d+","+p),h.push(d==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(h){var d=[],p=rn(h["!ref"]),g,v=Array.isArray(h);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,p.e.r-p.s.r+1,""),i(d,"TUPLES",0,p.e.c-p.s.c+1,""),i(d,"DATA",0,0,"");for(var x=p.s.r;x<=p.e.r;++x){o(d,-1,0,"BOT");for(var b=p.s.c;b<=p.e.c;++b){var y=$t({r:x,c:b});if(g=v?(h[x]||[])[b]:h[y],!g){o(d,1,0,"");continue}switch(g.t){case"n":var _=g.w;!_&&g.v!=null&&(_=g.v),_==null?g.f&&!g.F?o(d,1,0,"="+g.f):o(d,1,0,""):o(d,0,_,"V");break;case"b":o(d,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=fa(g.z||dn[14],Cr(dr(g.v)))),o(d,0,g.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var E=`\r
`,T=d.join(E);return T}})();return{to_workbook:r,to_sheet:n,from_sheet:s}})(),rC=(function(){function e(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(g,v){for(var x=g.split(`
`),b=-1,y=-1,_=0,E=[];_!==x.length;++_){var T=x[_].trim().split(":");if(T[0]==="cell"){var C=Fn(T[1]);if(E.length<=C.r)for(b=E.length;b<=C.r;++b)E[b]||(E[b]=[]);switch(b=C.r,y=C.c,T[2]){case"t":E[b][y]=e(T[3]);break;case"v":E[b][y]=+T[3];break;case"vtf":var N=T[T.length-1];case"vtc":switch(T[3]){case"nl":E[b][y]=!!+T[4];break;default:E[b][y]=+T[4];break}T[2]=="vtf"&&(E[b][y]=[E[b][y],N])}}}return v&&v.sheetRows&&(E=E.slice(0,v.sheetRows)),E}function r(g,v){return Nl(n(g,v),v)}function s(g,v){return to(r(g,v),v)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function d(g){if(!g||!g["!ref"])return"";for(var v=[],x=[],b,y="",_=Wr(g["!ref"]),E=Array.isArray(g),T=_.s.r;T<=_.e.r;++T)for(var C=_.s.c;C<=_.e.c;++C)if(y=$t({r:T,c:C}),b=E?(g[T]||[])[C]:g[y],!(!b||b.v==null||b.t==="z")){switch(x=["cell",y,"t"],b.t){case"s":case"str":x.push(t(b.v));break;case"n":b.f?(x[2]="vtf",x[3]="n",x[4]=b.v,x[5]=t(b.f)):(x[2]="v",x[3]=b.v);break;case"b":x[2]="vt"+(b.f?"f":"c"),x[3]="nl",x[4]=b.v?"1":"0",x[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var N=Cr(dr(b.v));x[2]="vtc",x[3]="nd",x[4]=""+N,x[5]=b.w||fa(b.z||dn[14],N);break;case"e":continue}v.push(x.join(":"))}return v.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function p(g){return[i,o,c,o,d(g),h].join(`
`)}return{to_workbook:s,to_sheet:r,from_sheet:p}})(),uz=(function(){function e(p,g,v,x,b){b.raw?g[v][x]=p:p===""||(p==="TRUE"?g[v][x]=!0:p==="FALSE"?g[v][x]=!1:isNaN(wi(p))?isNaN(ou(p).getDate())?g[v][x]=p:g[v][x]=dr(p):g[v][x]=wi(p))}function t(p,g){var v=g||{},x=[];if(!p||p.length===0)return x;for(var b=p.split(/[\r\n]/),y=b.length-1;y>=0&&b[y].length===0;)--y;for(var _=10,E=0,T=0;T<=y;++T)E=b[T].indexOf(" "),E==-1?E=b[T].length:E++,_=Math.max(_,E);for(T=0;T<=y;++T){x[T]=[];var C=0;for(e(b[T].slice(0,_).trim(),x,T,C,v),C=1;C<=(b[T].length-_)/10+1;++C)e(b[T].slice(_+(C-1)*10,_+C*10).trim(),x,T,C,v)}return v.sheetRows&&(x=x.slice(0,v.sheetRows)),x}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(p){for(var g={},v=!1,x=0,b=0;x<p.length;++x)(b=p.charCodeAt(x))==34?v=!v:!v&&b in n&&(g[b]=(g[b]||0)+1);b=[];for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&b.push([g[x],x]);if(!b.length){g=r;for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&b.push([g[x],x])}return b.sort(function(y,_){return y[0]-_[0]||r[y[1]]-r[_[1]]}),n[b.pop()[1]]||44}function i(p,g){var v=g||{},x="",b=v.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(x=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(x=p.charAt(4),p=p.slice(6)):x=s(p.slice(0,1024)):v&&v.FS?x=v.FS:x=s(p.slice(0,1024));var _=0,E=0,T=0,C=0,N=0,R=x.charCodeAt(0),P=!1,j=0,O=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var D=v.dateNF!=null?CP(v.dateNF):null;function Y(){var Z=p.slice(C,N),z={};if(Z.charAt(0)=='"'&&Z.charAt(Z.length-1)=='"'&&(Z=Z.slice(1,-1).replace(/""/g,'"')),Z.length===0)z.t="z";else if(v.raw)z.t="s",z.v=Z;else if(Z.trim().length===0)z.t="s",z.v=Z;else if(Z.charCodeAt(0)==61)Z.charCodeAt(1)==34&&Z.charCodeAt(Z.length-1)==34?(z.t="s",z.v=Z.slice(2,-1).replace(/""/g,'"')):l9(Z)?(z.t="n",z.f=Z.slice(1)):(z.t="s",z.v=Z);else if(Z=="TRUE")z.t="b",z.v=!0;else if(Z=="FALSE")z.t="b",z.v=!1;else if(!isNaN(T=wi(Z)))z.t="n",v.cellText!==!1&&(z.w=Z),z.v=T;else if(!isNaN(ou(Z).getDate())||D&&Z.match(D)){z.z=v.dateNF||dn[14];var re=0;D&&Z.match(D)&&(Z=NP(Z,v.dateNF,Z.match(D)||[]),re=1),v.cellDates?(z.t="d",z.v=dr(Z,re)):(z.t="n",z.v=Cr(dr(Z,re))),v.cellText!==!1&&(z.w=fa(z.z,z.v instanceof Date?Cr(z.v):z.v)),v.cellNF||delete z.z}else z.t="s",z.v=Z;if(z.t=="z"||(v.dense?(b[_]||(b[_]=[]),b[_][E]=z):b[$t({c:E,r:_})]=z),C=N+1,O=p.charCodeAt(C),y.e.c<E&&(y.e.c=E),y.e.r<_&&(y.e.r=_),j==R)++E;else if(E=0,++_,v.sheetRows&&v.sheetRows<=_)return!0}e:for(;N<p.length;++N)switch(j=p.charCodeAt(N)){case 34:O===34&&(P=!P);break;case R:case 10:case 13:if(!P&&Y())break e;break}return N-C>0&&Y(),b["!ref"]=Sn(y),b}function o(p,g){return!(g&&g.PRN)||g.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?i(p,g):Nl(t(p,g),g)}function c(p,g){var v="",x=g.type=="string"?[0,0,0,0]:_H(p,g);switch(g.type){case"base64":v=Ti(p);break;case"binary":v=p;break;case"buffer":g.codepage==65001?v=p.toString("utf8"):g.codepage&&typeof Xd<"u"||(v=It&&Buffer.isBuffer(p)?p.toString("binary"):Nu(p));break;case"array":v=Dh(p);break;case"string":v=p;break;default:throw new Error("Unrecognized type "+g.type)}return x[0]==239&&x[1]==187&&x[2]==191?v=Uc(v.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?v=Uc(v):g.type=="binary"&&typeof Xd<"u",v.slice(0,19)=="socialcalc:version:"?rC.to_sheet(g.type=="string"?v:Uc(v),g):o(v,g)}function h(p,g){return to(c(p,g),g)}function d(p){for(var g=[],v=rn(p["!ref"]),x,b=Array.isArray(p),y=v.s.r;y<=v.e.r;++y){for(var _=[],E=v.s.c;E<=v.e.c;++E){var T=$t({r:y,c:E});if(x=b?(p[y]||[])[E]:p[T],!x||x.v==null){_.push("          ");continue}for(var C=(x.w||(Ci(x),x.w)||"").slice(0,10);C.length<10;)C+=" ";_.push(C+(E===0?" ":""))}g.push(_.join(""))}return g.join(`
`)}return{to_workbook:h,to_sheet:c,from_sheet:d}})(),n2=(function(){function e(A,U,F){if(A){Br(A,A.l||0);for(var B=F.Enum||oe;A.l<A.length;){var ue=A.read_shift(2),xe=B[ue]||B[65535],ge=A.read_shift(2),ve=A.l+ge,je=xe.f&&xe.f(A,ge,F);if(A.l=ve,U(je,xe,ue))return}}}function t(A,U){switch(U.type){case"base64":return n(Ns(Ti(A)),U);case"binary":return n(Ns(A),U);case"buffer":case"array":return n(A,U)}throw"Unsupported type "+U.type}function n(A,U){if(!A)return A;var F=U||{},B=F.dense?[]:{},ue="Sheet1",xe="",ge=0,ve={},je=[],Be=[],Ge={s:{r:0,c:0},e:{r:0,c:0}},at=F.sheetRows||0;if(A[2]==0&&(A[3]==8||A[3]==9)&&A.length>=16&&A[14]==5&&A[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(A[2]==2)F.Enum=oe,e(A,function(V,G,ce){switch(ce){case 0:F.vers=V,V>=4096&&(F.qpro=!0);break;case 6:Ge=V;break;case 204:V&&(xe=V);break;case 222:xe=V;break;case 15:case 51:F.qpro||(V[1].v=V[1].v.slice(1));case 13:case 14:case 16:ce==14&&(V[2]&112)==112&&(V[2]&15)>1&&(V[2]&15)<15&&(V[1].z=F.dateNF||dn[14],F.cellDates&&(V[1].t="d",V[1].v=wT(V[1].v))),F.qpro&&V[3]>ge&&(B["!ref"]=Sn(Ge),ve[ue]=B,je.push(ue),B=F.dense?[]:{},Ge={s:{r:0,c:0},e:{r:0,c:0}},ge=V[3],ue=xe||"Sheet"+(ge+1),xe="");var pe=F.dense?(B[V[0].r]||[])[V[0].c]:B[$t(V[0])];if(pe){pe.t=V[1].t,pe.v=V[1].v,V[1].z!=null&&(pe.z=V[1].z),V[1].f!=null&&(pe.f=V[1].f);break}F.dense?(B[V[0].r]||(B[V[0].r]=[]),B[V[0].r][V[0].c]=V[1]):B[$t(V[0])]=V[1];break}},F);else if(A[2]==26||A[2]==14)F.Enum=M,A[2]==14&&(F.qpro=!0,A.l=0),e(A,function(V,G,ce){switch(ce){case 204:ue=V;break;case 22:V[1].v=V[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(V[3]>ge&&(B["!ref"]=Sn(Ge),ve[ue]=B,je.push(ue),B=F.dense?[]:{},Ge={s:{r:0,c:0},e:{r:0,c:0}},ge=V[3],ue="Sheet"+(ge+1)),at>0&&V[0].r>=at)break;F.dense?(B[V[0].r]||(B[V[0].r]=[]),B[V[0].r][V[0].c]=V[1]):B[$t(V[0])]=V[1],Ge.e.c<V[0].c&&(Ge.e.c=V[0].c),Ge.e.r<V[0].r&&(Ge.e.r=V[0].r);break;case 27:V[14e3]&&(Be[V[14e3][0]]=V[14e3][1]);break;case 1537:Be[V[0]]=V[1],V[0]==ge&&(ue=V[1]);break}},F);else throw new Error("Unrecognized LOTUS BOF "+A[2]);if(B["!ref"]=Sn(Ge),ve[xe||ue]=B,je.push(xe||ue),!Be.length)return{SheetNames:je,Sheets:ve};for(var I={},ye=[],ee=0;ee<Be.length;++ee)ve[je[ee]]?(ye.push(Be[ee]||je[ee]),I[Be[ee]]=ve[Be[ee]]||ve[je[ee]]):(ye.push(Be[ee]),I[Be[ee]]={"!ref":"A1"});return{SheetNames:ye,Sheets:I}}function r(A,U){var F=U||{};if(+F.codepage>=0&&iu(+F.codepage),F.type=="string")throw new Error("Cannot write WK1 to JS string");var B=Tr(),ue=rn(A["!ref"]),xe=Array.isArray(A),ge=[];Xe(B,0,i(1030)),Xe(B,6,h(ue));for(var ve=Math.min(ue.e.r,8191),je=ue.s.r;je<=ve;++je)for(var Be=Yn(je),Ge=ue.s.c;Ge<=ue.e.c;++Ge){je===ue.s.r&&(ge[Ge]=ir(Ge));var at=ge[Ge]+Be,I=xe?(A[je]||[])[Ge]:A[at];if(!(!I||I.t=="z"))if(I.t=="n")(I.v|0)==I.v&&I.v>=-32768&&I.v<=32767?Xe(B,13,x(je,Ge,I.v)):Xe(B,14,y(je,Ge,I.v));else{var ye=Ci(I);Xe(B,15,g(je,Ge,ye.slice(0,239)))}}return Xe(B,1),B.end()}function s(A,U){var F=U||{};if(+F.codepage>=0&&iu(+F.codepage),F.type=="string")throw new Error("Cannot write WK3 to JS string");var B=Tr();Xe(B,0,o(A));for(var ue=0,xe=0;ue<A.SheetNames.length;++ue)(A.Sheets[A.SheetNames[ue]]||{})["!ref"]&&Xe(B,27,se(A.SheetNames[ue],xe++));var ge=0;for(ue=0;ue<A.SheetNames.length;++ue){var ve=A.Sheets[A.SheetNames[ue]];if(!(!ve||!ve["!ref"])){for(var je=rn(ve["!ref"]),Be=Array.isArray(ve),Ge=[],at=Math.min(je.e.r,8191),I=je.s.r;I<=at;++I)for(var ye=Yn(I),ee=je.s.c;ee<=je.e.c;++ee){I===je.s.r&&(Ge[ee]=ir(ee));var V=Ge[ee]+ye,G=Be?(ve[I]||[])[ee]:ve[V];if(!(!G||G.t=="z"))if(G.t=="n")Xe(B,23,Y(I,ee,ge,G.v));else{var ce=Ci(G);Xe(B,22,j(I,ee,ge,ce.slice(0,239)))}}++ge}}return Xe(B,1),B.end()}function i(A){var U=De(2);return U.write_shift(2,A),U}function o(A){var U=De(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var F=0,B=0,ue=0,xe=0;xe<A.SheetNames.length;++xe){var ge=A.SheetNames[xe],ve=A.Sheets[ge];if(!(!ve||!ve["!ref"])){++ue;var je=Wr(ve["!ref"]);F<je.e.r&&(F=je.e.r),B<je.e.c&&(B=je.e.c)}}return F>8191&&(F=8191),U.write_shift(2,F),U.write_shift(1,ue),U.write_shift(1,B),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function c(A,U,F){var B={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&F.qpro?(B.s.c=A.read_shift(1),A.l++,B.s.r=A.read_shift(2),B.e.c=A.read_shift(1),A.l++,B.e.r=A.read_shift(2),B):(B.s.c=A.read_shift(2),B.s.r=A.read_shift(2),U==12&&F.qpro&&(A.l+=2),B.e.c=A.read_shift(2),B.e.r=A.read_shift(2),U==12&&F.qpro&&(A.l+=2),B.s.c==65535&&(B.s.c=B.e.c=B.s.r=B.e.r=0),B)}function h(A){var U=De(8);return U.write_shift(2,A.s.c),U.write_shift(2,A.s.r),U.write_shift(2,A.e.c),U.write_shift(2,A.e.r),U}function d(A,U,F){var B=[{c:0,r:0},{t:"n",v:0},0,0];return F.qpro&&F.vers!=20768?(B[0].c=A.read_shift(1),B[3]=A.read_shift(1),B[0].r=A.read_shift(2),A.l+=2):(B[2]=A.read_shift(1),B[0].c=A.read_shift(2),B[0].r=A.read_shift(2)),B}function p(A,U,F){var B=A.l+U,ue=d(A,U,F);if(ue[1].t="s",F.vers==20768){A.l++;var xe=A.read_shift(1);return ue[1].v=A.read_shift(xe,"utf8"),ue}return F.qpro&&A.l++,ue[1].v=A.read_shift(B-A.l,"cstr"),ue}function g(A,U,F){var B=De(7+F.length);B.write_shift(1,255),B.write_shift(2,U),B.write_shift(2,A),B.write_shift(1,39);for(var ue=0;ue<B.length;++ue){var xe=F.charCodeAt(ue);B.write_shift(1,xe>=128?95:xe)}return B.write_shift(1,0),B}function v(A,U,F){var B=d(A,U,F);return B[1].v=A.read_shift(2,"i"),B}function x(A,U,F){var B=De(7);return B.write_shift(1,255),B.write_shift(2,U),B.write_shift(2,A),B.write_shift(2,F,"i"),B}function b(A,U,F){var B=d(A,U,F);return B[1].v=A.read_shift(8,"f"),B}function y(A,U,F){var B=De(13);return B.write_shift(1,255),B.write_shift(2,U),B.write_shift(2,A),B.write_shift(8,F,"f"),B}function _(A,U,F){var B=A.l+U,ue=d(A,U,F);if(ue[1].v=A.read_shift(8,"f"),F.qpro)A.l=B;else{var xe=A.read_shift(2);N(A.slice(A.l,A.l+xe),ue),A.l+=xe}return ue}function E(A,U,F){var B=U&32768;return U&=-32769,U=(B?A:0)+(U>=8192?U-16384:U),(B?"":"$")+(F?ir(U):Yn(U))}var T={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(A,U){Br(A,0);for(var F=[],B=0,ue="",xe="",ge="",ve="";A.l<A.length;){var je=A[A.l++];switch(je){case 0:F.push(A.read_shift(8,"f"));break;case 1:xe=E(U[0].c,A.read_shift(2),!0),ue=E(U[0].r,A.read_shift(2),!1),F.push(xe+ue);break;case 2:{var Be=E(U[0].c,A.read_shift(2),!0),Ge=E(U[0].r,A.read_shift(2),!1);xe=E(U[0].c,A.read_shift(2),!0),ue=E(U[0].r,A.read_shift(2),!1),F.push(Be+Ge+":"+xe+ue)}break;case 3:if(A.l<A.length){console.error("WK1 premature formula end");return}break;case 4:F.push("("+F.pop()+")");break;case 5:F.push(A.read_shift(2));break;case 6:{for(var at="";je=A[A.l++];)at+=String.fromCharCode(je);F.push('"'+at.replace(/"/g,'""')+'"')}break;case 8:F.push("-"+F.pop());break;case 23:F.push("+"+F.pop());break;case 22:F.push("NOT("+F.pop()+")");break;case 20:case 21:ve=F.pop(),ge=F.pop(),F.push(["AND","OR"][je-20]+"("+ge+","+ve+")");break;default:if(je<32&&C[je])ve=F.pop(),ge=F.pop(),F.push(ge+C[je]+ve);else if(T[je]){if(B=T[je][1],B==69&&(B=A[A.l++]),B>F.length){console.error("WK1 bad formula parse 0x"+je.toString(16)+":|"+F.join("|")+"|");return}var I=F.slice(-B);F.length-=B,F.push(T[je][0]+"("+I.join(",")+")")}else return je<=7?console.error("WK1 invalid opcode "+je.toString(16)):je<=24?console.error("WK1 unsupported op "+je.toString(16)):je<=30?console.error("WK1 invalid opcode "+je.toString(16)):je<=115?console.error("WK1 unsupported function opcode "+je.toString(16)):console.error("WK1 unrecognized opcode "+je.toString(16))}}F.length==1?U[1].f=""+F[0]:console.error("WK1 bad formula parse |"+F.join("|")+"|")}function R(A){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=A.read_shift(2),U[3]=A[A.l++],U[0].c=A[A.l++],U}function P(A,U){var F=R(A);return F[1].t="s",F[1].v=A.read_shift(U-4,"cstr"),F}function j(A,U,F,B){var ue=De(6+B.length);ue.write_shift(2,A),ue.write_shift(1,F),ue.write_shift(1,U),ue.write_shift(1,39);for(var xe=0;xe<B.length;++xe){var ge=B.charCodeAt(xe);ue.write_shift(1,ge>=128?95:ge)}return ue.write_shift(1,0),ue}function O(A,U){var F=R(A);F[1].v=A.read_shift(2);var B=F[1].v>>1;if(F[1].v&1)switch(B&7){case 0:B=(B>>3)*5e3;break;case 1:B=(B>>3)*500;break;case 2:B=(B>>3)/20;break;case 3:B=(B>>3)/200;break;case 4:B=(B>>3)/2e3;break;case 5:B=(B>>3)/2e4;break;case 6:B=(B>>3)/16;break;case 7:B=(B>>3)/64;break}return F[1].v=B,F}function D(A,U){var F=R(A),B=A.read_shift(4),ue=A.read_shift(4),xe=A.read_shift(2);if(xe==65535)return B===0&&ue===3221225472?(F[1].t="e",F[1].v=15):B===0&&ue===3489660928?(F[1].t="e",F[1].v=42):F[1].v=0,F;var ge=xe&32768;return xe=(xe&32767)-16446,F[1].v=(1-ge*2)*(ue*Math.pow(2,xe+32)+B*Math.pow(2,xe)),F}function Y(A,U,F,B){var ue=De(14);if(ue.write_shift(2,A),ue.write_shift(1,F),ue.write_shift(1,U),B==0)return ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(2,65535),ue;var xe=0,ge=0,ve=0,je=0;return B<0&&(xe=1,B=-B),ge=Math.log2(B)|0,B/=Math.pow(2,ge-31),je=B>>>0,(je&2147483648)==0&&(B/=2,++ge,je=B>>>0),B-=je,je|=2147483648,je>>>=0,B*=Math.pow(2,32),ve=B>>>0,ue.write_shift(4,ve),ue.write_shift(4,je),ge+=16383+(xe?32768:0),ue.write_shift(2,ge),ue}function Z(A,U){var F=D(A);return A.l+=U-14,F}function z(A,U){var F=R(A),B=A.read_shift(4);return F[1].v=B>>6,F}function re(A,U){var F=R(A),B=A.read_shift(8,"f");return F[1].v=B,F}function k(A,U){var F=re(A);return A.l+=U-10,F}function K(A,U){return A[A.l+U-1]==0?A.read_shift(U,"cstr"):""}function X(A,U){var F=A[A.l++];F>U-1&&(F=U-1);for(var B="";B.length<F;)B+=String.fromCharCode(A[A.l++]);return B}function H(A,U,F){if(!(!F.qpro||U<21)){var B=A.read_shift(1);A.l+=17,A.l+=1,A.l+=2;var ue=A.read_shift(U-21,"cstr");return[B,ue]}}function ne(A,U){for(var F={},B=A.l+U;A.l<B;){var ue=A.read_shift(2);if(ue==14e3){for(F[ue]=[0,""],F[ue][0]=A.read_shift(2);A[A.l];)F[ue][1]+=String.fromCharCode(A[A.l]),A.l++;A.l++}}return F}function se(A,U){var F=De(5+A.length);F.write_shift(2,14e3),F.write_shift(2,U);for(var B=0;B<A.length;++B){var ue=A.charCodeAt(B);F[F.l++]=ue>127?95:ue}return F[F.l++]=0,F}var oe={0:{n:"BOF",f:ZT},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:K},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},M={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:O},25:{n:"FORMULA19",f:Z},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ne},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:z},38:{n:"??"},39:{n:"NUMBER27",f:re},40:{n:"FORMULA28",f:k},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:K},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:H},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:t}})(),fz=/^\s|\s$|[\t\n\r]/;function sC(e,t){if(!t.bookSST)return"";var n=[En];n[n.length]=Ke("sst",null,{xmlns:Cl[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(e[r]!=null){var s=e[r],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(fz)&&(i+=' xml:space="preserve"'),i+=">"+Ut(s.t)+"</t>"),i+="</si>",n[n.length]=i}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function dz(e){return[e.read_shift(4),e.read_shift(4)]}function hz(e,t){return t||(t=De(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var pz=s7;function mz(e){var t=Tr();ze(t,159,hz(e));for(var n=0;n<e.length;++n)ze(t,19,pz(e[n]));return ze(t,160),t.end()}function gz(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function iC(e){var t=0,n,r=gz(e),s=r.length+1,i,o,c,h,d;for(n=Za(s),n[0]=r.length,i=1;i!=s;++i)n[i]=r[i-1];for(i=s-1;i>=0;--i)o=n[i],c=(t&16384)===0?0:1,h=t<<1&32767,d=c|h,t=d^o;return t^52811}var xz=(function(){function e(s,i){switch(i.type){case"base64":return t(Ti(s),i);case"binary":return t(s,i);case"buffer":return t(It&&Buffer.isBuffer(s)?s.toString("binary"):Nu(s),i);case"array":return t(Dh(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var o=i||{},c=o.dense?[]:{},h=s.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(p,g){Array.isArray(c)&&(c[g]=[]);for(var v=/\\\w+\b/g,x=0,b,y=-1;b=v.exec(p);){switch(b[0]){case"\\cell":var _=p.slice(x,v.lastIndex-b[0].length);if(_[0]==" "&&(_=_.slice(1)),++y,_.length){var E={v:_,t:"s"};Array.isArray(c)?c[g][y]=E:c[$t({r:g,c:y})]=E}break}x=v.lastIndex}y>d.e.c&&(d.e.c=y)}),c["!ref"]=Sn(d),c}function n(s,i){return to(e(s,i),i)}function r(s){for(var i=["{\\rtf1\\ansi"],o=rn(s["!ref"]),c,h=Array.isArray(s),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var p=o.s.c;p<=o.e.c;++p)i.push("\\cellx"+(p+1));for(i.push("\\pard\\intbl"),p=o.s.c;p<=o.e.c;++p){var g=$t({r:d,c:p});c=h?(s[d]||[])[p]:s[g],!(!c||c.v==null&&(!c.f||c.F))&&(i.push(" "+(c.w||(Ci(c),c.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}})();function r2(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var vz=6,bi=vz;function sh(e){return Math.floor((e+Math.round(128/bi)/256)*bi)}function ih(e){return Math.floor((e-5)/bi*100+.5)/100}function Fg(e){return Math.round((e*bi+5)/bi*256)/256}function qx(e){e.width?(e.wpx=sh(e.width),e.wch=ih(e.wpx),e.MDW=bi):e.wpx?(e.wch=ih(e.wpx),e.width=Fg(e.wch),e.MDW=bi):typeof e.wch=="number"&&(e.width=Fg(e.wch),e.wpx=sh(e.width),e.MDW=bi),e.customWidth&&delete e.customWidth}var yz=96,aC=yz;function ah(e){return e*96/aC}function oC(e){return e*aC/96}function wz(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)e[r]!=null&&(t[t.length]=Ke("numFmt",null,{numFmtId:r,formatCode:Ut(e[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ke("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function bz(e){var t=[];return t[t.length]=Ke("cellXfs",null),e.forEach(function(n){t[t.length]=Ke("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ke("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function lC(e,t){var n=[En,Ke("styleSheet",null,{xmlns:Cl[0],"xmlns:vt":Ln.vt})],r;return e.SSF&&(r=wz(e.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=bz(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function _z(e,t){var n=e.read_shift(2),r=ar(e);return[n,r]}function Sz(e,t,n){n||(n=De(6+4*t.length)),n.write_shift(2,e),Pn(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function Ez(e,t,n){var r={};r.sz=e.read_shift(2)/20;var s=f7(e);s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1);var i=e.read_shift(2);switch(i===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var c=e.read_shift(1);c>0&&(r.family=c);var h=e.read_shift(1);switch(h>0&&(r.charset=h),e.l++,r.color=u7(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ar(e),r}function Tz(e,t){t||(t=De(153)),t.write_shift(2,e.sz*20),d7(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),nh(e.color,t);var r=0;return r=2,t.write_shift(1,r),Pn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Cz=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Lm,Nz=Hs;function s2(e,t){t||(t=De(84)),Lm||(Lm=Dx(Cz));var n=Lm[e.patternType];n==null&&(n=40),t.write_shift(4,n);var r=0;if(n!=40)for(nh({auto:1},t),nh({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function kz(e,t){var n=e.l+t,r=e.read_shift(2),s=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:s}}function cC(e,t,n){n||(n=De(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Ac(e,t){return t||(t=De(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Az=Hs;function jz(e,t){return t||(t=De(51)),t.write_shift(1,0),Ac(null,t),Ac(null,t),Ac(null,t),Ac(null,t),Ac(null,t),t.length>t.l?t.slice(0,t.l):t}function Rz(e,t){return t||(t=De(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),th(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Oz(e,t,n){var r=De(2052);return r.write_shift(4,e),th(t,r),th(n,r),r.length>r.l?r.slice(0,r.l):r}function Mz(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)t[s]!=null&&++n}),n!=0&&(ze(e,615,js(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)t[s]!=null&&ze(e,44,Sz(s,t[s]))}),ze(e,616))}}function Dz(e){var t=1;ze(e,611,js(t)),ze(e,43,Tz({sz:12,color:{theme:1},name:"Calibri",family:2})),ze(e,612)}function Iz(e){var t=2;ze(e,603,js(t)),ze(e,45,s2({patternType:"none"})),ze(e,45,s2({patternType:"gray125"})),ze(e,604)}function Lz(e){var t=1;ze(e,613,js(t)),ze(e,46,jz()),ze(e,614)}function Fz(e){var t=1;ze(e,626,js(t)),ze(e,47,cC({numFmtId:0},65535)),ze(e,627)}function Pz(e,t){ze(e,617,js(t.length)),t.forEach(function(n){ze(e,47,cC(n,0))}),ze(e,618)}function zz(e){var t=1;ze(e,619,js(t)),ze(e,48,Rz({xfId:0,name:"Normal"})),ze(e,620)}function Bz(e){var t=0;ze(e,505,js(t)),ze(e,506)}function Uz(e){var t=0;ze(e,508,Oz(t,"TableStyleMedium9","PivotStyleMedium4")),ze(e,509)}function $z(e,t){var n=Tr();return ze(n,278),Mz(n,e.SSF),Dz(n),Iz(n),Lz(n),Fz(n),Pz(n,t.cellXfs),zz(n),Bz(n),Uz(n),ze(n,279),n.end()}function uC(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[En];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function Hz(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ar(e)}}function Vz(e){var t=De(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Pn(e.name,t),t.slice(0,t.l)}function Gz(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function qz(e){var t=De(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function Wz(e,t){var n=De(8+2*t.length);return n.write_shift(4,e),Pn(t,n),n.slice(0,n.l)}function Kz(e){return e.l+=4,e.read_shift(4)!=0}function Xz(e,t){var n=De(8);return n.write_shift(4,e),n.write_shift(4,1),n}function Yz(){var e=Tr();return ze(e,332),ze(e,334,js(1)),ze(e,335,Vz({name:"XLDAPR",version:12e4,flags:3496657072})),ze(e,336),ze(e,339,Wz(1,"XLDAPR")),ze(e,52),ze(e,35,js(514)),ze(e,4096,js(0)),ze(e,4097,as(1)),ze(e,36),ze(e,53),ze(e,340),ze(e,337,Xz(1)),ze(e,51,qz([[1,0]])),ze(e,338),ze(e,333),e.end()}function fC(){var e=[En];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Jz(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=$t(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}var tl=1024;function dC(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[Ke("xml",null,{"xmlns:v":Ur.v,"xmlns:o":Ur.o,"xmlns:x":Ur.x,"xmlns:mv":Ur.mv}).replace(/\/>/,">"),Ke("o:shapelayout",Ke("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ke("v:shapetype",[Ke("v:stroke",null,{joinstyle:"miter"}),Ke("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];tl<e*1e3;)tl+=1e3;return t.forEach(function(i){var o=Fn(i[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var h=c.type=="gradient"?Ke("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Ke("v:fill",h,c),p={on:"t",obscured:"t"};++tl,s=s.concat(["<v:shape"+cu({id:"_x0000_s"+tl,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Ke("v:shadow",null,p),Ke("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Xn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Xn("x:AutoFill","False"),Xn("x:Row",String(o.r)),Xn("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function hC(e){var t=[En,Ke("comments",null,{xmlns:Cl[0]})],n=[];return t.push("<authors>"),e.forEach(function(r){r[1].forEach(function(s){var i=Ut(s.a);n.indexOf(i)==-1&&(n.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&n.indexOf("tc="+s.ID)==-1&&(n.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(r){var s=0,i=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?s=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(h){h.a&&(s=n.indexOf(Ut(h.a))),i.push(h.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(Xn("t",Ut(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,c=1;c<i.length;++c)o+=`Reply:
    `+i[c]+`
`;t.push(Xn("t",Ut(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Zz(e,t,n){var r=[En,Ke("ThreadedComments",null,{xmlns:Ln.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,c){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var h={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};c==0?i=h.id:h.parentId=i,o.ID=h.id,o.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),r.push(Ke("threadedComment",Xn("text",o.t||""),h))})}),r.push("</ThreadedComments>"),r.join("")}function Qz(e){var t=[En,Ke("personList",null,{xmlns:Ln.TCMNT,"xmlns:x":Cl[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,r){t.push(Ke("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function e9(e){var t={};t.iauthor=e.read_shift(4);var n=io(e);return t.rfx=n.s,t.ref=$t(n.s),e.l+=16,t}function t9(e,t){return t==null&&(t=De(36)),t.write_shift(4,e[1].iauthor),kl(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var n9=ar;function r9(e){return Pn(e.slice(0,54))}function s9(e){var t=Tr(),n=[];return ze(t,628),ze(t,630),e.forEach(function(r){r[1].forEach(function(s){n.indexOf(s.a)>-1||(n.push(s.a.slice(0,54)),ze(t,632,r9(s.a)))})}),ze(t,631),ze(t,633),e.forEach(function(r){r[1].forEach(function(s){s.iauthor=n.indexOf(s.a);var i={s:Fn(r[0]),e:Fn(r[0])};ze(t,635,t9([i,s])),s.t&&s.t.length>0&&ze(t,637,a7(s)),ze(t,636),delete s.iauthor})}),ze(t,634),ze(t,629),t.end()}function i9(e,t){t.FullPaths.forEach(function(n,r){if(r!=0){var s=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&Wt.utils.cfb_add(e,s,t.FileIndex[r].content)}})}var pC=["xlsb","xlsm","xlam","biff8","xla"],a9=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,s,i,o){var c=!1,h=!1;i.length==0?h=!0:i.charAt(0)=="["&&(h=!0,i=i.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,p=o.length>0?parseInt(o,10)|0:0;return c?p+=t.c:--p,h?d+=t.r:--d,s+(c?"":"$")+ir(p)+(h?"":"$")+Yn(d)}return function(s,i){return t=i,s.replace(e,n)}})(),Wx=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Kx=(function(){return function(t,n){return t.replace(Wx,function(r,s,i,o,c,h){var d=Ux(o)-(i?0:n.c),p=Bx(h)-(c?0:n.r),g=p==0?"":c?p+1:"["+p+"]",v=d==0?"":i?d+1:"["+d+"]";return s+"R"+g+"C"+v})}})();function o9(e,t){return e.replace(Wx,function(n,r,s,i,o,c){return r+(s=="$"?s+i:ir(Ux(i)+t.c))+(o=="$"?o+c:Yn(Bx(c)+t.r))})}function l9(e){return e.length!=1}function bn(e){e.l+=1}function da(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function mC(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return gC(e);n.biff==12&&(r=4)}var s=e.read_shift(r),i=e.read_shift(r),o=da(e),c=da(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function gC(e){var t=da(e),n=da(e),r=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function c9(e,t,n){if(n.biff<8)return gC(e);var r=e.read_shift(n.biff==12?4:2),s=e.read_shift(n.biff==12?4:2),i=da(e),o=da(e);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function xC(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return u9(e);var r=e.read_shift(n&&n.biff==12?4:2),s=da(e);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function u9(e){var t=da(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function f9(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function d9(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return h9(e);var s=e.read_shift(r>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,c=(i&32768)>>15;if(i&=16383,c==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:c}}function h9(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),s==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:s,rRel:r}}function p9(e,t,n){var r=(e[e.l++]&96)>>5,s=mC(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,s]}function m9(e,t,n){var r=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=mC(e,i,n);return[r,s,o]}function g9(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function x9(e,t,n){var r=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[r,s]}function v9(e,t,n){var r=(e[e.l++]&96)>>5,s=c9(e,t-1,n);return[r,s]}function y9(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function i2(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function w9(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),s=[],i=0;i<=r;++i)s.push(e.read_shift(n&&n.biff==2?1:2));return s}function b9(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function _9(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function S9(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function E9(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function vC(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function T9(e){return e.read_shift(2),vC(e)}function C9(e){return e.read_shift(2),vC(e)}function N9(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var s=xC(e,0,n);return[r,s]}function k9(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var s=d9(e,0,n);return[r,s]}function A9(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var i=xC(e,0,n);return[r,s,i]}function j9(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(n&&n.biff<=3?1:2);return[jB[s],bC[s],r]}function R9(e,t,n){var r=e[e.l++],s=e.read_shift(1),i=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:O9(e);return[s,(i[0]===0?bC:AB)[i[1]]]}function O9(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function M9(e,t,n){e.l+=n&&n.biff==2?3:4}function D9(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),s=e.read_shift(n&&n.biff==2?1:2);return[r,s]}function I9(e){return e.l++,ju[e.read_shift(1)]}function L9(e){return e.l++,e.read_shift(2)}function F9(e){return e.l++,e.read_shift(1)!==0}function P9(e){return e.l++,Al(e)}function z9(e,t,n){return e.l++,eC(e,t-1,n)}function B9(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=A7(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=ju[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Al(e);break;case 2:n[1]=M7(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function U9(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),s=[],i=0;i!=r;++i)s.push((n.biff==12?io:L7)(e));return s}function $9(e,t,n){var r=0,s=0;n.biff==12?(r=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--s==0&&(s=256));for(var i=0,o=[];i!=r&&(o[i]=[]);++i)for(var c=0;c!=s;++c)o[i][c]=B9(e,n.biff);return o}function H9(e,t,n){var r=e.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,i=e.read_shift(s);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,i]}function V9(e,t,n){if(n.biff==5)return G9(e);var r=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[r,s,i]}function G9(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function q9(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var s=e.read_shift(n&&n.biff==2?1:2);return[r,s]}function W9(e,t,n){var r=e.read_shift(1)>>>5&3,s=e.read_shift(n&&n.biff==2?1:2);return[r,s]}function K9(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function X9(e,t,n){var r=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[r,s]}var Y9=Hs,J9=Hs,Z9=Hs;function Ru(e,t,n){return e.l+=2,[f9(e)]}function Xx(e){return e.l+=6,[]}var Q9=Ru,eB=Xx,tB=Xx,nB=Ru;function yC(e){return e.l+=2,[ZT(e),e.read_shift(2)&1]}var rB=Ru,sB=yC,iB=Xx,aB=Ru,oB=Ru,lB=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function cB(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=lB[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:s,C:i}}function uB(e){return e.l+=2,[e.read_shift(4)]}function fB(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function dB(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function hB(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function pB(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function mB(e){return e.l+=4,[0,0]}var a2={1:{n:"PtgExp",f:D9},2:{n:"PtgTbl",f:Z9},3:{n:"PtgAdd",f:bn},4:{n:"PtgSub",f:bn},5:{n:"PtgMul",f:bn},6:{n:"PtgDiv",f:bn},7:{n:"PtgPower",f:bn},8:{n:"PtgConcat",f:bn},9:{n:"PtgLt",f:bn},10:{n:"PtgLe",f:bn},11:{n:"PtgEq",f:bn},12:{n:"PtgGe",f:bn},13:{n:"PtgGt",f:bn},14:{n:"PtgNe",f:bn},15:{n:"PtgIsect",f:bn},16:{n:"PtgUnion",f:bn},17:{n:"PtgRange",f:bn},18:{n:"PtgUplus",f:bn},19:{n:"PtgUminus",f:bn},20:{n:"PtgPercent",f:bn},21:{n:"PtgParen",f:bn},22:{n:"PtgMissArg",f:bn},23:{n:"PtgStr",f:z9},26:{n:"PtgSheet",f:fB},27:{n:"PtgEndSheet",f:dB},28:{n:"PtgErr",f:I9},29:{n:"PtgBool",f:F9},30:{n:"PtgInt",f:L9},31:{n:"PtgNum",f:P9},32:{n:"PtgArray",f:y9},33:{n:"PtgFunc",f:j9},34:{n:"PtgFuncVar",f:R9},35:{n:"PtgName",f:H9},36:{n:"PtgRef",f:N9},37:{n:"PtgArea",f:p9},38:{n:"PtgMemArea",f:q9},39:{n:"PtgMemErr",f:Y9},40:{n:"PtgMemNoMem",f:J9},41:{n:"PtgMemFunc",f:W9},42:{n:"PtgRefErr",f:K9},43:{n:"PtgAreaErr",f:g9},44:{n:"PtgRefN",f:k9},45:{n:"PtgAreaN",f:v9},46:{n:"PtgMemAreaN",f:hB},47:{n:"PtgMemNoMemN",f:pB},57:{n:"PtgNameX",f:V9},58:{n:"PtgRef3d",f:A9},59:{n:"PtgArea3d",f:m9},60:{n:"PtgRefErr3d",f:X9},61:{n:"PtgAreaErr3d",f:x9},255:{}},gB={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},xB={1:{n:"PtgElfLel",f:yC},2:{n:"PtgElfRw",f:aB},3:{n:"PtgElfCol",f:Q9},6:{n:"PtgElfRwV",f:oB},7:{n:"PtgElfColV",f:nB},10:{n:"PtgElfRadical",f:rB},11:{n:"PtgElfRadicalS",f:iB},13:{n:"PtgElfColS",f:eB},15:{n:"PtgElfColSV",f:tB},16:{n:"PtgElfRadicalLel",f:sB},25:{n:"PtgList",f:cB},29:{n:"PtgSxName",f:uB},255:{}},vB={0:{n:"PtgAttrNoop",f:mB},1:{n:"PtgAttrSemi",f:E9},2:{n:"PtgAttrIf",f:_9},4:{n:"PtgAttrChoose",f:w9},8:{n:"PtgAttrGoto",f:b9},16:{n:"PtgAttrSum",f:M9},32:{n:"PtgAttrBaxcel",f:i2},33:{n:"PtgAttrBaxcel",f:i2},64:{n:"PtgAttrSpace",f:T9},65:{n:"PtgAttrSpaceSemi",f:C9},128:{n:"PtgAttrIfError",f:S9},255:{}};function yB(e,t,n,r){if(r.biff<8)return Hs(e,t);for(var s=e.l+t,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=$9(e,0,r),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=U9(e,n[o][1],r),i.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=s-e.l,t!==0&&i.push(Hs(e,t)),i}function wB(e,t,n){for(var r=e.l+t,s,i,o=[];r!=e.l;)t=r-e.l,i=e[e.l],s=a2[i]||a2[gB[i]],(i===24||i===25)&&(s=(i===24?xB:vB)[e[e.l+1]]),!s||!s.f?Hs(e,t):o.push([s.n,s.f(e,t,n)]);return o}function bB(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],s=[],i=0;i<r.length;++i){var o=r[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var _B={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function SB(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function wC(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var s="";if(n.biff>8)switch(e[r[0]][0]){case 357:return s=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?s:s+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return s=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[r[0]][0][3]?(s=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function o2(e,t,n){var r=wC(e,t,n);return r=="#REF"?r:SB(r,n)}function pl(e,t,n,r,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},c=[],h,d,p,g=0,v=0,x,b="";if(!e[0]||!e[0][0])return"";for(var y=-1,_="",E=0,T=e[0].length;E<T;++E){var C=e[0][E];switch(C[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=c.pop(),d=c.pop(),y>=0){switch(e[0][y][1][0]){case 0:_=fn(" ",e[0][y][1][1]);break;case 1:_=fn("\r",e[0][y][1][1]);break;default:if(_="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}d=d+_,y=-1}c.push(d+_B[C[0]]+h);break;case"PtgIsect":h=c.pop(),d=c.pop(),c.push(d+" "+h);break;case"PtgUnion":h=c.pop(),d=c.pop(),c.push(d+","+h);break;case"PtgRange":h=c.pop(),d=c.pop(),c.push(d+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=Hc(C[1][1],o,s),c.push(Vc(p,i));break;case"PtgRefN":p=n?Hc(C[1][1],n,s):C[1][1],c.push(Vc(p,i));break;case"PtgRef3d":g=C[1][1],p=Hc(C[1][2],o,s),b=o2(r,g,s),c.push(b+"!"+Vc(p,i));break;case"PtgFunc":case"PtgFuncVar":var N=C[1][0],R=C[1][1];N||(N=0),N&=127;var P=N==0?[]:c.slice(-N);c.length-=N,R==="User"&&(R=P.shift()),c.push(R+"("+P.join(",")+")");break;case"PtgBool":c.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(C[1]);break;case"PtgNum":c.push(String(C[1]));break;case"PtgStr":c.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(C[1]);break;case"PtgAreaN":x=G_(C[1][1],n?{s:n}:o,s),c.push(Dm(x,s));break;case"PtgArea":x=G_(C[1][1],o,s),c.push(Dm(x,s));break;case"PtgArea3d":g=C[1][1],x=C[1][2],b=o2(r,g,s),c.push(b+"!"+Dm(x,s));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=C[1][2];var j=(r.names||[])[v-1]||(r[0]||[])[v],O=j?j.Name:"SH33TJSNAME"+String(v);O&&O.slice(0,6)=="_xlfn."&&!s.xlfn&&(O=O.slice(6)),c.push(O);break;case"PtgNameX":var D=C[1][1];v=C[1][2];var Y;if(s.biff<=5)D<0&&(D=-D),r[D]&&(Y=r[D][v]);else{var Z="";if(((r[D]||[])[0]||[])[0]==14849||(((r[D]||[])[0]||[])[0]==1025?r[D][v]&&r[D][v].itab>0&&(Z=r.SheetNames[r[D][v].itab-1]+"!"):Z=r.SheetNames[v-1]+"!"),r[D]&&r[D][v])Z+=r[D][v].Name;else if(r[0]&&r[0][v])Z+=r[0][v].Name;else{var z=(wC(r,D,s)||"").split(";;");z[v-1]?Z=z[v-1]:Z+="SH33TJSERRX"}c.push(Z);break}Y||(Y={Name:"SH33TJSERRY"}),c.push(Y.Name);break;case"PtgParen":var re="(",k=")";if(y>=0){switch(_="",e[0][y][1][0]){case 2:re=fn(" ",e[0][y][1][1])+re;break;case 3:re=fn("\r",e[0][y][1][1])+re;break;case 4:k=fn(" ",e[0][y][1][1])+k;break;case 5:k=fn("\r",e[0][y][1][1])+k;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}c.push(re+c.pop()+k);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":p={c:C[1][1],r:C[1][0]};var K={c:n.c,r:n.r};if(r.sharedf[$t(p)]){var X=r.sharedf[$t(p)];c.push(pl(X,o,K,r,s))}else{var H=!1;for(h=0;h!=r.arrayf.length;++h)if(d=r.arrayf[h],!(p.c<d[0].s.c||p.c>d[0].e.c)&&!(p.r<d[0].s.r||p.r>d[0].e.r)){c.push(pl(d[1],o,K,r,s)),H=!0;break}H||c.push(C[1])}break;case"PtgArray":c.push("{"+bB(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=E;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var ne=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&y>=0&&ne.indexOf(e[0][E][0])==-1){C=e[0][y];var se=!0;switch(C[1][0]){case 4:se=!1;case 0:_=fn(" ",C[1][1]);break;case 5:se=!1;case 1:_=fn("\r",C[1][1]);break;default:if(_="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}c.push((se?_:"")+c.pop()+(se?"":_)),y=-1}}if(c.length>1&&s.WTF)throw new Error("bad formula stack");return c[0]}function EB(e){if(e==null){var t=De(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Qa(e);return Qa(0)}function TB(e,t,n,r,s){var i=eo(t,n,s),o=EB(e.v),c=De(6),h=33;c.write_shift(2,h),c.write_shift(4,0);for(var d=De(e.bf.length),p=0;p<e.bf.length;++p)d[p]=e.bf[p];var g=Kn([i,o,c,d]);return g}function Ih(e,t,n){var r=e.read_shift(4),s=wB(e,r,n),i=e.read_shift(4),o=i>0?yB(e,i,s,n):null;return[s,o]}var CB=Ih,Lh=Ih,NB=Ih,kB=Ih,AB={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},bC={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},jB={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function RB(e){var t="of:="+e.replace(Wx,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function OB(e){return e.replace(/\./,"!")}var Gc=typeof Map<"u";function Yx(e,t,n){var r=0,s=e.length;if(n){if(Gc?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var i=Gc?n.get(t):n[t];r<i.length;++r)if(e[i[r]].t===t)return e.Count++,i[r]}}else for(;r<s;++r)if(e[r].t===t)return e.Count++,r;return e[s]={t},e.Count++,e.Unique++,n&&(Gc?(n.has(t)||n.set(t,[]),n.get(t).push(s)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(s))),s}function Fh(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(bi=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?r=ih(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(n.width=Fg(r),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function _C(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function pa(e,t,n){var r=n.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(r==null&&n.ssf){for(;s<392;++s)if(n.ssf[s]==null){xT(t.z,s),n.ssf[s]=t.z,n.revssf[t.z]=r=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===r)return s;return e[i]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function MB(e,t,n){if(e&&e["!ref"]){var r=rn(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function DB(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+Sn(e[n])+'"/>';return t+"</mergeCells>"}function IB(e,t,n,r,s){var i=!1,o={},c=null;if(r.bookType!=="xlsx"&&t.vbaraw){var h=t.SheetNames[n];try{t.Workbook&&(h=t.Workbook.Sheets[n].CodeName||h)}catch{}i=!0,o.codeName=lu(Ut(h))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),c=(c||"")+Ke("outlinePr",null,d)}!i&&!c||(s[s.length]=Ke("sheetPr",c,o))}var LB=["objects","scenarios","selectLockedCells","selectUnlockedCells"],FB=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function PB(e){var t={sheet:1};return LB.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),FB.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=iC(e.password).toString(16).toUpperCase()),Ke("sheetProtection",null,t)}function zB(e){return _C(e),Ke("pageMargins",null,e)}function BB(e,t){for(var n=["<cols>"],r,s=0;s!=t.length;++s)(r=t[s])&&(n[n.length]=Ke("col",null,Fh(s,r)));return n[n.length]="</cols>",n.join("")}function UB(e,t,n,r){var s=typeof e.ref=="string"?e.ref:Sn(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,o=Wr(s);o.s.r==o.e.r&&(o.e.r=Wr(t["!ref"]).e.r,s=Sn(o));for(var c=0;c<i.length;++c){var h=i[c];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+n.SheetNames[r]+"'!"+s;break}}return c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),Ke("autoFilter",null,{ref:s})}function $B(e,t,n,r){var s={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Ke("sheetViews",Ke("sheetView",null,s),{})}function HB(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=ju[e.v];break;case"d":r&&r.cellDates?s=dr(e.v,-1).toISOString():(e=Nr(e),e.t="n",s=""+(e.v=Cr(dr(e.v)))),typeof e.z>"u"&&(e.z=dn[14]);break;default:s=e.v;break}var c=Xn("v",Ut(s)),h={r:t},d=pa(r.cellXfs,e,r);switch(d!==0&&(h.s=d),e.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){c=Xn("v",""+Yx(r.Strings,e.v,r.revStrings)),h.t="s";break}h.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var p=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;c=Ke("f",Ut(e.f),p)+(e.v!=null?c:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(h.cm=1),Ke("c",c,h)}function VB(e,t,n,r){var s=[],i=[],o=rn(e["!ref"]),c="",h,d="",p=[],g=0,v=0,x=e["!rows"],b=Array.isArray(e),y={r:d},_,E=-1;for(v=o.s.c;v<=o.e.c;++v)p[v]=ir(v);for(g=o.s.r;g<=o.e.r;++g){for(i=[],d=Yn(g),v=o.s.c;v<=o.e.c;++v){h=p[v]+d;var T=b?(e[g]||[])[v]:e[h];T!==void 0&&(c=HB(T,h,e,t))!=null&&i.push(c)}(i.length>0||x&&x[g])&&(y={r:d},x&&x[g]&&(_=x[g],_.hidden&&(y.hidden=1),E=-1,_.hpx?E=ah(_.hpx):_.hpt&&(E=_.hpt),E>-1&&(y.ht=E,y.customHeight=1),_.level&&(y.outlineLevel=_.level)),s[s.length]=Ke("row",i.join(""),y))}if(x)for(;g<x.length;++g)x&&x[g]&&(y={r:g+1},_=x[g],_.hidden&&(y.hidden=1),E=-1,_.hpx?E=ah(_.hpx):_.hpt&&(E=_.hpt),E>-1&&(y.ht=E,y.customHeight=1),_.level&&(y.outlineLevel=_.level),s[s.length]=Ke("row","",y));return s.join("")}function SC(e,t,n,r){var s=[En,Ke("worksheet",null,{xmlns:Cl[0],"xmlns:r":Ln.r})],i=n.SheetNames[e],o=0,c="",h=n.Sheets[i];h==null&&(h={});var d=h["!ref"]||"A1",p=rn(d);if(p.e.c>16383||p.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),d=Sn(p)}r||(r={}),h["!comments"]=[];var g=[];IB(h,n,e,t,s),s[s.length]=Ke("dimension",null,{ref:d}),s[s.length]=$B(h,t,e,n),t.sheetFormat&&(s[s.length]=Ke("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),h["!cols"]!=null&&h["!cols"].length>0&&(s[s.length]=BB(h,h["!cols"])),s[o=s.length]="<sheetData/>",h["!links"]=[],h["!ref"]!=null&&(c=VB(h,t),c.length>0&&(s[s.length]=c)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),h["!protect"]&&(s[s.length]=PB(h["!protect"])),h["!autofilter"]!=null&&(s[s.length]=UB(h["!autofilter"],h,n,e)),h["!merges"]!=null&&h["!merges"].length>0&&(s[s.length]=DB(h["!merges"]));var v=-1,x,b=-1;return h["!links"].length>0&&(s[s.length]="<hyperlinks>",h["!links"].forEach(function(y){y[1].Target&&(x={ref:y[0]},y[1].Target.charAt(0)!="#"&&(b=Bt(r,-1,Ut(y[1].Target).replace(/#.*$/,""),Mt.HLINK),x["r:id"]="rId"+b),(v=y[1].Target.indexOf("#"))>-1&&(x.location=Ut(y[1].Target.slice(v+1))),y[1].Tooltip&&(x.tooltip=Ut(y[1].Tooltip)),s[s.length]=Ke("hyperlink",null,x))}),s[s.length]="</hyperlinks>"),delete h["!links"],h["!margins"]!=null&&(s[s.length]=zB(h["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=Xn("ignoredErrors",Ke("ignoredError",null,{numberStoredAsText:1,sqref:d}))),g.length>0&&(b=Bt(r,-1,"../drawings/drawing"+(e+1)+".xml",Mt.DRAW),s[s.length]=Ke("drawing",null,{"r:id":"rId"+b}),h["!drawing"]=g),h["!comments"].length>0&&(b=Bt(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Mt.VML),s[s.length]=Ke("legacyDrawing",null,{"r:id":"rId"+b}),h["!legacy"]=b),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function GB(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=r,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=s/20),n}function qB(e,t,n){var r=De(145),s=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var i=320;s.hpx?i=ah(s.hpx)*20:s.hpt&&(i=s.hpt*20),r.write_shift(2,i),r.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var c=0,h=r.l;r.l+=4;for(var d={r:e,c:0},p=0;p<16;++p)if(!(t.s.c>p+1<<10||t.e.c<p<<10)){for(var g=-1,v=-1,x=p<<10;x<p+1<<10;++x){d.c=x;var b=Array.isArray(n)?(n[d.r]||[])[d.c]:n[$t(d)];b&&(g<0&&(g=x),v=x)}g<0||(++c,r.write_shift(4,g),r.write_shift(4,v))}var y=r.l;return r.l=h,r.write_shift(4,c),r.l=y,r.length>r.l?r.slice(0,r.l):r}function WB(e,t,n,r){var s=qB(r,n,t);(s.length>17||(t["!rows"]||[])[r])&&ze(e,0,s)}var KB=io,XB=kl;function YB(){}function JB(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=o7(e),n}function ZB(e,t,n){n==null&&(n=De(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var s=1;s<3;++s)n.write_shift(1,0);return nh({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),PT(e,n),n.slice(0,n.l)}function QB(e){var t=fs(e);return[t]}function eU(e,t,n){return n==null&&(n=De(8)),no(t,n)}function tU(e){var t=ro(e);return[t]}function nU(e,t,n){return n==null&&(n=De(4)),so(t,n)}function rU(e){var t=fs(e),n=e.read_shift(1);return[t,n,"b"]}function sU(e,t,n){return n==null&&(n=De(9)),no(t,n),n.write_shift(1,e.v?1:0),n}function iU(e){var t=ro(e),n=e.read_shift(1);return[t,n,"b"]}function aU(e,t,n){return n==null&&(n=De(5)),so(t,n),n.write_shift(1,e.v?1:0),n}function oU(e){var t=fs(e),n=e.read_shift(1);return[t,n,"e"]}function lU(e,t,n){return n==null&&(n=De(9)),no(t,n),n.write_shift(1,e.v),n}function cU(e){var t=ro(e),n=e.read_shift(1);return[t,n,"e"]}function uU(e,t,n){return n==null&&(n=De(8)),so(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function fU(e){var t=fs(e),n=e.read_shift(4);return[t,n,"s"]}function dU(e,t,n){return n==null&&(n=De(12)),no(t,n),n.write_shift(4,t.v),n}function hU(e){var t=ro(e),n=e.read_shift(4);return[t,n,"s"]}function pU(e,t,n){return n==null&&(n=De(8)),so(t,n),n.write_shift(4,t.v),n}function mU(e){var t=fs(e),n=Al(e);return[t,n,"n"]}function gU(e,t,n){return n==null&&(n=De(16)),no(t,n),Qa(e.v,n),n}function xU(e){var t=ro(e),n=Al(e);return[t,n,"n"]}function vU(e,t,n){return n==null&&(n=De(12)),so(t,n),Qa(e.v,n),n}function yU(e){var t=fs(e),n=zT(e);return[t,n,"n"]}function wU(e,t,n){return n==null&&(n=De(12)),no(t,n),BT(e.v,n),n}function bU(e){var t=ro(e),n=zT(e);return[t,n,"n"]}function _U(e,t,n){return n==null&&(n=De(8)),so(t,n),BT(e.v,n),n}function SU(e){var t=fs(e),n=$x(e);return[t,n,"is"]}function EU(e){var t=fs(e),n=ar(e);return[t,n,"str"]}function TU(e,t,n){return n==null&&(n=De(12+4*e.v.length)),no(t,n),Pn(e.v,n),n.length>n.l?n.slice(0,n.l):n}function CU(e){var t=ro(e),n=ar(e);return[t,n,"str"]}function NU(e,t,n){return n==null&&(n=De(8+4*e.v.length)),so(t,n),Pn(e.v,n),n.length>n.l?n.slice(0,n.l):n}function kU(e,t,n){var r=e.l+t,s=fs(e);s.r=n["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(n.cellFormula){e.l+=2;var c=Lh(e,r-e.l,n);o[3]=pl(c,null,s,n.supbooks,n)}else e.l=r;return o}function AU(e,t,n){var r=e.l+t,s=fs(e);s.r=n["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(n.cellFormula){e.l+=2;var c=Lh(e,r-e.l,n);o[3]=pl(c,null,s,n.supbooks,n)}else e.l=r;return o}function jU(e,t,n){var r=e.l+t,s=fs(e);s.r=n["!row"];var i=Al(e),o=[s,i,"n"];if(n.cellFormula){e.l+=2;var c=Lh(e,r-e.l,n);o[3]=pl(c,null,s,n.supbooks,n)}else e.l=r;return o}function RU(e,t,n){var r=e.l+t,s=fs(e);s.r=n["!row"];var i=ar(e),o=[s,i,"str"];if(n.cellFormula){e.l+=2;var c=Lh(e,r-e.l,n);o[3]=pl(c,null,s,n.supbooks,n)}else e.l=r;return o}var OU=io,MU=kl;function DU(e,t){return t==null&&(t=De(4)),t.write_shift(4,e),t}function IU(e,t){var n=e.l+t,r=io(e),s=Hx(e),i=ar(e),o=ar(e),c=ar(e);e.l=n;var h={rfx:r,relId:s,loc:i,display:c};return o&&(h.Tooltip=o),h}function LU(e,t){var n=De(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));kl({s:Fn(e[0]),e:Fn(e[0])},n),Vx("rId"+t,n);var r=e[1].Target.indexOf("#"),s=r==-1?"":e[1].Target.slice(r+1);return Pn(s||"",n),Pn(e[1].Tooltip||"",n),Pn("",n),n.slice(0,n.l)}function FU(){}function PU(e,t,n){var r=e.l+t,s=UT(e),i=e.read_shift(1),o=[s];if(o[2]=i,n.cellFormula){var c=CB(e,r-e.l,n);o[1]=c}else e.l=r;return o}function zU(e,t,n){var r=e.l+t,s=io(e),i=[s];if(n.cellFormula){var o=kB(e,r-e.l,n);i[1]=o,e.l=r}else e.l=r;return i}function BU(e,t,n){n==null&&(n=De(18));var r=Fh(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof r.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),n.write_shift(2,s),n}var EC=["left","right","top","bottom","header","footer"];function UU(e){var t={};return EC.forEach(function(n){t[n]=Al(e)}),t}function $U(e,t){return t==null&&(t=De(48)),_C(e),EC.forEach(function(n){Qa(e[n],t)}),t}function HU(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function VU(e,t,n){n==null&&(n=De(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function GU(e){var t=De(24);return t.write_shift(4,4),t.write_shift(4,1),kl(e,t),t}function qU(e,t){return t==null&&(t=De(66)),t.write_shift(2,e.password?iC(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function WU(){}function KU(){}function XU(e,t,n,r,s,i,o){if(t.v===void 0)return!1;var c="";switch(t.t){case"b":c=t.v?"1":"0";break;case"d":t=Nr(t),t.z=t.z||dn[14],t.v=Cr(dr(t.v)),t.t="n";break;case"n":case"e":c=""+t.v;break;default:c=t.v;break}var h={r:n,c:r};switch(h.s=pa(s.cellXfs,t,s),t.l&&i["!links"].push([$t(h),t.l]),t.c&&i["!comments"].push([$t(h),t.c]),t.t){case"s":case"str":return s.bookSST?(c=Yx(s.Strings,t.v,s.revStrings),h.t="s",h.v=c,o?ze(e,18,pU(t,h)):ze(e,7,dU(t,h))):(h.t="str",o?ze(e,17,NU(t,h)):ze(e,6,TU(t,h))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?ze(e,13,_U(t,h)):ze(e,2,wU(t,h)):o?ze(e,16,vU(t,h)):ze(e,5,gU(t,h)),!0;case"b":return h.t="b",o?ze(e,15,aU(t,h)):ze(e,4,sU(t,h)),!0;case"e":return h.t="e",o?ze(e,14,uU(t,h)):ze(e,3,lU(t,h)),!0}return o?ze(e,12,nU(t,h)):ze(e,1,eU(t,h)),!0}function YU(e,t,n,r){var s=rn(t["!ref"]||"A1"),i,o="",c=[];ze(e,145);var h=Array.isArray(t),d=s.e.r;t["!rows"]&&(d=Math.max(s.e.r,t["!rows"].length-1));for(var p=s.s.r;p<=d;++p){o=Yn(p),WB(e,t,s,p);var g=!1;if(p<=s.e.r)for(var v=s.s.c;v<=s.e.c;++v){p===s.s.r&&(c[v]=ir(v)),i=c[v]+o;var x=h?(t[p]||[])[v]:t[i];if(!x){g=!1;continue}g=XU(e,x,p,v,r,t,g)}}ze(e,146)}function JU(e,t){!t||!t["!merges"]||(ze(e,177,DU(t["!merges"].length)),t["!merges"].forEach(function(n){ze(e,176,MU(n))}),ze(e,178))}function ZU(e,t){!t||!t["!cols"]||(ze(e,390),t["!cols"].forEach(function(n,r){n&&ze(e,60,BU(r,n))}),ze(e,391))}function QU(e,t){!t||!t["!ref"]||(ze(e,648),ze(e,649,GU(rn(t["!ref"]))),ze(e,650))}function e$(e,t,n){t["!links"].forEach(function(r){if(r[1].Target){var s=Bt(n,-1,r[1].Target.replace(/#.*$/,""),Mt.HLINK);ze(e,494,LU(r,s))}}),delete t["!links"]}function t$(e,t,n,r){if(t["!comments"].length>0){var s=Bt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Mt.VML);ze(e,551,Vx("rId"+s)),t["!legacy"]=s}}function n$(e,t,n,r){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:Sn(s.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,c=Wr(i);c.s.r==c.e.r&&(c.e.r=Wr(t["!ref"]).e.r,i=Sn(c));for(var h=0;h<o.length;++h){var d=o[h];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+n.SheetNames[r]+"'!"+i;break}}h==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),ze(e,161,kl(rn(i))),ze(e,162)}}function r$(e,t,n){ze(e,133),ze(e,137,VU(t,n)),ze(e,138),ze(e,134)}function s$(e,t){t["!protect"]&&ze(e,535,qU(t["!protect"]))}function i$(e,t,n,r){var s=Tr(),i=n.SheetNames[e],o=n.Sheets[i]||{},c=i;try{n&&n.Workbook&&(c=n.Workbook.Sheets[e].CodeName||c)}catch{}var h=rn(o["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],ze(s,129),(n.vbaraw||o["!outline"])&&ze(s,147,ZB(c,o["!outline"])),ze(s,148,XB(h)),r$(s,o,n.Workbook),ZU(s,o),YU(s,o,e,t),s$(s,o),n$(s,o,n,e),JU(s,o),e$(s,o,r),o["!margins"]&&ze(s,476,$U(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&QU(s,o),t$(s,o,e,r),ze(s,130),s.end()}function a$(e,t){e.l+=10;var n=ar(e);return{name:n}}var o$=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function l$(e){return!e.Workbook||!e.Workbook.WBProps?"false":zP(e.Workbook.WBProps.date1904)?"true":"false"}var c$="][*?/\\".split("");function TC(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return c$.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function u$(e,t,n){e.forEach(function(r,s){TC(r);for(var i=0;i<s;++i)if(r==e[i])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=t&&t[s]&&t[s].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function f$(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];u$(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)MB(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}function CC(e){var t=[En];t[t.length]=Ke("workbook",null,{xmlns:Cl[0],"xmlns:r":Ln.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(o$.forEach(function(c){e.Workbook.WBProps[c[0]]!=null&&e.Workbook.WBProps[c[0]]!=c[1]&&(r[c[0]]=e.Workbook.WBProps[c[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Ke("workbookPr",null,r);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Ut(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Ke("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(c){var h={name:c.Name};c.Comment&&(h.comment=c.Comment),c.Sheet!=null&&(h.localSheetId=""+c.Sheet),c.Hidden&&(h.hidden="1"),c.Ref&&(t[t.length]=Ke("definedName",Ut(c.Ref),h))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function d$(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=Lg(e),n.name=ar(e),n}function h$(e,t){return t||(t=De(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Vx(e.strRelID,t),Pn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function p$(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var s=t>8?ar(e):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function m$(e,t){t||(t=De(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),PT(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function g$(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=l7(e),o=NB(e,0,n),c=Hx(e);e.l=r;var h={Name:i,Ptg:o};return s<268435455&&(h.Sheet=s),c&&(h.Comment=c),h}function x$(e,t){ze(e,143);for(var n=0;n!=t.SheetNames.length;++n){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,s={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};ze(e,156,h$(s))}ze(e,144)}function v$(e,t){t||(t=De(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return Pn("SheetJS",t),Pn(Kd.version,t),Pn(Kd.version,t),Pn("7262",t),t.length>t.l?t.slice(0,t.l):t}function y$(e,t){t||(t=De(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function w$(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,r=0,s=-1,i=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&s==-1?s=r:n[r].Hidden==1&&i==-1&&(i=r);i>s||(ze(e,135),ze(e,158,y$(s)),ze(e,136))}}function b$(e,t){var n=Tr();return ze(n,131),ze(n,128,v$()),ze(n,153,m$(e.Workbook&&e.Workbook.WBProps||null)),w$(n,e),x$(n,e),ze(n,132),n.end()}function _$(e,t,n){return(t.slice(-4)===".bin"?b$:CC)(e)}function S$(e,t,n,r,s){return(t.slice(-4)===".bin"?i$:SC)(e,n,r,s)}function E$(e,t,n){return(t.slice(-4)===".bin"?$z:lC)(e,n)}function T$(e,t,n){return(t.slice(-4)===".bin"?mz:sC)(e,n)}function C$(e,t,n){return(t.slice(-4)===".bin"?s9:hC)(e)}function N$(e){return(e.slice(-4)===".bin"?Yz:fC)()}function k$(e,t){var n=[];return e.Props&&n.push(E7(e.Props,t)),e.Custprops&&n.push(T7(e.Props,e.Custprops)),n.join("")}function A$(){return""}function j$(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,s){var i=[];i.push(Ke("NumberFormat",null,{"ss:Format":Ut(dn[r.numFmtId])}));var o={"ss:ID":"s"+(21+s)};n.push(Ke("Style",i.join(""),o))}),Ke("Styles",n.join(""))}function NC(e){return Ke("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Kx(e.Ref,{r:0,c:0})})}function R$(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var s=t[r];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||n.push(NC(s)))}return Ke("Names",n.join(""))}function O$(e,t,n,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var s=r.Workbook.Names,i=[],o=0;o<s.length;++o){var c=s[o];c.Sheet==n&&(c.Name.match(/^_xlfn\./)||i.push(NC(c)))}return i.join("")}function M$(e,t,n,r){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(Ke("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(Ke("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(Ke("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)s.push(Ke("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<n&&!(r.Workbook.Sheets[i]&&!r.Workbook.Sheets[i].Hidden);++i);i==n&&s.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(Xn("ProtectContents","True")),e["!protect"].objects&&s.push(Xn("ProtectObjects","True")),e["!protect"].scenarios&&s.push(Xn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(Xn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(Xn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":Ke("WorksheetOptions",s.join(""),{xmlns:Ur.x})}function D$(e){return e.map(function(t){var n=PP(t.t||""),r=Ke("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ke("Comment",r,{"ss:Author":t.a})}).join("")}function I$(e,t,n,r,s,i,o){if(!e||e.v==null&&e.f==null)return"";var c={};if(e.f&&(c["ss:Formula"]="="+Ut(Kx(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var h=Fn(e.F.slice(t.length+1));c["ss:ArrayRange"]="RC:R"+(h.r==o.r?"":"["+(h.r-o.r)+"]")+"C"+(h.c==o.c?"":"["+(h.c-o.c)+"]")}if(e.l&&e.l.Target&&(c["ss:HRef"]=Ut(e.l.Target),e.l.Tooltip&&(c["x:HRefScreenTip"]=Ut(e.l.Tooltip))),n["!merges"])for(var d=n["!merges"],p=0;p!=d.length;++p)d[p].s.c!=o.c||d[p].s.r!=o.r||(d[p].e.c>d[p].s.c&&(c["ss:MergeAcross"]=d[p].e.c-d[p].s.c),d[p].e.r>d[p].s.r&&(c["ss:MergeDown"]=d[p].e.r-d[p].s.r));var g="",v="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":g="Number",v=String(e.v);break;case"b":g="Boolean",v=e.v?"1":"0";break;case"e":g="Error",v=ju[e.v];break;case"d":g="DateTime",v=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||dn[14]);break;case"s":g="String",v=FP(e.v||"");break}var x=pa(r.cellXfs,e,r);c["ss:StyleID"]="s"+(21+x),c["ss:Index"]=o.c+1;var b=e.v!=null?v:"",y=e.t=="z"?"":'<Data ss:Type="'+g+'">'+b+"</Data>";return(e.c||[]).length>0&&(y+=D$(e.c)),Ke("Cell",y,c)}function L$(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=oC(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function F$(e,t,n,r){if(!e["!ref"])return"";var s=rn(e["!ref"]),i=e["!merges"]||[],o=0,c=[];e["!cols"]&&e["!cols"].forEach(function(_,E){qx(_);var T=!!_.width,C=Fh(E,_),N={"ss:Index":E+1};T&&(N["ss:Width"]=sh(C.width)),_.hidden&&(N["ss:Hidden"]="1"),c.push(Ke("Column",null,N))});for(var h=Array.isArray(e),d=s.s.r;d<=s.e.r;++d){for(var p=[L$(d,(e["!rows"]||[])[d])],g=s.s.c;g<=s.e.c;++g){var v=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>g)&&!(i[o].s.r>d)&&!(i[o].e.c<g)&&!(i[o].e.r<d)){(i[o].s.c!=g||i[o].s.r!=d)&&(v=!0);break}if(!v){var x={r:d,c:g},b=$t(x),y=h?(e[d]||[])[g]:e[b];p.push(I$(y,b,e,t,n,r,x))}}p.push("</Row>"),p.length>2&&c.push(p.join(""))}return c.join("")}function P$(e,t,n){var r=[],s=n.SheetNames[e],i=n.Sheets[s],o=i?O$(i,t,e,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=i?F$(i,t,e,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(M$(i,t,e,n)),r.join("")}function z$(e,t){t||(t={}),e.SSF||(e.SSF=Nr(dn)),e.SSF&&(Oh(),Rh(e.SSF),t.revssf=Mh(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],pa(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(k$(e,t)),n.push(A$()),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(Ke("Worksheet",P$(r,t,e),{"ss:Name":Ut(e.SheetNames[r])}));return n[2]=j$(e,t),n[3]=R$(e),En+Ke("Workbook",n.join(""),{xmlns:Ur.ss,"xmlns:o":Ur.o,"xmlns:x":Ur.x,"xmlns:ss":Ur.ss,"xmlns:dt":Ur.dt,"xmlns:html":Ur.html})}var Fm={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function B$(e,t){var n=[],r=[],s=[],i=0,o,c=D_(W_,"n"),h=D_(K_,"n");if(e.Props)for(o=Jn(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(c,o[i])?n:Object.prototype.hasOwnProperty.call(h,o[i])?r:s).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Jn(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(c,o[i])?n:Object.prototype.hasOwnProperty.call(h,o[i])?r:s).push([o[i],e.Custprops[o[i]]]);var d=[];for(i=0;i<s.length;++i)JT.indexOf(s[i][0])>-1||KT.indexOf(s[i][0])>-1||s[i][1]!=null&&d.push(s[i]);r.length&&Wt.utils.cfb_add(t,"/SummaryInformation",Q_(r,Fm.SI,h,K_)),(n.length||d.length)&&Wt.utils.cfb_add(t,"/DocumentSummaryInformation",Q_(n,Fm.DSI,c,W_,d.length?d:null,Fm.UDI))}function U$(e,t){var n=t||{},r=Wt.utils.cfb_new({root:"R"}),s="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":s="/Workbook",n.biff=8;break;case"biff5":s="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Wt.utils.cfb_add(r,s,kC(e,n)),n.biff==8&&(e.Props||e.Custprops)&&B$(e,r),n.biff==8&&e.vbaraw&&i9(r,Wt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),r}var $$={0:{f:GB},1:{f:QB},2:{f:yU},3:{f:oU},4:{f:rU},5:{f:mU},6:{f:EU},7:{f:fU},8:{f:RU},9:{f:jU},10:{f:kU},11:{f:AU},12:{f:tU},13:{f:bU},14:{f:cU},15:{f:iU},16:{f:xU},17:{f:CU},18:{f:hU},19:{f:$x},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:g$},40:{},42:{},43:{f:Ez},44:{f:_z},45:{f:Nz},46:{f:Az},47:{f:kz},48:{},49:{f:t7},50:{},51:{f:Gz},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:nz},62:{f:SU},63:{f:Jz},64:{f:WU},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Hs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:HU},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:JB},148:{f:KB,p:16},151:{f:FU},152:{},153:{f:p$},154:{},155:{},156:{f:d$},157:{},158:{},159:{T:1,f:dz},160:{T:-1},161:{T:1,f:io},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:OU},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Hz},336:{T:-1},337:{f:Kz,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Lg},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Y7},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:PU},427:{f:zU},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:UU},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:YB},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:IU},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Lg},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:n9},633:{T:1},634:{T:-1},635:{T:1,f:e9},636:{T:-1},637:{f:i7},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:a$},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:KU},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Xe(e,t,n,r){var s=t;if(!isNaN(s)){var i=r||(n||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&zx(n)&&e.push(n)}}function H$(e,t,n,r){var s=(n||[]).length||0;if(s<=8224)return Xe(e,t,n,s);var i=t;if(!isNaN(i)){for(var o=n.parts||[],c=0,h=0,d=0;d+(o[c]||8224)<=8224;)d+=o[c]||8224,c++;var p=e.next(4);for(p.write_shift(2,i),p.write_shift(2,d),e.push(n.slice(h,h+d)),h+=d;h<s;){for(p=e.next(4),p.write_shift(2,60),d=0;d+(o[c]||8224)<=8224;)d+=o[c]||8224,c++;p.write_shift(2,d),e.push(n.slice(h,h+d)),h+=d}}}function Ou(e,t,n){return e||(e=De(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function V$(e,t,n,r){var s=De(9);return Ou(s,e,t),QT(n,r||"b",s),s}function G$(e,t,n){var r=De(8+2*n.length);return Ou(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function q$(e,t,n,r){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?Cr(dr(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?Xe(e,2,az(n,r,s)):Xe(e,3,iz(n,r,s));return;case"b":case"e":Xe(e,5,V$(n,r,t.v,t.t));return;case"s":case"str":Xe(e,4,G$(n,r,(t.v||"").slice(0,255)));return}Xe(e,1,Ou(null,n,r))}function W$(e,t,n,r){var s=Array.isArray(t),i=rn(t["!ref"]||"A1"),o,c="",h=[];if(i.e.c>255||i.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Sn(i)}for(var d=i.s.r;d<=i.e.r;++d){c=Yn(d);for(var p=i.s.c;p<=i.e.c;++p){d===i.s.r&&(h[p]=ir(p)),o=h[p]+c;var g=s?(t[d]||[])[p]:t[o];g&&q$(e,g,d,p)}}}function K$(e,t){for(var n=t||{},r=Tr(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==n.sheet&&(s=i);if(s==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Xe(r,n.biff==4?1033:n.biff==3?521:9,Gx(e,16,n)),W$(r,e.Sheets[e.SheetNames[s]],s,n),Xe(r,10),r.end()}function X$(e,t,n){Xe(e,49,$7({sz:12,name:"Arial"},n))}function Y$(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)t[s]!=null&&Xe(e,1054,G7(s,t[s],n))})}function J$(e,t){var n=De(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Xe(e,2151,n),n=De(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),nC(rn(t["!ref"]||"A1"),n),n.write_shift(4,4),Xe(e,2152,n)}function Z$(e,t){for(var n=0;n<16;++n)Xe(e,224,t2({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){Xe(e,224,t2(r,0,t))})}function Q$(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];Xe(e,440,Q7(r)),r[1].Tooltip&&Xe(e,2048,ez(r))}delete t["!links"]}function eH(e,t){if(t){var n=0;t.forEach(function(r,s){++n<=256&&r&&Xe(e,125,rz(Fh(s,r),s))})}}function tH(e,t,n,r,s){var i=16+pa(s.cellXfs,t,s);if(t.v==null&&!t.bf){Xe(e,513,eo(n,r,i));return}if(t.bf)Xe(e,6,TB(t,n,r,s,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Cr(dr(t.v)):t.v;Xe(e,515,X7(n,r,o,i));break;case"b":case"e":Xe(e,517,K7(n,r,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var c=Yx(s.Strings,t.v,s.revStrings);Xe(e,253,H7(n,r,c,i))}else Xe(e,516,V7(n,r,(t.v||"").slice(0,255),i,s));break;default:Xe(e,513,eo(n,r,i))}}function nH(e,t,n){var r=Tr(),s=n.SheetNames[e],i=n.Sheets[s]||{},o=(n||{}).Workbook||{},c=(o.Sheets||[])[e]||{},h=Array.isArray(i),d=t.biff==8,p,g="",v=[],x=rn(i["!ref"]||"A1"),b=d?65536:16384;if(x.e.c>255||x.e.r>=b){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,b-1)}Xe(r,2057,Gx(n,16,t)),Xe(r,13,as(1)),Xe(r,12,as(100)),Xe(r,15,fr(!0)),Xe(r,17,fr(!1)),Xe(r,16,Qa(.001)),Xe(r,95,fr(!0)),Xe(r,42,fr(!1)),Xe(r,43,fr(!1)),Xe(r,130,as(1)),Xe(r,128,W7()),Xe(r,131,fr(!1)),Xe(r,132,fr(!1)),d&&eH(r,i["!cols"]),Xe(r,512,q7(x,t)),d&&(i["!links"]=[]);for(var y=x.s.r;y<=x.e.r;++y){g=Yn(y);for(var _=x.s.c;_<=x.e.c;++_){y===x.s.r&&(v[_]=ir(_)),p=v[_]+g;var E=h?(i[y]||[])[_]:i[p];E&&(tH(r,E,y,_,t),d&&E.l&&i["!links"].push([p,E.l]))}}var T=c.CodeName||c.name||s;return d&&Xe(r,574,U7((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&Xe(r,229,Z7(i["!merges"])),d&&Q$(r,i),Xe(r,442,tC(T)),d&&J$(r,i),Xe(r,10),r.end()}function rH(e,t,n){var r=Tr(),s=(e||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},c=n.biff==8,h=n.biff==5;if(Xe(r,2057,Gx(e,5,n)),n.bookType=="xla"&&Xe(r,135),Xe(r,225,c?as(1200):null),Xe(r,193,k7(2)),h&&Xe(r,191),h&&Xe(r,192),Xe(r,226),Xe(r,92,F7("SheetJS",n)),Xe(r,66,as(c?1200:1252)),c&&Xe(r,353,as(0)),c&&Xe(r,448),Xe(r,317,sz(e.SheetNames.length)),c&&e.vbaraw&&Xe(r,211),c&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";Xe(r,442,tC(d))}Xe(r,156,as(17)),Xe(r,25,fr(!1)),Xe(r,18,fr(!1)),Xe(r,19,as(0)),c&&Xe(r,431,fr(!1)),c&&Xe(r,444,as(0)),Xe(r,61,B7()),Xe(r,64,fr(!1)),Xe(r,141,as(0)),Xe(r,34,fr(l$(e)=="true")),Xe(r,14,fr(!0)),c&&Xe(r,439,fr(!1)),Xe(r,218,as(0)),X$(r,e,n),Y$(r,e.SSF,n),Z$(r,n),c&&Xe(r,352,fr(!1));var p=r.end(),g=Tr();c&&Xe(g,140,tz()),c&&n.Strings&&H$(g,252,z7(n.Strings)),Xe(g,10);var v=g.end(),x=Tr(),b=0,y=0;for(y=0;y<e.SheetNames.length;++y)b+=(c?12:11)+(c?2:1)*e.SheetNames[y].length;var _=p.length+b+v.length;for(y=0;y<e.SheetNames.length;++y){var E=i[y]||{};Xe(x,133,P7({pos:_,hs:E.Hidden||0,dt:0,name:e.SheetNames[y]},n)),_+=t[y].length}var T=x.end();if(b!=T.length)throw new Error("BS8 "+b+" != "+T.length);var C=[];return p.length&&C.push(p),T.length&&C.push(T),v.length&&C.push(v),Kn(C)}function sH(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=Nr(dn)),e&&e.SSF&&(Oh(),Rh(e.SSF),n.revssf=Mh(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,Jx(n),n.cellXfs=[],pa(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)r[r.length]=nH(s,n,e);return r.unshift(rH(e,r,n)),Kn(r)}function kC(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(!(!r||!r["!ref"])){var s=Wr(r["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return sH(e,t);case 4:case 3:case 2:return K$(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function iH(e,t,n,r){for(var s=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var c=0,h=0,d=0;d<s.length;++d)if(!(s[d].s.r>n||s[d].s.c>o)&&!(s[d].e.r<n||s[d].e.c<o)){if(s[d].s.r<n||s[d].s.c<o){c=-1;break}c=s[d].e.r-s[d].s.r+1,h=s[d].e.c-s[d].s.c+1;break}if(!(c<0)){var p=$t({r:n,c:o}),g=r.dense?(e[n]||[])[o]:e[p],v=g&&g.v!=null&&(g.h||LP(g.w||(Ci(g),g.w)||""))||"",x={};c>1&&(x.rowspan=c),h>1&&(x.colspan=h),r.editable?v='<span contenteditable="true">'+v+"</span>":g&&(x["data-t"]=g&&g.t||"z",g.v!=null&&(x["data-v"]=g.v),g.z!=null&&(x["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+g.l.Target+'">'+v+"</a>")),x.id=(r.id||"sjs")+"-"+p,i.push(Ke("td",v,x))}}var b="<tr>";return b+i.join("")+"</tr>"}var aH='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',oH="</body></html>";function lH(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function AC(e,t){var n=t||{},r=n.header!=null?n.header:aH,s=n.footer!=null?n.footer:oH,i=[r],o=Wr(e["!ref"]);n.dense=Array.isArray(e),i.push(lH(e,o,n));for(var c=o.s.r;c<=o.e.r;++c)i.push(iH(e,o,c,n));return i.push("</table>"+s),i.join("")}function jC(e,t,n){var r=n||{},s=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var o=typeof r.origin=="string"?Fn(r.origin):r.origin;s=o.r,i=o.c}var c=t.getElementsByTagName("tr"),h=Math.min(r.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var p=Wr(e["!ref"]);d.s.r=Math.min(d.s.r,p.s.r),d.s.c=Math.min(d.s.c,p.s.c),d.e.r=Math.max(d.e.r,p.e.r),d.e.c=Math.max(d.e.c,p.e.c),s==-1&&(d.e.r=s=p.e.r+1)}var g=[],v=0,x=e["!rows"]||(e["!rows"]=[]),b=0,y=0,_=0,E=0,T=0,C=0;for(e["!cols"]||(e["!cols"]=[]);b<c.length&&y<h;++b){var N=c[b];if(l2(N)){if(r.display)continue;x[y]={hidden:!0}}var R=N.children;for(_=E=0;_<R.length;++_){var P=R[_];if(!(r.display&&l2(P))){var j=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):BP(P.innerHTML),O=P.getAttribute("data-z")||P.getAttribute("z");for(v=0;v<g.length;++v){var D=g[v];D.s.c==E+i&&D.s.r<y+s&&y+s<=D.e.r&&(E=D.e.c+1-i,v=-1)}C=+P.getAttribute("colspan")||1,((T=+P.getAttribute("rowspan")||1)>1||C>1)&&g.push({s:{r:y+s,c:E+i},e:{r:y+s+(T||1)-1,c:E+i+(C||1)-1}});var Y={t:"s",v:j},Z=P.getAttribute("data-t")||P.getAttribute("t")||"";j!=null&&(j.length==0?Y.t=Z||"z":r.raw||j.trim().length==0||Z=="s"||(j==="TRUE"?Y={t:"b",v:!0}:j==="FALSE"?Y={t:"b",v:!1}:isNaN(wi(j))?isNaN(ou(j).getDate())||(Y={t:"d",v:dr(j)},r.cellDates||(Y={t:"n",v:Cr(Y.v)}),Y.z=r.dateNF||dn[14]):Y={t:"n",v:wi(j)})),Y.z===void 0&&O!=null&&(Y.z=O);var z="",re=P.getElementsByTagName("A");if(re&&re.length)for(var k=0;k<re.length&&!(re[k].hasAttribute("href")&&(z=re[k].getAttribute("href"),z.charAt(0)!="#"));++k);z&&z.charAt(0)!="#"&&(Y.l={Target:z}),r.dense?(e[y+s]||(e[y+s]=[]),e[y+s][E+i]=Y):e[$t({c:E+i,r:y+s})]=Y,d.e.c<E+i&&(d.e.c=E+i),E+=C}}++y}return g.length&&(e["!merges"]=(e["!merges"]||[]).concat(g)),d.e.r=Math.max(d.e.r,y-1+s),e["!ref"]=Sn(d),y>=h&&(e["!fullref"]=Sn((d.e.r=c.length-b+y-1+s,d))),e}function RC(e,t){var n=t||{},r=n.dense?[]:{};return jC(r,e,t)}function cH(e,t){return to(RC(e,t),t)}function l2(e){var t="",n=uH(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function uH(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var fH=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+cu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return En+t}})(),c2=(function(){var e=function(i){return Ut(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(i,o,c){var h=[];h.push('      <table:table table:name="'+Ut(o.SheetNames[c])+`" table:style-name="ta1">
`);var d=0,p=0,g=Wr(i["!ref"]||"A1"),v=i["!merges"]||[],x=0,b=Array.isArray(i);if(i["!cols"])for(p=0;p<=g.e.c;++p)h.push("        <table:table-column"+(i["!cols"][p]?' table:style-name="co'+i["!cols"][p].ods+'"':"")+`></table:table-column>
`);var y="",_=i["!rows"]||[];for(d=0;d<g.s.r;++d)y=_[d]?' table:style-name="ro'+_[d].ods+'"':"",h.push("        <table:table-row"+y+`></table:table-row>
`);for(;d<=g.e.r;++d){for(y=_[d]?' table:style-name="ro'+_[d].ods+'"':"",h.push("        <table:table-row"+y+`>
`),p=0;p<g.s.c;++p)h.push(t);for(;p<=g.e.c;++p){var E=!1,T={},C="";for(x=0;x!=v.length;++x)if(!(v[x].s.c>p)&&!(v[x].s.r>d)&&!(v[x].e.c<p)&&!(v[x].e.r<d)){(v[x].s.c!=p||v[x].s.r!=d)&&(E=!0),T["table:number-columns-spanned"]=v[x].e.c-v[x].s.c+1,T["table:number-rows-spanned"]=v[x].e.r-v[x].s.r+1;break}if(E){h.push(n);continue}var N=$t({r:d,c:p}),R=b?(i[d]||[])[p]:i[N];if(R&&R.f&&(T["table:formula"]=Ut(RB(R.f)),R.F&&R.F.slice(0,N.length)==N)){var P=Wr(R.F);T["table:number-matrix-columns-spanned"]=P.e.c-P.s.c+1,T["table:number-matrix-rows-spanned"]=P.e.r-P.s.r+1}if(!R){h.push(t);continue}switch(R.t){case"b":C=R.v?"TRUE":"FALSE",T["office:value-type"]="boolean",T["office:boolean-value"]=R.v?"true":"false";break;case"n":C=R.w||String(R.v||0),T["office:value-type"]="float",T["office:value"]=R.v||0;break;case"s":case"str":C=R.v==null?"":R.v,T["office:value-type"]="string";break;case"d":C=R.w||dr(R.v).toISOString(),T["office:value-type"]="date",T["office:date-value"]=dr(R.v).toISOString(),T["table:style-name"]="ce1";break;default:h.push(t);continue}var j=e(C);if(R.l&&R.l.Target){var O=R.l.Target;O=O.charAt(0)=="#"?"#"+OB(O.slice(1)):O,O.charAt(0)!="#"&&!O.match(/^\w+:/)&&(O="../"+O),j=Ke("text:a",j,{"xlink:href":O.replace(/&/g,"&amp;")})}h.push("          "+Ke("table:table-cell",Ke("text:p",j,{}),T)+`
`)}h.push(`        </table:table-row>
`)}return h.push(`      </table:table>
`),h.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var p=0;p<d["!cols"].length;++p)if(d["!cols"][p]){var g=d["!cols"][p];if(g.width==null&&g.wpx==null&&g.wch==null)continue;qx(g),g.ods=c;var v=d["!cols"][p].wpx+"px";i.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+v+`"/>
`),i.push(`  </style:style>
`),++c}}});var h=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var p=0;p<d["!rows"].length;++p)if(d["!rows"][p]){d["!rows"][p].ods=h;var g=d["!rows"][p].hpx+"px";i.push('  <style:style style:name="ro'+h+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),i.push(`  </style:style>
`),++h}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,c){var h=[En],d=cu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=cu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(h.push("<office:document"+d+p+`>
`),h.push(qT().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+d+`>
`),s(h,o),h.push(`  <office:body>
`),h.push(`    <office:spreadsheet>
`);for(var g=0;g!=o.SheetNames.length;++g)h.push(r(o.Sheets[o.SheetNames[g]],o,g));return h.push(`    </office:spreadsheet>
`),h.push(`  </office:body>
`),c.bookType=="fods"?h.push("</office:document>"):h.push("</office:document-content>"),h.join("")}})();function OC(e,t){if(t.bookType=="fods")return c2(e,t);var n=Ix(),r="",s=[],i=[];return r="mimetype",yt(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",yt(n,r,c2(e,t)),s.push([r,"text/xml"]),i.push([r,"ContentFile"]),r="styles.xml",yt(n,r,fH(e,t)),s.push([r,"text/xml"]),i.push([r,"StylesFile"]),r="meta.xml",yt(n,r,En+qT()),s.push([r,"text/xml"]),i.push([r,"MetadataFile"]),r="manifest.rdf",yt(n,r,S7(i)),s.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",yt(n,r,b7(s)),n}function oh(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function dH(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ns(lu(e))}function hH(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}function ha(e){var t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(s){n.set(s,r),r+=s.length}),n}function pH(e,t,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,s=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(r&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=n>=0?0:128}function uu(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function zt(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function cl(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function kn(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],s=uu(e,n),i=s&7;s=Math.floor(s/8);var o=0,c;if(s==0)break;switch(i){case 0:{for(var h=n[0];e[n[0]++]>=128;);c=e.slice(h,n[0])}break;case 5:o=4,c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=uu(e,n),c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(r))}var d={data:c,type:i};t[s]==null?t[s]=[d]:t[s].push(d)}return t}function qn(e){var t=[];return e.forEach(function(n,r){n.forEach(function(s){s.data&&(t.push(zt(r*8+s.type)),s.type==2&&t.push(zt(s.data.length)),t.push(s.data))})}),ha(t)}function ws(e){for(var t,n=[],r=[0];r[0]<e.length;){var s=uu(e,r),i=kn(e.slice(r[0],r[0]+s));r[0]+=s;var o={id:cl(i[1][0].data),messages:[]};i[2].forEach(function(c){var h=kn(c.data),d=cl(h[3][0].data);o.messages.push({meta:h,data:e.slice(r[0],r[0]+d)}),r[0]+=d}),(t=i[3])!=null&&t[0]&&(o.merge=cl(i[3][0].data)>>>0>0),n.push(o)}return n}function $o(e){var t=[];return e.forEach(function(n){var r=[];r[1]=[{data:zt(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:zt(+!!n.merge),type:0}]);var s=[];n.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:zt(o.data.length)}],r[2].push({data:qn(o.meta),type:2})});var i=qn(r);t.push(zt(i.length)),t.push(i),s.forEach(function(o){return t.push(o)})}),ha(t)}function mH(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=uu(t,n),s=[];n[0]<t.length;){var i=t[n[0]]&3;if(i==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var c=o-59;o=t[n[0]],c>1&&(o|=t[n[0]+1]<<8),c>2&&(o|=t[n[0]+2]<<16),c>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=c}s.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var h=0,d=0;if(i==1?(d=(t[n[0]]>>2&7)+4,h=(t[n[0]++]&224)<<3,h|=t[n[0]++]):(d=(t[n[0]++]>>2)+1,i==2?(h=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(h=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),s=[ha(s)],h==0)throw new Error("Invalid offset 0");if(h>s[0].length)throw new Error("Invalid offset beyond length");if(d>=h)for(s.push(s[0].slice(-h)),d-=h;d>=s[s.length-1].length;)s.push(s[s.length-1]),d-=s[s.length-1].length;s.push(s[0].slice(-h,-h+d))}}var p=ha(s);if(p.length!=r)throw new Error("Unexpected length: ".concat(p.length," != ").concat(r));return p}function bs(e){for(var t=[],n=0;n<e.length;){var r=e[n++],s=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(mH(r,e.slice(n,n+s))),n+=s}if(n!==e.length)throw new Error("data is not a valid framed stream!");return ha(t)}function Ho(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),s=new Uint8Array(4);t.push(s);var i=zt(r),o=i.length;t.push(i),r<=60?(o++,t.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),o+=r,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,n+=r}return ha(t)}function Pm(e,t){var n=new Uint8Array(32),r=oh(n),s=12,i=0;switch(n[0]=5,e.t){case"n":n[1]=2,pH(n,s,e.v),i|=1,s+=16;break;case"b":n[1]=6,r.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,i,!0),n.slice(0,s)}function zm(e,t){var n=new Uint8Array(32),r=oh(n),s=12,i=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":n[2]=6,r.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,i,!0),n.slice(0,s)}function Qi(e){var t=kn(e);return uu(t[1][0].data)}function gH(e,t,n){var r,s,i,o;if(!((r=e[6])!=null&&r[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var c=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&cl(e[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var h=0,d=oh(e[7][0].data),p=0,g=[],v=oh(e[4][0].data),x=0,b=[],y=0;y<t.length;++y){if(t[y]==null){d.setUint16(y*2,65535,!0),v.setUint16(y*2,65535);continue}d.setUint16(y*2,p,!0),v.setUint16(y*2,x,!0);var _,E;switch(typeof t[y]){case"string":_=Pm({t:"s",v:t[y]},n),E=zm({t:"s",v:t[y]},n);break;case"number":_=Pm({t:"n",v:t[y]},n),E=zm({t:"n",v:t[y]},n);break;case"boolean":_=Pm({t:"b",v:t[y]},n),E=zm({t:"b",v:t[y]},n);break;default:throw new Error("Unsupported value "+t[y])}g.push(_),p+=_.length,b.push(E),x+=E.length,++h}for(e[2][0].data=zt(h);y<e[7][0].data.length/2;++y)d.setUint16(y*2,65535,!0),v.setUint16(y*2,65535,!0);return e[6][0].data=ha(g),e[3][0].data=ha(b),h}function xH(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Wr(n["!ref"]);r.s.r=r.s.c=0;var s=!1;r.e.c>9&&(s=!0,r.e.c=9),r.e.r>49&&(s=!0,r.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Sn(r)));var i=lh(n,{range:r,header:1}),o=["~Sh33tJ5~"];i.forEach(function(U){return U.forEach(function(F){typeof F=="string"&&o.push(F)})});var c={},h=[],d=Wt.read(t.numbers,{type:"base64"});d.FileIndex.map(function(U,F){return[U,d.FullPaths[F]]}).forEach(function(U){var F=U[0],B=U[1];if(F.type==2&&F.name.match(/\.iwa/)){var ue=F.content,xe=bs(ue),ge=ws(xe);ge.forEach(function(ve){h.push(ve.id),c[ve.id]={deps:[],location:B,type:cl(ve.messages[0].meta[1][0].data)}})}}),h.sort(function(U,F){return U-F});var p=h.filter(function(U){return U>1}).map(function(U){return[U,zt(U)]});d.FileIndex.map(function(U,F){return[U,d.FullPaths[F]]}).forEach(function(U){var F=U[0];if(U[1],!!F.name.match(/\.iwa/)){var B=ws(bs(F.content));B.forEach(function(ue){ue.messages.forEach(function(xe){p.forEach(function(ge){ue.messages.some(function(ve){return cl(ve.meta[1][0].data)!=11006&&hH(ve.data,ge[1])})&&c[ge[0]].deps.push(ue.id)})})})}});for(var g=Wt.find(d,c[1].location),v=ws(bs(g.content)),x,b=0;b<v.length;++b){var y=v[b];y.id==1&&(x=y)}var _=Qi(kn(x.messages[0].data)[1][0].data);for(g=Wt.find(d,c[_].location),v=ws(bs(g.content)),b=0;b<v.length;++b)y=v[b],y.id==_&&(x=y);for(_=Qi(kn(x.messages[0].data)[2][0].data),g=Wt.find(d,c[_].location),v=ws(bs(g.content)),b=0;b<v.length;++b)y=v[b],y.id==_&&(x=y);for(_=Qi(kn(x.messages[0].data)[2][0].data),g=Wt.find(d,c[_].location),v=ws(bs(g.content)),b=0;b<v.length;++b)y=v[b],y.id==_&&(x=y);var E=kn(x.messages[0].data);{E[6][0].data=zt(r.e.r+1),E[7][0].data=zt(r.e.c+1);var T=Qi(E[46][0].data),C=Wt.find(d,c[T].location),N=ws(bs(C.content));{for(var R=0;R<N.length&&N[R].id!=T;++R);if(N[R].id!=T)throw"Bad ColumnRowUIDMapArchive";var P=kn(N[R].messages[0].data);P[1]=[],P[2]=[],P[3]=[];for(var j=0;j<=r.e.c;++j){var O=[];O[1]=O[2]=[{type:0,data:zt(j+420690)}],P[1].push({type:2,data:qn(O)}),P[2].push({type:0,data:zt(j)}),P[3].push({type:0,data:zt(j)})}P[4]=[],P[5]=[],P[6]=[];for(var D=0;D<=r.e.r;++D)O=[],O[1]=O[2]=[{type:0,data:zt(D+726270)}],P[4].push({type:2,data:qn(O)}),P[5].push({type:0,data:zt(D)}),P[6].push({type:0,data:zt(D)});N[R].messages[0].data=qn(P)}C.content=Ho($o(N)),C.size=C.content.length,delete E[46];var Y=kn(E[4][0].data);{Y[7][0].data=zt(r.e.r+1);var Z=kn(Y[1][0].data),z=Qi(Z[2][0].data);C=Wt.find(d,c[z].location),N=ws(bs(C.content));{if(N[0].id!=z)throw"Bad HeaderStorageBucket";var re=kn(N[0].messages[0].data);for(D=0;D<i.length;++D){var k=kn(re[2][0].data);k[1][0].data=zt(D),k[4][0].data=zt(i[D].length),re[2][D]={type:re[2][0].type,data:qn(k)}}N[0].messages[0].data=qn(re)}C.content=Ho($o(N)),C.size=C.content.length;var K=Qi(Y[2][0].data);C=Wt.find(d,c[K].location),N=ws(bs(C.content));{if(N[0].id!=K)throw"Bad HeaderStorageBucket";for(re=kn(N[0].messages[0].data),j=0;j<=r.e.c;++j)k=kn(re[2][0].data),k[1][0].data=zt(j),k[4][0].data=zt(r.e.r+1),re[2][j]={type:re[2][0].type,data:qn(k)};N[0].messages[0].data=qn(re)}C.content=Ho($o(N)),C.size=C.content.length;var X=Qi(Y[4][0].data);(function(){for(var U=Wt.find(d,c[X].location),F=ws(bs(U.content)),B,ue=0;ue<F.length;++ue){var xe=F[ue];xe.id==X&&(B=xe)}var ge=kn(B.messages[0].data);{ge[3]=[];var ve=[];o.forEach(function(Ge,at){ve[1]=[{type:0,data:zt(at)}],ve[2]=[{type:0,data:zt(1)}],ve[3]=[{type:2,data:dH(Ge)}],ge[3].push({type:2,data:qn(ve)})})}B.messages[0].data=qn(ge);var je=$o(F),Be=Ho(je);U.content=Be,U.size=U.content.length})();var H=kn(Y[3][0].data);{var ne=H[1][0];delete H[2];var se=kn(ne.data);{var oe=Qi(se[2][0].data);(function(){for(var U=Wt.find(d,c[oe].location),F=ws(bs(U.content)),B,ue=0;ue<F.length;++ue){var xe=F[ue];xe.id==oe&&(B=xe)}var ge=kn(B.messages[0].data);{delete ge[6],delete H[7];var ve=new Uint8Array(ge[5][0].data);ge[5]=[];for(var je=0,Be=0;Be<=r.e.r;++Be){var Ge=kn(ve);je+=gH(Ge,i[Be],o),Ge[1][0].data=zt(Be),ge[5].push({data:qn(Ge),type:2})}ge[1]=[{type:0,data:zt(r.e.c+1)}],ge[2]=[{type:0,data:zt(r.e.r+1)}],ge[3]=[{type:0,data:zt(je)}],ge[4]=[{type:0,data:zt(r.e.r+1)}]}B.messages[0].data=qn(ge);var at=$o(F),I=Ho(at);U.content=I,U.size=U.content.length})()}ne.data=qn(se)}Y[3][0].data=qn(H)}E[4][0].data=qn(Y)}x.messages[0].data=qn(E);var M=$o(v),A=Ho(M);return g.content=A,g.size=g.content.length,d}function vH(e){return function(n){for(var r=0;r!=e.length;++r){var s=e[r];n[s[0]]===void 0&&(n[s[0]]=s[1]),s[2]==="n"&&(n[s[0]]=Number(n[s[0]]))}}}function Jx(e){vH([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function yH(e,t){return t.bookType=="ods"?OC(e,t):t.bookType=="numbers"?xH(e,t):t.bookType=="xlsb"?wH(e,t):bH(e,t)}function wH(e,t){tl=1024,e&&!e.SSF&&(e.SSF=Nr(dn)),e&&e.SSF&&(Oh(),Rh(e.SSF),t.revssf=Mh(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Gc?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType=="xlsb"?"bin":"xml",r=pC.indexOf(t.bookType)>-1,s=HT();Jx(t=t||{});var i=Ix(),o="",c=0;if(t.cellXfs=[],pa(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",yt(i,o,WT(e.Props,t)),s.coreprops.push(o),Bt(t.rels,2,o,Mt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var h=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&h.push(e.SheetNames[d]);e.Props.SheetNames=h}for(e.Props.Worksheets=e.Props.SheetNames.length,yt(i,o,XT(e.Props)),s.extprops.push(o),Bt(t.rels,3,o,Mt.EXT_PROPS),e.Custprops!==e.Props&&Jn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",yt(i,o,YT(e.Custprops)),s.custprops.push(o),Bt(t.rels,4,o,Mt.CUST_PROPS)),c=1;c<=e.SheetNames.length;++c){var p={"!id":{}},g=e.Sheets[e.SheetNames[c-1]],v=(g||{})["!type"]||"sheet";switch(v){case"chart":default:o="xl/worksheets/sheet"+c+"."+n,yt(i,o,S$(c-1,o,t,e,p)),s.sheets.push(o),Bt(t.wbrels,-1,"worksheets/sheet"+c+"."+n,Mt.WS[0])}if(g){var x=g["!comments"],b=!1,y="";x&&x.length>0&&(y="xl/comments"+c+"."+n,yt(i,y,C$(x,y)),s.comments.push(y),Bt(p,-1,"../comments"+c+"."+n,Mt.CMNT),b=!0),g["!legacy"]&&b&&yt(i,"xl/drawings/vmlDrawing"+c+".vml",dC(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&yt(i,GT(o),ol(p))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,yt(i,o,T$(t.Strings,o,t)),s.strs.push(o),Bt(t.wbrels,-1,"sharedStrings."+n,Mt.SST)),o="xl/workbook."+n,yt(i,o,_$(e,o)),s.workbooks.push(o),Bt(t.rels,1,o,Mt.WB),o="xl/theme/theme1.xml",yt(i,o,uC(e.Themes,t)),s.themes.push(o),Bt(t.wbrels,-1,"theme/theme1.xml",Mt.THEME),o="xl/styles."+n,yt(i,o,E$(e,o,t)),s.styles.push(o),Bt(t.wbrels,-1,"styles."+n,Mt.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",yt(i,o,e.vbaraw),s.vba.push(o),Bt(t.wbrels,-1,"vbaProject.bin",Mt.VBA)),o="xl/metadata."+n,yt(i,o,N$(o)),s.metadata.push(o),Bt(t.wbrels,-1,"metadata."+n,Mt.XLMETA),yt(i,"[Content_Types].xml",VT(s,t)),yt(i,"_rels/.rels",ol(t.rels)),yt(i,"xl/_rels/workbook."+n+".rels",ol(t.wbrels)),delete t.revssf,delete t.ssf,i}function bH(e,t){tl=1024,e&&!e.SSF&&(e.SSF=Nr(dn)),e&&e.SSF&&(Oh(),Rh(e.SSF),t.revssf=Mh(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Gc?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=pC.indexOf(t.bookType)>-1,s=HT();Jx(t=t||{});var i=Ix(),o="",c=0;if(t.cellXfs=[],pa(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",yt(i,o,WT(e.Props,t)),s.coreprops.push(o),Bt(t.rels,2,o,Mt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var h=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&h.push(e.SheetNames[d]);e.Props.SheetNames=h}e.Props.Worksheets=e.Props.SheetNames.length,yt(i,o,XT(e.Props)),s.extprops.push(o),Bt(t.rels,3,o,Mt.EXT_PROPS),e.Custprops!==e.Props&&Jn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",yt(i,o,YT(e.Custprops)),s.custprops.push(o),Bt(t.rels,4,o,Mt.CUST_PROPS));var p=["SheetJ5"];for(t.tcid=0,c=1;c<=e.SheetNames.length;++c){var g={"!id":{}},v=e.Sheets[e.SheetNames[c-1]],x=(v||{})["!type"]||"sheet";switch(x){case"chart":default:o="xl/worksheets/sheet"+c+"."+n,yt(i,o,SC(c-1,t,e,g)),s.sheets.push(o),Bt(t.wbrels,-1,"worksheets/sheet"+c+"."+n,Mt.WS[0])}if(v){var b=v["!comments"],y=!1,_="";if(b&&b.length>0){var E=!1;b.forEach(function(T){T[1].forEach(function(C){C.T==!0&&(E=!0)})}),E&&(_="xl/threadedComments/threadedComment"+c+"."+n,yt(i,_,Zz(b,p,t)),s.threadedcomments.push(_),Bt(g,-1,"../threadedComments/threadedComment"+c+"."+n,Mt.TCMNT)),_="xl/comments"+c+"."+n,yt(i,_,hC(b)),s.comments.push(_),Bt(g,-1,"../comments"+c+"."+n,Mt.CMNT),y=!0}v["!legacy"]&&y&&yt(i,"xl/drawings/vmlDrawing"+c+".vml",dC(c,v["!comments"])),delete v["!comments"],delete v["!legacy"]}g["!id"].rId1&&yt(i,GT(o),ol(g))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,yt(i,o,sC(t.Strings,t)),s.strs.push(o),Bt(t.wbrels,-1,"sharedStrings."+n,Mt.SST)),o="xl/workbook."+n,yt(i,o,CC(e)),s.workbooks.push(o),Bt(t.rels,1,o,Mt.WB),o="xl/theme/theme1.xml",yt(i,o,uC(e.Themes,t)),s.themes.push(o),Bt(t.wbrels,-1,"theme/theme1.xml",Mt.THEME),o="xl/styles."+n,yt(i,o,lC(e,t)),s.styles.push(o),Bt(t.wbrels,-1,"styles."+n,Mt.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",yt(i,o,e.vbaraw),s.vba.push(o),Bt(t.wbrels,-1,"vbaProject.bin",Mt.VBA)),o="xl/metadata."+n,yt(i,o,fC()),s.metadata.push(o),Bt(t.wbrels,-1,"metadata."+n,Mt.XLMETA),p.length>1&&(o="xl/persons/person.xml",yt(i,o,Qz(p)),s.people.push(o),Bt(t.wbrels,-1,"persons/person.xml",Mt.PEOPLE)),yt(i,"[Content_Types].xml",VT(s,t)),yt(i,"_rels/.rels",ol(t.rels)),yt(i,"xl/_rels/workbook."+n+".rels",ol(t.wbrels)),delete t.revssf,delete t.ssf,i}function _H(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Ti(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function MC(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return ku(t.file,Wt.write(e,{type:It?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Wt.write(e,t)}function SH(e,t){var n=Nr(t||{}),r=yH(e,n);return EH(r,n)}function EH(e,t){var n={},r=It?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?Wt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(jh(s))}return t.password&&typeof encrypt_agile<"u"?MC(encrypt_agile(s,t.password),t):t.type==="file"?ku(t.file,s):t.type=="string"?Uc(s):s}function TH(e,t){var n=t||{},r=U$(e,n);return MC(r,n)}function Bs(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return au(lu(r));case"binary":return lu(r);case"string":return e;case"file":return ku(t.file,r,"utf8");case"buffer":return It?Ni(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Bs(r,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function CH(e,t){switch(t.type){case"base64":return au(e);case"binary":return e;case"string":return e;case"file":return ku(t.file,e,"binary");case"buffer":return It?Ni(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function dd(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return t.type=="base64"?au(n):t.type=="string"?Uc(n):n;case"file":return ku(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function DC(e,t){eP(),f$(e);var n=Nr(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=DC(e,n);return n.type="array",jh(r)}var s=0;if(n.sheet&&(typeof n.sheet=="number"?s=n.sheet:s=e.SheetNames.indexOf(n.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Bs(z$(e,n),n);case"slk":case"sylk":return Bs(lz.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"htm":case"html":return Bs(AC(e.Sheets[e.SheetNames[s]],n),n);case"txt":return CH(IC(e.Sheets[e.SheetNames[s]],n),n);case"csv":return Bs(Zx(e.Sheets[e.SheetNames[s]],n),n,"\uFEFF");case"dif":return Bs(cz.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"dbf":return dd(oz.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"prn":return Bs(uz.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"rtf":return Bs(xz.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"eth":return Bs(rC.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"fods":return Bs(OC(e,n),n);case"wk1":return dd(n2.sheet_to_wk1(e.Sheets[e.SheetNames[s]],n),n);case"wk3":return dd(n2.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),dd(kC(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),TH(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return SH(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function NH(e,t,n,r,s,i,o,c){var h=Yn(n),d=c.defval,p=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),g=!0,v=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:n,enumerable:!1})}catch{v.__rowNum__=n}else v.__rowNum__=n;if(!o||e[n])for(var x=t.s.c;x<=t.e.c;++x){var b=o?e[n][x]:e[r[x]+h];if(b===void 0||b.t===void 0){if(d===void 0)continue;i[x]!=null&&(v[i[x]]=d);continue}var y=b.v;switch(b.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(i[x]!=null){if(y==null)if(b.t=="e"&&y===null)v[i[x]]=null;else if(d!==void 0)v[i[x]]=d;else if(p&&y===null)v[i[x]]=null;else continue;else v[i[x]]=p&&(b.t!=="n"||b.t==="n"&&c.rawNumbers!==!1)?y:Ci(b,y,c);y!=null&&(g=!1)}}return{row:v,isempty:g}}function lh(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,s=1,i=[],o=0,c="",h={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},p=d.range!=null?d.range:e["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof p){case"string":h=rn(p);break;case"number":h=rn(e["!ref"]),h.s.r=p;break;default:h=p}r>0&&(s=0);var g=Yn(h.s.r),v=[],x=[],b=0,y=0,_=Array.isArray(e),E=h.s.r,T=0,C={};_&&!e[E]&&(e[E]=[]);var N=d.skipHidden&&e["!cols"]||[],R=d.skipHidden&&e["!rows"]||[];for(T=h.s.c;T<=h.e.c;++T)if(!(N[T]||{}).hidden)switch(v[T]=ir(T),n=_?e[E][T]:e[v[T]+g],r){case 1:i[T]=T-h.s.c;break;case 2:i[T]=v[T];break;case 3:i[T]=d.header[T-h.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=o=Ci(n,null,d),y=C[o]||0,!y)C[o]=1;else{do c=o+"_"+y++;while(C[c]);C[o]=y,C[c]=1}i[T]=c}for(E=h.s.r+s;E<=h.e.r;++E)if(!(R[E]||{}).hidden){var P=NH(e,h,E,v,r,i,_,d);(P.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(x[b++]=P.row)}return x.length=b,x}var u2=/"/g;function kH(e,t,n,r,s,i,o,c){for(var h=!0,d=[],p="",g=Yn(n),v=t.s.c;v<=t.e.c;++v)if(r[v]){var x=c.dense?(e[n]||[])[v]:e[r[v]+g];if(x==null)p="";else if(x.v!=null){h=!1,p=""+(c.rawNumbers&&x.t=="n"?x.v:Ci(x,null,c));for(var b=0,y=0;b!==p.length;++b)if((y=p.charCodeAt(b))===s||y===i||y===34||c.forceQuotes){p='"'+p.replace(u2,'""')+'"';break}p=="ID"&&(p='"ID"')}else x.f!=null&&!x.F?(h=!1,p="="+x.f,p.indexOf(",")>=0&&(p='"'+p.replace(u2,'""')+'"')):p="";d.push(p)}return c.blankrows===!1&&h?null:d.join(o)}function Zx(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var s=rn(e["!ref"]),i=r.FS!==void 0?r.FS:",",o=i.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,h=c.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),p="",g=[];r.dense=Array.isArray(e);for(var v=r.skipHidden&&e["!cols"]||[],x=r.skipHidden&&e["!rows"]||[],b=s.s.c;b<=s.e.c;++b)(v[b]||{}).hidden||(g[b]=ir(b));for(var y=0,_=s.s.r;_<=s.e.r;++_)(x[_]||{}).hidden||(p=kH(e,s,_,g,o,h,i,r),p!=null&&(r.strip&&(p=p.replace(d,"")),(p||r.blankrows!==!1)&&n.push((y++?c:"")+p)));return delete r.dense,n.join("")}function IC(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=Zx(e,t);return n}function AH(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var s=rn(e["!ref"]),i="",o=[],c,h=[],d=Array.isArray(e);for(c=s.s.c;c<=s.e.c;++c)o[c]=ir(c);for(var p=s.s.r;p<=s.e.r;++p)for(i=Yn(p),c=s.s.c;c<=s.e.c;++c)if(t=o[c]+i,n=d?(e[p]||[])[c]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}h[h.length]=t+"="+r}return h}function LC(e,t,n){var r=n||{},s=+!r.skipHeader,i=e||{},o=0,c=0;if(i&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var h=typeof r.origin=="string"?Fn(r.origin):r.origin;o=h.r,c=h.c}var d,p={s:{c:0,r:0},e:{c,r:o+t.length-1+s}};if(i["!ref"]){var g=rn(i["!ref"]);p.e.c=Math.max(p.e.c,g.e.c),p.e.r=Math.max(p.e.r,g.e.r),o==-1&&(o=g.e.r+1,p.e.r=o+t.length-1+s)}else o==-1&&(o=0,p.e.r=t.length-1+s);var v=r.header||[],x=0;t.forEach(function(y,_){Jn(y).forEach(function(E){(x=v.indexOf(E))==-1&&(v[x=v.length]=E);var T=y[E],C="z",N="",R=$t({c:c+x,r:o+_+s});d=fu(i,R),T&&typeof T=="object"&&!(T instanceof Date)?i[R]=T:(typeof T=="number"?C="n":typeof T=="boolean"?C="b":typeof T=="string"?C="s":T instanceof Date?(C="d",r.cellDates||(C="n",T=Cr(T)),N=r.dateNF||dn[14]):T===null&&r.nullError&&(C="e",T=0),d?(d.t=C,d.v=T,delete d.w,delete d.R,N&&(d.z=N)):i[R]=d={t:C,v:T},N&&(d.z=N))})}),p.e.c=Math.max(p.e.c,c+v.length-1);var b=Yn(o);if(s)for(x=0;x<v.length;++x)i[ir(x+c)+b]={t:"s",v:v[x]};return i["!ref"]=Sn(p),i}function jH(e,t){return LC(null,e,t)}function fu(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=Fn(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?fu(e,$t(t)):fu(e,$t({r:t,c:n||0}))}function RH(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function OH(){return{SheetNames:[],Sheets:{}}}function MH(e,t,n,r){var s=1;if(!n)for(;s<=65535&&e.SheetNames.indexOf(n="Sheet"+s)!=-1;++s,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||n;for(++s;s<=65535&&e.SheetNames.indexOf(n=o+s)!=-1;++s);}if(TC(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function DH(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=RH(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function IH(e,t){return e.z=t,e}function FC(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function LH(e,t,n){return FC(e,"#"+t,n)}function FH(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function PH(e,t,n,r){for(var s=typeof t!="string"?t:rn(t),i=typeof t=="string"?t:Sn(t),o=s.s.r;o<=s.e.r;++o)for(var c=s.s.c;c<=s.e.c;++c){var h=fu(e,o,c);h.t="n",h.F=i,delete h.v,o==s.s.r&&c==s.s.c&&(h.f=n,r&&(h.D=!0))}return e}var Bm={encode_col:ir,encode_row:Yn,encode_cell:$t,encode_range:Sn,decode_col:Ux,decode_row:Bx,split_cell:e7,decode_cell:Fn,decode_range:Wr,format_cell:Ci,sheet_add_aoa:FT,sheet_add_json:LC,sheet_add_dom:jC,aoa_to_sheet:Nl,json_to_sheet:jH,table_to_sheet:RC,table_to_book:cH,sheet_to_csv:Zx,sheet_to_txt:IC,sheet_to_json:lh,sheet_to_html:AC,sheet_to_formulae:AH,sheet_to_row_object_array:lh,sheet_get_cell:fu,book_new:OH,book_append_sheet:MH,book_set_sheet_visibility:DH,cell_set_number_format:IH,cell_set_hyperlink:FC,cell_set_internal_link:LH,cell_add_comment:FH,sheet_set_array_formula:PH,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Rd={exports:{}},zH=Rd.exports,f2;function BH(){return f2||(f2=1,(function(e,t){(function(n,r){r()})(zH,function(){function n(d,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,p,g){var v=new XMLHttpRequest;v.open("GET",d),v.responseType="blob",v.onload=function(){h(v.response,p,g)},v.onerror=function(){console.error("could not download file")},v.send()}function s(d){var p=new XMLHttpRequest;p.open("HEAD",d,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function i(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(p)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof sa=="object"&&sa.global===sa?sa:void 0,c=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(d,p,g){var v=o.URL||o.webkitURL,x=document.createElement("a");p=p||d.name||"download",x.download=p,x.rel="noopener",typeof d=="string"?(x.href=d,x.origin===location.origin?i(x):s(x.href)?r(d,p,g):i(x,x.target="_blank")):(x.href=v.createObjectURL(d),setTimeout(function(){v.revokeObjectURL(x.href)},4e4),setTimeout(function(){i(x)},0))}:"msSaveOrOpenBlob"in navigator?function(d,p,g){if(p=p||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,g),p);else if(s(d))r(d,p,g);else{var v=document.createElement("a");v.href=d,v.target="_blank",setTimeout(function(){i(v)})}}:function(d,p,g,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof d=="string")return r(d,p,g);var x=d.type==="application/octet-stream",b=/constructor/i.test(o.HTMLElement)||o.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||x&&b||c)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var C=_.result;C=y?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=C:location=C,v=null},_.readAsDataURL(d)}else{var E=o.URL||o.webkitURL,T=E.createObjectURL(d);v?v.location=T:location.href=T,v=null,setTimeout(function(){E.revokeObjectURL(T)},4e4)}});o.saveAs=h.saveAs=h,e.exports=h})})(Rd)),Rd.exports}var Qx=BH();const UH=async(e,t={})=>new Promise(n=>{const r=new FileReader;r.onload=s=>{const c=(s.target?.result).split(/\r?\n/).filter(h=>h.trim()).map(h=>({text:h.trim(),ws:0,qws:0,bws:0,status:"pending",groupId:t.groupId||null}));n({phrases:c,errors:[]})},r.onerror=()=>{n({phrases:[],errors:["  "]})},r.readAsText(e,"UTF-8")}),$H=async(e,t={})=>new Promise(n=>{rT.parse(e,{header:!0,skipEmptyLines:!0,complete:r=>{const s=[],i=[];r.data.forEach((o,c)=>{if(!o.text&&!o.){i.push(` ${c+1}:   `);return}s.push({text:(o.text||o.||"").trim(),ws:parseInt(o.ws||o.ws||"0",10),qws:parseInt(o.qws||o.qws||"0",10),bws:parseInt(o.bws||o.bws||"0",10),status:"pending",groupId:t.groupId||null})}),n({phrases:s,errors:i})},error:r=>{n({phrases:[],errors:[r.message]})}})}),HH=async(e,t={})=>({phrases:e.split(/\r?\n/).filter(s=>s.trim()).map(s=>({text:s.trim(),ws:0,qws:0,bws:0,status:"pending",groupId:t.groupId||null})),errors:[]}),VH=e=>{const{phrases:t,filename:n}=e,r=t.map(o=>({:o.text,ws:o.ws,qws:o.qws,bws:o.bws,:o.status})),s=rT.unparse(r,{delimiter:",",header:!0}),i=new Blob(["\uFEFF"+s],{type:"text/csv;charset=utf-8;"});Qx.saveAs(i,`${n}.csv`)},GH=e=>{const{phrases:t,filename:n}=e,r=t.map(d=>({:d.text,ws:d.ws,qws:d.qws,bws:d.bws,:d.status})),s=Bm.json_to_sheet(r),i=[{wch:50},{wch:10},{wch:10},{wch:10},{wch:12}];s["!cols"]=i;const o=Bm.book_new();Bm.book_append_sheet(o,s,"");const c=DC(o,{bookType:"xlsx",type:"array"}),h=new Blob([c],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Qx.saveAs(h,`${n}.xlsx`)},qH=e=>{const{phrases:t,filename:n}=e,r=t.map(i=>i.text).join(`
`),s=new Blob([r],{type:"text/plain;charset=utf-8"});Qx.saveAs(s,`${n}.txt`)},WH=({isOpen:e,onClose:t})=>{const{addPhrases:n}=pt(),[r,s]=ke.useState(!1),[i,o]=ke.useState(null),c=ke.useRef(null),h=async v=>{s(!0),o(null);try{const x=v.name.split(".").pop()?.toLowerCase();let b;if(x==="txt")b=await UH(v);else if(x==="csv")b=await $H(v);else throw new Error("  ");b.errors.length>0&&o(`  : ${b.errors.join(", ")}`),b.phrases.length>0?(await n(b.phrases),t()):o("   ")}catch(x){o(x instanceof Error?x.message:" ")}finally{s(!1)}},d=async()=>{s(!0),o(null);try{const v=await navigator.clipboard.readText();if(!v.trim())throw new Error("  ");const x=await HH(v);x.phrases.length>0?(await n(x.phrases),t()):o("   ")}catch(v){o(v instanceof Error?v.message:"   ")}finally{s(!1)}},p=v=>{v.preventDefault(),v.stopPropagation();const x=v.dataTransfer.files[0];x&&h(x)},g=v=>{v.preventDefault(),v.stopPropagation()};return u.jsx(jn,{isOpen:e,onClose:t,title:" ",size:"md",footer:u.jsx(We,{variant:"secondary",onClick:t,children:""}),children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{onDrop:p,onDragOver:g,className:"border-2 border-dashed border-gray-300 rounded-md p-8 text-center hover:border-blue-400 transition-colors cursor-pointer",onClick:()=>c.current?.click(),children:[u.jsx(OI,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"      "}),u.jsx("p",{className:"text-xs text-gray-500",children:" : TXT, CSV"}),u.jsx("input",{ref:c,type:"file",accept:".txt,.csv",onChange:v=>{const x=v.target.files?.[0];x&&h(x)},className:"hidden"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(We,{variant:"secondary",icon:u.jsx(SE,{className:"w-4 h-4"}),onClick:()=>c.current?.click(),disabled:r,className:"w-full",children:" TXT"}),u.jsx(We,{variant:"secondary",icon:u.jsx(Eg,{className:"w-4 h-4"}),onClick:()=>c.current?.click(),disabled:r,className:"w-full",children:" CSV"}),u.jsx(We,{variant:"secondary",icon:u.jsx(kD,{className:"w-4 h-4"}),onClick:d,disabled:r,className:"w-full col-span-2",children:"   "})]}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[u.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:" :"}),u.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[u.jsx("li",{children:" TXT:   =  "}),u.jsx("li",{children:" CSV:  , ws, qws, bws ()"}),u.jsx("li",{children:"  :   "})]})]}),i&&u.jsx("div",{className:"bg-error-100 border border-error-300 rounded-md p-3",children:u.jsx("p",{className:"text-sm text-error-600",children:i})}),r&&u.jsxs("div",{className:"text-center py-4",children:[u.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),u.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"..."})]})]})})},KH=({isOpen:e,onClose:t})=>{const{phrases:n,selectedPhraseIds:r,selectedGroupId:s,groups:i}=pt(),[o,c]=ke.useState("all"),[h,d]=ke.useState("keyset_phrases"),p=()=>{switch(o){case"selected":return n.filter(b=>r.has(b.id));case"group":return s?n.filter(b=>b.groupId===s):n;default:return n}},g=b=>{const y=p();if(y.length===0){alert("   ");return}const _={phrases:y,filename:h};switch(b){case"csv":VH(_);break;case"xlsx":GH(_);break;case"txt":qH(_);break}t()},v=p().length,x=s?i.find(b=>b.id===s):null;return u.jsx(jn,{isOpen:e,onClose:t,title:" ",size:"md",footer:u.jsx(We,{variant:"secondary",onClick:t,children:""}),children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:" :"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-md hover:bg-gray-50 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"scope",value:"all",checked:o==="all",onChange:b=>c(b.target.value),className:"w-4 h-4 text-blue-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-medium text-gray-700",children:" "}),u.jsxs("div",{className:"text-xs text-gray-500",children:[n.length," "]})]})]}),u.jsxs("label",{className:`flex items-center gap-3 p-3 border border-gray-200 rounded-md ${r.size===0?"opacity-50 cursor-not-allowed":"hover:bg-gray-50 cursor-pointer"}`,children:[u.jsx("input",{type:"radio",name:"scope",value:"selected",checked:o==="selected",onChange:b=>c(b.target.value),disabled:r.size===0,className:"w-4 h-4 text-blue-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-medium text-gray-700",children:" "}),u.jsxs("div",{className:"text-xs text-gray-500",children:[r.size," "]})]})]}),u.jsxs("label",{className:`flex items-center gap-3 p-3 border border-gray-200 rounded-md ${s?"hover:bg-gray-50 cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[u.jsx("input",{type:"radio",name:"scope",value:"group",checked:o==="group",onChange:b=>c(b.target.value),disabled:!s,className:"w-4 h-4 text-blue-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-medium text-gray-700",children:" "}),u.jsxs("div",{className:"text-xs text-gray-500",children:[x?.name||"  "," (",n.filter(b=>b.groupId===s).length," )"]})]})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" :"}),u.jsx("input",{type:"text",value:h,onChange:b=>d(b.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-sm focus:outline-none focus:ring-2 focus:ring-blue-300 focus:border-blue-500",placeholder:"keyset_phrases"}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"   "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:" :"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs(We,{variant:"secondary",icon:u.jsx(Eg,{className:"w-5 h-5"}),onClick:()=>g("csv"),className:"w-full flex flex-col items-center py-4 h-auto",disabled:v===0,children:[u.jsx("span",{className:"mt-2",children:"CSV"}),u.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Excel-"})]}),u.jsxs(We,{variant:"secondary",icon:u.jsx(Eg,{className:"w-5 h-5"}),onClick:()=>g("xlsx"),className:"w-full flex flex-col items-center py-4 h-auto",disabled:v===0,children:[u.jsx("span",{className:"mt-2",children:"XLSX"}),u.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Microsoft Excel"})]}),u.jsxs(We,{variant:"secondary",icon:u.jsx(SE,{className:"w-5 h-5"}),onClick:()=>g("txt"),className:"w-full flex flex-col items-center py-4 h-auto",disabled:v===0,children:[u.jsx("span",{className:"mt-2",children:"TXT"}),u.jsx("span",{className:"text-xs text-gray-500 mt-1",children:""})]})]})]}),v>0&&u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:u.jsxs("p",{className:"text-sm text-blue-800",children:["  : ",u.jsx("span",{className:"font-medium",children:v})]})})]})})};let Um=new Map;function PC(e){if(!e||typeof e!="string")return"";if(Um.has(e))return Um.get(e);const t=e.toLowerCase().replace(/[^-a-z]/gi,"");if(!t)return"";const n=t.replace(/(?:||||||)$/,"").replace(/(?:||||||||)$/,"").replace(/(?:|||||)$/,""),r=n.length>=3?n:t;return Um.set(e,r),r}function XH(e){if(!e||typeof e!="string")return"";const t=e.toLowerCase().replace(/[^-]/gi,"");if(!t)return"";const n={:"",:"",:"",:"",:"",:"",:""},r={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},s={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};return n[t]?n[t]:r[t]?r[t]:s[t]?s[t]:PC(t)}function du(e){try{if(!e||typeof e!="string")return{original:"",tokens:[],stems:[],lemmas:[]};const t=e.toLowerCase().replace(/[^\w\s-]/gi," ").split(/\s+/).filter(s=>s.length>0&&s.length<50).slice(0,20),n=t.map(PC).filter(s=>s.length>0),r=t.map(XH).filter(s=>s.length>0);return{original:e,tokens:t,stems:n,lemmas:r}}catch(t){return console.warn("   :",e,t),{original:e||"",tokens:[],stems:[],lemmas:[]}}}function zC(e){try{return!e||typeof e!="string"?"":[...du(e).lemmas].filter(s=>s&&s.length>0).slice(0,15).sort().join("|")||"empty"}catch(t){return console.warn("    :",e,t),"error"}}function ev(e){const t=new Map;return e.forEach(n=>{const r=zC(n.text);t.has(r)||t.set(r,[]),t.get(r).push(n)}),[...t.values()].filter(n=>n.length>1).map(n=>n.sort((r,s)=>(s.ws||0)-(r.ws||0)))}function tv(e){const t=new Map;return e.forEach(n=>{const r=n.text.toLowerCase();t.has(r)||t.set(r,[]),t.get(r).push(n)}),[...t.values()].filter(n=>n.length>1)}function Ph(e){const t=new Map;for(const n of e.sort((r,s)=>(s.ws||0)-(r.ws||0))){const r=n.text.toLowerCase();t.has(r)||t.set(r,n)}return[...t.values()]}function BC(e){const t=new Map;for(const n of e.sort((r,s)=>(s.ws||0)-(r.ws||0))){const r=zC(n.text);t.has(r)||t.set(r,n)}return[...t.values()]}const YH=({isOpen:e,onClose:t})=>{const{phrases:n,deletePhrases:r,addLog:s}=pt(),[i,o]=ke.useState(null),[c,h]=ke.useState(!1),d=()=>{h(!0),setTimeout(()=>{const g=tv(n),v=ev(n),x=g.reduce((b,y)=>b+y.length-1,0)+v.reduce((b,y)=>b+y.length-1,0);o({exact:g,morphological:v,totalDuplicates:x}),h(!1),s("info",` : ${x} (: ${g.length}, : ${v.length})`)},300)},p=g=>{if(!i)return;const v=[];(g==="exact"||g==="all")&&i.exact.forEach(b=>{b.slice(1).forEach(y=>v.push(y.id))}),(g==="morphological"||g==="all")&&i.morphological.forEach(b=>{b.slice(1).forEach(y=>v.push(y.id))}),window.confirm(` ${v.length}  ( )?`)&&(r(v),s("success",` : ${v.length}`),d())};return ke.useEffect(()=>{e&&!i&&d()},[e]),ke.useEffect(()=>{e||o(null)},[e]),u.jsx(jn,{isOpen:e,onClose:t,title:" ",size:"lg",footer:u.jsxs(u.Fragment,{children:[u.jsx(We,{variant:"secondary",onClick:t,children:""}),i&&i.totalDuplicates>0&&u.jsxs(u.Fragment,{children:[u.jsx(We,{variant:"secondary",icon:u.jsx(ru,{className:"w-4 h-4"}),onClick:()=>p("exact"),children:"  "}),u.jsx(We,{variant:"secondary",icon:u.jsx(WD,{className:"w-4 h-4"}),onClick:()=>p("morphological"),children:"  "}),u.jsx(We,{variant:"danger",icon:u.jsx(ru,{className:"w-4 h-4"}),onClick:()=>p("all"),children:"  "})]})]}),children:u.jsxs("div",{className:"space-y-4",children:[c&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mb-3"}),u.jsx("p",{className:"text-sm text-gray-600",children:" ..."})]}),i&&!c&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`p-4 rounded-md border ${i.totalDuplicates>0?"bg-warning-100 border-warning-300":"bg-success-100 border-success-300"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(su,{className:`w-5 h-5 ${i.totalDuplicates>0?"text-warning-500":"text-success-500"}`}),u.jsx("span",{className:"font-medium text-gray-800",children:i.totalDuplicates===0?"  ":` : ${i.totalDuplicates}`})]}),i.totalDuplicates>0&&u.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[u.jsxs("div",{children:["  : ",i.exact.reduce((g,v)=>g+v.length-1,0)]}),u.jsxs("div",{children:["  : ",i.morphological.reduce((g,v)=>g+v.length-1,0)]})]})]}),i.exact.length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("h4",{className:"font-medium text-gray-800",children:["  (",i.exact.length," )"]}),u.jsx(We,{size:"sm",variant:"danger",onClick:()=>p("exact"),children:" "})]}),u.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:i.exact.map((g,v)=>u.jsx("div",{className:"bg-gray-50 p-3 rounded border border-gray-200",children:u.jsxs("div",{className:"text-sm",children:[u.jsxs("div",{className:"font-medium text-gray-800 mb-2",children:[': "',g[0].text,'" (WS: ',g[0].ws,")"]}),u.jsx("div",{className:"text-gray-600 space-y-1",children:g.slice(1).map((x,b)=>u.jsxs("div",{className:"pl-4 border-l-2 border-error-300",children:[" ",b+1,': "',x.text,'" (WS: ',x.ws,")"]},b))})]})},v))})]}),i.morphological.length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("h4",{className:"font-medium text-gray-800",children:["  (",i.morphological.length," )"]}),u.jsx(We,{size:"sm",variant:"danger",onClick:()=>p("morphological"),children:" "})]}),u.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:i.morphological.map((g,v)=>u.jsx("div",{className:"bg-gray-50 p-3 rounded border border-gray-200",children:u.jsxs("div",{className:"text-sm",children:[u.jsxs("div",{className:"font-medium text-gray-800 mb-2",children:[': "',g[0].text,'" (WS: ',g[0].ws,")"]}),u.jsx("div",{className:"text-gray-600 space-y-1",children:g.slice(1).map((x,b)=>u.jsxs("div",{className:"pl-4 border-l-2 border-warning-300",children:["  ",b+1,': "',x.text,'" (WS: ',x.ws,")"]},b))})]})},v))})]}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:u.jsxs("p",{className:"text-xs text-blue-800",children:[u.jsx("strong",{children:" :"}),"    (  )",u.jsx("br",{}),u.jsx("strong",{children:" :"}),"    ,   ",u.jsx("br",{}),"      (),  ."]})})]})]})})},nv=ke.forwardRef(({label:e,error:t,className:n="",...r},s)=>u.jsxs("div",{className:"w-full",children:[e&&u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),u.jsx("textarea",{ref:s,className:`
            w-full px-3 py-2 
            text-sm text-gray-900
            border border-gray-300 rounded-lg
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
            disabled:bg-gray-100 disabled:cursor-not-allowed
            resize-vertical
            ${t?"border-red-500":""}
            ${n}
          `,...r}),t&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]}));nv.displayName="Textarea";const JH=({isOpen:e,onClose:t})=>{const{stopwords:n,addStopword:r,deleteStopword:s,updateStopword:i,phrases:o,updatePhrase:c,selectedPhraseIds:h,addLog:d}=pt(),[p,g]=ke.useState("geo"),[v,x]=ke.useState(""),[b,y]=ke.useState("partial"),[_,E]=ke.useState(!1),[T,C]=ke.useState(""),[N,R]=ke.useState(null),P=ke.useMemo(()=>{const K={geo:"",commercial:"",info:""};return n.filter(X=>X.category===K[p])},[n,p]),j=()=>{if(!v.trim())return;const K={geo:"",commercial:"",info:""},X={id:Pr(),text:v.trim(),matchType:b,useMorphology:_,category:K[p]};r(X),x("")},O=()=>{if(!T.trim())return;const K=T.split(`
`).filter(H=>H.trim()),X={geo:"",commercial:"",info:""};K.forEach(H=>{const ne={id:Pr(),text:H.trim(),matchType:b,useMorphology:_,category:X[p]};r(ne)}),C(""),d("success",` -: ${K.length}`)},D=(K,X)=>{const H=K.toLowerCase(),ne=X.text.toLowerCase();switch(X.matchType){case"exact":return H.split(/\s+/).includes(ne);case"partial":return H.includes(ne);case"independent":if(X.useMorphology){const oe=ne.slice(0,Math.min(5,ne.length-2));return H.includes(oe)}return H.includes(ne);default:return H.includes(ne)}},Y=()=>{let K=0;o.forEach(X=>{const H=n.some(ne=>D(X.text,ne));H!==X.hasStopword&&(c(X.id,{hasStopword:H}),H&&K++)}),d("success",`   -: ${K}`)},Z=()=>{o.forEach(K=>{K.hasStopword&&c(K.id,{hasStopword:!1})}),d("info","    ")},z=()=>{const K=n.map(oe=>({word:oe.text,matchType:oe.matchType,morphology:oe.useMorphology,category:oe.category})),X=JSON.stringify(K,null,2),H=new Blob([X],{type:"application/json"}),ne=URL.createObjectURL(H),se=document.createElement("a");se.href=ne,se.download="stopwords.json",se.click(),URL.revokeObjectURL(ne),d("success","- ")},re=K=>{const X=K.target.files?.[0];if(!X)return;const H=new FileReader;H.onload=ne=>{try{const se=JSON.parse(ne.target?.result);se.forEach(oe=>{const M={id:Pr(),text:oe.word,matchType:oe.matchType||"partial",useMorphology:oe.morphology||!1,category:oe.category||""};r(M)}),d("success",` -: ${se.length}`)}catch{d("error","  -")}},H.readAsText(X)},k=K=>{switch(K){case"exact":return" ( )";case"partial":return" ()";case"independent":return"  ";default:return K}};return u.jsx(jn,{isOpen:e,onClose:t,title:" -",size:"lg",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[u.jsxs("button",{onClick:()=>g("geo"),className:`px-4 py-2 font-medium transition-colors ${p==="geo"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[" (",n.filter(K=>K.category==="").length,")"]}),u.jsxs("button",{onClick:()=>g("commercial"),className:`px-4 py-2 font-medium transition-colors ${p==="commercial"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[" (",n.filter(K=>K.category==="").length,")"]}),u.jsxs("button",{onClick:()=>g("info"),className:`px-4 py-2 font-medium transition-colors ${p==="info"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[" (",n.filter(K=>K.category==="").length,")"]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ei,{value:v,onChange:K=>x(K.target.value),placeholder:" -...",onKeyPress:K=>K.key==="Enter"&&j()}),u.jsx(We,{variant:"primary",icon:u.jsx(Nx,{className:"w-4 h-4"}),onClick:j,children:""})]}),u.jsxs("div",{className:"flex gap-4 items-center text-sm",children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-700",children:":"}),u.jsxs("select",{value:b,onChange:K=>y(K.target.value),className:"px-2 py-1 border border-gray-300 rounded",children:[u.jsx("option",{value:"exact",children:" ()"}),u.jsx("option",{value:"partial",children:""}),u.jsx("option",{value:"independent",children:"  "})]})]}),u.jsx(sr,{checked:_,onChange:()=>E(!_),label:""})]}),u.jsxs("details",{className:"mt-3",children:[u.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700",children:"  (   )"}),u.jsxs("div",{className:"mt-2 space-y-2",children:[u.jsx(nv,{value:T,onChange:K=>C(K.target.value),placeholder:`

`,rows:5}),u.jsx(We,{variant:"secondary",onClick:O,children:" "})]})]})]}),u.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:P.length===0?u.jsx("div",{className:"text-center text-gray-500 py-8",children:" -   "}):P.map(K=>u.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white border border-gray-200 rounded hover:bg-gray-50",children:[u.jsx("span",{className:"flex-1 font-medium",children:K.text}),u.jsx("span",{className:"text-xs text-gray-500",children:k(K.matchType)}),K.useMorphology&&u.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:""}),u.jsx(We,{variant:"ghost",size:"sm",icon:u.jsx(ru,{className:"w-3 h-3"}),onClick:()=>s(K.id)})]},K.id))}),u.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-200",children:[u.jsx(We,{variant:"primary",icon:u.jsx(Ex,{className:"w-4 h-4"}),onClick:Y,children:" "}),u.jsx(We,{variant:"secondary",icon:u.jsx(_l,{className:"w-4 h-4"}),onClick:Z,children:" "}),u.jsx("div",{className:"flex-1"}),u.jsx(We,{variant:"secondary",icon:u.jsx(_E,{className:"w-4 h-4"}),onClick:z,children:""}),u.jsx(We,{variant:"secondary",icon:u.jsx(UD,{className:"w-4 h-4"}),onClick:()=>{const K=document.createElement("input");K.type="file",K.accept=".json",K.onchange=re,K.click()},children:""})]}),u.jsxs("div",{className:"bg-blue-50 p-3 rounded text-sm text-blue-800",children:[u.jsx("strong",{children:":"}),"  -: ",n.length," |   -: ",o.filter(K=>K.hasStopword).length]})]})})},ZH=({onClose:e})=>{const{filters:t,setFilters:n,savedFilters:r,saveCurrentFilter:s,applyFilter:i,addLog:o}=pt(),[c,h]=q.useState("numbers"),[d,p]=q.useState("");return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg w-[700px] h-[650px] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h2",{className:"text-xl font-bold",children:" "}),u.jsx("button",{onClick:e,className:"text-gray-500 hover:text-black text-2xl leading-none",children:""})]}),u.jsxs("div",{className:"flex border-b",children:[u.jsx("button",{onClick:()=>h("numbers"),className:`px-6 py-2 ${c==="numbers"?"border-b-2 border-blue-500":""}`,children:""}),u.jsx("button",{onClick:()=>h("text"),className:`px-6 py-2 ${c==="text"?"border-b-2 border-blue-500":""}`,children:""}),u.jsx("button",{onClick:()=>h("quick"),className:`px-6 py-2 ${c==="quick"?"border-b-2 border-blue-500":""}`,children:""}),u.jsx("button",{onClick:()=>h("saved"),className:`px-6 py-2 ${c==="saved"?"border-b-2 border-blue-500":""}`,children:""})]}),u.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[c==="numbers"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium",children:"ws :"}),u.jsx("input",{type:"number",value:t.wsMin||"",onChange:g=>n({wsMin:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium",children:"ws :"}),u.jsx("input",{type:"number",value:t.wsMax||"",onChange:g=>n({wsMax:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium",children:"qws :"}),u.jsx("input",{type:"number",value:t.qwsMin||"",onChange:g=>n({qwsMin:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium",children:"qws :"}),u.jsx("input",{type:"number",value:t.qwsMax||"",onChange:g=>n({qwsMax:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium",children:"bws :"}),u.jsx("input",{type:"number",value:t.bwsMin||"",onChange:g=>n({bwsMin:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium",children:"bws :"}),u.jsx("input",{type:"number",value:t.bwsMax||"",onChange:g=>n({bwsMax:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium",children:"  :"}),u.jsx("input",{type:"number",value:t.lengthMin||"",onChange:g=>n({lengthMin:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium",children:":"}),u.jsx("input",{type:"number",value:t.lengthMax||"",onChange:g=>n({lengthMax:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium",children:" :"}),u.jsx("input",{type:"number",value:t.wordCountMin||"",onChange:g=>n({wordCountMin:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium",children:":"}),u.jsx("input",{type:"number",value:t.wordCountMax||"",onChange:g=>n({wordCountMax:g.target.value?parseInt(g.target.value):void 0}),className:"w-full px-3 py-2 border rounded"})]})]})]}),c==="text"&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:" :"}),u.jsx("input",{type:"text",value:t.contains||"",onChange:g=>n({contains:g.target.value}),className:"w-full px-3 py-2 border rounded"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:" :"}),u.jsx("input",{type:"text",value:t.notContains||"",onChange:g=>n({notContains:g.target.value}),className:"w-full px-3 py-2 border rounded"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:" :"}),u.jsx("input",{type:"text",value:t.startsWith||"",onChange:g=>n({startsWith:g.target.value}),className:"w-full px-3 py-2 border rounded"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:" :"}),u.jsx("input",{type:"text",value:t.endsWith||"",onChange:g=>n({endsWith:g.target.value}),className:"w-full px-3 py-2 border rounded"})]})]}),c==="quick"&&u.jsx("div",{className:"space-y-2",children:[{key:"showOnlyHighFreq",label:"  (ws > 1000)"},{key:"showOnlyLowFreq",label:"  (ws < 100)"},{key:"showOnlyZeroFreq",label:"  (ws = 0)"},{key:"showOnlyDuplicates",label:" "},{key:"showOnlyWithStopwords",label:" -"},{key:"showOnlySelected",label:" "}].map(g=>u.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:t[g.key]===!0,onChange:v=>n({[g.key]:v.target.checked}),className:"w-4 h-4"}),g.label]},g.key))}),c==="saved"&&u.jsx("div",{className:"space-y-2",children:r.length===0?u.jsx("p",{className:"text-gray-500",children:"  "}):r.map(g=>u.jsx("button",{onClick:()=>{i(g.id)},className:"w-full px-3 py-2 border rounded hover:bg-blue-50 text-left",children:g.name},g.id))})]}),u.jsxs("div",{className:"border-t p-4 flex gap-2",children:[u.jsx("input",{type:"text",value:d,onChange:g=>p(g.target.value),placeholder:"  ",className:"flex-1 px-3 py-2 border rounded"}),u.jsx("button",{onClick:()=>{d.trim()&&(s(d),p(""))},className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:""}),u.jsx("button",{onClick:e,className:"px-4 py-2 border rounded hover:bg-gray-100",children:""})]})]})})},QH=({onClose:e})=>{const{columnVisibility:t,setColumnVisibility:n,addLog:r}=pt(),[s,i]=q.useState(t||{phrase:!0,ws:!0,qws:!0,bws:!0,status:!0,dateAdded:!1}),o=h=>{const d={...s,[h]:!s[h]};i(d),n(d)},c=()=>{r("success","  "),e()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-[400px]",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),u.jsx("div",{className:"space-y-2 mb-6",children:[{key:"phrase",label:""},{key:"ws",label:"ws ( )"},{key:"qws",label:"qws ( )"},{key:"bws",label:"bws ( )"},{key:"status",label:" "},{key:"dateAdded",label:" "}].map(h=>u.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:s[h.key]===!0,onChange:()=>o(h.key),className:"w-4 h-4"}),h.label]},h.key))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:c,className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:""}),u.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 border rounded hover:bg-gray-100",children:""})]})]})})},eV=({isOpen:e,onClose:t})=>{const{phrases:n,groups:r}=pt(),s=ke.useMemo(()=>{const i=n.length,o=n.filter(T=>T.status==="success"||T.status==="done").length,c=n.filter(T=>T.status==="pending").length,h=n.filter(T=>T.status==="error").length,d=n.map(T=>T.ws).filter(T=>T>0),p=d.reduce((T,C)=>T+C,0),g=d.length>0?Math.round(p/d.length):0,v=d.length>0?Math.max(...d):0,x=d.length>0?Math.min(...d):0,b=n.filter(T=>!T.groupId).length,y=new Set,_=n.filter(T=>{const C=T.text.toLowerCase();return y.has(C)?!0:(y.add(C),!1)}).length,E=n.filter(T=>T.hasStopword).length;return{total:i,parsed:o,pending:c,errors:h,sumWs:p,avgWs:g,maxWs:v,minWs:x,groups:r.length,ungrouped:b,duplicates:_,withStopwords:E}},[n,r]);return e?u.jsx(jn,{isOpen:e,onClose:t,title:"  ",size:"lg",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-blue-600",children:s.total}),u.jsx("div",{className:"text-sm text-gray-600 mt-1",children:" "})]}),u.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-green-600",children:s.parsed}),u.jsx("div",{className:"text-sm text-gray-600 mt-1",children:""}),u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[s.total>0?Math.round(s.parsed/s.total*100):0,"%"]})]}),u.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-orange-600",children:s.pending}),u.jsx("div",{className:"text-sm text-gray-600 mt-1",children:" "}),u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[s.total>0?Math.round(s.pending/s.total*100):0,"%"]})]})]}),s.errors>0&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-6",children:u.jsxs("div",{className:"text-sm text-red-800",children:["   : ",u.jsx("strong",{children:s.errors})]})}),u.jsxs("div",{className:"border-t pt-4 mb-6",children:[u.jsx("h3",{className:"font-bold text-lg mb-3",children:"  (ws):"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[u.jsx("div",{className:"text-sm text-gray-600",children:""}),u.jsx("div",{className:"text-xl font-bold text-gray-900",children:s.sumWs.toLocaleString("ru-RU")})]}),u.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[u.jsx("div",{className:"text-sm text-gray-600",children:""}),u.jsx("div",{className:"text-xl font-bold text-gray-900",children:s.avgWs.toLocaleString("ru-RU")})]}),u.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[u.jsx("div",{className:"text-sm text-gray-600",children:""}),u.jsx("div",{className:"text-xl font-bold text-gray-900",children:s.maxWs.toLocaleString("ru-RU")})]}),u.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[u.jsx("div",{className:"text-sm text-gray-600",children:""}),u.jsx("div",{className:"text-xl font-bold text-gray-900",children:s.minWs.toLocaleString("ru-RU")})]})]})]}),u.jsxs("div",{className:"border-t pt-4",children:[u.jsx("h3",{className:"font-bold text-lg mb-3",children:" :"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:" :"}),u.jsx("span",{className:"font-semibold text-gray-900",children:s.groups})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"  :"}),u.jsx("span",{className:"font-semibold text-orange-600",children:s.ungrouped})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:":"}),u.jsx("span",{className:"font-semibold text-red-600",children:s.duplicates})]}),s.withStopwords>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"  -:"}),u.jsx("span",{className:"font-semibold text-red-600",children:s.withStopwords})]})]})]}),u.jsx("div",{className:"flex justify-end mt-6 pt-4 border-t",children:u.jsx(We,{onClick:t,variant:"primary",children:""})})]})}):null},tV=({isOpen:e,onClose:t})=>{const{phrases:n,selectedPhraseIds:r,updatePhrase:s,addLog:i}=pt(),[o,c]=ke.useState(""),[h,d]=ke.useState(""),[p,g]=ke.useState(!1),[v,x]=ke.useState(!1),[b,y]=ke.useState(!1),_=b&&r.size>0?n.filter(C=>r.has(C.id)):n,E=()=>{if(!o.trim()){alert("   ");return}let C=0;_.forEach(N=>{let R=N.text;if(v){const P=new RegExp(`\\b${o}\\b`,p?"g":"gi"),j=R.replace(P,h);j!==R&&(R=j,C++)}else{const P=p?o:o.toLowerCase();if((p?R:R.toLowerCase()).includes(P)){const O=new RegExp(o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),p?"g":"gi");R=R.replace(O,h),C++}}R!==N.text&&s(N.id,{text:R})}),i("success",` :  ${C} `),t()},T=()=>{if(!o.trim()){alert("   ");return}window.confirm(` "${o}"  "${h}"   ${b?" ()":""}?`)&&E()};return e?u.jsx(jn,{isOpen:e,onClose:t,title:"   ",size:"md",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:":"}),u.jsx(Ei,{value:o,onChange:C=>c(C.target.value),placeholder:"   ",autoFocus:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" :"}),u.jsx(Ei,{value:h,onChange:C=>d(C.target.value),placeholder:"   "})]}),u.jsxs("div",{className:"space-y-2 border-t pt-4",children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx(sr,{checked:p,onChange:()=>g(!p)}),u.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx(sr,{checked:v,onChange:()=>x(!v)}),u.jsx("span",{className:"text-sm text-gray-700",children:"  "})]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx(sr,{checked:b,onChange:()=>y(!b)}),u.jsxs("span",{className:"text-sm text-gray-700",children:["   ",r.size>0&&`(${r.size})`]})]})]}),o&&u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[u.jsx("div",{className:"text-xs text-blue-700 font-medium mb-1",children:":"}),u.jsxs("div",{className:"text-sm text-gray-700",children:["  : ",u.jsx("strong",{children:_.filter(C=>{const N=p?C.text:C.text.toLowerCase(),R=p?o:o.toLowerCase();return N.includes(R)}).length})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t",children:[u.jsx(We,{onClick:t,variant:"secondary",children:""}),u.jsx(We,{onClick:T,variant:"primary",children:" "})]})]})}):null},nV=({phraseId:e,onClose:t})=>{const{phrases:n}=pt(),r=n.find(c=>c.id===e);if(!r)return null;const s=r.history||[],i=c=>({created:" ",edited:" ",moved:" ",colored:"  ",locked:" ",unlocked:" "})[c]||c,o=c=>new Date(c).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg w-[700px] max-h-[600px] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h2",{className:"text-xl font-bold",children:"  "}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-black transition",children:u.jsx(_l,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b",children:[u.jsx("div",{className:"text-sm text-gray-600",children:":"}),u.jsx("div",{className:"text-lg font-semibold",children:r.text})]}),u.jsx("div",{className:"flex-1 overflow-auto p-6",children:s.length===0?u.jsxs("div",{className:"text-center text-gray-500 py-12",children:[u.jsx("p",{className:"text-lg mb-2",children:"  "}),u.jsx("p",{className:"text-sm",children:"     "})]}):u.jsx("div",{className:"space-y-4",children:s.map((c,h)=>u.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-gray-50 rounded",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"font-semibold",children:i(c.action)}),u.jsx("span",{className:"text-sm text-gray-500",children:o(c.timestamp)})]}),c.oldValue&&c.newValue&&u.jsxs("div",{className:"mt-2 text-sm",children:[u.jsxs("div",{className:"text-gray-600",children:[u.jsx("span",{className:"font-medium",children:":"})," ",u.jsx("span",{className:"line-through",children:c.oldValue})]}),u.jsxs("div",{className:"text-green-700",children:[u.jsx("span",{className:"font-medium",children:":"})," ",u.jsx("span",{children:c.newValue})]})]}),c.details&&u.jsx("div",{className:"mt-1 text-sm text-gray-600",children:c.details})]},h))})}),u.jsxs("div",{className:"border-t p-4 flex justify-between items-center",children:[u.jsxs("div",{className:"text-sm text-gray-600",children:[" : ",s.length]}),u.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 transition",children:""})]})]})})},rV=({onClose:e})=>{const{phrases:t,stopwords:n,addGroup:r,movePhrases:s,addLog:i}=pt(),[o,c]=q.useState(3),[h,d]=q.useState(!0),[p,g]=q.useState(!1),v=q.useMemo(()=>{const _=new Map,E=new Set(n.map(C=>C.text.toLowerCase()));t.forEach(C=>{C.text.toLowerCase().split(/\s+/).forEach(R=>{R.length<3||h&&E.has(R)||(_.has(R)||_.set(R,[]),_.get(R).push(C.id))})});const T=[];return _.forEach((C,N)=>{const R=[...new Set(C)];R.length>=o&&T.push({word:N,count:R.length,phrases:R})}),T.sort((C,N)=>N.count-C.count)},[t,n,o,h]),x=()=>{g(!0),i("info",` :  ${v.length}  `)},b=_=>{const E=` "${_.word}"`;r(E,null);const T=pt.getState().groups[pt.getState().groups.length-1]?.id;T&&(s(_.phrases,T),i("success",`  "${E}" (${_.count} )`))},y=()=>{let _=0;v.slice(0,20).forEach(E=>{b(E),_++}),i("success",` : ${_}`),e()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg w-[800px] max-h-[700px] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h2",{className:"text-xl font-bold",children:"   "}),u.jsx("button",{onClick:e,className:"text-gray-500 hover:text-black transition",children:u.jsx(_l,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6 bg-gray-50 border-b space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"  :"}),u.jsx("input",{type:"number",min:"2",max:"10",value:o,onChange:_=>c(parseInt(_.target.value)||2),className:"w-24 px-3 py-2 border rounded"}),u.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"(       )"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:h,onChange:_=>d(_.target.checked),className:"w-4 h-4"}),u.jsx("span",{children:" -  "})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:x,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition flex items-center gap-2",children:[u.jsx(kh,{className:"w-4 h-4"}),""]}),p&&v.length>0&&u.jsx("button",{onClick:y,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition",children:"   ( 20)"})]})]}),u.jsx("div",{className:"flex-1 overflow-auto p-6",children:p?v.length===0?u.jsxs("div",{className:"text-center text-gray-500 py-12",children:[u.jsx("p",{className:"text-lg mb-2",children:"  "}),u.jsx("p",{className:"text-sm",children:"       -"})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[" : ",v.length]}),v.map((_,E)=>u.jsxs("div",{className:"border rounded p-4 hover:bg-gray-50 transition",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("span",{className:"font-semibold text-lg",children:['"',_.word,'"']}),u.jsxs("span",{className:"ml-3 text-gray-600",children:[_.count," ",_.count===1?"":_.count<5?"":""]})]}),u.jsx("button",{onClick:()=>b(_),className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 transition",children:" "})]}),u.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[_.phrases.slice(0,3).map(T=>{const C=t.find(N=>N.id===T);return C?u.jsxs("div",{className:"truncate",children:[" ",C.text]},T):null}),_.phrases.length>3&&u.jsxs("div",{className:"text-gray-500 italic",children:["...   ",_.phrases.length-3]})]})]},E))]}):u.jsxs("div",{className:"text-center text-gray-500 py-12",children:[u.jsx("p",{className:"text-lg mb-2",children:'    ""'}),u.jsx("p",{className:"text-sm",children:"  ,      "})]})}),u.jsx("div",{className:"border-t p-4 flex justify-end",children:u.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 transition",children:""})})]})})},sV=({onClose:e})=>{const{addLog:t}=pt(),[n,r]=q.useState([{id:"1",name:"  ",action:"parse",interval:24,enabled:!1,nextRun:Date.now()+1440*60*1e3},{id:"2",name:" -  ",action:"stopwords",interval:0,enabled:!0,nextRun:0},{id:"3",name:" ",action:"duplicates",interval:168,enabled:!1,nextRun:Date.now()+10080*60*1e3},{id:"4",name:"  ",action:"backup",interval:24,enabled:!1,nextRun:Date.now()+1440*60*1e3}]),s=d=>({parse:"  ",stopwords:"  -",duplicates:"  ",backup:"  "})[d]||d,i=d=>d===0?" ":new Date(d).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),o=d=>{r(g=>g.map(v=>v.id===d?{...v,enabled:!v.enabled}:v));const p=n.find(g=>g.id===d);p&&t(p.enabled?"warning":"success",`${p.enabled?"":""} : ${p.name}`)},c=(d,p)=>{r(g=>g.map(v=>v.id===d?{...v,interval:p,nextRun:Date.now()+p*60*60*1e3}:v))},h=()=>{t("success","  "),e()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg w-[800px] max-h-[700px] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[u.jsx(bE,{className:"w-6 h-6"})," "]}),u.jsx("button",{onClick:e,className:"text-gray-500 hover:text-black transition",children:u.jsx(_l,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[u.jsx("div",{className:"space-y-4",children:n.map(d=>u.jsxs("div",{className:`border rounded-lg p-4 ${d.enabled?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>o(d.id),className:`p-2 rounded transition ${d.enabled?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-600 hover:bg-gray-400"}`,children:d.enabled?u.jsx(dI,{className:"w-4 h-4"}):u.jsx(lI,{className:"w-4 h-4"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold",children:s(d.action)}),u.jsx("div",{className:"text-sm text-gray-600",children:d.name})]})]}),d.interval>0&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("label",{className:"text-sm text-gray-600",children:":"}),u.jsx("input",{type:"number",min:"1",max:"720",value:d.interval,onChange:p=>c(d.id,parseInt(p.target.value)||1),disabled:!d.enabled,className:"w-20 px-2 py-1 border rounded text-center disabled:bg-gray-100"}),u.jsx("span",{className:"text-sm text-gray-600",children:""})]})]}),d.enabled&&u.jsxs("div",{className:"text-sm text-gray-600 pl-11",children:[" : ",i(d.nextRun)]})]},d.id))}),u.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded",children:[u.jsx("div",{className:"font-semibold mb-2",children:"  :"}),u.jsxs("ul",{className:"text-sm text-gray-700 space-y-1 list-disc list-inside",children:[u.jsx("li",{children:"     "}),u.jsx("li",{children:"    -"}),u.jsx("li",{children:"    (localStorage)"})]})]})]}),u.jsxs("div",{className:"border-t p-4 flex justify-between items-center",children:[u.jsxs("div",{className:"text-sm text-gray-600",children:[" : ",n.filter(d=>d.enabled).length,"  ",n.length]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:e,className:"px-4 py-2 border rounded hover:bg-gray-100 transition",children:""}),u.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:""})]})]})]})})},iV=({onClose:e})=>{const{addGroup:t,phrases:n,stopwords:r,addLog:s}=pt(),[i,o]=q.useState("normal"),[c,h]=q.useState(""),[d,p]=q.useState(""),[g,v]=q.useState(1e3),[x,b]=q.useState(new Set),y=()=>{if(!c.trim()){s("warning","  ");return}t(c,null);const E=pt.getState(),T=E.groups[E.groups.length-1];if(!T)return;E.updateGroup(T.id,{type:i});let C=0;switch(i){case"mask":{if(!d.trim()){s("warning","  ");return}try{const N=new RegExp(d,"i"),R=n.filter(P=>N.test(P.text)).map(P=>P.id);R.length>0&&(E.movePhrases(R,T.id),C=R.length)}catch{s("error","  ");return}break}case"stopwords":{if(x.size===0){s("warning","    -");return}const N=n.filter(R=>{const P=R.text.toLowerCase();return Array.from(x).some(j=>P.includes(j.toLowerCase()))}).map(R=>R.id);N.length>0&&(E.movePhrases(N,T.id),C=N.length);break}case"frequency":{const N=n.filter(R=>R.ws>=g).map(R=>R.id);N.length>0&&(E.movePhrases(N,T.id),C=N.length);break}}s("success",` "${c}"  (${C}  )`),e()},_=E=>{const T=new Set(x);T.has(E)?T.delete(E):T.add(E),b(T)};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg w-[700px] max-h-[700px] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[u.jsx(EE,{className:"w-6 h-6"}),"  "]}),u.jsx("button",{onClick:e,className:"text-gray-500 hover:text-black transition",children:u.jsx(_l,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:" :"}),u.jsx("input",{type:"text",value:c,onChange:E=>h(E.target.value),placeholder:" ",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium mb-3",children:" :"}),u.jsx("div",{className:"space-y-2",children:[{value:"normal",label:"  ",desc:"    "},{value:"mask",label:"   ( )",desc:",   "},{value:"stopwords",label:"  -",desc:",   -"},{value:"frequency",label:"  ",desc:"     "}].map(E=>u.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded cursor-pointer transition ${i===E.value?"border-blue-500 bg-blue-50":"border-gray-300 hover:bg-gray-50"}`,children:[u.jsx("input",{type:"radio",name:"groupType",value:E.value,checked:i===E.value,onChange:()=>o(E.value),className:"mt-1"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:E.label}),u.jsx("div",{className:"text-sm text-gray-600",children:E.desc})]})]},E.value))})]}),i==="mask"&&u.jsxs("div",{className:"p-4 bg-gray-50 rounded border",children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:" :"}),u.jsx("input",{type:"text",value:d,onChange:E=>p(E.target.value),placeholder:": ^\\d+$",className:"w-full px-3 py-2 border rounded"}),u.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[": ",u.jsx("code",{children:"^\\d+$"})," ( ), ",u.jsx("code",{children:".*"})," (  )"]})]}),i==="stopwords"&&u.jsxs("div",{className:"p-4 bg-gray-50 rounded border max-h-60 overflow-auto",children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:" -:"}),r.length===0?u.jsx("div",{className:"text-sm text-gray-500",children:"-  "}):u.jsx("div",{className:"space-y-1",children:r.map(E=>u.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-white rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:x.has(E.text),onChange:()=>_(E.text),className:"w-4 h-4"}),u.jsx("span",{children:E.text}),u.jsxs("span",{className:"text-xs text-gray-500",children:["(",E.category,")"]})]},E.id))})]}),i==="frequency"&&u.jsxs("div",{className:"p-4 bg-gray-50 rounded border",children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"  (ws):"}),u.jsx("input",{type:"number",min:"0",step:"100",value:g,onChange:E=>v(parseInt(E.target.value)||0),className:"w-32 px-3 py-2 border rounded"}),u.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["    ws  ",g]})]})]}),u.jsxs("div",{className:"border-t p-4 flex justify-end gap-2",children:[u.jsx("button",{onClick:e,className:"px-4 py-2 border rounded hover:bg-gray-100 transition",children:""}),u.jsx("button",{onClick:y,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:" "})]})]})})},aV=({isOpen:e,onClose:t})=>{const n=pt(),r=Array.isArray(n.viewTemplates)?n.viewTemplates:[],s=n.columnVisibility??{},i=Array.isArray(n.columnOrder)?n.columnOrder:[],o=n.columnPinning??{left:[],right:[]},{saveViewTemplate:c,loadViewTemplate:h,deleteViewTemplate:d,addLog:p}=n,[g,v]=ke.useState(""),[x,b]=ke.useState(!1),y=()=>{if(!g.trim()){p?.("warning","   ");return}c?.(g.trim()),v(""),b(!1)},_=T=>{h?.(T),t()},E=T=>{confirm("   ?")&&d?.(T)};return u.jsx(jn,{isOpen:e,onClose:t,title:"  ",size:"md",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded",children:[u.jsx("div",{className:"font-medium text-sm text-blue-900 mb-2",children:" :"}),u.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[u.jsxs("div",{children:[" : ",Object.entries(s).filter(([T,C])=>!!C).length]}),u.jsxs("div",{children:[" : ",(o.left?.length||0)+(o.right?.length||0)]}),u.jsxs("div",{children:[" : ",i.length>0?"":" "]})]}),x?u.jsxs("div",{className:"mt-3 flex gap-2",children:[u.jsx(Ei,{value:g,onChange:T=>v(T.target.value),placeholder:" ",autoFocus:!0,onKeyPress:T=>{T.key==="Enter"&&y()},className:"flex-1"}),u.jsx(We,{onClick:y,variant:"primary",children:""}),u.jsx(We,{onClick:()=>{b(!1),v("")},variant:"secondary",children:""})]}):u.jsx(We,{onClick:()=>b(!0),variant:"primary",className:"mt-3 text-sm",children:"  "})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"font-medium text-gray-800 mb-3",children:["  (",r.length,")"]}),r.length===0?u.jsxs("div",{className:"text-center py-8 text-gray-500 text-sm",children:["  .",u.jsx("br",{}),"       ."]}):u.jsx("div",{className:"space-y-2",children:r.map(T=>u.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded hover:bg-gray-50",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-sm text-gray-800",children:T.name}),u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Object.entries(T.columnVisibility??{}).filter(([C,N])=>!!N).length,"  ",(T.columnPinning?.left?.length||0)+(T.columnPinning?.right?.length||0)>0&&`  ${(T.columnPinning?.left?.length||0)+(T.columnPinning?.right?.length||0)} `]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(We,{onClick:()=>_(T.id),variant:"secondary",className:"text-sm",children:""}),u.jsx(We,{onClick:()=>E(T.id),variant:"danger",className:"text-sm",children:""})]})]},T.id))})]}),u.jsxs("div",{className:"mt-6 p-3 bg-gray-50 border border-gray-200 rounded text-xs text-gray-600",children:[u.jsx("strong",{children:":"}),"      (, , ).         ."]})]})})};function rv(e,t=!0,n=50){const r=Date.now(),s=[],i=e.map(p=>({id:p.id,text:p.text,tokens:t?du(p.text).stems:p.text.toLowerCase().replace(/[^\w\s]/gi," ").split(/\s+/).filter(g=>g.length>0)}));let o=0,c=0;for(let p=0;p<i.length;p++)for(let g=p+1;g<i.length;g++){o++;const v=i[p],x=i[g],b=new Set(v.tokens),y=new Set(x.tokens),_=[...b].every(R=>y.has(R)),E=[...y].every(R=>b.has(R)),T=[...b].filter(R=>y.has(R)),C=new Set([...b,...y]),N=T.length/C.size*100;if(_&&y.size>b.size){const R=[...y].filter(P=>!b.has(P));s.push({sourcePhrase:e[p],targetPhrase:e[g],sourceTokens:v.tokens,targetTokens:x.tokens,additionalTokens:R,overlapPercentage:N,reason:"subset"}),c+=N}else if(E&&b.size>y.size){const R=[...b].filter(P=>!y.has(P));s.push({sourcePhrase:e[g],targetPhrase:e[p],sourceTokens:x.tokens,targetTokens:v.tokens,additionalTokens:R,overlapPercentage:N,reason:"subset"}),c+=N}else if(N>=n){const R=[...y].filter(j=>!b.has(j)),P=[...b].filter(j=>!y.has(j));R.length>0&&(s.push({sourcePhrase:e[p],targetPhrase:e[g],sourceTokens:v.tokens,targetTokens:x.tokens,additionalTokens:R,overlapPercentage:N,reason:"significant_overlap"}),c+=N),P.length>0&&(s.push({sourcePhrase:e[g],targetPhrase:e[p],sourceTokens:x.tokens,targetTokens:v.tokens,additionalTokens:P,overlapPercentage:N,reason:"significant_overlap"}),c+=N)}}const h=Date.now()-r,d=s.length>0?c/s.length:0;return{matches:s,statistics:{totalComparisons:o,foundMatches:s.length,averageOverlap:d,processingTime:h}}}function UC(e,t=!0){const{matches:n}=rv(e,t),r=new Map;return n.forEach(s=>{r.has(s.sourcePhrase.id)||r.set(s.sourcePhrase.id,new Set),s.additionalTokens.forEach(i=>{r.get(s.sourcePhrase.id).add(i)})}),e.map(s=>{const i=r.get(s.id);return i&&i.size>0?{...s,minusTerms:[...s.minusTerms||[],...Array.from(i)]}:s})}const oV=({isOpen:e,onClose:t})=>{const{phrases:n,updatePhrase:r,addLog:s}=pt(),i=Array.isArray(n)?n:[],[o,c]=ke.useState(!0),[h,d]=ke.useState(50),[p,g]=ke.useState(!1),[v,x]=ke.useState([]),[b,y]=ke.useState(new Set),[_,E]=ke.useState(!1),T=()=>{if(g(!0),E(!1),i.length===0){s?.("warning","   ");return}try{const j=rv(i,o,h);x(j.matches),y(new Set(j.matches.map((O,D)=>D))),s?.("success",` : ${j.matches.length}`)}catch(j){s?.("error",` -: ${j instanceof Error?j.message:" "}`)}finally{g(!1)}},C=()=>{let j=0;v.forEach((O,D)=>{if(b.has(D)){const Y=O.sourcePhrase.minusTerms||[],Z=[...new Set([...Y,...O.additionalTokens])];r(O.sourcePhrase.id,{minusTerms:Z}),j++}}),E(!0),s?.("success",` -: ${j} `)},N=j=>{const O=new Set(b);O.has(j)?O.delete(j):O.add(j),y(O)},R=()=>{y(new Set(v.map((j,O)=>O)))},P=()=>{y(new Set)};return u.jsx(jn,{isOpen:e,onClose:t,title:"-",size:"lg",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex gap-2",children:[u.jsx(Cx,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"text-sm text-blue-800",children:[u.jsx("p",{className:"font-medium mb-1",children:"  -?"}),u.jsx("p",{children:"  -      .   A     B  ,    B  -  ."})]})]}),u.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[u.jsx("h3",{className:"font-medium text-sm text-gray-700",children:" "}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(sr,{checked:o,onChange:()=>c(!o)}),u.jsx("label",{className:"text-sm text-gray-700",children:"   ( )"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-sm text-gray-700 block mb-1",children:["  : ",h,"%"]}),u.jsx("input",{type:"range",min:"30",max:"100",value:h,onChange:j=>d(Number(j.target.value)),className:"w-full"}),u.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[u.jsx("span",{children:" "}),u.jsx("span",{children:" "})]})]}),u.jsx(We,{onClick:T,disabled:p,variant:"primary",size:"sm",children:p?"...":" "})]}),v.length>0&&u.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"font-medium text-sm text-gray-700",children:[" : ",v.length]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:R,className:"text-xs text-blue-600 hover:text-blue-700",children:" "}),u.jsx("button",{onClick:P,className:"text-xs text-gray-600 hover:text-gray-700",children:" "})]})]}),u.jsxs("div",{className:"max-h-96 overflow-y-auto space-y-2",children:[v.slice(0,50).map((j,O)=>u.jsx("div",{className:"border rounded p-3 hover:bg-gray-50 cursor-pointer",onClick:()=>N(O),children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(sr,{checked:b.has(O),onChange:()=>N(O)}),u.jsxs("div",{className:"flex-1 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"font-medium text-gray-900",children:j.sourcePhrase.text}),u.jsxs("span",{className:"text-xs text-gray-500",children:["(",j.overlapPercentage,"% )"]})]}),u.jsxs("div",{className:"text-gray-600 mb-1",children:[" : ",j.targetPhrase.text]}),u.jsxs("div",{className:"text-xs bg-red-50 text-red-700 px-2 py-1 rounded inline-block",children:["-: ",j.additionalTokens.join(", ")]})]})]})},O)),v.length>50&&u.jsxs("div",{className:"text-center text-sm text-gray-500 py-2",children:["  50  ",v.length,'.      "".']})]})]}),v.length===0&&!p&&u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx(Nh,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),u.jsx("p",{children:' " "   '})]}),_&&u.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 flex gap-2",children:[u.jsx(Ex,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),u.jsx("div",{className:"text-sm text-green-800",children:"-  !   ."})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[u.jsx(We,{onClick:t,variant:"secondary",size:"sm",children:""}),v.length>0&&!_&&u.jsxs(We,{onClick:C,variant:"primary",size:"sm",disabled:b.size===0,children:[" (",b.size,")"]})]})]})})},lV=({isOpen:e,onClose:t})=>{const{phrases:n,deletePhrases:r,addLog:s}=pt(),i=Array.isArray(n)?n:[],[o,c]=ke.useState("morph"),[h,d]=ke.useState([]),[p,g]=ke.useState(new Set),[v,x]=ke.useState(!1);ke.useEffect(()=>{e&&b()},[e,o,i]);const b=()=>{x(!0),g(new Set);try{if(i.length===0){d([]),s?.("warning","    ");return}const T=o==="morph"?ev(i):tv(i);d(T);const C=new Set;T.forEach(N=>{N.slice(1).forEach(R=>C.add(R.id))}),g(C),s?.("info",`  : ${T.length}`)}catch(T){s?.("error",`  : ${T instanceof Error?T.message:" "}`)}finally{x(!1)}},y=T=>{const C=new Set(p);C.has(T)?C.delete(T):C.add(T),g(C)},_=()=>{if(p.size===0){s("warning","    ");return}r(Array.from(p)),s?.("success",` : ${p.size}`),t()},E=h.reduce((T,C)=>T+C.length-1,0);return u.jsx(jn,{isOpen:e,onClose:t,title:"   ",size:"lg",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex gap-2",children:[u.jsx(Cx,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),u.jsx("div",{className:"text-sm text-blue-800",children:u.jsxs("p",{children:[u.jsx("strong",{children:" "})," -    .",u.jsx("br",{}),u.jsx("strong",{children:" "}),' -      (, " "  " ").']})})]}),u.jsxs("div",{className:"flex gap-2 border-b",children:[u.jsx("button",{onClick:()=>c("morph"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${o==="morph"?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-800"}`,children:" "}),u.jsx("button",{onClick:()=>c("exact"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${o==="exact"?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-800"}`,children:" "})]}),h.length>0&&u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm text-gray-700",children:[" : ",u.jsx("strong",{children:h.length})]}),u.jsxs("p",{className:"text-sm text-gray-700",children:[" : ",u.jsx("strong",{children:E})]})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[" : ",u.jsx("strong",{className:"text-red-600",children:p.size})]})]}),u.jsxs("div",{className:"max-h-96 overflow-y-auto space-y-3",children:[v&&u.jsx("div",{className:"text-center py-8 text-gray-500",children:" ..."}),!v&&h.length===0&&u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx(su,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),u.jsx("p",{children:"  "})]}),!v&&h.map((T,C)=>u.jsxs("div",{className:"border rounded-lg p-3 bg-white",children:[u.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[" ",C+1," (",T.length," )"]}),u.jsx("div",{className:"space-y-2",children:T.map((N,R)=>{const P=R===0,j=p.has(N.id);return u.jsxs("div",{className:`flex items-start gap-2 p-2 rounded ${P?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[!P&&u.jsx(sr,{checked:j,onChange:()=>y(N.id)}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-900",children:N.text}),P&&u.jsx("span",{className:"text-xs bg-green-600 text-white px-2 py-0.5 rounded",children:""})]}),u.jsxs("div",{className:"flex gap-3 text-xs text-gray-500 mt-1",children:[u.jsxs("span",{children:["ws: ",N.ws||0]}),u.jsxs("span",{children:["qws: ",N.qws||0]}),u.jsxs("span",{children:["bws: ",N.bws||0]})]})]})]},N.id)})})]},C))]}),p.size>0&&u.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 flex gap-2",children:[u.jsx(su,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"text-sm text-yellow-800",children:["  ",u.jsx("strong",{children:p.size})," .        ws."]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[u.jsx(We,{onClick:b,variant:"secondary",size:"sm",disabled:v,children:" "}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(We,{onClick:t,variant:"secondary",size:"sm",children:""}),u.jsxs(We,{onClick:_,variant:"danger",size:"sm",disabled:p.size===0,icon:u.jsx(ru,{className:"w-4 h-4"}),children:[" (",p.size,")"]})]})]})]})})};function cV(e){const t=e.trim();return t.length<2?{isNoise:!0,reason:"too_short"}:(t.match(/\d/g)||[]).length/t.length>.4?{isNoise:!0,reason:"too_many_digits"}:/https?:\/\/|utm_|www\.|\.com|\.ru/.test(t)?{isNoise:!0,reason:"looks_like_url"}:/\+?\d{10,}|8\(\d{3}\)|\(\d{3}\)\d{3}/.test(t)?{isNoise:!0,reason:"looks_like_phone"}:/[a-z]{1,3}\d{3,}|sku\d+|model\d+/i.test(t)?{isNoise:!0,reason:"looks_like_sku"}:(t.match(/[^-a-z0-9\s]/gi)||[]).length/t.length>.2?{isNoise:!0,reason:"too_many_special_chars"}:/[-a-z]/i.test(t)?/(.)\1{3,}/.test(t)?{isNoise:!0,reason:"repeating_chars"}:{isNoise:!1}:{isNoise:!0,reason:"no_letters"}}function hu(e){const t=[],n=[];for(const r of e){const s=cV(r.text);s.isNoise?n.push({phrase:r,reason:s.reason||"unknown"}):t.push(r)}return{cleaned:t,removed:n}}function uV(e){return e.toLowerCase().replace(//g,"").replace(/[""]/g,'"').replace(/['']/g,"'").replace(/|/g,"-").replace(/\s{2,}/g," ").replace(/\s+([.,!?;:])/g,"$1").replace(/([.,!?;:])+(?=[.,!?;:])/g,"").trim().replace(/[]/,"-")}function zh(e){return e.map(t=>({...t,text:uV(t.text)}))}const d2={general:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],prepositions:["","","","","","","","","","","","","","","","","","","","","","","","",""],pronouns:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],auxiliary:["","","","","","","","","","","","","","","","","","","","","",""],adverbs:["","","","","","","","","","","","","","","","","","","",""],particles:["","","","","","","","","","","","","",""],interjections:["","","","","","","",""," "," "],articles:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]};function fV(e,t=!0){if(!e||typeof e!="string")return{isStopword:!1};const n=e.toLowerCase().trim(),r=t?du(n):{stems:[n]};for(const[s,i]of Object.entries(d2))for(const o of i)if(n===o.toLowerCase())return{isStopword:!0,category:s,matchedForm:o};if(t)for(const[s,i]of Object.entries(d2))for(const o of i){const c=du(o);if(c.stems.length>0&&r.stems.length>0){const h=c.stems[0],d=r.stems[0];if(h===d||d.startsWith(h)||h.startsWith(d))return{isStopword:!0,category:s,matchedForm:o,stem:d}}}return{isStopword:!1}}function dV(e,t){return e.filter(n=>!t.some(s=>{const i=n.text.toLowerCase(),o=s.text.toLowerCase();switch(s.matchType){case"exact":return i.split(/\s+/).includes(o);case"partial":return i.includes(o);case"independent":return i.split(/\s+/).some(c=>c===o);default:return!1}}))}class sv{phrases;groups;options;constructor(t,n,r={}){this.phrases=t,this.groups=n,this.options={useMorphology:!0,crossMinusation:!1,removeMorphDuplicates:!1,smartNoise:!1,normalizeText:!1,applyPipelines:[],createSnapshot:!1,snapshotName:"",...r}}async process(){const t=Date.now();let n=[...this.phrases],r=0,s=0,i=0;const o=[],c=[];try{if(this.options.normalizeText){const d=n.length;n=zh(n),r+=d,i+=d,c.push(`: ${d} `)}if(this.options.smartNoise){const d=hu(n),p=n.length;n=d.cleaned,s+=p-n.length,r+=p,c.push(` : ${p-n.length} `)}if(this.options.removeMorphDuplicates){const d=n.length;n=this.options.useMorphology?BC(n):Ph(n),s+=d-n.length,r+=d,c.push(` : ${d-n.length}`)}if(this.options.crossMinusation){const d=n.length;n=UC(n,this.options.useMorphology||!1),i+=d,r+=d,c.push(" -")}const h=Date.now()-t;return{success:!0,processed:r,removed:s,modified:i,errors:o,warnings:c,processingTime:h,phrases:n,groups:this.groups}}catch(h){return o.push(h instanceof Error?h.message:" "),{success:!1,processed:r,removed:s,modified:i,errors:o,warnings:c,processingTime:Date.now()-t,phrases:n,groups:this.groups}}}async analyzeQuality(){const t=this.phrases.length,r=tv(this.phrases).reduce((R,P)=>R+P.length-1,0),i=ev(this.phrases).reduce((R,P)=>R+P.length-1,0),c=hu(this.phrases).removed.length,h=this.phrases.filter(R=>R.text.toLowerCase().split(/\s+/).some(j=>fV(j))).length,p=this.phrases.map(R=>R.text.length).reduce((R,P)=>R+P,0)/t,v=this.phrases.map(R=>R.text.split(/\s+/).length).reduce((R,P)=>R+P,0)/t,b=new Set(this.phrases.map(R=>R.text.toLowerCase())).size,y=b/t*30,_=(t-c)/t*30,E=(t-i)/t*20,T=(t-h)/t*20,C=Math.round(y+_+E+T),N=[];return r>0&&N.push(` ${r}  .  .`),i>r&&N.push(` ${i-r}   .`),c>0&&N.push(` ${c}   (URL, , SKU).`),h>t*.3&&N.push(" 30%   -."),v<2&&N.push("    2 . ,   ."),C>=80?N.push("  !"):C>=60?N.push("  .   ."):C>=40?N.push("  .  ."):N.push("  .   ."),{totalPhrases:t,uniquePhrases:b,duplicates:r,morphDuplicates:i,noiseCount:c,stopwordCount:h,averageLength:Math.round(p*10)/10,averageWords:Math.round(v*10)/10,qualityScore:C,recommendations:N}}computeCrossMinusation(t=50){const n=rv(this.phrases,this.options.useMorphology||!1,t),r=new Set(n.matches.map(c=>c.sourcePhrase.id)).size,s=n.matches.reduce((c,h)=>c+h.additionalTokens.length,0),i=this.phrases.reduce((c,h)=>c+(h.ws||0),0)/this.phrases.length,o=`${Math.round(s*i*.1)} RUB/`;return{matches:n.matches.length,phrasesAffected:r,minusTermsAdded:s,estimatedSavings:o}}getMorphologyStats(){const t=new Map;let n=0;this.phrases.forEach(s=>{const i=du(s.text);n+=i.stems.length,i.stems.forEach(o=>{t.set(o,(t.get(o)||0)+1)})});const r=Array.from(t.entries()).sort((s,i)=>i[1]-s[1]).slice(0,20).map(([s,i])=>({stem:s,count:i}));return{totalTokens:n,uniqueStems:t.size,averageTokensPerPhrase:Math.round(n/this.phrases.length*10)/10,mostCommonStems:r}}}async function hV(e,t=!0){return new sv(e,[],{useMorphology:t,removeMorphDuplicates:!0,smartNoise:!0,normalizeText:!0}).process()}async function pV(e,t=!0){return new sv(e,[],{useMorphology:t,removeMorphDuplicates:!0,smartNoise:!0,normalizeText:!0,crossMinusation:!0}).process()}async function mV(e){return new sv(e,[]).analyzeQuality()}const gV=({isOpen:e,onClose:t})=>{const{phrases:n,setPhrases:r,addLog:s}=pt(),i=Array.isArray(n)?n:[],[o,c]=ke.useState(!1),[h,d]=ke.useState(!1),[p,g]=ke.useState(null),[v,x]=ke.useState(null),[b,y]=ke.useState(!0);ke.useEffect(()=>{e&&!p&&_()},[e]);const _=async()=>{c(!0),x(null);try{if(i.length===0){s?.("warning","    ");return}const R=await mV(i);g(R),s?.("info",`  . : ${R.qualityScore}/100`)}catch(R){s?.("error",` : ${R instanceof Error?R.message:" "}`)}finally{c(!1)}},E=async()=>{d(!0);try{if(i.length===0){s?.("warning","   ");return}const R=await hV(i,b);R.success?(r(R.phrases),x(R),s?.("success",` :  ${R.removed},  ${R.modified} `),await _()):s?.("error",`  : ${R.errors.join(", ")}`)}catch(R){s?.("error",` : ${R instanceof Error?R.message:" "}`)}finally{d(!1)}},T=async()=>{d(!0);try{if(i.length===0){s?.("warning","   ");return}const R=await pV(i,b);R.success?(r(R.phrases),x(R),s?.("success",` :  ${R.removed},  ${R.modified} `),await _()):s?.("error",`  : ${R.errors.join(", ")}`)}catch(R){s?.("error",` : ${R instanceof Error?R.message:" "}`)}finally{d(!1)}},C=R=>R>=80?"text-green-600 bg-green-100":R>=60?"text-blue-600 bg-blue-100":R>=40?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",N=R=>R>=80?"":R>=60?"":R>=40?"":"";return u.jsx(jn,{isOpen:e,onClose:t,title:"  ",size:"lg",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex gap-2",children:[u.jsx(Cx,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),u.jsx("div",{className:"text-sm text-blue-800",children:"     , , -   .         ."})]}),u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[u.jsx(sr,{checked:b,onChange:()=>y(!b)}),u.jsx("label",{className:"text-sm text-gray-700",children:"   ()"})]}),o&&u.jsx("div",{className:"text-center py-8 text-gray-500",children:" ..."}),!o&&p&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg",children:[u.jsx("div",{className:`inline-flex items-center justify-center w-24 h-24 rounded-full text-3xl font-bold ${C(p.qualityScore)}`,children:p.qualityScore}),u.jsxs("p",{className:"mt-3 text-lg font-medium text-gray-700",children:[N(p.qualityScore)," "]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"border rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.totalPhrases.toLocaleString()})]}),u.jsxs("div",{className:"border rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.uniquePhrases.toLocaleString()})]}),u.jsxs("div",{className:"border rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsx("p",{className:"text-2xl font-bold text-red-600",children:p.duplicates.toLocaleString()})]}),u.jsxs("div",{className:"border rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:". "}),u.jsx("p",{className:"text-2xl font-bold text-orange-600",children:p.morphDuplicates.toLocaleString()})]}),u.jsxs("div",{className:"border rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:p.noiseCount.toLocaleString()})]}),u.jsxs("div",{className:"border rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"-"}),u.jsx("p",{className:"text-2xl font-bold text-purple-600",children:p.stopwordCount.toLocaleString()})]}),u.jsxs("div",{className:"border rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.averageLength})]}),u.jsxs("div",{className:"border rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.averageWords})]})]}),u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsx("h3",{className:"font-medium text-sm text-gray-700 mb-2",children:""}),u.jsx("ul",{className:"space-y-2",children:p.recommendations.map((R,P)=>u.jsxs("li",{className:"flex gap-2 text-sm text-gray-600",children:[R.includes("")||R.includes("")?u.jsx(Tx,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-0.5"}):u.jsx(Nh,{className:"w-4 h-4 text-yellow-500 flex-shrink-0 mt-0.5"}),u.jsx("span",{children:R})]},P))})]})]}),v&&u.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[u.jsx("p",{className:"text-sm font-medium text-green-800 mb-2",children:"  !"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-green-700",children:[u.jsxs("div",{children:[": ",v.processed]}),u.jsxs("div",{children:[": ",v.removed]}),u.jsxs("div",{children:[": ",v.modified]})]}),v.warnings.length>0&&u.jsx("div",{className:"mt-2 space-y-1",children:v.warnings.map((R,P)=>u.jsx("p",{className:"text-xs text-green-600",children:R},P))})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t",children:[u.jsx(We,{onClick:E,disabled:h||o,variant:"secondary",size:"sm",icon:u.jsx(OE,{className:"w-4 h-4"}),children:" "}),u.jsx(We,{onClick:T,disabled:h||o,variant:"primary",size:"sm",icon:u.jsx(jE,{className:"w-4 h-4"}),children:" "})]}),u.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[u.jsxs("p",{children:[u.jsx("strong",{children:" :"}),"  , ,  "]}),u.jsxs("p",{children:[u.jsx("strong",{children:" :"})," + -   "]})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[u.jsx(We,{onClick:_,variant:"secondary",size:"sm",disabled:o,children:" "}),u.jsx(We,{onClick:t,variant:"secondary",size:"sm",children:""})]})]})})},xV=[e=>({...e,phrases:Ph(e.phrases)}),e=>({...e,phrases:zh(e.phrases)}),e=>{const{cleaned:t}=hu(e.phrases);return{...e,phrases:t}},e=>({...e,phrases:BC(e.phrases)}),e=>({...e,phrases:dV(e.phrases,e.stopwords)}),e=>({...e,phrases:UC(e.phrases,!0)}),e=>({...e,phrases:e.phrases.filter(t=>(t.ws||0)>=100)})],vV=[e=>({...e,phrases:zh(e.phrases)}),e=>({...e,phrases:Ph(e.phrases)}),e=>{const{cleaned:t}=hu(e.phrases);return{...e,phrases:t}},e=>({...e,phrases:e.phrases.map(t=>({...t,tags:[...t.tags||[],/\b(|||||||)\b/i.test(t.text)?"info":"commercial"]}))}),e=>({...e,phrases:e.phrases.filter(t=>!/\b(|||||)\b/i.test(t.text))}),e=>({...e,phrases:e.phrases.filter(t=>(t.ws||0)>=50)})],yV=[e=>({...e,phrases:Ph(e.phrases)}),e=>({...e,phrases:zh(e.phrases)}),e=>{const{cleaned:t}=hu(e.phrases);return{...e,phrases:t}}],$m={ppc:{name:" PPC",description:"     (./Google Ads)",steps:xV,stepNames:["  "," "," ","  "," -","-","  (<100)"]},seo:{name:" SEO",description:"  ( /)",steps:vV,stepNames:[" ","  "," ","  ","  ","  (<50)"]},quick:{name:" ",description:" :  +  + ",steps:yV,stepNames:["  "," "," "]}},wV=({isOpen:e,onClose:t})=>{const{phrases:n,stopwords:r,setPhrases:s,addLog:i}=pt(),o=Array.isArray(n)?n:[],c=Array.isArray(r)?r:[],[h,d]=q.useState("quick"),[p,g]=q.useState(!1),[v,x]=q.useState(0),[b,y]=q.useState([]),[_,E]=q.useState(!1),T=$m[h],C=async()=>{if(o.length===0){i?.("warning","   ");return}g(!0),y([]),x(0),E(!1);try{const P={phrases:o,stopwords:c},j=[];let O={...P};const D=O.phrases?.length||0;for(let z=0;z<T.steps.length;z++){x(z+1);const re=O.phrases?.length||0;await new Promise(H=>setTimeout(H,100)),O=await T.steps[z](O);const k=O.phrases?.length||0,K=re-k,X=K>0?` ${z+1}/${T.steps.length}: ${T.stepNames[z]} -  ${K}  ( ${k})`:` ${z+1}/${T.steps.length}: ${T.stepNames[z]} -  ( ${k})`;j.push(X),y([...j])}const Y=D-O.phrases.length,Z=`! : ${Y}/${D} (${(Y/D*100).toFixed(1)}%)`;j.push(Z),y([...j]),Array.isArray(O.phrases)&&s(O.phrases),i?.("success",`${T.name}:  ${Y} `)}catch(P){const j=P instanceof Error?P.message:" ";i?.("error",`  : ${j}`),y(O=>[...O,`: ${j}`])}finally{g(!1),x(0)}},N=()=>{E(!0);const P=T.stepNames.map((j,O)=>`${O+1}. ${j}`);y(P)},R=()=>{p||(y([]),E(!1),x(0),t())};return u.jsx(jn,{isOpen:e,onClose:R,title:" ",size:"lg",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),u.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.keys($m).map(P=>{const j=$m[P];return u.jsxs("button",{onClick:()=>d(P),disabled:p,className:`
                    p-4 border rounded-lg text-left transition-all
                    ${h===P?"border-indigo-500 bg-indigo-50 ring-2 ring-indigo-200":"border-gray-300 hover:border-indigo-300 hover:bg-gray-50"}
                    ${p?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                  `,children:[u.jsx("div",{className:"font-medium text-gray-900",children:j.name}),u.jsx("div",{className:"text-sm text-gray-600 mt-1",children:j.description}),u.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[": ",j.steps.length]})]},P)})})]}),!p&&!_&&u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:" :"}),u.jsx("ol",{className:"space-y-2",children:T.stepNames.map((P,j)=>u.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[u.jsxs("span",{className:"inline-block w-6 text-gray-500",children:[j+1,"."]}),u.jsx("span",{children:P})]},j))})]}),p&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("span",{className:"text-gray-700",children:[": ",v,"/",T.steps.length]}),u.jsxs("span",{className:"text-gray-500",children:[(v/T.steps.length*100).toFixed(0),"%"]})]}),u.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-300",style:{width:`${v/T.steps.length*100}%`}})})]}),b.length>0&&u.jsx("div",{className:"bg-gray-900 rounded-lg p-4 max-h-64 overflow-y-auto",children:u.jsx("div",{className:"space-y-1",children:b.map((P,j)=>u.jsx("div",{className:"text-xs font-mono text-gray-300",children:P},j))})}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("div",{className:"text-blue-600 mt-0.5",children:u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-medium text-blue-900",children:" "}),u.jsxs("div",{className:"text-sm text-blue-700 mt-1",children:["  : ",n.length," | -: ",r.length]})]})]})}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[!p&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:N,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""}),u.jsx("button",{onClick:C,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors",children:" "})]}),u.jsx("button",{onClick:R,disabled:p,className:`
              px-4 py-2 text-sm font-medium rounded-lg transition-colors
              ${p?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}
            `,children:p?"...":""})]})]})})},bV=[{id:"text",label:""},{id:"ws",label:" (ws)"},{id:"qws",label:"   (qws)"},{id:"bws",label:"  ! (bws)"},{id:"group",label:""},{id:"groupPath",label:" "},{id:"status",label:""},{id:"tags",label:""},{id:"minusTerms",label:"-"}],_V=[{name:" .",columns:["text","ws","groupPath"],includeGroupPath:!0,csvDelimiter:";",encoding:"utf-8"},{name:" Google Ads",columns:["text","ws","qws","group"],includeGroupPath:!1,csvDelimiter:",",encoding:"utf-8"},{name:" Excel ()",columns:["text","ws","qws","bws","groupPath","status","tags"],includeGroupPath:!0,csvDelimiter:";",encoding:"windows-1251"}],SV=({isOpen:e,onClose:t})=>{const{exportPresets:n,saveExportPreset:r,loadExportPreset:s,deleteExportPreset:i,addLog:o}=pt(),[c,h]=q.useState("list"),[d,p]=q.useState(null),[g,v]=q.useState({name:"",columns:["text","ws"],includeGroupPath:!1,csvDelimiter:";",encoding:"utf-8"}),x=()=>{v({name:"",columns:["text","ws"],includeGroupPath:!1,csvDelimiter:";",encoding:"utf-8"}),h("create")},b=N=>{p(N),v({name:N.name,columns:N.columns,includeGroupPath:N.includeGroupPath,csvDelimiter:N.csvDelimiter,encoding:N.encoding}),h("edit")},y=()=>{if(!g.name.trim()){o("warning","  ");return}if(g.columns.length===0){o("warning","    ");return}c==="edit"&&d&&i(d.id),r(g),h("list"),o("success",` : ${g.name}`)},_=N=>{confirm(" ?")&&(i(N),o("success"," "))},E=N=>{r(N),o("success",`  : ${N.name}`)},T=()=>{h("list"),p(null)},C=N=>{v(R=>({...R,columns:R.columns.includes(N)?R.columns.filter(P=>P!==N):[...R.columns,N]}))};return u.jsx(jn,{isOpen:e,onClose:t,title:"  ",size:"lg",children:u.jsxs("div",{className:"space-y-6",children:[c==="list"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:" "}),u.jsx("div",{className:"space-y-2",children:_V.map((N,R)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-gray-900",children:N.name}),u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[N.columns.length,"   ",N.encoding,"  : ",N.csvDelimiter===";"?"  ":N.csvDelimiter===","?"":""]})]}),u.jsx("button",{onClick:()=>E(N),className:"ml-4 px-3 py-1.5 text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:""})]},R))})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["  (",n.length,")"]}),u.jsx("button",{onClick:x,className:"px-3 py-1.5 text-sm text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors",children:""})]}),n.length===0?u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx("div",{className:"text-sm",children:"  "}),u.jsx("div",{className:"text-xs mt-1",children:"    "})]}):u.jsx("div",{className:"space-y-2",children:n.map(N=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-gray-900",children:N.name}),u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[N.columns.length,"   ",N.encoding,"  : ",N.csvDelimiter===";"?"  ":N.csvDelimiter===","?"":""]})]}),u.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[u.jsx("button",{onClick:()=>b(N),className:"px-3 py-1.5 text-sm text-gray-700 hover:text-gray-900 font-medium",children:""}),u.jsx("button",{onClick:()=>_(N.id),className:"px-3 py-1.5 text-sm text-red-600 hover:text-red-700 font-medium",children:""})]})]},N.id))})]})]}),(c==="create"||c==="edit")&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),u.jsx("input",{type:"text",value:g.name,onChange:N=>v({...g,name:N.target.value}),placeholder:":   ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   "}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:bV.map(N=>u.jsxs("label",{className:"flex items-center space-x-2 p-2 border border-gray-200 rounded hover:bg-gray-50 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:g.columns.includes(N.id),onChange:()=>C(N.id),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),u.jsx("span",{className:"text-sm text-gray-700",children:N.label})]},N.id))})]}),u.jsx("div",{children:u.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:g.includeGroupPath,onChange:N=>v({...g,includeGroupPath:N.target.checked}),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),u.jsx("span",{className:"text-sm text-gray-700",children:"   (  )"})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" CSV"}),u.jsxs("select",{value:g.csvDelimiter,onChange:N=>v({...g,csvDelimiter:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[u.jsx("option",{value:";",children:"   (;)"}),u.jsx("option",{value:",",children:" (,)"}),u.jsx("option",{value:"\\t",children:" (TAB)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsxs("select",{value:g.encoding,onChange:N=>v({...g,encoding:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[u.jsx("option",{value:"utf-8",children:"UTF-8 ()"}),u.jsx("option",{value:"windows-1251",children:"Windows-1251 (  )"})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[u.jsx("button",{onClick:T,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""}),u.jsx("button",{onClick:y,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors",children:c==="edit"?" ":" "})]})]}),c==="list"&&u.jsx("div",{className:"flex justify-end pt-4 border-t",children:u.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:""})})]})})},EV=({isOpen:e,onClose:t})=>{const{snapshots:n,phrases:r,groups:s,createSnapshot:i,restoreSnapshot:o,deleteSnapshot:c,addLog:h}=pt(),d=Array.isArray(n)?n:[],p=Array.isArray(r)?r:[],g=Array.isArray(s)?s:[],[v,x]=q.useState("list"),[b,y]=q.useState({name:"",description:""}),_=()=>{y({name:"",description:""}),x("create")},E=()=>{if(!b.name.trim()){h?.("warning","  ");return}i(b.name,b.description),x("list"),h?.("success",` : ${b.name}`)},T=j=>{confirm(`  "${j.name}"?

   .`)&&(o(j.id),h?.("success",` : ${j.name}`))},C=j=>{confirm(`  "${j.name}"?`)&&(c(j.id),h?.("success",` : ${j.name}`))},N=()=>{x("list")},R=j=>new Date(j).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),P=j=>{const O=Array.isArray(j.data?.phrases)?j.data.phrases.length:0,D=Array.isArray(j.data?.groups)?j.data.groups.length:0;return`${O} , ${D} `};return u.jsx(jn,{isOpen:e,onClose:t,title:" ",size:"lg",children:u.jsxs("div",{className:"space-y-6",children:[v==="list"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("div",{className:"text-blue-600 mt-0.5",children:u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-medium text-blue-900",children:" "}),u.jsx("div",{className:"text-sm text-blue-700 mt-1",children:"     (, , ).     . : 50 ."})]})]})}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:" "}),u.jsxs("div",{className:"text-sm text-gray-600",children:[": ",p.length," | : ",g.length]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["  (",d.length,"/50)"]}),u.jsx("button",{onClick:_,disabled:d.length>=50,className:`
                    px-3 py-1.5 text-sm text-white rounded-lg transition-colors
                    ${d.length>=50?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}
                  `,children:" "})]}),d.length===0?u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx("div",{className:"text-sm",children:"  "}),u.jsx("div",{className:"text-xs mt-1",children:"     "})]}):u.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:d.slice().reverse().map(j=>u.jsx("div",{className:"p-4 bg-white rounded-lg border border-gray-200",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-gray-900",children:j.name}),j.description&&u.jsx("div",{className:"text-sm text-gray-600 mt-1",children:j.description}),u.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[u.jsx("span",{children:R(j.timestamp)}),u.jsx("span",{children:P(j)})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[u.jsx("button",{onClick:()=>T(j),className:"px-3 py-1.5 text-sm text-white bg-indigo-600 rounded hover:bg-indigo-700 transition-colors",children:""}),u.jsx("button",{onClick:()=>C(j),className:"px-3 py-1.5 text-sm text-red-600 hover:text-red-700 font-medium",children:""})]})]})},j.id))})]}),u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("div",{className:"text-yellow-600 mt-0.5",children:u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-medium text-yellow-900",children:" "}),u.jsx("div",{className:"text-sm text-yellow-700 mt-1",children:"        .     Undo/Redo."})]})]})})]}),v==="create"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),u.jsx("input",{type:"text",value:b.name,onChange:j=>y({...b,name:j.target.value}),placeholder:":  ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ()"}),u.jsx("textarea",{value:b.description,onChange:j=>y({...b,description:j.target.value}),placeholder:"   ",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm text-gray-600",children:[u.jsx("div",{className:"font-medium mb-1",children:" :"}),u.jsxs("ul",{className:"space-y-1 ml-4",children:[u.jsxs("li",{children:[" : ",p.length]}),u.jsxs("li",{children:[" : ",g.length]}),u.jsx("li",{children:"   "})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[u.jsx("button",{onClick:N,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""}),u.jsx("button",{onClick:E,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors",children:" "})]})]}),v==="list"&&u.jsx("div",{className:"flex justify-end pt-4 border-t",children:u.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:""})})]})})},TV=["#ef4444","#f97316","#f59e0b","#eab308","#84cc16","#22c55e","#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899"],CV=({isOpen:e,onClose:t})=>{const n=pt(),r=Array.isArray(n.phraseTags)?n.phraseTags:[],s=Array.isArray(n.phrases)?n.phrases:[],i=n.selectedPhraseIds,o=i instanceof Set?i:new Set(Array.isArray(i)?i:[]),{addPhraseTag:c,assignTagToPhrase:h,removeTagFromPhrase:d,deletePhraseTag:p,addLog:g}=n,[v,x]=q.useState("list"),[b,y]=q.useState({name:"",color:"#6366f1"}),[_,E]=q.useState(null),T=()=>{y({name:"",color:"#6366f1"}),x("create")},C=()=>{if(!b.name.trim()){g?.("warning","  ");return}c?.(b.name,b.color),x("list"),g?.("success",` : ${b.name}`)},N=Z=>{const z=s.filter(k=>Array.isArray(k.tags)&&k.tags.includes(Z.id)).length,re=z>0?`  "${Z.name}"?

   ${z} .`:`  "${Z.name}"?`;confirm(re)&&(p?.(Z.id),g?.("success",` : ${Z.name}`))},R=Z=>{if(o.size===0){g?.("warning","    ");return}Array.from(o).forEach(re=>{const k=s.find(K=>K.id===re);k&&!(k.tags||[]).includes(Z)&&h?.(re,Z)});const z=r.find(re=>re.id===Z);g?.("success",` "${z?.name}"  ${o.size} `)},P=Z=>{if(o.size===0){g?.("warning","    ");return}Array.from(o).forEach(re=>{d?.(re,Z)});const z=r.find(re=>re.id===Z);g?.("success",` "${z?.name}"   ${o.size} `)},j=()=>{x("list")},O=Z=>s.filter(z=>Array.isArray(z.tags)&&z.tags.includes(Z)).length,D=Z=>new Date(Z).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),Y=_?s.filter(Z=>Z.tags?.includes(_)):s;return u.jsx(jn,{isOpen:e,onClose:t,title:" ",size:"lg",children:u.jsxs("div",{className:"space-y-6",children:[v==="list"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("div",{className:"text-blue-600 mt-0.5",children:u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-medium text-blue-900",children:" "}),u.jsx("div",{className:"text-sm text-blue-700 mt-1",children:"   .      ,     .    ."})]})]})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["  (",r.length,")"]}),u.jsx("button",{onClick:T,className:"px-3 py-1.5 text-sm text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors",children:" "})]}),r.length===0?u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx("div",{className:"text-sm",children:"  "}),u.jsx("div",{className:"text-xs mt-1",children:"    "})]}):u.jsx("div",{className:"space-y-2",children:r.map(Z=>{const z=O(Z.id);return u.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[u.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:Z.color}}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-gray-900",children:Z.name}),u.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[": ",z,"   : ",D(Z.created)]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[u.jsx("button",{onClick:()=>R(Z.id),disabled:o.size===0,className:`
                                px-2 py-1 text-xs rounded transition-colors
                                ${o.size===0?"text-gray-400 bg-gray-100 cursor-not-allowed":"text-green-700 bg-green-50 hover:bg-green-100"}
                              `,title:"  ",children:""}),u.jsx("button",{onClick:()=>P(Z.id),disabled:o.size===0,className:`
                                px-2 py-1 text-xs rounded transition-colors
                                ${o.size===0?"text-gray-400 bg-gray-100 cursor-not-allowed":"text-orange-700 bg-orange-50 hover:bg-orange-100"}
                              `,title:"   ",children:""}),u.jsx("button",{onClick:()=>E(_===Z.id?null:Z.id),className:`
                                px-2 py-1 text-xs rounded transition-colors
                                ${_===Z.id?"text-indigo-700 bg-indigo-100":"text-gray-700 bg-gray-100 hover:bg-gray-200"}
                              `,title:"    ",children:""}),u.jsx("button",{onClick:()=>N(Z),className:"px-2 py-1 text-xs text-red-600 hover:text-red-700 font-medium",children:""})]})]})},Z.id)})})]}),o.size>0&&u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("div",{className:"text-yellow-600 mt-0.5",children:u.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[u.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),u.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"text-sm font-medium text-yellow-900",children:[" : ",o.size]}),u.jsx("div",{className:"text-sm text-yellow-700 mt-1",children:'  ""  ""     '})]})]})}),_&&u.jsx("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm text-indigo-900",children:["   : ",u.jsx("span",{className:"font-medium",children:r.find(Z=>Z.id===_)?.name})," (",Y.length,")"]}),u.jsx("button",{onClick:()=>E(null),className:"text-sm text-indigo-700 hover:text-indigo-800 font-medium",children:" "})]})})]}),v==="create"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),u.jsx("input",{type:"text",value:b.name,onChange:Z=>y({...b,name:Z.target.value}),placeholder:": , , ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),u.jsx("div",{className:"grid grid-cols-8 gap-2",children:TV.map(Z=>u.jsx("button",{onClick:()=>y({...b,color:Z}),className:`
                      w-10 h-10 rounded-lg transition-all
                      ${b.color===Z?"ring-2 ring-offset-2 ring-gray-900":"hover:scale-110"}
                    `,style:{backgroundColor:Z}},Z))})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:":"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:b.color}}),u.jsx("span",{className:"text-sm text-gray-900",children:b.name||" "})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[u.jsx("button",{onClick:j,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""}),u.jsx("button",{onClick:C,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors",children:" "})]})]}),v==="list"&&u.jsx("div",{className:"flex justify-end pt-4 border-t",children:u.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:""})})]})})},NV=({isOpen:e,onClose:t,selectedIds:n})=>{const{phrases:r,updatePhrase:s,addLog:i}=pt(),[o,c]=ke.useState("replace"),[h,d]=ke.useState(""),[p,g]=ke.useState(""),v=()=>{if(!h.trim()&&o!=="prefix"&&o!=="suffix"){alert("   ");return}let x=0;r.filter(y=>n.includes(y.id)).forEach(y=>{let _=y.text;switch(o){case"replace":_.includes(h)&&(_=_.replace(new RegExp(h,"g"),p),x++);break;case"prefix":_=p+_,x++;break;case"suffix":_=_+p,x++;break;case"remove":_.includes(h)&&(_=_.replace(new RegExp(h,"g"),""),x++);break}_!==y.text&&s(y.id,{text:_.trim()})}),i("success",` :  ${x} `),t()};return e?u.jsx(jn,{isOpen:e,onClose:t,title:"  ",size:"md",children:u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded",children:u.jsxs("div",{className:"text-sm text-blue-800",children:[" : ",u.jsx("strong",{children:n.length})]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:":"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"radio",checked:o==="replace",onChange:()=>c("replace"),className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:" "})]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"radio",checked:o==="prefix",onChange:()=>c("prefix"),className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:" "})]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"radio",checked:o==="suffix",onChange:()=>c("suffix"),className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:" "})]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"radio",checked:o==="remove",onChange:()=>c("remove"),className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:" "})]})]})]}),(o==="replace"||o==="remove")&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:":"}),u.jsx(Ei,{value:h,onChange:x=>d(x.target.value),placeholder:"  "})]}),(o==="replace"||o==="prefix"||o==="suffix")&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:o==="replace"?" :":o==="prefix"?":":":"}),u.jsx(Ei,{value:p,onChange:x=>g(x.target.value),placeholder:o==="replace"?" ":o==="prefix"?"  ":"  "})]}),h&&u.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded p-3",children:[u.jsx("div",{className:"text-xs text-gray-600 mb-1",children:":"}),u.jsxs("div",{className:"text-sm",children:[" : ",u.jsx("strong",{children:r.filter(x=>n.includes(x.id)&&(o==="prefix"||o==="suffix"||x.text.includes(h))).length})," "]})]})]}),u.jsxs("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t",children:[u.jsx(We,{onClick:t,variant:"secondary",children:""}),u.jsx(We,{onClick:v,variant:"primary",children:""})]})]})}):null},kV=({selectedCount:e,selectedIds:t})=>{const{groups:n,movePhrasesToGroup:r,copyPhrasesToGroup:s,deleteSelectedPhrases:i,addLog:o}=pt(),[c,h]=ke.useState(null),[d,p]=ke.useState(!1),g=async(b,y)=>{y==="move"?(await r(t,b),o("success",` ${e} `)):(s(t,b),o("success",` ${e} `)),h(null)},v=async()=>{confirm(`   (${e} .)?`)&&await i(t)},x=()=>{const{phrases:b}=pt.getState(),_=b.filter(E=>t.includes(E.id)).map(E=>E.text).join(`
`);navigator.clipboard.writeText(_),o("success",` ${e}   `)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-3 flex items-center gap-3 shadow-lg z-10",children:[u.jsxs("span",{className:"font-semibold",children:[": ",e]}),u.jsxs("div",{className:"flex gap-2 flex-1",children:[u.jsxs("div",{className:"relative",children:[u.jsx(We,{onClick:()=>h(c==="move"?null:"move"),variant:"secondary",className:"text-sm bg-white/20 hover:bg-white/30 text-white border-white/30",children:" "}),c==="move"&&u.jsx("div",{className:"absolute bottom-full mb-2 left-0 bg-white rounded shadow-lg py-1 min-w-[200px] max-h-[200px] overflow-auto z-50",children:n.length===0?u.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:" "}):n.map(b=>u.jsx("button",{onClick:()=>g(b.id,"move"),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm text-gray-900",children:b.name},b.id))})]}),u.jsxs("div",{className:"relative",children:[u.jsx(We,{onClick:()=>h(c==="copy"?null:"copy"),variant:"secondary",className:"text-sm bg-white/20 hover:bg-white/30 text-white border-white/30",children:" "}),c==="copy"&&u.jsx("div",{className:"absolute bottom-full mb-2 left-0 bg-white rounded shadow-lg py-1 min-w-[200px] max-h-[200px] overflow-auto z-50",children:n.length===0?u.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:" "}):n.map(b=>u.jsx("button",{onClick:()=>g(b.id,"copy"),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm text-gray-900",children:b.name},b.id))})]}),u.jsx(We,{onClick:()=>p(!0),variant:"secondary",className:"text-sm bg-white/20 hover:bg-white/30 text-white border-white/30",children:" "}),u.jsx(We,{onClick:x,variant:"secondary",className:"text-sm bg-white/20 hover:bg-white/30 text-white border-white/30",children:"  "}),u.jsx(We,{onClick:v,variant:"danger",className:"text-sm bg-red-500/80 hover:bg-red-600 text-white border-red-400",children:" "})]})]}),u.jsx(NV,{isOpen:d,onClose:()=>p(!1),selectedIds:t})]})},AV=ke.lazy(()=>yu(()=>Promise.resolve().then(()=>vW),void 0).then(e=>({default:e.WordstatModal})));function jV(){const[e,t]=ke.useState(!1),[n,r]=ke.useState(!1),[s,i]=ke.useState(!1),[o,c]=ke.useState(!1),[h,d]=ke.useState(!1),[p,g]=ke.useState(!1),[v,x]=ke.useState(!1),[b,y]=ke.useState(!1),[_,E]=ke.useState(!1),[T,C]=ke.useState(null),[N,R]=ke.useState(!1),[P,j]=ke.useState(!1),[O,D]=ke.useState(!1),[Y,Z]=ke.useState(!1),[z,re]=ke.useState(!1),[k,K]=ke.useState(!1),[X,H]=ke.useState(!1),[ne,se]=ke.useState(!1),[oe,M]=ke.useState(!1),[A,U]=ke.useState(!1),[F,B]=ke.useState(!1),[ue,xe]=ke.useState(null),{selectedPhraseIds:ge,phrases:ve,groups:je,clearFilters:Be,deletePhrases:Ge,selectAll:at,deselectAll:I,invertSelection:ye,undo:ee,redo:V,canUndo:G,canRedo:ce,addLog:pe,movePhrasesToGroup:Te,copyPhrasesToGroup:de,updateGroupParent:Me,loadInitialData:_e,isDataLoaded:Re,isDataLoading:Ue,dataError:Ze}=pt(),$e=ge instanceof Set?ge:new Set(Array.isArray(ge)?ge:[]),wt=Array.isArray(ve)?ve:[],Qt=Array.isArray(je)?je:[],bt=ke.useRef(!1);ke.useEffect(()=>{bt.current||(bt.current=!0,!Re&&!Ue&&_e())},[]);const Lt=J8(Y8(Sx,{activationConstraint:{distance:8}})),gt=Qe=>{const{active:Ht,over:kt}=Qe;if(!kt||!Ht.data.current||!kt.data.current)return;const ds=Ht.data.current.type,Ar=kt.data.current.type;if(ds==="phrase"&&(Ar==="group"||Ar==="group-target")){const or=Ht.id,Rn=kt.id,zn=wt.find(At=>At.id===or);if(!zn||zn.groupId===Rn)return;xe({phraseIds:[or],targetGroupId:Rn})}if(ds==="group"&&Ar==="group-target"){const or=Ht.data.current.group.id,Rn=kt.data.current.group.id;if(or===Rn)return;const zn=(At,jt)=>{const en=Qt.find(On=>On.id===jt);return en?en.parentId===At?!0:en.parentId?zn(At,en.parentId):!1:!1};if(zn(or,Rn)){pe("warning","     ");return}Me(or,Rn)}};return ys("ctrl+a",Qe=>{Qe.preventDefault(),at()},{enableOnFormTags:!1}),ys("delete",()=>{$e.size>0&&window.confirm(`   (${$e.size} .)?`)&&Ge(Array.from($e))},{enableOnFormTags:!1}),ys("escape",()=>{I()}),ys("ctrl+f",Qe=>{Qe.preventDefault(),pe("info","  -  ")}),ys("ctrl+h",Qe=>{Qe.preventDefault(),E(!0)},{enableOnFormTags:!1}),ys("ctrl+i",Qe=>{Qe.preventDefault(),ye()},{enableOnFormTags:!1}),ys("ctrl+l",Qe=>{Qe.preventDefault(),Be()},{enableOnFormTags:!1}),ys("f5",Qe=>{Qe.preventDefault(),_e(),pe("info","   ")}),ys("ctrl+d",Qe=>{Qe.preventDefault(),$e.size>0&&pe("info","  -    ")},{enableOnFormTags:!1}),ys("ctrl+z",Qe=>{Qe.preventDefault(),G()&&ee()},{enableOnFormTags:!1}),ys("ctrl+y",Qe=>{Qe.preventDefault(),ce()&&V()},{enableOnFormTags:!1}),Ze?u.jsx("div",{className:"h-screen flex flex-col items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"max-w-md w-full bg-white border border-red-200 shadow-sm rounded-lg p-8 text-center",children:[u.jsx("h2",{className:"text-xl font-semibold text-red-700 mb-3",children:"   "}),u.jsx("p",{className:"text-sm text-gray-600 mb-6",children:Ze}),u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsx(We,{variant:"primary",onClick:()=>_e(),className:"w-full",children:" "}),u.jsx(We,{variant:"secondary",onClick:()=>window.location.reload(),children:" "})]})]})}):Re?u.jsx(QM,{sensors:Lt,onDragEnd:gt,children:u.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 font-sans",children:[u.jsx(qL,{onImportClick:()=>t(!0),onExportClick:()=>r(!0),onDuplicatesClick:()=>i(!0),onStopwordsClick:()=>c(!0),onParsingClick:()=>d(!0),onFiltersClick:()=>g(!0),onColumnSettingsClick:()=>x(!0),onStatisticsClick:()=>y(!0),onSimilarPhrasesClick:()=>R(!0),onAutomationClick:()=>j(!0),onGroupTypeManagerClick:()=>D(!0),onViewTemplatesClick:()=>Z(!0),onCrossMinusationClick:()=>re(!0),onMorphDuplicatesClick:()=>K(!0),onDataQualityClick:()=>H(!0),onPipelinesClick:()=>se(!0),onExportPresetsClick:()=>M(!0),onSnapshotsClick:()=>U(!0),onTagsClick:()=>B(!0)}),u.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[u.jsx(HF,{onShowHistory:Qe=>C(Qe)}),u.jsx(WF,{}),u.jsx(KF,{}),$e.size>0&&u.jsx(kV,{selectedCount:$e.size,selectedIds:Array.from($e)})]}),u.jsx("div",{className:"w-[30%] min-w-[280px] max-w-[400px]",children:u.jsx(qF,{})})]}),u.jsx(WH,{isOpen:e,onClose:()=>t(!1)}),u.jsx(KH,{isOpen:n,onClose:()=>r(!1)}),u.jsx(YH,{isOpen:s,onClose:()=>i(!1)}),u.jsx(JH,{isOpen:o,onClose:()=>c(!1)}),h&&u.jsx(ke.Suspense,{fallback:u.jsx(jn,{isOpen:!0,onClose:()=>d(!1),title:"Wordstat",children:u.jsx("div",{className:"p-6 text-sm text-gray-500",children:"  Wordstat"})}),children:u.jsx(AV,{isOpen:!0,onClose:()=>d(!1)})}),p&&u.jsx(ZH,{onClose:()=>g(!1)}),v&&u.jsx(QH,{onClose:()=>x(!1)}),u.jsx(eV,{isOpen:b,onClose:()=>y(!1)}),u.jsx(tV,{isOpen:_,onClose:()=>E(!1)}),T&&u.jsx(nV,{phraseId:T,onClose:()=>C(null)}),N&&u.jsx(rV,{onClose:()=>R(!1)}),P&&u.jsx(sV,{onClose:()=>j(!1)}),O&&u.jsx(iV,{onClose:()=>D(!1)}),Y&&u.jsx(aV,{isOpen:!0,onClose:()=>Z(!1)}),z&&u.jsx(oV,{isOpen:!0,onClose:()=>re(!1)}),k&&u.jsx(lV,{isOpen:!0,onClose:()=>K(!1)}),X&&u.jsx(gV,{isOpen:!0,onClose:()=>H(!1)}),ne&&u.jsx(wV,{isOpen:!0,onClose:()=>se(!1)}),oe&&u.jsx(SV,{isOpen:!0,onClose:()=>M(!1)}),A&&u.jsx(EV,{isOpen:!0,onClose:()=>U(!1)}),F&&u.jsx(CV,{isOpen:!0,onClose:()=>B(!1)}),ue&&u.jsx(jn,{isOpen:!0,onClose:()=>xe(null),title:"  ",size:"sm",children:u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"mb-4 text-sm text-gray-600",children:"    :"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(We,{onClick:()=>{Te(ue.phraseIds,ue.targetGroupId);const Qe=Qt.find(Ht=>Ht.id===ue.targetGroupId);pe("success",`   "${Qe?.name}"`),xe(null)},variant:"primary",className:"flex-1",children:""}),u.jsx(We,{onClick:()=>{de(ue.phraseIds,ue.targetGroupId);const Qe=Qt.find(Ht=>Ht.id===ue.targetGroupId);pe("success",`   "${Qe?.name}"`),xe(null)},variant:"secondary",className:"flex-1",children:""})]})]})})]})}):u.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-gray-50 text-gray-600",children:[u.jsx(hl,{className:"w-10 h-10 animate-spin mb-3"}),u.jsx("p",{className:"text-lg font-medium",children:"    ..."})]})}function RV(){return u.jsx(b8,{children:u.jsx(jV,{})})}const OV=Object.freeze(Object.defineProperty({__proto__:null,default:RV},Symbol.toStringTag,{value:"Module"})),MV=e=>e instanceof Error?e.message+`
`+e.stack:JSON.stringify(e,null,2);class DV extends ke.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?u.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[u.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),u.jsx("pre",{className:"mt-2 text-sm",children:MV(this.state.error)})]}):this.props.children}}var Pg=function(e,t){return Pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Pg(e,t)};function $C(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ch=function(){return ch=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ch.apply(this,arguments)};function jl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function HC(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function VC(e,t){return function(n,r){t(n,r,e)}}function GC(e,t,n,r,s,i){function o(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var c=r.kind,h=c==="getter"?"get":c==="setter"?"set":"value",d=!t&&e?r.static?e:e.prototype:null,p=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),g,v=!1,x=n.length-1;x>=0;x--){var b={};for(var y in r)b[y]=y==="access"?{}:r[y];for(var y in r.access)b.access[y]=r.access[y];b.addInitializer=function(E){if(v)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(E||null))};var _=(0,n[x])(c==="accessor"?{get:p.get,set:p.set}:p[h],b);if(c==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(g=o(_.get))&&(p.get=g),(g=o(_.set))&&(p.set=g),(g=o(_.init))&&s.unshift(g)}else(g=o(_))&&(c==="field"?s.unshift(g):p[h]=g)}d&&Object.defineProperty(d,r.name,p),v=!0}function qC(e,t,n){for(var r=arguments.length>2,s=0;s<t.length;s++)n=r?t[s].call(e,n):t[s].call(e);return r?n:void 0}function WC(e){return typeof e=="symbol"?e:"".concat(e)}function KC(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function XC(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function it(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(p){try{d(r.next(p))}catch(g){o(g)}}function h(p){try{d(r.throw(p))}catch(g){o(g)}}function d(p){p.done?i(p.value):s(p.value).then(c,h)}d((r=r.apply(e,t||[])).next())})}function YC(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(p){return h([d,p])}}function h(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(r=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],s=0}finally{r=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Bh=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function JC(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Bh(t,e,n)}function uh(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function iv(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(c){o={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function ZC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(iv(arguments[t]));return e}function QC(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],o=0,c=i.length;o<c;o++,s++)r[s]=i[o];return r}function eN(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function ml(e){return this instanceof ml?(this.v=e,this):new ml(e)}function tN(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(x){return function(b){return Promise.resolve(b).then(x,g)}}function c(x,b){r[x]&&(s[x]=function(y){return new Promise(function(_,E){i.push([x,y,_,E])>1||h(x,y)})},b&&(s[x]=b(s[x])))}function h(x,b){try{d(r[x](b))}catch(y){v(i[0][3],y)}}function d(x){x.value instanceof ml?Promise.resolve(x.value.v).then(p,g):v(i[0][2],x)}function p(x){h("next",x)}function g(x){h("throw",x)}function v(x,b){x(b),i.shift(),i.length&&h(i[0][0],i[0][1])}}function nN(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,i){t[s]=e[s]?function(o){return(n=!n)?{value:ml(e[s](o)),done:!1}:i?i(o):o}:i}}function rN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof uh=="function"?uh(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(o){return new Promise(function(c,h){o=e[i](o),s(c,h,o.done,o.value)})}}function s(i,o,c,h){Promise.resolve(h).then(function(d){i({value:d,done:c})},o)}}function sN(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var IV=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},zg=function(e){return zg=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},zg(e)};function iN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=zg(e),r=0;r<n.length;r++)n[r]!=="default"&&Bh(t,e,n[r]);return IV(t,e),t}function aN(e){return e&&e.__esModule?e:{default:e}}function oN(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function lN(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function cN(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function uN(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var LV=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function fN(e){function t(i){e.error=e.hasError?new LV(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,r=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function dN(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?t?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):e}const FV={__extends:$C,__assign:ch,__rest:jl,__decorate:HC,__param:VC,__esDecorate:GC,__runInitializers:qC,__propKey:WC,__setFunctionName:KC,__metadata:XC,__awaiter:it,__generator:YC,__createBinding:Bh,__exportStar:JC,__values:uh,__read:iv,__spread:ZC,__spreadArrays:QC,__spreadArray:eN,__await:ml,__asyncGenerator:tN,__asyncDelegator:nN,__asyncValues:rN,__makeTemplateObject:sN,__importStar:iN,__importDefault:aN,__classPrivateFieldGet:oN,__classPrivateFieldSet:lN,__classPrivateFieldIn:cN,__addDisposableResource:uN,__disposeResources:fN,__rewriteRelativeImportExtension:dN},PV=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:uN,get __assign(){return ch},__asyncDelegator:nN,__asyncGenerator:tN,__asyncValues:rN,__await:ml,__awaiter:it,__classPrivateFieldGet:oN,__classPrivateFieldIn:cN,__classPrivateFieldSet:lN,__createBinding:Bh,__decorate:HC,__disposeResources:fN,__esDecorate:GC,__exportStar:JC,__extends:$C,__generator:YC,__importDefault:aN,__importStar:iN,__makeTemplateObject:sN,__metadata:XC,__param:VC,__propKey:WC,__read:iv,__rest:jl,__rewriteRelativeImportExtension:dN,__runInitializers:qC,__setFunctionName:KC,__spread:ZC,__spreadArray:eN,__spreadArrays:QC,__values:uh,default:FV},Symbol.toStringTag,{value:"Module"})),zV=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class av extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class h2 extends av{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class p2 extends av{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class m2 extends av{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Bg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Bg||(Bg={}));class BV{constructor(t,{headers:n={},customFetch:r,region:s=Bg.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=zV(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return it(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:o,body:c,signal:h}=r;let d={},{region:p}=r;p||(p=this.region);const g=new URL(`${this.url}/${n}`);p&&p!=="any"&&(d["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let v;c&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(d["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(d["Content-Type"]="application/json",v=JSON.stringify(c)):v=c;const x=yield this.fetch(g.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:v,signal:h}).catch(E=>{throw E.name==="AbortError"?E:new h2(E)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new p2(x);if(!x.ok)throw new m2(x);let y=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield x.json():y==="application/octet-stream"||y==="application/pdf"?_=yield x.blob():y==="text/event-stream"?_=x:y==="multipart/form-data"?_=yield x.formData():_=yield x.text(),{data:_,error:null,response:x}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new h2(i)}:{data:null,error:i,response:i instanceof m2||i instanceof p2?i.context:void 0}}})}}var nr={};const Rl=Hk(PV);var hd={},pd={},md={},gd={},xd={},vd={},g2;function hN(){if(g2)return vd;g2=1,Object.defineProperty(vd,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return vd.default=e,vd}var x2;function pN(){if(x2)return xd;x2=1,Object.defineProperty(xd,"__esModule",{value:!0});const t=Rl.__importDefault(hN());class n{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var d,p,g,v;let x=null,b=null,y=null,_=h.status,E=h.statusText;if(h.ok){if(this.method!=="HEAD"){const R=await h.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?b=R:b=JSON.parse(R))}const C=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),N=(g=h.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");C&&N&&N.length>1&&(y=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(x={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,y=null,_=406,E="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const C=await h.text();try{x=JSON.parse(C),Array.isArray(x)&&h.status===404&&(b=[],x=null,_=200,E="OK")}catch{h.status===404&&C===""?(_=204,E="No Content"):x={message:C}}if(x&&this.isMaybeSingle&&(!((v=x?.details)===null||v===void 0)&&v.includes("0 rows"))&&(x=null,_=200,E="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:b,count:y,status:_,statusText:E}});return this.shouldThrowOnError||(c=c.catch(h=>{var d,p,g;return{error:{message:`${(d=h?.name)!==null&&d!==void 0?d:"FetchError"}: ${h?.message}`,details:`${(p=h?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=h?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,i)}returns(){return this}overrideTypes(){return this}}return xd.default=n,xd}var v2;function mN(){if(v2)return gd;v2=1,Object.defineProperty(gd,"__esModule",{value:!0});const t=Rl.__importDefault(pN());class n extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:c,referencedTable:h=c}={}){const d=h?`${h}.order`:"order",p=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${p?`${p},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:c=o}={}){const h=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${s}`),this.url.searchParams.set(d,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:c=!1,wal:h=!1,format:d="text"}={}){var p;const g=[s?"analyze":null,i?"verbose":null,o?"settings":null,c?"buffers":null,h?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${v}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return gd.default=n,gd}var y2;function ov(){if(y2)return md;y2=1,Object.defineProperty(md,"__esModule",{value:!0});const t=Rl.__importDefault(mN()),n=new RegExp("[,()]");class r extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const c=Array.from(new Set(o)).map(h=>typeof h=="string"&&n.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:c,type:h}={}){let d="";h==="plain"?d="pl":h==="phrase"?d="ph":h==="websearch"&&(d="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${d}fts${p}.${o}`),this}match(i){return Object.entries(i).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(i,o,c){return this.url.searchParams.append(i,`not.${o}.${c}`),this}or(i,{foreignTable:o,referencedTable:c=o}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${i})`),this}filter(i,o,c){return this.url.searchParams.append(i,`${o}.${c}`),this}}return md.default=r,md}var w2;function gN(){if(w2)return pd;w2=1,Object.defineProperty(pd,"__esModule",{value:!0});const t=Rl.__importDefault(ov());class n{constructor(s,{headers:i={},schema:o,fetch:c}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=c}select(s,i){const{head:o=!1,count:c}=i??{},h=o?"HEAD":"GET";let d=!1;const p=(s??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var c;const h="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(d.length>0){const p=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:c,defaultToNull:h=!0}={}){var d;const p="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(g.length>0){const v=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:i}={}){var o;const c="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return pd.default=n,pd}var b2;function UV(){if(b2)return hd;b2=1,Object.defineProperty(hd,"__esModule",{value:!0});const e=Rl,t=e.__importDefault(gN()),n=e.__importDefault(ov());class r{constructor(i,{headers:o={},schema:c,fetch:h}={}){this.url=i,this.headers=new Headers(o),this.schemaName=c,this.fetch=h}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:c=!1,get:h=!1,count:d}={}){var p;let g;const v=new URL(`${this.url}/rpc/${i}`);let x;c||h?(g=c?"HEAD":"GET",Object.entries(o).filter(([y,_])=>_!==void 0).map(([y,_])=>[y,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([y,_])=>{v.searchParams.append(y,_)})):(g="POST",x=o);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new n.default({method:g,url:v,headers:b,schema:this.schemaName,body:x,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return hd.default=r,hd}var _2;function $V(){if(_2)return nr;_2=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.PostgrestError=nr.PostgrestBuilder=nr.PostgrestTransformBuilder=nr.PostgrestFilterBuilder=nr.PostgrestQueryBuilder=nr.PostgrestClient=void 0;const e=Rl,t=e.__importDefault(UV());nr.PostgrestClient=t.default;const n=e.__importDefault(gN());nr.PostgrestQueryBuilder=n.default;const r=e.__importDefault(ov());nr.PostgrestFilterBuilder=r.default;const s=e.__importDefault(mN());nr.PostgrestTransformBuilder=s.default;const i=e.__importDefault(pN());nr.PostgrestBuilder=i.default;const o=e.__importDefault(hN());return nr.PostgrestError=o.default,nr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},nr}var xN=$V();const vN=ph(xN),HV=$k({__proto__:null,default:vN},[xN]),{PostgrestClient:VV,PostgrestQueryBuilder:bW,PostgrestFilterBuilder:_W,PostgrestTransformBuilder:SW,PostgrestBuilder:EW,PostgrestError:TW}=vN||HV;class GV{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const qV="2.80.0",WV=`realtime-js/${qV}`,KV="1.0.0",Ug=1e4,XV=1e3,YV=100;var qc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qc||(qc={}));var Nn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Nn||(Nn={}));var Ts;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ts||(Ts={}));var $g;(function(e){e.websocket="websocket"})($g||($g={}));var $a;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})($a||($a={}));class JV{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const c=r.decode(t.slice(o,o+s));o=o+s;const h=r.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:c,event:h,payload:d}}}class yN{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Zt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Zt||(Zt={}));const S2=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=ZV(o,e,t,s),i),{}):{}},ZV=(e,t,n,r)=>{const s=t.find(c=>c.name===e),i=s?.type,o=n[e];return i&&!r.includes(i)?wN(i,o):Hg(o)},wN=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return nG(t,n)}switch(e){case Zt.bool:return QV(t);case Zt.float4:case Zt.float8:case Zt.int2:case Zt.int4:case Zt.int8:case Zt.numeric:case Zt.oid:return eG(t);case Zt.json:case Zt.jsonb:return tG(t);case Zt.timestamp:return rG(t);case Zt.abstime:case Zt.date:case Zt.daterange:case Zt.int4range:case Zt.int8range:case Zt.money:case Zt.reltime:case Zt.text:case Zt.time:case Zt.timestamptz:case Zt.timetz:case Zt.tsrange:case Zt.tstzrange:return Hg(t);default:return Hg(t)}},Hg=e=>e,QV=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},eG=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tG=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},nG=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>wN(t,c))}return e},rG=e=>typeof e=="string"?e.replace(" ","T"):e,bN=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Hm{constructor(t,n,r={},s=Ug){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var E2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(E2||(E2={}));class Wc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wc.syncState(this.state,s,i,o),this.pendingDiffs.forEach(h=>{this.state=Wc.syncDiff(this.state,h,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wc.syncDiff(this.state,s,i,o),c())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),c={},h={};return this.map(i,(d,p)=>{o[d]||(h[d]=p)}),this.map(o,(d,p)=>{const g=i[d];if(g){const v=p.map(_=>_.presence_ref),x=g.map(_=>_.presence_ref),b=p.filter(_=>x.indexOf(_.presence_ref)<0),y=g.filter(_=>v.indexOf(_.presence_ref)<0);b.length>0&&(c[d]=b),y.length>0&&(h[d]=y)}else c[d]=p}),this.syncDiff(i,{joins:c,leaves:h},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(c,h)=>{var d;const p=(d=t[c])!==null&&d!==void 0?d:[];if(t[c]=this.cloneDeep(h),p.length>0){const g=t[c].map(x=>x.presence_ref),v=p.filter(x=>g.indexOf(x.presence_ref)<0);t[c].unshift(...v)}r(c,p,h)}),this.map(o,(c,h)=>{let d=t[c];if(!d)return;const p=h.map(g=>g.presence_ref);d=d.filter(g=>p.indexOf(g.presence_ref)<0),t[c]=d,s(c,d,h),d.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var T2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(T2||(T2={}));var Kc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Kc||(Kc={}));var pi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pi||(pi={}));class lv{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Nn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hm(this,Ts.join,this.params,this.timeout),this.rejoinTimer=new yN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Nn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Nn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ts.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new Wc(this),this.broadcastEndpointURL=bN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Nn.closed){const{config:{broadcast:o,presence:c,private:h}}=this.params,d=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[Kc.PRESENCE]&&this.bindings[Kc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},v={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:d,private:h};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(pi.CHANNEL_ERROR,x)),this._onClose(()=>t?.(pi.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var b;if(this.socket.setAuth(),x===void 0){t?.(pi.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,_=(b=y?.length)!==null&&b!==void 0?b:0,E=[];for(let T=0;T<_;T++){const C=y[T],{filter:{event:N,schema:R,table:P,filter:j}}=C,O=x&&x[T];if(O&&O.event===N&&O.schema===R&&O.table===P&&O.filter===j)E.push(Object.assign(Object.assign({},C),{id:O.id}));else{this.unsubscribe(),this.state=Nn.errored,t?.(pi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(pi.SUBSCRIBED);return}}).receive("error",x=>{this.state=Nn.errored,t?.(pi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(pi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Nn.joined&&t===Kc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let h=c.statusText;try{const d=await c.json();h=d.error||d.message||h}catch{}return Promise.reject(new Error(h))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,h;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Nn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ts.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Hm(this,Ts.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Hm(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>YV){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:c,error:h,leave:d,join:p}=Ts;if(r&&[c,h,d,p].indexOf(o)>=0&&r!==this._joinRef())return;let v=this._onMessage(o,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var b,y,_;return((b=x.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(y=x.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(x=>x.callback(v,r)):(i=this.bindings[o])===null||i===void 0||i.filter(x=>{var b,y,_,E,T,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const N=x.id,R=(b=x.filter)===null||b===void 0?void 0:b.event;return N&&((y=n.ids)===null||y===void 0?void 0:y.includes(N))&&(R==="*"||R?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const N=(T=(E=x?.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return N==="*"||N===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:y,table:_,commit_timestamp:E,type:T,errors:C}=b;v=Object.assign(Object.assign({},{schema:y,table:_,commit_timestamp:E,eventType:T,new:{},old:{},errors:C}),this._getPayloadRecords(b))}x.callback(v,r)})}_isClosed(){return this.state===Nn.closed}_isJoined(){return this.state===Nn.joined}_isJoining(){return this.state===Nn.joining}_isLeaving(){return this.state===Nn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&lv.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ts.close,{},t)}_onError(t){this._on(Ts.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=S2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=S2(t.columns,t.old_record)),n}}const Vm=()=>{},yd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sG=[1e3,2e3,5e3,1e4],iG=1e4,aG=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class oG{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ug,this.transport=null,this.heartbeatIntervalMs=yd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vm,this.ref=0,this.reconnectTimer=null,this.logger=Vm,this.conn=null,this.sendBuffer=[],this.serializer=new JV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${$g.websocket}`,this.httpEndpoint=bN(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=GV.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:KV}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case qc.connecting:return $a.Connecting;case qc.open:return $a.Open;case qc.closing:return $a.Closing;default:return $a.Closed}}isConnected(){return this.connectionState()===$a.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new lv(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(XV,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},yd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,c=o?`(${o})`:"",h=i.status||"";this.log("receive",`${h} ${r} ${s} ${c}`.trim(),i),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ts.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([aG],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:WV};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ts.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new yN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,c,h,d,p;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Ug,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:yd.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:Vm,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(g=>sG[g-1]||iG),this.encode=(d=t?.encode)!==null&&d!==void 0?d:((g,v)=>v(JSON.stringify(g))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class cv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ln(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class lG extends cv{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vg extends cv{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const uv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cG=()=>Response,Gg=e=>{if(Array.isArray(e))return e.map(n=>Gg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Gg(r)}),t},uG=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Gm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},fG=(e,t,n)=>it(void 0,void 0,void 0,function*(){const r=yield cG();e instanceof r&&!n?.noResolveJson?e.json().then(s=>{const i=e.status||500,o=s?.statusCode||i+"";t(new lG(Gm(s),i,o))}).catch(s=>{t(new Vg(Gm(s),s))}):t(new Vg(Gm(e),e))}),dG=(e,t,n,r)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||!r?s:(uG(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(r)):s.body=r,t?.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Mu(e,t,n,r,s,i){return it(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,dG(t,r,s,i)).then(h=>{if(!h.ok)throw h;return r?.noResolveJson?h:h.json()}).then(h=>o(h)).catch(h=>fG(h,c,r))})})}function pu(e,t,n,r){return it(this,void 0,void 0,function*(){return Mu(e,"GET",t,n,r)})}function Es(e,t,n,r,s){return it(this,void 0,void 0,function*(){return Mu(e,"POST",t,r,s,n)})}function qg(e,t,n,r,s){return it(this,void 0,void 0,function*(){return Mu(e,"PUT",t,r,s,n)})}function hG(e,t,n,r){return it(this,void 0,void 0,function*(){return Mu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function fv(e,t,n,r,s){return it(this,void 0,void 0,function*(){return Mu(e,"DELETE",t,r,s,n)})}class pG{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return it(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ln(t))return{data:null,error:t};throw t}})}}var _N;class mG{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[_N]="BlobDownloadBuilder",this.promise=null}asStream(){return new pG(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return it(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ln(t))return{data:null,error:t};throw t}})}}_N=Symbol.toStringTag;const gG={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},C2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xG{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=uv(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return it(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},C2),s);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const h=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),h&&i.append("metadata",this.encodeMetadata(h)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),h&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(h))):(i=r,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,h&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s?.headers&&(c=Object.assign(Object.assign({},c),s.headers));const d=this._removeEmptyFolders(n),p=this._getFinalPath(d),g=yield(t=="PUT"?qg:Es)(this.fetch,`${this.url}/object/${p}`,i,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}upload(t,n,r){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return it(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let h;const d=Object.assign({upsert:C2.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",d.cacheControl)):(h=r,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType);const g=yield qg(this.fetch,c.toString(),h,{headers:p});return{data:{path:i,fullPath:g.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(ln(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,n){return it(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n?.upsert&&(s["x-upsert"]="true");const i=yield Es(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new cv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}update(t,n,r){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return it(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ln(s))return{data:null,error:s};throw s}})}copy(t,n,r){return it(this,void 0,void 0,function*(){try{return{data:{path:(yield Es(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ln(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return it(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Es(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ln(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return it(this,void 0,void 0,function*(){try{const s=yield Es(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ln(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),o=i?`?${i}`:"",c=this._getFinalPath(t),h=()=>pu(this.fetch,`${this.url}/${s}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new mG(h,this.shouldThrowOnError)}info(t){return it(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield pu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Gg(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}exists(t){return it(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield hG(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r)&&r instanceof Vg){const s=r.originalError;if([400,404].includes(s?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const c=typeof n?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(n?.transform||{});h!==""&&s.push(h);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${d}`)}}}remove(t){return it(this,void 0,void 0,function*(){try{return{data:yield fv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}list(t,n,r){return it(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},gG),n),{prefix:t||""});return{data:yield Es(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ln(s))return{data:null,error:s};throw s}})}listV2(t,n){return it(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Es(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const SN="2.80.0",EN={"X-Client-Info":`storage-js/${SN}`};class vG{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EN),n),this.fetch=uv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return it(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield pu(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}getBucket(t){return it(this,void 0,void 0,function*(){try{return{data:yield pu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}createBucket(t){return it(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Es(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ln(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return it(this,void 0,void 0,function*(){try{return{data:yield qg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}emptyBucket(t){return it(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}deleteBucket(t){return it(this,void 0,void 0,function*(){try{return{data:yield fv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class yG{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EN),n),this.fetch=uv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return it(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}listBuckets(t){return it(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield pu(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}deleteBucket(t){return it(this,void 0,void 0,function*(){try{return{data:yield fv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}}const dv={"X-Client-Info":`storage-js/${SN}`,"Content-Type":"application/json"};class TN extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Hr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class qm extends TN{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wG extends TN{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var N2;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(N2||(N2={}));const hv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bG=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},k2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_G=(e,t,n)=>it(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const c=o?.statusCode||o?.code||s+"";t(new qm(k2(o),s,c))}).catch(()=>{const o=s+"",c=i.statusText||`HTTP ${s} error`;t(new qm(c,s,o))});else{const o=s+"",c=i.statusText||`HTTP ${s} error`;t(new qm(c,s,o))}}else t(new wG(k2(e),e))}),SG=(e,t,n,r)=>{const s={method:e,headers:t?.headers||{}};return r?(bG(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function EG(e,t,n,r,s,i){return it(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,SG(t,r,s,i)).then(h=>{if(!h.ok)throw h;if(r?.noResolveJson)return h;const d=h.headers.get("content-type");return!d||!d.includes("application/json")?{}:h.json()}).then(h=>o(h)).catch(h=>_G(h,c,r))})})}function Vr(e,t,n,r,s){return it(this,void 0,void 0,function*(){return EG(e,"POST",t,r,s,n)})}class TG{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dv),n),this.fetch=hv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return it(this,void 0,void 0,function*(){try{return{data:(yield Vr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}getIndex(t,n){return it(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listIndexes(t){return it(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return it(this,void 0,void 0,function*(){try{return{data:(yield Vr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}class CG{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dv),n),this.fetch=hv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return it(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Vr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}getVectors(t){return it(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}listVectors(t){return it(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Vr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}queryVectors(t){return it(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}deleteVectors(t){return it(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Vr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}}class NG{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dv),n),this.fetch=hv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return it(this,void 0,void 0,function*(){try{return{data:(yield Vr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}getBucket(t){return it(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}listBuckets(){return it(this,arguments,void 0,function*(t={}){try{return{data:yield Vr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return it(this,void 0,void 0,function*(){try{return{data:(yield Vr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}}class kG extends NG{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new AG(this.url,this.headers,t,this.fetch)}}class AG extends TG{constructor(t,n,r,s){super(t,n,s),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return it(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return it(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return it(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return it(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new jG(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class jG extends CG{constructor(t,n,r,s,i){super(t,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return it(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return it(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return it(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return it(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return it(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class RG extends vG{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new xG(this.url,this.headers,t,this.fetch)}get vectors(){return new kG(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yG(this.url+"/iceberg",this.headers,this.fetch)}}const OG="2.80.0";let Ic="";typeof Deno<"u"?Ic="deno":typeof document<"u"?Ic="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ic="react-native":Ic="node";const MG={"X-Client-Info":`supabase-js-${Ic}/${OG}`},DG={headers:MG},IG={schema:"public"},LG={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FG={},PG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zG=()=>Headers,BG=(e,t,n)=>{const r=PG(n),s=zG();return async(i,o)=>{var c;const h=(c=await t())!==null&&c!==void 0?c:e;let d=new s(o?.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${h}`),r(i,Object.assign(Object.assign({},o),{headers:d}))}};function UG(e){return e.endsWith("/")?e:e+"/"}function $G(e,t){var n,r;const{db:s,auth:i,realtime:o,global:c}=e,{db:h,auth:d,realtime:p,global:g}=t,v={db:Object.assign(Object.assign({},h),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},p),o),storage:{},global:Object.assign(Object.assign(Object.assign({},g),c),{headers:Object.assign(Object.assign({},(n=g?.headers)!==null&&n!==void 0?n:{}),(r=c?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function HG(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(UG(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const CN="2.80.0",Jo=30*1e3,Wg=3,Wm=Wg*Jo,VG="http://localhost:9999",GG="supabase.auth.token",qG={"X-Client-Info":`gotrue-js/${CN}`},Kg="X-Supabase-Api-Version",NN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WG=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KG=600*1e3;class mu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ot(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class XG extends mu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function YG(e){return ot(e)&&e.name==="AuthApiError"}class Ha extends mu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ma extends mu{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class _s extends ma{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function JG(e){return ot(e)&&e.name==="AuthSessionMissingError"}class Vo extends ma{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wd extends ma{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bd extends ma{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ZG(e){return ot(e)&&e.name==="AuthImplicitGrantRedirectError"}class A2 extends ma{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xg extends ma{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Km(e){return ot(e)&&e.name==="AuthRetryableFetchError"}class j2 extends ma{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Yg extends ma{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),R2=` 	
\r=`.split(""),QG=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<R2.length;t+=1)e[R2[t].charCodeAt(0)]=-2;for(let t=0;t<fh.length;t+=1)e[fh[t].charCodeAt(0)]=t;return e})();function O2(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(fh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(fh[r]),t.queuedBits-=6}}function kN(e,t,n){const r=QG[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function M2(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{nq(o,r,n)};for(let o=0;o<e.length;o+=1)kN(e.charCodeAt(o),s,i);return t.join("")}function eq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tq(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}eq(r,t)}}function nq(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ul(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)kN(e.charCodeAt(s),n,r);return new Uint8Array(t)}function rq(e){const t=[];return tq(e,n=>t.push(n)),new Uint8Array(t)}function Wa(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>O2(s,n,r)),O2(null,n,r),t.join("")}function sq(e){return Math.round(Date.now()/1e3)+e}function iq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const rr=()=>typeof window<"u"&&typeof document<"u",Fa={tested:!1,writable:!1},AN=()=>{if(!rr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fa.tested)return Fa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fa.tested=!0,Fa.writable=!0}catch{Fa.tested=!0,Fa.writable=!1}return Fa.writable};function aq(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const jN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Pa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ea=async(e,t)=>{await e.removeItem(t)};class Uh{constructor(){this.promise=new Uh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Uh.promiseConstructor=Promise;function Xm(e){const t=e.split(".");if(t.length!==3)throw new Yg("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!WG.test(t[r]))throw new Yg("JWT not in base64url format");return{header:JSON.parse(M2(t[0])),payload:JSON.parse(M2(t[1])),signature:ul(t[2]),raw:{header:t[0],payload:t[1]}}}async function lq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cq(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function uq(e){return("0"+e.toString(16)).substr(-2)}function fq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,uq).join("")}async function dq(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function hq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await dq(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Go(e,t,n=!1){const r=fq();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Zo(e,`${t}-code-verifier`,s);const i=await hq(r);return[i,r===i?"plain":"s256"]}const pq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mq(e){const t=e.headers.get(Kg);if(!t||!t.match(pq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qo(e){if(!vq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ym(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yq(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function D2(e){return JSON.parse(JSON.stringify(e))}const za=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wq=[502,503,504];async function I2(e){var t;if(!oq(e))throw new Xg(za(e),0);if(wq.includes(e.status))throw new Xg(za(e),e.status);let n;try{n=await e.json()}catch(i){throw new Ha(za(i),i)}let r;const s=mq(e);if(s&&s.getTime()>=NN["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new j2(za(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new _s}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new j2(za(n),e.status,n.weak_password.reasons);throw new XG(za(n),e.status||500,r)}const bq=(e,t,n,r)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ft(e,t,n,r){var s;const i=Object.assign({},r?.headers);i[Kg]||(i[Kg]=NN["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r?.query)!==null&&s!==void 0?s:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",h=await _q(e,t,n+c,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(h):{data:Object.assign({},h),error:null}}async function _q(e,t,n,r,s,i){const o=bq(t,r,s,i);let c;try{c=await e(n,Object.assign({},o))}catch(h){throw console.error(h),new Xg(za(h),0)}if(c.ok||await I2(c),r?.noResolveJson)return c;try{return await c.json()}catch(h){await I2(h)}}function Ss(e){var t;let n=null;Tq(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=sq(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function L2(e){const t=Ss(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ra(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Sq(e){return{data:e,error:null}}function Eq(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=jl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},h=Object.assign({},o);return{data:{properties:c,user:h},error:null}}function F2(e){return e}function Tq(e){return e.access_token&&e.refresh_token&&e.expires_in}const Jm=["global","local","others"];class Cq{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=jN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Jm[0]){if(Jm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jm.join(", ")}`);try{return await ft(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ot(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ra})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=jl(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r?.newEmail,delete s.newEmail),await ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Eq,redirectTo:n?.redirectTo})}catch(n){if(ot(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ft(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ra})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,c,h;try{const d={nextPage:null,lastPage:0,total:0},p=await ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:F2});if(p.error)throw p.error;const g=await p.json(),v=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(h=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);d[`${_}Page`]=y}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(ot(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){qo(t);try{return await ft(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ra})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){qo(t);try{return await ft(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ra})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){qo(t);try{return await ft(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ra})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){qo(t.userId);try{const{data:n,error:r}=await ft(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _deleteFactor(t){qo(t.userId),qo(t.id);try{return{data:await ft(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,c,h;try{const d={nextPage:null,lastPage:0,total:0},p=await ft(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:F2});if(p.error)throw p.error;const g=await p.json(),v=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(h=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);d[`${_}Page`]=y}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(ot(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await ft(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ft(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ft(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ot(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ft(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ft(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ot(n))return{data:null,error:n};throw n}}}function P2(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Wo={debug:!!(globalThis&&AN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class RN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Nq extends RN{}async function kq(e,t,n){Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Nq(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Aq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ON(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function jq(e){return parseInt(e,16)}function Rq(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Oq(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:c,requestId:h,resources:d,scheme:p,uri:g,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=ON(e.address),b=p?`${p}://${r}`:r,y=e.statement?`${e.statement}
`:"",_=`${b} wants you to sign in with your Ethereum account:
${x}

${y}`;let E=`URI: ${g}
Version: ${v}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(E+=`
Expiration Time: ${s.toISOString()}`),c&&(E+=`
Not Before: ${c.toISOString()}`),h&&(E+=`
Request ID: ${h}`),d){let T=`
Resources:`;for(const C of d){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);T+=`
- ${C}`}E+=T}return`${_}
${E}`}class _n extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class dh extends _n{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Mq({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _n({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new _n({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new _n({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new _n({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new _n({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new _n({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new _n({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new _n({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(MN(o)){if(i.rp.id!==o)return new _n({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _n({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new _n({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new _n({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _n({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Dq({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _n({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new _n({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(MN(r)){if(n.rpId!==r)return new _n({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _n({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new _n({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _n({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Iq{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Lq=new Iq;function Fq(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=jl(e,["challenge","user","excludeCredentials"]),i=ul(t).buffer,o=Object.assign(Object.assign({},n),{id:ul(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const d=r[h];c.excludeCredentials[h]=Object.assign(Object.assign({},d),{id:ul(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function Pq(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=jl(e,["challenge","allowCredentials"]),s=ul(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const c=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},c),{id:ul(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function zq(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Wa(new Uint8Array(e.response.attestationObject)),clientDataJSON:Wa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Bq(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Wa(new Uint8Array(s.authenticatorData)),clientDataJSON:Wa(new Uint8Array(s.clientDataJSON)),signature:Wa(new Uint8Array(s.signature)),userHandle:s.userHandle?Wa(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function MN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function z2(){var e,t;return!!(rr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Uq(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dh("Browser returned unexpected credential type",t)}:{data:null,error:new dh("Empty credential response",t)}}catch(t){return{data:null,error:Mq({error:t,options:e})}}}async function $q(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dh("Browser returned unexpected credential type",t)}:{data:null,error:new dh("Empty credential response",t)}}catch(t){return{data:null,error:Dq({error:t,options:e})}}}const Hq={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Vq={userVerification:"preferred",hints:["security-key"]};function hh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const c=r[i];t(c)?r[i]=hh(c,o):r[i]=hh(o)}else r[i]=o}return r}function Gq(e,t){return hh(Hq,e,t||{})}function qq(e,t){return hh(Vq,e,t||{})}class Wq{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:c};const h=s??Lq.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=Gq(o.webauthn.credential_options.publicKey,i?.create),{data:p,error:g}=await Uq({publicKey:d,signal:h});return p?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const d=qq(o.webauthn.credential_options.publicKey,i?.request),{data:p,error:g}=await $q(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:h}));return p?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(o){return ot(o)?{data:null,error:o}:{data:null,error:new Ha("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new mu("rpId is required for WebAuthn authentication")};try{if(!z2())return{data:null,error:new Ha("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:c};const{webauthn:h}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:r,credential_response:h.credential_response}})}catch(o){return ot(o)?{data:null,error:o}:{data:null,error:new Ha("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new mu("rpId is required for WebAuthn registration")};try{if(!z2())return{data:null,error:new Ha("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:c};const{data:h,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return h?this._verify({factorId:o.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:r,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:d}}catch(o){return ot(o)?{data:null,error:o}:{data:null,error:new Ha("Unexpected error in register",o)}}}}Aq();const Kq={url:VG,storageKey:GG,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qG,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function B2(e,t,n){return await n()}const Ko={};class gu{get jwks(){var t,n;return(n=(t=Ko[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ko[this.storageKey]=Object.assign(Object.assign({},Ko[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ko[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ko[this.storageKey]=Object.assign(Object.assign({},Ko[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Kq),t);if(this.storageKey=i.storageKey,this.instanceID=(n=gu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,gu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&rr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Cq({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=jN(i.fetch),this.lock=i.lock||B2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:rr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=kq:this.lock=B2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Wq(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:AN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=P2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=P2(this.memoryStorage)),rr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${CN}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(rr()&&(n=aq(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),rr()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ZG(i)){const h=(t=i.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ot(n)?this._returnResult({error:n}):this._returnResult({error:new Ha("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ss}),{data:o,error:c}=i;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const h=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:d,session:h},error:null})}catch(i){if(ot(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:p,password:g,options:v}=t;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await Go(this.storage,this.storageKey)),i=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:g,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:x,code_challenge_method:b},xform:Ss})}else if("phone"in t){const{phone:p,password:g,options:v}=t;i=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(s=v?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Ss})}else throw new wd("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const h=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:d,session:h},error:null})}catch(i){if(ot(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:c}=t;n=await ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:L2})}else if("phone"in t){const{phone:i,password:o,options:c}=t;n=await ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:L2})}else throw new wd("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Vo;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ot(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,c,h,d,p,g,v;let x,b;if("message"in t)x=t.message,b=t.signature;else{const{chain:y,wallet:_,statement:E,options:T}=t;let C;if(rr())if(typeof _=="object")C=_;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")C=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}const N=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href),R=await C.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=ON(R[0]);let j=(r=T?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const D=await C.request({method:"eth_chainId"});j=jq(D)}const O={domain:N.host,address:P,statement:E,uri:N.href,version:"1",chainId:j,nonce:(s=T?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=T?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=T?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(h=T?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(d=T?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(p=T?.signInWithEthereum)===null||p===void 0?void 0:p.resources};x=Oq(O),b=await C.request({method:"personal_sign",params:[Rq(x),P]})}try{const{data:y,error:_}=await ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:b},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ss});if(_)throw _;if(!y||!y.session||!y.user){const E=new Vo;return this._returnResult({data:{user:null,session:null},error:E})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:_})}catch(y){if(ot(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var n,r,s,i,o,c,h,d,p,g,v,x;let b,y;if("message"in t)b=t.message,y=t.signature;else{const{chain:_,wallet:E,statement:T,options:C}=t;let N;if(rr())if(typeof E=="object")N=E;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))N=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=E}const R=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const P=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),T?{statement:T}:null));let j;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")j=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)j=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)b=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),y=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${R.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(s=(r=C?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=C?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((o=C?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((g=(p=C?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...C.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const P=await N.signMessage(new TextEncoder().encode(b),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=P}}try{const{data:_,error:E}=await ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Wa(y)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ss});if(E)throw E;if(!_||!_.session||!_.user){const T=new Vo;return this._returnResult({data:{user:null,session:null},error:T})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(ot(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await Pa(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ss});if(await ea(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const c=new Vo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ot(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,c=await ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ss}),{data:h,error:d}=c;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h||!h.session||!h.user){const p=new Vo;return this._returnResult({data:{user:null,session:null},error:p})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:d})}catch(n){if(ot(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:c,options:h}=t;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await Go(this.storage,this.storageKey));const{error:g}=await ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(r=h?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:c,options:h}=t,{data:d,error:p}=await ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=h?.data)!==null&&s!==void 0?s:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:p})}throw new wd("You must provide either an email or phone number.")}catch(c){if(ot(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:c}=await ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ss});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const h=o.session,d=o.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:d,session:h},error:null})}catch(s){if(ot(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Go(this.storage,this.storageKey));const c=await ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Sq});return this._returnResult(c)}catch(i){if(ot(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new _s;const{error:s}=await ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ot(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await ft(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:c}=await ft(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:c})}throw new wd("You must provide either an email or phone number and a type")}catch(n){if(ot(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Pa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Wm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Pa(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Ym()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=yq(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ra}):await this._useSession(async n=>{var r,s,i;const{data:o,error:c}=n;if(c)throw c;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _s}:await ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ra})})}catch(n){if(ot(n))return JG(n)&&(await this._removeSession(),await ea(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new _s;const o=s.session;let c=null,h=null;this.flowType==="pkce"&&t.email!=null&&([c,h]=await Go(this.storage,this.storageKey));const{data:d,error:p}=await ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:h}),jwt:o.access_token,xform:ra});if(p)throw p;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(ot(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _s;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Xm(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:c,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:h}=await this._getUser(t.access_token);if(h)throw h;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(ot(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:c}=n;if(c)throw c;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new _s;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ot(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!rr())throw new bd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new A2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new A2("No code detected.");const{data:T,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:c,expires_at:h,token_type:d}=t;if(!i||!c||!o||!d)throw new bd("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(c);let v=p+g;h&&(v=parseInt(h));const x=v-p;x*1e3<=Jo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const b=v-g;p-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,p):p-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,p);const{data:y,error:_}=await this._getUser(i);if(_)throw _;const E={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:g,expires_at:v,refresh_token:o,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:t.type},error:null})}catch(r){if(ot(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Pa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(YG(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await ea(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=iq(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Go(this.storage,this.storageKey,!0));try{return await ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ot(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,c,h,d,p;const{data:g,error:v}=i;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ft(this.fetch,"GET",x,{headers:this.headers,jwt:(p=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return rr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(ot(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:c,token:h,access_token:d,nonce:p}=t,g=await ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:h,access_token:d,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ss}),{data:v,error:x}=g;return x?this._returnResult({data:{user:null,session:null},error:x}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Vo}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:x}))}catch(s){if(ot(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await ft(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await cq(async s=>(s>0&&await lq(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ss})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Km(i)&&Date.now()+o-r<Jo})}catch(r){if(this._debug(n,"error",r),ot(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),rr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Pa(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Pa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Zo(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o?.user)!==null&&t!==void 0?t:Ym()}else if(s&&!s.user&&!s.user){const o=await Pa(this.storage,this.storageKey+"-user");o&&o?.user?(s.user=o.user,await ea(this.storage,this.storageKey+"-user"),await Zo(this.storage,this.storageKey,s)):s.user=Ym()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Wm;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Wm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Km(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(s.access_token);!c&&o?.user?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new _s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Uh;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new _s;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),ot(i)){const o={data:null,error:i};return Km(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(h){i.push(h)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Zo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=D2(s);await Zo(this.storage,this.storageKey,i)}else{const s=D2(n);await Zo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ea(this.storage,this.storageKey),await ea(this.storage,this.storageKey+"-code-verifier"),await ea(this.storage,this.storageKey+"-user"),this.userStorage&&await ea(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Jo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Jo}ms, refresh threshold is ${Wg} ticks`),s<=Wg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof RN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Go(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(c.toString())}if(r?.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r?.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await ft(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:d}=await ft(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&h.type==="totp"&&(!((s=h?.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?zq(t.webauthn.credential_response):Bq(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:h}=await ft(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:h}))})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await ft(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Fq(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Pq(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n?.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Xm(r.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await ft(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new _s})})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new _s});const o=await ft(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&rr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ot(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new _s});const o=await ft(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&rr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ot(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+KG>s)return r;const{data:i,error:o}=await ft(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:b}=await this.getSession();if(b||!x.session)return this._returnResult({data:null,error:b});r=x.session.access_token}const{header:s,payload:i,signature:o,raw:{header:c,payload:h}}=Xm(r);n?.allowExpired||gq(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:i,header:s,signature:o},error:null}}const p=xq(s.alg),g=await crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,o,rq(`${c}.${h}`)))throw new Yg("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ot(r))return this._returnResult({data:null,error:r});throw r}}}gu.nextInstanceID={};const Xq=gu;class Yq extends Xq{constructor(t){super(t)}}class Jq{constructor(t,n,r){var s,i,o;this.supabaseUrl=t,this.supabaseKey=n;const c=HG(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:IG,realtime:FG,auth:Object.assign(Object.assign({},LG),{storageKey:h}),global:DG},p=$G(r??{},d);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=BG(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new VV(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new RG(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new BV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:c,lock:h,debug:d,throwOnError:p},g,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yq({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),g),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:c,lock:h,debug:d,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new oG(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zq=(e,t,n)=>new Jq(e,t,n);function Qq(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Qq()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const eW="https://qyjwaadlrkrxpnpkjlvn.supabase.co",tW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF5andhYWRscmtyeHBucGtqbHZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5MjMxODgsImV4cCI6MjA3NzQ5OTE4OH0.xAFYsRUt_qG-djMKLcQxPqSL8LwtavrYmoiysIaLg8c",$s=Zq(eW,tW);function nW(){const[e,t]=q.useState(null),[n,r]=q.useState(!0),[s,i]=q.useState(!1),[o,c]=q.useState("0"),[h,d]=q.useState(!1),[p,g]=q.useState(null),[v,x]=q.useState(null);q.useEffect(()=>{b();const E=localStorage.getItem("lastSyncTime");E&&x(E)},[]),q.useEffect(()=>{p&&y()},[p]);const b=async()=>{const E=localStorage.getItem("userId"),T=localStorage.getItem("isConnected")==="true";if(d(T),T&&E)try{const{data:C,error:N}=await $s.from("accounts").select("id").eq("org_id",E).limit(1);!N&&C&&C.length>0?g(C[0].id):r(!1)}catch(C){console.error("Error fetching account:",C),r(!1)}else r(!1)},y=async()=>{if(p)try{const{data:E,error:T}=await $s.functions.invoke("get-analytics",{body:{accountId:p,dateFrom:new Date(Date.now()-6048e5).toISOString().split("T")[0],dateTo:new Date().toISOString().split("T")[0]}});if(T)throw T;E?.data?(t(E.data.metrics),c(E.data.potentialSaving||"0")):t(null)}catch(E){console.error("Error loading dashboard data:",E),t(null)}finally{r(!1)}},_=async()=>{if(!(!p||s)){i(!0);try{const E=new Date(Date.now()-2592e6).toISOString().split("T")[0],T=new Date().toISOString().split("T")[0];await $s.functions.invoke("sync-direct-data",{body:{accountId:p,dateFrom:E,dateTo:T,reportType:"search-queries"}});const C=new Date().toISOString();localStorage.setItem("lastSyncTime",C),x(C),await y()}catch(E){console.error("Sync error:",E),alert(" .  .")}finally{i(!1)}}};return n?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):h?p?!e&&!n?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),u.jsxs("button",{onClick:_,disabled:s,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2 disabled:opacity-50",children:[u.jsx(Gd,{className:`w-4 h-4 ${s?"animate-spin":""}`}),u.jsx("span",{children:s?"...":""})]})]}),u.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:" "}),u.jsx("p",{className:"text-gray-700 mb-4",children:'    .   ""     ..'})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[v&&u.jsxs("span",{className:"text-sm text-gray-600",children:[" : ",new Date(v).toLocaleString("ru-RU")]}),u.jsxs("button",{onClick:_,disabled:s,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2 disabled:opacity-50",children:[u.jsx(Gd,{className:`w-4 h-4 ${s?"animate-spin":""}`}),u.jsx("span",{children:s?"...":" "})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsx(Xo,{title:" ",value:`${parseFloat(e?.totalCost||"0").toLocaleString("ru-RU")} `,icon:u.jsx(a_,{className:"w-6 h-6"}),trend:{value:"-12%",isPositive:!0},color:"blue"}),u.jsx(Xo,{title:"",value:e?.totalClicks.toLocaleString("ru-RU")||"0",icon:u.jsx(aI,{className:"w-6 h-6"}),trend:{value:"+8%",isPositive:!0},color:"green"}),u.jsx(Xo,{title:"",value:e?.totalImpressions.toLocaleString("ru-RU")||"0",icon:u.jsx(LD,{className:"w-6 h-6"}),trend:{value:"+15%",isPositive:!0},color:"purple"}),u.jsx(Xo,{title:"",value:e?.totalConversions.toLocaleString("ru-RU")||"0",icon:u.jsx(RE,{className:"w-6 h-6"}),trend:{value:"+5%",isPositive:!0},color:"orange"}),u.jsx(Xo,{title:"CTR",value:`${e?.avgCtr||"0"}%`,icon:u.jsx(qd,{className:"w-6 h-6"}),trend:{value:"+0.3%",isPositive:!0},color:"cyan"}),u.jsx(Xo,{title:"CPA",value:`${parseFloat(e?.avgCpa||"0").toLocaleString("ru-RU")} `,icon:u.jsx(a_,{className:"w-6 h-6"}),trend:{value:"-18%",isPositive:!0},color:"pink"})]}),u.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100/50 border border-green-200 rounded-lg p-6 shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-green-700 mb-2",children:" "}),u.jsxs("p",{className:"text-4xl font-bold text-green-600",children:[parseFloat(o).toLocaleString("ru-RU")," "]}),u.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["  ",e?.totalClicks||0,"    7 "]})]}),u.jsx("div",{className:"bg-green-100 rounded-full p-4",children:u.jsx(qd,{className:"w-12 h-12 text-green-600"})})]})})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"  "}),u.jsx("p",{className:"text-gray-700 mb-4",children:"    .. ,   ."}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:" "})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),u.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:".  "}),u.jsx("p",{className:"text-gray-700 mb-4",children:"       ."}),u.jsx("a",{href:"/settings",className:"inline-block px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"  "})]})]})}function Xo({title:e,value:t,icon:n,trend:r,color:s}){const i={blue:"from-blue-50 to-blue-100/50 border-blue-200 text-blue-600",green:"from-green-50 to-green-100/50 border-green-200 text-green-600",purple:"from-purple-50 to-purple-100/50 border-purple-200 text-purple-600",orange:"from-orange-50 to-orange-100/50 border-orange-200 text-orange-600",cyan:"from-cyan-50 to-cyan-100/50 border-cyan-200 text-cyan-600",pink:"from-pink-50 to-pink-100/50 border-pink-200 text-pink-600"};return u.jsxs("div",{className:`bg-gradient-to-br ${i[s]} border rounded-lg p-6 shadow-sm`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:e}),n]}),u.jsxs("div",{className:"flex items-end justify-between",children:[u.jsx("span",{className:"text-2xl font-bold text-gray-900",children:t}),r&&u.jsxs("div",{className:`flex items-center space-x-1 text-sm ${r.isPositive?"text-green-600":"text-red-600"}`,children:[r.isPositive?u.jsx(qd,{className:"w-4 h-4"}):u.jsx(CI,{className:"w-4 h-4"}),u.jsx("span",{children:r.value})]})]})]})}function rW(){const[e,t]=q.useState([]),[n,r]=q.useState([]),[s,i]=q.useState(!0);q.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await fetch(wu("/api/analytics"));if(!c.ok)throw new Error(`Failed to load analytics: ${c.status}`);const h=await c.json();t(h.topWastefulQueries??[]),r(h.topExpensiveConversions??[])}catch(c){console.error("Error loading analytics:",c)}finally{i(!1)}};return s?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:""}),u.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start space-x-3 shadow-sm",children:[u.jsx(su,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-yellow-700 mb-1",children:"  "}),u.jsx("p",{className:"text-sm text-gray-700",children:"         .    ."})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("section",{children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[u.jsx(kh,{className:"w-5 h-5 text-red-600"}),u.jsx("h2",{className:"text-xl font-bold",children:"    ( )"})]}),u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:""}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:""}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:""}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:""}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"CTR"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map((c,h)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:c.query}),u.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:c.impressions.toLocaleString("ru-RU")}),u.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:c.clicks.toLocaleString("ru-RU")}),u.jsxs("td",{className:"px-4 py-3 text-sm text-right font-semibold text-red-600",children:[c.cost.toLocaleString("ru-RU")," "]}),u.jsx("td",{className:"px-4 py-3 text-sm text-right text-red-600",children:c.conversions}),u.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:[c.ctr?.toFixed(2),"%"]})]},h))})]})})]}),u.jsxs("section",{children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[u.jsx(su,{className:"w-5 h-5 text-orange-600"}),u.jsx("h2",{className:"text-xl font-bold",children:"   ( CPA)"})]}),u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:""}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:""}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:""}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:""}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"CPA"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map((c,h)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:c.query}),u.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:c.impressions.toLocaleString("ru-RU")}),u.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:c.clicks.toLocaleString("ru-RU")}),u.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:[c.cost.toLocaleString("ru-RU")," "]}),u.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:c.conversions}),u.jsxs("td",{className:"px-4 py-3 text-sm text-right font-semibold text-orange-600",children:[c.cpa?.toLocaleString("ru-RU")," "]})]},h))})]})})]})]})]})}function sW(){const[e,t]=q.useState([]),[n,r]=q.useState(!0),[s,i]=q.useState(!1),[o,c]=q.useState(null);q.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:g,error:v}=await $s.from("recommendations").select("*").eq("account_id","33333333-3333-3333-3333-333333333333").order("priority",{ascending:!1}).order("created_at",{ascending:!1}).limit(20);if(v)throw v;t(g||[])}catch(g){console.error("Error loading recommendations:",g)}finally{r(!1)}},d=async()=>{i(!0);try{const{data:g,error:v}=await $s.functions.invoke("generate-recommendations",{body:{accountId:"33333333-3333-3333-3333-333333333333",dateFrom:new Date(Date.now()-6048e5).toISOString().split("T")[0],dateTo:new Date().toISOString().split("T")[0]}});if(v)throw v;await h()}catch(g){console.error("Error generating recommendations:",g)}finally{i(!1)}},p=async(g,v)=>{c(g);try{const{data:x,error:b}=await $s.functions.invoke("apply-action",{body:{recommendationId:g,mode:v}});if(b)throw b;await h()}catch(x){console.error("Error applying recommendation:",x)}finally{c(null)}};return n?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"  "}),u.jsxs("button",{onClick:d,disabled:s,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 rounded-lg transition-colors flex items-center space-x-2",children:[u.jsx(o_,{className:"w-4 h-4"}),u.jsx("span",{children:s?"...":" "})]})]}),e.length===0?u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-12 text-center shadow-sm",children:[u.jsx(o_,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"  "}),u.jsx("button",{onClick:d,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:" "})]}):u.jsx("div",{className:"space-y-4",children:e.map(g=>u.jsx(iW,{recommendation:g,onApply:p,isApplying:o===g.id},g.id))})]})}function iW({recommendation:e,onApply:t,isApplying:n}){const r={high:"border-red-200 bg-red-50",medium:"border-orange-200 bg-orange-50",low:"border-blue-200 bg-blue-50"},s={proposed:u.jsx(Nh,{className:"w-5 h-5 text-yellow-600"}),approved:u.jsx(Sg,{className:"w-5 h-5 text-green-600"}),sandbox_applied:u.jsx(TD,{className:"w-5 h-5 text-blue-600"}),applied:u.jsx(Sg,{className:"w-5 h-5 text-green-600"})},i={add_negative_keyword:" -",pause_keyword:"   ",optimize_ad:" "};return u.jsxs("div",{className:`border rounded-lg p-6 shadow-sm ${r[e.priority]||r.low}`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[s[e.status],u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:i[e.type]||e.type}),u.jsxs("p",{className:"text-sm text-gray-600",children:[": ",u.jsx("span",{className:"capitalize",children:e.priority})," | : ",u.jsx("span",{className:"capitalize",children:e.status})]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm text-gray-600",children:""}),u.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[e.estimated_saving.toLocaleString("ru-RU")," "]}),u.jsxs("p",{className:"text-xs text-gray-500",children:[": ",e.confidence,"%"]})]})]}),u.jsx("p",{className:"text-gray-700 mb-4",children:e.reason}),e.status==="proposed"&&u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:()=>t(e.id,"sandbox"),disabled:n,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors text-sm",children:n?"...":"  "}),u.jsx("button",{onClick:()=>t(e.id,"production"),disabled:n,className:"px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white rounded-lg transition-colors text-sm",children:"  "})]}),e.status==="sandbox_applied"&&u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-700",children:"  .     24 ."}),e.status==="applied"&&u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 text-sm text-green-700",children:"   ."})]})}function aW(){const[e,t]=q.useState("ecommerce"),[n,r]=q.useState(!1),[s,i]=q.useState(!1),[o,c]=q.useState("checking"),[h,d]=q.useState(null),[p,g]=q.useState(null),[v,x]=q.useState(!1),b=[{value:"ecommerce",label:"E-commerce (-)"},{value:"leadgen",label:"Lead Generation ()"},{value:"brand",label:"Brand (-)"},{value:"local",label:"Local ( )"},{value:"mobile_app",label:"Mobile App ( )"},{value:"b2b",label:"B2B (  )"},{value:"finance",label:"Finance ()"},{value:"travel",label:"Travel ()"}];q.useEffect(()=>{y()},[]);const y=()=>{const C=localStorage.getItem("userId"),N=localStorage.getItem("connectionId"),R=localStorage.getItem("isConnected")==="true";d(C),g(N),i(R),c(R?"connected":"disconnected")},_=()=>{localStorage.setItem("businessType",e),r(!0),setTimeout(()=>r(!1),3e3)},E=async()=>{x(!0);try{const C="https://el6p1zne1dhx.space.minimax.io/callback",{data:N,error:R}=await $s.functions.invoke("oauth-start",{body:{provider:"direct",redirectUri:C}});if(R)throw new Error(R.message||"   OAuth");if(N?.error)throw new Error(N.error.message||" ");if(N?.data?.authUrl)window.location.href=N.data.authUrl;else throw new Error("  URL ")}catch(C){console.error("Connection error:",C),alert(C instanceof Error?C.message:" "),x(!1)}},T=()=>{confirm(" ,    .?")&&(localStorage.removeItem("userId"),localStorage.removeItem("connectionId"),localStorage.removeItem("isConnected"),i(!1),c("disconnected"),d(null),g(null))};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(AE,{className:"w-8 h-8 text-blue-600"}),u.jsx("h1",{className:"text-3xl font-bold",children:""})]}),u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-6 shadow-sm",children:u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:" ."}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),o==="checking"&&u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(hl,{className:"w-4 h-4 text-gray-400 animate-spin"}),u.jsx("span",{className:"text-gray-600",children:" ..."})]}),o==="connected"&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Tx,{className:"w-5 h-5 text-green-600"}),u.jsx("span",{className:"text-green-600 font-medium",children:""})]}),h&&u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsxs("p",{children:["User ID: ",h.slice(0,8),"..."]}),p&&u.jsxs("p",{children:["Connection ID: ",p.slice(0,8),"..."]})]}),u.jsxs("button",{onClick:T,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[u.jsx(jI,{className:"w-4 h-4"}),u.jsx("span",{children:""})]})]}),o==="disconnected"&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(wE,{className:"w-5 h-5 text-gray-400"}),u.jsx("span",{className:"text-gray-600",children:" "})]}),u.jsx("button",{onClick:E,disabled:v,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg transition-all flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:v?u.jsxs(u.Fragment,{children:[u.jsx(hl,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:"..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(NE,{className:"w-5 h-5"}),u.jsx("span",{children:" ."})]})}),u.jsx("p",{className:"text-sm text-gray-600",children:"          ID"})]})]})})]})}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-6 shadow-sm",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:" "}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),u.jsx("select",{value:e,onChange:C=>t(C.target.value),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:b.map(C=>u.jsx("option",{value:C.value,children:C.label},C.value))}),u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"      "})]})})]}),u.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:" "}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" CPA ()"}),u.jsx("input",{type:"number",defaultValue:"1500",className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"    ()"}),u.jsx("input",{type:"number",defaultValue:"2000",className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" CTR (%)"}),u.jsx("input",{type:"number",step:"0.1",defaultValue:"1.5",className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (%)"}),u.jsx("input",{type:"number",step:"0.1",defaultValue:"1.0",className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),u.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[n&&u.jsx("span",{className:"text-green-600 text-sm",children:" "}),u.jsxs("button",{onClick:_,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[u.jsx(kE,{className:"w-4 h-4"}),u.jsx("span",{children:" "})]})]})]}),!s&&u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 shadow-sm",children:[u.jsx("h3",{className:"font-semibold text-blue-700 mb-2",children:"  .?"}),u.jsxs("ol",{className:"text-sm text-gray-700 space-y-1 list-decimal list-inside",children:[u.jsx("li",{children:'  " ."'}),u.jsx("li",{children:"   ID"}),u.jsx("li",{children:"   API ."}),u.jsx("li",{children:"  "})]})]})]})}function oW(){const e=Gs(),[t,n]=q.useState(!1);q.useEffect(()=>{const s=()=>{const i=localStorage.getItem("isConnected")==="true";n(i)};return s(),window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)},[]);const r=s=>e.pathname.endsWith(s);return u.jsx("nav",{className:"bg-white border-b border-gray-200 shadow-sm",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center space-x-8",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(_g,{className:"w-8 h-8 text-blue-600"}),u.jsx("span",{className:"text-xl font-bold text-gray-900",children:". "})]}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsxs(Qo,{to:"dashboard",className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("dashboard")?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[u.jsx(YD,{className:"w-4 h-4"}),u.jsx("span",{children:"Dashboard"})]}),u.jsxs(Qo,{to:"analytics",className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("analytics")?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[u.jsx(qd,{className:"w-4 h-4"}),u.jsx("span",{children:""})]}),u.jsxs(Qo,{to:"recommendations",className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("recommendations")?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[u.jsx(_g,{className:"w-4 h-4"}),u.jsx("span",{children:""})]}),u.jsxs(Qo,{to:"settings",className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("settings")?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[u.jsx(AE,{className:"w-4 h-4"}),u.jsx("span",{children:""})]})]})]}),u.jsx("div",{className:"flex items-center space-x-4",children:t?u.jsxs("div",{className:"px-3 py-1 bg-green-50 text-green-700 rounded-full text-xs font-medium border border-green-200 flex items-center space-x-1",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),u.jsx("span",{children:""})]}):u.jsx("div",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-medium border border-gray-300",children:" "})})]})})})}function lW(){const[e]=m3(),t=gh(),[n,r]=q.useState("processing"),[s,i]=q.useState(" ...");q.useEffect(()=>{o()},[]);const o=async()=>{try{const c=e.get("code"),h=e.get("state"),d=e.get("error");if(d)throw new Error(` : ${d}`);if(!c||!h)throw new Error("  ");i("   ...");const{data:p,error:g}=await $s.functions.invoke("oauth-callback",{body:{code:c,state:h}});if(g)throw new Error(g.message||"     ");if(p?.error)throw new Error(p.error.message||" ");p?.data&&(localStorage.setItem("userId",p.data.userId),localStorage.setItem("connectionId",p.data.connectionId),localStorage.setItem("isConnected","true")),i(" !   ...");const{data:v,error:x}=await $s.from("accounts").select("id").eq("org_id",p.data.userId);if(x||!v||v.length===0){r("success"),i(" !   ."),setTimeout(()=>t("/dashboard"),2e3);return}i(` : ${v.length}.  ...`);const b=v[0].id,y=new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],_=new Date().toISOString().split("T")[0];try{await $s.functions.invoke("sync-direct-data",{body:{accountId:b,dateFrom:y,dateTo:_,reportType:"search-queries"}}),r("success"),i("  !"),localStorage.setItem("lastSyncTime",new Date().toISOString())}catch(E){console.warn("Data sync warning:",E),r("success"),i(" .    .")}setTimeout(()=>{t("/dashboard")},2e3)}catch(c){console.error("OAuth callback error:",c),r("error"),i(c instanceof Error?c.message:" "),setTimeout(()=>{t("/settings")},3e3)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:u.jsxs("div",{className:"text-center",children:[n==="processing"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(hl,{className:"w-16 h-16 mx-auto text-blue-600 animate-spin"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:""}),u.jsx("p",{className:"text-gray-600",children:s})]}),n==="success"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(Tx,{className:"w-16 h-16 mx-auto text-green-600"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"!"}),u.jsx("p",{className:"text-gray-600",children:s}),u.jsx("p",{className:"text-sm text-gray-500",children:"  dashboard..."})]}),n==="error"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(wE,{className:"w-16 h-16 mx-auto text-red-600"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:""}),u.jsx("p",{className:"text-gray-600",children:s}),u.jsx("p",{className:"text-sm text-gray-500",children:"  ..."})]})]})})})}function cW(){return u.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[u.jsx(oW,{}),u.jsx("main",{className:"container mx-auto px-4 py-8",children:u.jsxs(Z2,{children:[u.jsx(ls,{path:"/",element:u.jsx(J2,{to:"dashboard",replace:!0})}),u.jsx(ls,{path:"callback",element:u.jsx(lW,{})}),u.jsx(ls,{path:"dashboard",element:u.jsx(nW,{})}),u.jsx(ls,{path:"analytics",element:u.jsx(rW,{})}),u.jsx(ls,{path:"recommendations",element:u.jsx(sW,{})}),u.jsx(ls,{path:"settings",element:u.jsx(aW,{})})]})})]})}function uW(){return u.jsx(DV,{children:u.jsx(cW,{})})}const fW=Object.freeze(Object.defineProperty({__proto__:null,default:uW},Symbol.toStringTag,{value:"Module"})),dW=wu("/api/wordstat");async function hW(e){try{const t=await e.json();return typeof t=="string"?t:t?.detail?typeof t.detail=="string"?t.detail:JSON.stringify(t.detail):JSON.stringify(t)}catch{try{return await e.text()}catch{return`Wordstat API error (${e.status})`}}}async function DN(e,t){const n=await fetch(`${dW}${e}`,{headers:{"Content-Type":"application/json",...t?.headers??{}},...t});if(!n.ok)throw new Error(await hW(n));return await n.json()}function pW(){return DN("/regions")}function mW(e){return DN("/collect",{method:"POST",body:JSON.stringify(e)})}const Jg=225,gW=({isOpen:e,onClose:t})=>{const n=pt(F=>F.phrases),r=pt(F=>F.selectedPhraseIds),s=pt(F=>F.addLog),i=pt(F=>F.setProcessProgress),o=pt(F=>F.resetProgress),c=pt(F=>F.applyWordstatResults),h=pt(F=>F.loadInitialData),d=Array.isArray(n)?n:[],p=r instanceof Set?r:new Set(Array.isArray(r)?r:[]),[g,v]=ke.useState([]),[x,b]=ke.useState({ws:!0,qws:!1,bws:!1}),[y,_]=ke.useState(()=>new Set([Jg])),[E,T]=ke.useState(!1),[C,N]=ke.useState(!1),[R,P]=ke.useState(null),[j,O]=ke.useState(""),[D,Y]=ke.useState(!1),[Z,z]=ke.useState(null),re=ke.useMemo(()=>Array.from(p),[p]),k=ke.useMemo(()=>{const F=re.length>0?d.filter(ue=>p.has(ue.id)):d,B=new Set;return F.forEach(ue=>{const xe=(ue.text||"").trim();xe&&B.add(xe)}),Array.from(B)},[d,re.length,p]),K=ke.useMemo(()=>Array.from(y),[y]),X=ke.useCallback(async()=>{T(!0);try{const F=await pW();v(F)}catch(F){P(F.message||"    Wordstat.")}finally{T(!1)}},[]);ke.useEffect(()=>{e&&(P(null),X())},[e,X]),ke.useEffect(()=>{e||(N(!1),P(null),o(),O(""),z(null))},[e,o]);const H=re.length>0?` ${re.length}  ${d.length}`:` ${d.length}`,ne=ke.useMemo(()=>{if(!g.length||y.size===0)return[];const F=new Map;return g.forEach(B=>F.set(B.id,B)),Array.from(y).map(B=>F.get(B)).filter(B=>!!B)},[g,y]),se=ke.useMemo(()=>Array.from(new Set(j.split(/\r?\n/).map(F=>F.trim()).filter(Boolean))),[j]),oe=ke.useCallback(async()=>{if(!se.length){P("    .");return}Y(!0),P(null);try{const{inserted:F}=await WE({phrases:se});await h?.(),O(""),z({submitted:se.length,inserted:F}),s("success",`   ${F} ${F!==se.length?` ( ${se.length})`:""}.`)}catch(F){const B=F.message||"   .";P(B),s("error",B)}finally{Y(!1)}},[se,h,s]),M=se.length>0,A=async()=>{if(C)return;if(!x.ws&&!x.qws&&!x.bws){P("     .");return}if(k.length===0){P("   .      .");return}const F=K.length?K:[Jg];N(!0),P(null),i(10,0,k.length);try{const B=await mW({phrases:k,regions:F,modes:x});c(B),await h?.(),i(100,k.length,k.length),s("success",`Wordstat:    ${B.length||0} `),t()}catch(B){const ue=B.message||"     Wordstat.  .";P(ue),s("error",ue)}finally{o(),N(!1)}},U=F=>{b(B=>({...B,[F]:!B[F]}))};return u.jsx(jn,{isOpen:e,onClose:()=>{C||t()},title:"  (Yandex Wordstat)",size:"lg",footer:u.jsxs(u.Fragment,{children:[u.jsx(We,{onClick:t,disabled:C,children:""}),u.jsx(We,{variant:"primary",onClick:A,disabled:C||D||k.length===0||!x.ws&&!x.qws&&!x.bws,icon:C?u.jsx(hl,{className:"w-4 h-4 animate-spin"}):void 0,children:C?"...":" "})]}),children:u.jsxs("div",{className:"space-y-6",children:[R&&u.jsxs("div",{className:"flex items-start gap-2 rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:[u.jsx(Nh,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),u.jsx("span",{children:R})]}),u.jsxs("section",{className:"grid gap-3 sm:grid-cols-3",children:[u.jsxs("div",{className:"rounded-md border border-gray-200 p-3",children:[u.jsx("div",{className:"text-xs uppercase text-gray-500",children:""}),u.jsx("div",{className:"text-lg font-semibold text-gray-900",children:H})]}),u.jsxs("div",{className:"rounded-md border border-gray-200 p-3",children:[u.jsx("div",{className:"text-xs uppercase text-gray-500",children:""}),u.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[y.size||0," ."]})]}),u.jsxs("div",{className:"rounded-md border border-gray-200 p-3",children:[u.jsx("div",{className:"text-xs uppercase text-gray-500",children:" "}),u.jsx("div",{className:"text-lg font-semibold text-gray-900",children:se.length})]})]}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("span",{className:"font-semibold text-gray-800",children:" "})}),u.jsxs("div",{className:"flex flex-wrap gap-4",children:[u.jsx(sr,{checked:x.ws,onChange:()=>U("ws"),label:"WS ( )"}),u.jsx(sr,{checked:x.qws,onChange:()=>U("qws"),label:'"WS" ( )'}),u.jsx(sr,{checked:x.bws,onChange:()=>U("bws"),label:"!WS ()"})]})]}),u.jsxs("section",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"font-semibold text-gray-800",children:" "}),Z&&u.jsxs("span",{className:"text-xs text-gray-500",children:[" : ",Z.inserted,"/",Z.submitted]})]}),u.jsx(nv,{label:"  (   )",rows:5,value:j,onChange:F=>O(F.target.value),placeholder:`  
   
 `}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx(We,{variant:"secondary",onClick:oe,disabled:!M||D,icon:D?u.jsx(hl,{className:"w-4 h-4 animate-spin"}):void 0,children:D?"...":"  "}),u.jsx("span",{className:"text-xs text-gray-500",children:"           ."})]})]}),u.jsxs("section",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[u.jsx(CE,{className:"w-4 h-4 text-gray-500"}),"  "]}),u.jsx(We,{size:"sm",variant:"ghost",icon:u.jsx(Gd,{className:"w-4 h-4"}),onClick:X,disabled:E,children:""})]}),u.jsx(xW,{regions:g,isLoading:E,selected:y,onChange:F=>_(new Set(F))}),ne.length>0&&u.jsxs("div",{className:"flex flex-wrap gap-2",children:[ne.slice(0,6).map(F=>u.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-blue-50 px-3 py-1 text-xs text-blue-700",children:[F.name,u.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>{const B=new Set(y);B.delete(F.id),_(B)},"aria-label":`  ${F.name}`,children:""})]},F.id)),ne.length>6&&u.jsxs("span",{className:"text-xs text-gray-500",children:["+ ",ne.length-6," "]})]})]}),u.jsx("section",{className:"rounded-md border border-blue-100 bg-blue-50 p-4 text-sm text-blue-900",children:u.jsxs("p",{className:"flex items-start gap-2",children:[u.jsx(RE,{className:"w-4 h-4 flex-shrink-0 text-blue-500 mt-0.5"}),u.jsxs("span",{children:["  "," ",u.jsx("strong",{children:re.length>0?`${re.length} `:`${d.length} `})," ",". : ",y.size||1,".      ."]})]})})]})})},xW=({regions:e,selected:t,onChange:n,isLoading:r})=>{const[s,i]=ke.useState(""),[o,c]=ke.useState(new Set),h=ke.useMemo(()=>{const y=new Map,_=new Map,E=new Map;return e.forEach(T=>{const C=T.parentId??null;y.has(C)||y.set(C,[]),y.get(C).push(T),_.set(T.id,T.parentId??null),T.parentId!=null&&(E.has(T.parentId)||E.set(T.parentId,[]),E.get(T.parentId).push(T.id))}),{byParent:y,parent:_,children:E}},[e]);ke.useEffect(()=>{if(!e.length)return;const y=new Set;e.forEach(_=>{_.depth<=1&&_.hasChildren&&y.add(_.id)}),c(y)},[e]);const d=y=>{c(_=>{const E=new Set(_);return E.has(y)?E.delete(y):E.add(y),E})},p=ke.useCallback((y,_)=>{(h.children.get(y)||[]).forEach(T=>{_.delete(T),p(T,_)})},[h.children]),g=ke.useCallback((y,_)=>{let E=h.parent.get(y)??null;for(;E!=null;)_.delete(E),E=h.parent.get(E)??null},[h.parent]),v=(y,_)=>{const E=new Set(t);_?(E.add(y),p(y,E),g(y,E)):E.delete(y),n(E)},x=ke.useMemo(()=>{if(!s.trim())return[];const y=s.trim().toLowerCase();return e.filter(_=>_.name.toLowerCase().includes(y)||_.path.toLowerCase().includes(y))},[e,s]),b=(y,_=0)=>(h.byParent.get(y)||[]).map(T=>{const C=(h.byParent.get(T.id)||[]).length>0,N=o.has(T.id),R=t.has(T.id);return u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 py-1",style:{paddingLeft:_*16},children:[C?u.jsx("button",{type:"button",onClick:()=>d(T.id),className:"flex h-5 w-5 items-center justify-center rounded border border-gray-300 text-xs text-gray-600 hover:bg-gray-100",children:N?"":"+"}):u.jsx("span",{className:"w-5"}),u.jsx(sr,{checked:R,onChange:P=>v(T.id,P.target.checked),label:T.name})]}),C&&N&&u.jsx("div",{children:b(T.id,_+1)})]},T.id)});return u.jsxs("div",{className:"space-y-3 rounded-md border border-gray-200 p-4",children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx(CE,{className:"w-4 h-4 text-gray-500"})," : ",u.jsx("strong",{className:"text-gray-900",children:t.size})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(We,{size:"sm",variant:"ghost",onClick:()=>n(new Set([Jg])),children:" (225)"}),u.jsx(We,{size:"sm",variant:"ghost",onClick:()=>n(new Set([159])),children:" (159)"}),u.jsx(We,{size:"sm",variant:"ghost",onClick:()=>n(new Set([149])),children:" (149)"}),u.jsx(We,{size:"sm",variant:"ghost",onClick:()=>n(new Set),children:""})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Ei,{placeholder:"    ",value:s,onChange:y=>i(y.target.value),className:"pl-9"}),u.jsx(kh,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"})]}),r?u.jsx("div",{className:"h-64 animate-pulse rounded-md bg-gray-100"}):u.jsx("div",{className:"h-64 overflow-y-auto rounded-md border border-gray-200 bg-white",children:s.trim()?x.length>0?x.map(y=>u.jsxs("label",{className:"flex items-center justify-between border-b border-gray-100 px-3 py-2 text-sm last:border-none",children:[u.jsx("span",{children:y.path}),u.jsx(sr,{checked:t.has(y.id),onChange:_=>v(y.id,_.target.checked)})]},y.id)):u.jsx("div",{className:"p-4 text-sm text-gray-500",children:"  ."}):u.jsx("div",{className:"space-y-1 py-2",children:b(null)})})]})},vW=Object.freeze(Object.defineProperty({__proto__:null,WordstatModal:gW},Symbol.toStringTag,{value:"Module"}));
