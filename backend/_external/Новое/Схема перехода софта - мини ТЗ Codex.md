# Мини-ТЗ для Codex: локальный KeySet MVP

## Цель и контекст
- Зафиксировать минимальный рабочий набор для локальной сборки KeySet без зависимости от SaaS-инфраструктуры.
- Основой служит «Схема перехода софта 1.txt» (этапы 2–4, 6–7, блок «ВАЖНО/РЕЗЮМЕ»). Из «Схема перехода софта.txt» берем только полезные заметки про десктоп-агента; серверный SaaS-бэкенд (JWT, Redis, VPS, биллинг, логины) полностью исключаем.

## Обязательные задачи
1. **Роутинг вкладок**  
   - Вкладки: `Аккаунты`, `Маски`, `Прокси`, `Данные`.  
   - Реализовать через lazy-импорт и единый таб-роутер; под каждую вкладку оставить текущие модули, без переписывания логики.

2. **Слой моков**  
   - Поднять локальные моки API: `getAccounts`, `getProxies`, `startParsing`, `getMasks`, `getData`.  
   - Моки возвращают заранее подготовленные JSON-структуры; сохраняем те же типы, что и в прод-коде, чтобы потом заменить на реальные запросы.  
   - Фронт просто читает эти данные и рендерит таблицы/статусы.

3. **Локальный агент**  
   - FastAPI-приложение, работающее офлайн. Минимальный набор эндпоинтов под моки и отдачу фронта.  
   - Без авторизации, без подключения к внешним сервисам, без фоновых очередей.  
   - Можно добавить заглушки под будущие действия (например, `POST /jobs/start`), но без реальной реализации.

4. **Сборка .exe**  
   - PyInstaller-скрипт, который собирает существующий клиент как `dist/KeySet.exe`.  
   - После сборки проверить, что табы открываются и данные из моков подставляются.

## Ограничения и проверки
- «Не переписывать модули» — подключаем существующие компоненты, только оборачиваем их в таб-роутинг и моки.
- Никаких внешних серверов/VPS/входа по логину или токенам.
- Использовать только локальные данные и моки; сеть может быть отключена.
- Все новые файлы сохраняем в UTF-8.
- Перед отдачей результата: запустить агент + UI из моков и убедиться, что базовые сценарии кликабельны.

## Что исключено (переносим в бэклог)
- Любые описания SaaS-бэкенда (JWT, Redis, SQLAlchemy, очереди /jobs/*, billing, домены yourapp.com).
- React-SaaS-frontend с логином/регистрацией, платежами, внешними API.
- Команды деплоя и настройка VPS, Docker-композы для облака.
- Подробные наброски long-polling и будущего desktop-агента оставляем как справку, но не даем Codex в текущем ТЗ.

## Итог
- Codex получает компактное ТЗ: реализовать таб-роутинг, моки, локальный FastAPI-агент и сборку `.exe`, соблюдая ограничения «без серверщины, без авторизации, без переписывания модулей».  
- Детальные серверные части и любые SaaS-описания убраны, чтобы не расходовать токены и не отвлекать от MVP.
