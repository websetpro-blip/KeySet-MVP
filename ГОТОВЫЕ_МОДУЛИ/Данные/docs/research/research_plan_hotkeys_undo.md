# План исследования: Горячие клавиши и Undo/Redo в React

## Цель
Найти оптимальные решения для реализации горячих клавиш и функциональности Undo/Redo в React-приложении KeySet.

## Этапы исследования

### 1. Горячие клавиши
- [x] 1.1. Исследовать react-hotkeys-hook
  - Документация, актуальность (2025) ✅
  - Bundle size: 7.6 kB minified, 2.8 kB gzipped ✅
  - Примеры использования с требуемыми комбинациями ✅
  - Конфликты с браузерными хоткеями ✅

- [x] 1.2. Исследовать react-hotkeys
  - Документация, актуальность ✅ (устарела, последнее обновление 6 лет назад)
  - Bundle size: 1.24 MB unpacked ✅
  - Примеры использования ✅
  - Конфликты с браузерными хоткеями ✅

- [x] 1.3. Анализ проблем библиотек
  - Изучена статья о проблемах JS keyboard libraries ✅
  - Рекомендации по использованию key vs code ✅

- [x] 1.4. Тестирование конфликтов с браузерными комбинациями
  - Ctrl+A, Ctrl+C, Ctrl+V, Ctrl+F ✅
  - Ctrl+Z, Ctrl+Y ✅
  - Delete, F2 ✅

### 2. Undo/Redo
- [x] 2.1. Исследовать use-undo
  - Документация, актуальность ✅ (последнее обновление 3 года назад)
  - Bundle size: 22.7 kB unpacked ✅
  - Интеграция с state management ✅
  - Примеры с массивами данных ✅

- [x] 2.2. Исследовать immer + кастомная логика
  - Производительность с immer ✅
  - Размер стека истории ✅
  - Примеры реализации с patches ✅

- [x] 2.3. Кастомный стек команд (Command Pattern)
  - Реализация паттерна ✅
  - Примеры для действий: удаление фраз, создание/удаление групп, редактирование ✅
  - Lightweight реализация в TypeScript ✅

### 3. Практическое тестирование
- [x] 3.1. Создать тестовые примеры для каждого решения ✅
- [x] 3.2. Измерить bundle size ✅
- [x] 3.3. Проверить производительность ✅

### 4. Сравнительный анализ
- [x] 4.1. Таблица сравнения решений для hotkeys ✅
- [x] 4.2. Таблица сравнения решений для undo/redo ✅
- [x] 4.3. Рекомендации по интеграции ✅

### 5. Финальный отчет
- [x] 5.1. Написать отчет с рекомендациями ✅
- [x] 5.2. Примеры кода для выбранных решений ✅
- [x] 5.3. Сохранить в docs/research/hotkeys_undo.md ✅

## Итоговые рекомендации

**Горячие клавиши**: react-hotkeys-hook v5.2.1
- Размер: 2.8 kB gzipped
- Активно поддерживается (обновлено 17 дней назад)
- 1.5M+ загрузок в неделю
- Полная TypeScript поддержка

**Undo/Redo**: Command Pattern + TypeScript
- Легковесный (~5-7 kB кастомного кода)
- Эффективен по памяти
- Идеален для сложных операций
- Полный контроль и расширяемость

**Альтернатива**: Immer с patches для простых случаев (+14 kB gzipped)
