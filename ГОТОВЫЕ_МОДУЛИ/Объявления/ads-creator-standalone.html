<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ–±—ä—è–≤–ª–µ–Ω–∏–π –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç</title>

  <!-- React –∏ ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <!-- Babel Standalone –¥–ª—è JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
        sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .ads-app {
      display: flex;
      flex-direction: column;
      height: 100vh;
      background-color: #f5f5f5;
      overflow: hidden;
    }

    .ads-header {
      padding: 20px 30px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .ads-header h1 {
      margin: 0;
      font-size: 24px;
      font-weight: 600;
    }

    .ads-subtitle {
      margin: 5px 0 0 0;
      opacity: 0.9;
      font-size: 14px;
    }

    .ads-content {
      display: flex;
      flex: 1;
      gap: 20px;
      padding: 20px;
      overflow: hidden;
    }

    /* –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å */
    .ads-sidebar {
      width: 350px;
      display: flex;
      flex-direction: column;
      gap: 15px;
      overflow-y: auto;
    }

    .ads-section {
      background: white;
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .ads-section h2 {
      margin: 0 0 15px 0;
      font-size: 16px;
      font-weight: 600;
      color: #333;
    }

    .ads-section label {
      display: block;
      font-size: 12px;
      font-weight: 600;
      color: #666;
      margin-bottom: 4px;
    }

    .ads-input,
    .ads-textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
      font-family: inherit;
      background-color: white;
      margin-bottom: 10px;
    }

    .ads-textarea {
      resize: vertical;
      min-height: 80px;
    }

    .ads-hint {
      font-size: 11px;
      color: #999;
      margin-top: -5px;
      margin-bottom: 10px;
    }

    /* –ö–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ */
    .btn-generate {
      width: 100%;
      padding: 14px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }

    .btn-generate:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(102, 126, 234, 0.4);
    }

    .btn-generate:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    /* –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å */
    .ads-main {
      flex: 1;
      display: flex;
      flex-direction: column;
      background: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .ads-toolbar {
      padding: 15px 20px;
      border-bottom: 1px solid #e0e0e0;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .ads-toolbar h2 {
      margin: 0;
      font-size: 16px;
      font-weight: 600;
      color: #333;
    }

    .toolbar-actions {
      display: flex;
      gap: 10px;
    }

    .btn {
      padding: 8px 16px;
      border: 1px solid #ddd;
      border-radius: 6px;
      background: white;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn:hover:not(:disabled) {
      background: #f5f5f5;
      border-color: #999;
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .btn-primary {
      background: #667eea;
      color: white;
      border-color: #667eea;
    }

    .btn-primary:hover:not(:disabled) {
      background: #5568d3;
      border-color: #5568d3;
    }

    /* –°–ø–∏—Å–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π */
    .ads-list {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
    }

    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: #999;
    }

    .empty-state p {
      margin: 10px 0;
      font-size: 16px;
    }

    .empty-hint {
      font-size: 14px !important;
      color: #bbb;
    }

    /* –ö–∞—Ä—Ç–æ—á–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è */
    .ad-card {
      background: white;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      transition: all 0.2s;
      cursor: pointer;
    }

    .ad-card:hover {
      border-color: #667eea;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
    }

    .ad-card.selected {
      border-color: #667eea;
      background: #f8f9ff;
    }

    .ad-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
      padding-bottom: 10px;
      border-bottom: 1px solid #f0f0f0;
    }

    .ad-phrase {
      flex: 1;
      font-size: 13px;
      font-weight: 600;
      color: #667eea;
    }

    .ad-body {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .ad-title1 {
      font-size: 16px;
      font-weight: 600;
      color: #1a73e8;
    }

    .ad-title2 {
      font-size: 14px;
      font-weight: 500;
      color: #5f6368;
    }

    .ad-text {
      font-size: 13px;
      color: #333;
      line-height: 1.5;
    }

    .ad-url {
      font-size: 12px;
      color: #188038;
      font-weight: 500;
    }

    /* Scrollbar styles */
    .ads-sidebar::-webkit-scrollbar,
    .ads-list::-webkit-scrollbar {
      width: 8px;
    }

    .ads-sidebar::-webkit-scrollbar-track,
    .ads-list::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 4px;
    }

    .ads-sidebar::-webkit-scrollbar-thumb,
    .ads-list::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 4px;
    }

    .ads-sidebar::-webkit-scrollbar-thumb:hover,
    .ads-list::-webkit-scrollbar-thumb:hover {
      background: #555;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useMemo } = React;

    // –ü—Ä–æ—Å—Ç—ã–µ –ª–∏–º–∏—Ç—ã –ø–æ–¥ –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç
    const LIMITS = {
      h1: 56,
      h2: 56,
      body: 81,
    };

    // –£—Ç–∏–ª–∏—Ç—ã
    const clip = (str, limit) => {
      const s = (str || "").trim();
      if (!s) return "";
      if (s.length <= limit) return s;
      return s.slice(0, limit - 1) + "‚Ä¶";
    };

    const normalizeDomain = (value) => {
      if (!value) return "";
      let d = value.trim();
      d = d.replace(/^https?:\/\//i, "");
      d = d.replace(/\/+$/g, "");
      return d;
    };

    const buildUrl = (domain, utmTemplate, key) => {
      const cleanDomain = normalizeDomain(domain) || "example.com";
      let url = cleanDomain.startsWith("http") ? cleanDomain : `https://${cleanDomain}`;

      const group = key.slice(0, 40);
      const encodedKey = encodeURIComponent(key);
      const encodedGroup = encodeURIComponent(group);

      let q = (utmTemplate || "").trim();
      if (q) {
        q = q.replace(/\{key}/g, encodedKey).replace(/\{group}/g, encodedGroup);
        url += (url.includes("?")) ? "&" : "?";
        url += q;
      }
      return url;
    };

    const splitKeyToBaseH1H2 = (key) => {
      const words = (key || "").trim().split(/\s+/).filter(Boolean);
      if (!words.length) return { h1Base: "", h2Base: "" };

      let h1 = "";
      let idx = 0;
      for (; idx < words.length; idx++) {
        const candidate = h1 ? `${h1} ${words[idx]}` : words[idx];
        if (candidate.length <= LIMITS.h1) {
          h1 = candidate;
        } else {
          break;
        }
      }

      const rest = words.slice(idx).join(" ");
      return { h1Base: clip(h1 || key, LIMITS.h1), h2Base: rest };
    };

    const chooseAddonForH2 = (h2Base, addons) => {
      const base = (h2Base || "").trim();
      const list = (addons || []).map((s) => s.trim()).filter(Boolean);

      if (!list.length && base) {
        return clip(base, LIMITS.h2);
      }
      if (!list.length) return "";

      const candidate = list.find((a) => a.length <= LIMITS.h2) || list[0];
      return clip(candidate, LIMITS.h2);
    };

    const chooseBodyText = (variants) => {
      const list = (variants || []).map((s) => s.trim()).filter(Boolean);
      if (!list.length) return "";

      let best = "";
      list.forEach((t) => {
        if (t.length <= LIMITS.body && t.length > best.length) {
          best = t;
        }
      });

      if (best) return best;
      return clip(list[0], LIMITS.body);
    };

    const copyToClipboard = async (text) => {
      try {
        if (navigator.clipboard && window.isSecureContext) {
          await navigator.clipboard.writeText(text);
        } else {
          const ta = document.createElement("textarea");
          ta.value = text;
          document.body.appendChild(ta);
          ta.select();
          document.execCommand("copy");
          document.body.removeChild(ta);
        }
        alert("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞");
      } catch (e) {
        console.error(e);
        alert("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –≤–æ—Å–ø–æ–ª—å–∑—É–π—Å—è Ctrl+C");
      }
    };

    const exportCsv = (rows) => {
      if (!rows.length) {
        alert("–ù–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞");
        return;
      }

      const sep = ";";
      const header = [
        "–ö–∞–º–ø–∞–Ω–∏—è",
        "–ì—Ä—É–ø–ø–∞",
        "–ö–ª—é—á–µ–≤–∞—è —Ñ—Ä–∞–∑–∞",
        "–ó–∞–≥–æ–ª–æ–≤–æ–∫ 1",
        "–ó–∞–≥–æ–ª–æ–≤–æ–∫ 2",
        "–¢–µ–∫—Å—Ç",
        "–°—Å—ã–ª–∫–∞",
        "–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è —Å—Å—ã–ª–∫–∞",
      ];

      const camp = "AUTO-" + new Date().toISOString().slice(0, 10);

      const csvEsc = (s) => {
        const v = (s ?? "").toString();
        return /[;"\n]/.test(v) ? `"${v.replace(/"/g, '""')}"` : v;
      };

      const lines = [header.join(sep)];

      rows.forEach((r) => {
        const display = normalizeDomain(r.url.split("?")[0]) + (r.path ? `/${r.path.replace(/^\/+/, "")}` : "");

        const vals = [
          camp,
          r.group || r.key.slice(0, 80),
          r.key,
          r.h1,
          r.h2,
          r.text,
          r.url,
          display,
        ].map(csvEsc);

        lines.push(vals.join(sep));
      });

      const blob = new Blob([String.fromCharCode(65279) + lines.join("\n")], {
        type: "text/csv;charset=utf-8",
      });
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = `yandex_ads_${Date.now()}.csv`;
      a.click();
      URL.revokeObjectURL(a.href);
    };

    // –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    function AdsCreatorApp() {
      // –í–≤–æ–¥ –∫–ª—é—á–µ–π
      const [keysInput, setKeysInput] = useState("");
      const [groupId, setGroupId] = useState("");
      const [domain, setDomain] = useState("nordkor.ru");
      const [utm, setUtm] = useState(
        "utm_source=yandex&utm_medium=cpc&utm_campaign={group}&utm_term={key}"
      );

      // –ü—Ä–∏–±–∞–≤–∫–∏ –∏ —Ç–µ–∫—Å—Ç—ã
      const [addonsInput, setAddonsInput] = useState(
        "—Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥ –∫–ª—é—á –∑–∞ 70 190—Ä!\n–æ–±–µ–∑–∂–µ–ª–µ–∑–∏–≤–∞—Ç–µ–ª–∏ –æ—Ç 16 990—Ä!\n—Ñ–∏–ª—å—Ç—Ä—ã –æ—Ç 16 990—Ä!\n–≤—Å–µ–≥–æ –∑–∞ 16 990—Ä!"
      );
      const [bodyVariantsInput, setBodyVariantsInput] = useState(
        "–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ 5 –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ —É–∑–Ω–∞–π—Ç–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –æ—á–∏—Å—Ç–∫–∏ –≤–æ–¥—ã!"
      );

      const [rows, setRows] = useState([]);
      const [selectedIndex, setSelectedIndex] = useState(0);

      const keyList = useMemo(
        () => [
          ...new Set(
            keysInput
              .split(/\r?\n/)
              .map((s) => s.trim())
              .filter(Boolean)
          ),
        ],
        [keysInput]
      );

      const addons = useMemo(
        () =>
          addonsInput
            .split(/\r?\n/)
            .map((s) => s.trim())
            .filter(Boolean),
        [addonsInput]
      );

      const bodyVariants = useMemo(
        () =>
          bodyVariantsInput
            .split(/\r?\n/)
            .map((s) => s.trim())
            .filter(Boolean),
        [bodyVariantsInput]
      );

      const handleGenerate = () => {
        if (!keyList.length) {
          alert("–°–Ω–∞—á–∞–ª–∞ –≤—Å—Ç–∞–≤—å –∫–ª—é—á–µ–≤—ã–µ —Ñ—Ä–∞–∑—ã");
          return;
        }

        const text = chooseBodyText(bodyVariants);

        const newRows = keyList.map((key, idx) => {
          const { h1Base, h2Base } = splitKeyToBaseH1H2(key);
          const h2 = chooseAddonForH2(h2Base, addons);
          const url = buildUrl(domain, utm, key);

          return {
            key,
            group: groupId || `grp-${idx + 1}`,
            h1: h1Base,
            h2,
            text,
            url,
            path: "",
          };
        });

        setRows(newRows);
        setSelectedIndex(0);
      };

      const handleCopyTSV = () => {
        if (!rows.length) {
          alert("–ù–µ—Ç —Å—Ç—Ä–æ–∫ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è");
          return;
        }
        const header = ["–ö–ª—é—á", "H1", "H2", "–¢–µ–∫—Å—Ç", "URL", "–ü—É—Ç—å"];
        const esc = (s) =>
          (s ?? "").toString().replace(/\t/g, " ").replace(/\r?\n/g, " ");

        const lines = [header.join("\t")];
        rows.forEach((r) => {
          lines.push(
            [r.key, r.h1, r.h2, r.text, r.url, r.path]
              .map(esc)
              .join("\t")
          );
        });
        copyToClipboard(lines.join("\n"));
      };

      return (
        <div className="ads-app">
          <div className="ads-header">
            <h1>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ–±—ä—è–≤–ª–µ–Ω–∏–π –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç</h1>
            <div className="ads-subtitle">
              –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö —Ñ—Ä–∞–∑
            </div>
          </div>

          <div className="ads-content">
            {/* –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ */}
            <div className="ads-sidebar">
              {/* –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ */}
              <div className="ads-section">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ URL</h2>
                <label>–î–æ–º–µ–Ω / –ª–µ–Ω–¥–∏–Ω–≥</label>
                <input
                  className="ads-input"
                  placeholder="example.com"
                  value={domain}
                  onChange={(e) => setDomain(e.target.value)}
                />

                <label>UTM-—à–∞–±–ª–æ–Ω</label>
                <input
                  className="ads-input"
                  placeholder="utm_source=yandex&utm_term={key}"
                  value={utm}
                  onChange={(e) => setUtm(e.target.value)}
                />
                <div className="ads-hint">
                  –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ {"{key}"} –∏ {"{group}"} –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏
                </div>

                <label>ID –≥—Ä—É–ø–ø—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
                <input
                  className="ads-input"
                  placeholder="grp-1, grp-2 ..."
                  value={groupId}
                  onChange={(e) => setGroupId(e.target.value)}
                />
              </div>

              {/* –ü—Ä–∏–±–∞–≤–∫–∏ –∫ H2 */}
              <div className="ads-section">
                <h2>–ü—Ä–∏–±–∞–≤–∫–∏ –∫ –∑–∞–≥–æ–ª–æ–≤–∫—É ‚Ññ2</h2>
                <textarea
                  className="ads-textarea"
                  placeholder="–≤—Å–µ–≥–æ –∑–∞ 16 990—Ä!&#10;–ø–æ–¥ –∫–ª—é—á –∑–∞ 70 190—Ä!&#10;–æ—Ç 16 990—Ä!"
                  value={addonsInput}
                  onChange={(e) => setAddonsInput(e.target.value)}
                />
                <div className="ads-hint">
                  –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è –ø—Ä–∏–±–∞–≤–∫–∞ (–¥–æ {LIMITS.h2} —Å–∏–º–≤.)
                </div>
              </div>

              {/* –¢–µ–∫—Å—Ç—ã –æ–±—ä—è–≤–ª–µ–Ω–∏–π */}
              <div className="ads-section">
                <h2>–¢–µ–∫—Å—Ç—ã –æ–±—ä—è–≤–ª–µ–Ω–∏–π</h2>
                <textarea
                  className="ads-textarea"
                  placeholder="–£–∑–Ω–∞–π—Ç–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –∑–∞ 1 –º–∏–Ω—É—Ç—É!&#10;–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ 5 –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ä–∞—Å—á—ë—Ç."
                  value={bodyVariantsInput}
                  onChange={(e) => setBodyVariantsInput(e.target.value)}
                />
                <div className="ads-hint">
                  –í–∞—Ä–∏–∞–Ω—Ç—ã —Ç–µ–∫—Å—Ç–∞ (–¥–æ {LIMITS.body} —Å–∏–º–≤.). –í—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–∞–º—ã–π –¥–ª–∏–Ω–Ω—ã–π.
                </div>
              </div>

              {/* –ö–ª—é—á–µ–≤—ã–µ —Ñ—Ä–∞–∑—ã */}
              <div className="ads-section">
                <h2>–ö–ª—é—á–µ–≤—ã–µ —Ñ—Ä–∞–∑—ã</h2>
                <label>–í—Å—Ç–∞–≤—å—Ç–µ —Ñ—Ä–∞–∑—ã (–ø–æ –æ–¥–Ω–æ–π –Ω–∞ —Å—Ç—Ä–æ–∫—É)</label>
                <textarea
                  className="ads-textarea"
                  style={{ minHeight: "120px" }}
                  placeholder="—Ñ–∏–ª—å—Ç—Ä –¥–ª—è –≤–æ–¥—ã –∫—É–ø–∏—Ç—å&#10;—Å–∏—Å—Ç–µ–º–∞ –æ—á–∏—Å—Ç–∫–∏ –≤–æ–¥—ã&#10;–æ–±–µ–∑–∂–µ–ª–µ–∑–∏–≤–∞—Ç–µ–ª—å –≤–æ–¥—ã"
                  value={keysInput}
                  onChange={(e) => setKeysInput(e.target.value)}
                />
                <div className="ads-hint">
                  –§—Ä–∞–∑: {keyList.length}. –î—É–±–ª–∏–∫–∞—Ç—ã –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.
                </div>
              </div>

              {/* –ö–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ */}
              <button
                className="btn-generate"
                onClick={handleGenerate}
                disabled={!keyList.length}
              >
                üöÄ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è
              </button>
            </div>

            {/* –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ */}
            <div className="ads-main">
              <div className="ads-toolbar">
                <h2>–û–±—ä—è–≤–ª–µ–Ω–∏—è ({rows.length})</h2>
                <div className="toolbar-actions">
                  <button
                    className="btn"
                    onClick={handleCopyTSV}
                    disabled={!rows.length}
                  >
                    üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å TSV
                  </button>
                  <button
                    className="btn btn-primary"
                    onClick={() => exportCsv(rows)}
                    disabled={!rows.length}
                  >
                    üíæ –≠–∫—Å–ø–æ—Ä—Ç CSV
                  </button>
                </div>
              </div>

              <div className="ads-list">
                {rows.length === 0 ? (
                  <div className="empty-state">
                    <p>üìù –û–±—ä—è–≤–ª–µ–Ω–∏—è –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω—ã</p>
                    <p className="empty-hint">
                      –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–ª–µ–≤–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è"
                    </p>
                  </div>
                ) : (
                  rows.map((r, idx) => (
                    <div
                      key={idx}
                      className={`ad-card ${idx === selectedIndex ? "selected" : ""}`}
                      onClick={() => setSelectedIndex(idx)}
                    >
                      <div className="ad-header">
                        <div className="ad-phrase">{r.key}</div>
                      </div>
                      <div className="ad-body">
                        <div className="ad-title1">
                          {r.h1}
                          {r.h2 && ` ‚Äî ${r.h2}`}
                        </div>
                        <div className="ad-url">
                          {normalizeDomain(r.url.split("?")[0])}
                          {r.path && `/${r.path.replace(/^\/+/, "")}`}
                        </div>
                        <div className="ad-text">{r.text}</div>
                      </div>
                    </div>
                  ))
                )}
              </div>
            </div>
          </div>
        </div>
      );
    }

    // –†–µ–Ω–¥–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<AdsCreatorApp />);
  </script>
</body>
</html>
