# –ê–ù–ê–õ–ò–ó –í–ö–õ–ê–î–ö–ò –ê–ö–ö–ê–£–ù–¢–´ - –ê–ù–¢–ò–î–ï–¢–ï–ö–¢ –°–ò–°–¢–ï–ú–ê

## –†–ï–ó–Æ–ú–ï

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è: 40% –æ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –∞–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ç–∞**

### ‚úÖ –ß–¢–û –£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢ (40%):
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –º–æ–¥–µ–ª—è–º–∏ Account –∏ Proxy ‚úÖ
- REST API endpoints –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π ‚úÖ
- UI —Å 5 –≤–∫–ª–∞–¥–∫–∞–º–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–û—Å–Ω–æ–≤–Ω–æ–µ, –°–µ—Ç—å, Fingerprint, –ö–∞–ø—á–∞, –ü—Ä–æ–∫—Å–∏) ‚úÖ
- –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–∫—Å–∏ —Å 5 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ ‚úÖ
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ ‚úÖ
- –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∏ fingerprint (–†–æ—Å—Å–∏—è/–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω) ‚úÖ
- LocalStorage –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ‚úÖ
- –í–∞–ª–∏–¥–∞—Ü–∏—è email –∏ –ø—Ä–æ–∫—Å–∏ ‚úÖ
- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ‚úÖ

### ‚ùå –ß–¢–û –ö–†–ò–¢–ò–ß–ù–û –ù–ï –•–í–ê–¢–ê–ï–¢ (60%):

#### üî• –ü–†–ò–û–†–ò–¢–ï–¢ 1 - –û–±—Ö–æ–¥ –±–∞–Ω–æ–≤ –Ø–Ω–¥–µ–∫—Å–∞:
1. **Canvas/WebGL/AudioContext —Ä–µ–∞–ª—å–Ω—ã–π —Å–ø—É—Ñ–∏–Ω–≥** (20%)
   - –°–µ–π—á–∞—Å: —Ç–æ–ª—å–∫–æ —á–µ–∫–±–æ–∫—Å—ã –≤ UI, –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π –ø–æ–¥–º–µ–Ω—ã
   - –ù—É–∂–Ω–æ: –∏–Ω–∂–µ–∫—Ç —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤ –±—Ä–∞—É–∑–µ—Ä —á–µ—Ä–µ–∑ CDP

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Playwright/–±—Ä–∞—É–∑–µ—Ä–æ–º** (15%)
   - –°–µ–π—á–∞—Å: endpoint `/api/accounts/{id}/launch` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç mock
   - –ù—É–∂–Ω–æ: —Ä–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ Chrome —Å –∞–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

3. **–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è fingerprints** (10%)
   - –°–µ–π—á–∞—Å: –∫–Ω–æ–ø–∫–∞ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å" –Ω–µ –¥–µ–ª–∞–µ—Ç –Ω–∏—á–µ–≥–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ
   - –ù—É–∂–Ω–æ: –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö User-Agent, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –æ—Ç–ø–µ—á–∞—Ç–∫–æ–≤

4. **Timezone/Locale –ø–æ IP –ø—Ä–æ–∫—Å–∏** (5%)
   - –°–µ–π—á–∞—Å: —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä timezone
   - –ù—É–∂–Ω–æ: –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ geolocation API

#### ‚ö†Ô∏è –ü–†–ò–û–†–ò–¢–ï–¢ 2 - –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:
5. Chrome Profile Isolation (5%)
6. Cookies Import/Export UI (3%)
7. WebRTC Leak Protection (2%)

---

## 1. –ß–¢–û –£–ñ–ï –ï–°–¢–¨ (–¥–µ—Ç–∞–ª—å–Ω–æ)

### Backend (–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ API)

**–§–∞–π–ª: `backend/db.py`**
- **–°—Ç—Ä–æ–∫–∏ 33-72**: –ú–æ–¥–µ–ª—å `Account`:
  ```python
  id, name, profile_path, proxy, proxy_id, proxy_strategy,
  cookies, captcha_key, status, captcha_tries,
  created_at, updated_at, last_used_at, cooldown_until, notes
  ```

- **–°—Ç—Ä–æ–∫–∏ 141-168**: –ú–æ–¥–µ–ª—å `Proxy`:
  ```python
  id, host, port, username, password, proxy_type,
  status, country, speed_ms, created_at, updated_at, last_checked_at
  ```

**–§–∞–π–ª: `backend/main.py`**
- **–°—Ç—Ä–æ–∫–∏ 146-200**: Accounts CRUD endpoints
- **–°—Ç—Ä–æ–∫–∏ 315-360**: Proxy endpoints (list, test, parse)

### Frontend (React UI)

**–§–∞–π–ª: `frontend/src/modules/accounts/types.ts`**
```typescript
interface Account {
  email: string;
  password: string;
  profilePath?: string;
  proxy?: string;
  fingerprint: FingerprintPreset;  // russia_standard/kazakhstan_standard/no_spoofing
}
```

**–§–∞–π–ª: `frontend/src/modules/accounts/components/AccountSidebar.tsx`**
- **5 –≤–∫–ª–∞–¥–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫:**
  1. –û—Å–Ω–æ–≤–Ω–æ–µ - email, –ø–∞—Ä–æ–ª—å, –ø—Ä–æ—Ñ–∏–ª—å Chrome
  2. –°–µ—Ç—å - –ø—Ä–æ–∫—Å–∏ (HTTP/HTTPS/SOCKS5), —Ç–µ—Å—Ç
  3. Fingerprint - User-Agent, timezone, locale, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ, —á–µ–∫–±–æ–∫—Å—ã Canvas/WebGL/Audio
  4. –ö–∞–ø—á–∞ - —Å–µ—Ä–≤–∏—Å, API –∫–ª—é—á
  5. –ú–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ–∫—Å–∏ - –ø–∞—Ä—Å–∏–Ω–≥, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–æ—Ç–∞—Ü–∏—è

### –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥ (legacy)

**–§–∞–π–ª: `–ì–û–¢–û–í–´–ï_–ú–û–î–£–õ–ò/–∞–∫–∫–∞—É–Ω—Ç—ã/keyset-v2-fixed/script.js`**
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ 16/16 —Ñ—É–Ω–∫—Ü–∏–π:**
  - –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–∫—Å–∏ —Å 5 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ —á–µ—Ä–µ–∑ API
  - Fingerprint –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∏
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ fingerprint (mock)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ CreepJS (mock)
  - LocalStorage –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
  - –í–∞–ª–∏–¥–∞—Ü–∏—è email/proxy
  - Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

## 2. –ß–¢–û –ù–ï –•–í–ê–¢–ê–ï–¢ (–∫—Ä–∏—Ç–∏—á–Ω–æ)

### üî• Canvas Fingerprinting - –ù–ï–¢ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å—Ç—å —á–µ–∫–±–æ–∫—Å "Canvas —Å–ø—É—Ñ–∏–Ω–≥" –≤ UI
- –ù–û: –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø–æ–¥–º–µ–Ω—ã canvas –æ—Ç–ø–µ—á–∞—Ç–∫–æ–≤
- –Ø–Ω–¥–µ–∫—Å –¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ canvas —Å –æ–¥–Ω–æ–≥–æ IP = –±–∞–Ω

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
```javascript
// –ò–Ω–∂–µ–∫—Ç –≤ –±—Ä–∞—É–∑–µ—Ä —á–µ—Ä–µ–∑ CDP
const CANVAS_NOISE_SCRIPT = `
(function() {
  const originalToDataURL = HTMLCanvasElement.prototype.toDataURL;
  const noise = %NOISE_SEED%;  // –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ

  HTMLCanvasElement.prototype.toDataURL = function() {
    const ctx = this.getContext('2d');
    const imageData = ctx.getImageData(0, 0, this.width, this.height);
    for (let i = 0; i < imageData.data.length; i += 4) {
      imageData.data[i] = imageData.data[i] + noise;
    }
    ctx.putImageData(imageData, 0, 0);
    return originalToDataURL.apply(this, arguments);
  };
})();
`;
```

**–§–∞–π–ª—ã –¥–ª—è –ø—Ä–∞–≤–∫–∏:**
- –°–æ–∑–¥–∞—Ç—å `backend/fingerprint_injector.py`
- –°–æ–∑–¥–∞—Ç—å `backend/browser_launcher.py`
- –ò–∑–º–µ–Ω–∏—Ç—å `backend/main.py` —Å—Ç—Ä–æ–∫–∞ 203-216

---

### üî• WebGL Fingerprinting - –ù–ï–¢ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –Ø–Ω–¥–µ–∫—Å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç WebGL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (vendor, renderer)
- –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–∞ –Ω–∞ –≤—Å–µ—Ö "—Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö" = –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
```javascript
const WEBGL_SPOOF_SCRIPT = `
(function() {
  const getParameter = WebGLRenderingContext.prototype.getParameter;
  WebGLRenderingContext.prototype.getParameter = function(parameter) {
    if (parameter === 37445) return '%VENDOR%';  // Intel/NVIDIA/AMD
    if (parameter === 37446) return '%RENDERER%';  // –ú–æ–¥–µ–ª—å GPU
    return getParameter.apply(this, arguments);
  };
})();
`;
```

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö vendors:**
```python
WEBGL_VENDORS = [
    ("Google Inc. (Intel)", "ANGLE (Intel, Intel(R) UHD Graphics 620)"),
    ("Google Inc. (NVIDIA)", "ANGLE (NVIDIA, NVIDIA GeForce GTX 1650)"),
    ("Google Inc. (AMD)", "ANGLE (AMD, AMD Radeon RX 5700)"),
]
```

---

### üî• Browser Automation - –ó–ê–ì–õ–£–®–ö–ê

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
# backend/main.py —Å—Ç—Ä–æ–∫–∞ 203-216
@app.post("/api/accounts/{id}/launch")
def launch_account(account_id: int):
    # TODO: Integrate with playwright/browser launcher
    return {"status": "launched", "message": "Browser launched"}  # MOCK!
```

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
```python
# backend/browser_launcher.py
from playwright.async_api import async_playwright

async def launch_account_browser(account: Account, fingerprint: dict):
    async with async_playwright() as p:
        browser = await p.chromium.launch_persistent_context(
            user_data_dir=account.profile_path,
            headless=False,
            proxy={"server": account.proxy},
            viewport={"width": fingerprint["screen"]["width"],
                      "height": fingerprint["screen"]["height"]},
            user_agent=fingerprint["user_agent"],
            timezone_id=fingerprint["timezone"],
            locale=fingerprint["locale"],
        )

        # –ò–Ω–∂–µ–∫—Ç –∞–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ç —Å–∫—Ä–∏–ø—Ç–æ–≤
        page = await browser.new_page()
        await page.add_init_script(CANVAS_NOISE_SCRIPT.replace('%NOISE_SEED%', str(fingerprint["canvas_noise"])))
        await page.add_init_script(WEBGL_SPOOF_SCRIPT.replace('%VENDOR%', fingerprint["webgl_vendor"]))
        await page.goto("https://wordstat.yandex.ru")

        return browser
```

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
pip install playwright
playwright install chromium
```

---

### üî• User-Agent –≥–µ–Ω–µ—Ä–∞—Ü–∏—è - –ß–ê–°–¢–ò–ß–ù–û

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å—Ç—å –ø–æ–ª–µ –≤–≤–æ–¥–∞ User-Agent
- –ù–û: –Ω–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö UA
- –ù–û: –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è UA –∏ WebGL/Platform

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
```python
# backend/user_agents.py
import random

CHROME_VERSIONS = range(120, 125)  # –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ
WINDOWS_VERSIONS = ["10.0", "11.0"]

def generate_russian_ua() -> str:
    chrome = random.choice(CHROME_VERSIONS)
    win = random.choice(WINDOWS_VERSIONS)
    return f"Mozilla/5.0 (Windows NT {win}; Win64; x64) AppleWebKit/537.36 Chrome/{chrome}.0.0.0 Safari/537.36"

def validate_ua_consistency(ua: str, platform: str, webgl: str) -> bool:
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π
    if "Windows" in ua and "Linux" in platform:
        return False  # –ù–ï–°–û–û–¢–í–ï–¢–°–¢–í–ò–ï
    return True
```

---

### üî• Timezone/Locale - –†–£–ß–ù–û–ô –í–í–û–î

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Timezone –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é
- –ú–æ–∂–µ—Ç –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å IP –ø—Ä–æ–∫—Å–∏
- –Ø–Ω–¥–µ–∫—Å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç: timezone RU + IP Kazakhstan = –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
```python
# backend/geolocation.py
import httpx

async def get_proxy_geolocation(proxy_url: str) -> dict:
    async with httpx.AsyncClient(proxies=proxy_url) as client:
        response = await client.get('https://ipapi.co/json/')
        data = response.json()
        return {
            "timezone": data["timezone"],  # Europe/Moscow
            "locale": get_locale_for_country(data["country_code"]),  # ru-RU
            "country": data["country_code"],
        }
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ UI:**
```typescript
// –ü—Ä–∏ –≤–≤–æ–¥–µ –ø—Ä–æ–∫—Å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å timezone
const handleProxyChange = async (proxyUrl: string) => {
  const geo = await fetch('/api/proxy/geolocate', {
    method: 'POST',
    body: JSON.stringify({ proxy: proxyUrl }),
  }).then(r => r.json());

  setAccount({
    ...account,
    proxy: proxyUrl,
    timezone: geo.timezone,  // –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ
    locale: geo.locale,
  });
};
```

---

## 3. –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö–†–ò–¢–ò–ß–ù–û - 2-3 –Ω–µ–¥–µ–ª–∏):

#### ‚úÖ –ó–∞–¥–∞—á–∞ 1.1: Browser Launcher
**–§–∞–π–ª—ã:**
- –°–æ–∑–¥–∞—Ç—å `backend/browser_launcher.py`
- –ò–∑–º–µ–Ω–∏—Ç—å `backend/main.py` —Å—Ç—Ä–æ–∫–∞ 203-216

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
pip install playwright httpx
playwright install chromium
```

**–ö–æ–¥:**
```python
async def launch_account_browser(account: Account, fingerprint_config: dict):
    async with async_playwright() as p:
        browser = await p.chromium.launch_persistent_context(
            user_data_dir=account.profile_path or f"profiles/account_{account.id}",
            headless=False,
            proxy={"server": account.proxy} if account.proxy else None,
            viewport={"width": fingerprint_config["width"], "height": fingerprint_config["height"]},
            user_agent=fingerprint_config["user_agent"],
            timezone_id=fingerprint_config["timezone"],
            locale=fingerprint_config["locale"],
        )
        return browser
```

---

#### ‚úÖ –ó–∞–¥–∞—á–∞ 1.2: Canvas/WebGL/Audio Spoofing
**–§–∞–π–ª—ã:**
- –°–æ–∑–¥–∞—Ç—å `backend/fingerprint_injector.py`

**–ö–æ–¥:**
```python
CANVAS_NOISE_SCRIPT = """
(function() {
    const originalToDataURL = HTMLCanvasElement.prototype.toDataURL;
    const noise = %NOISE_SEED%;

    HTMLCanvasElement.prototype.toDataURL = function() {
        const ctx = this.getContext('2d');
        const imageData = ctx.getImageData(0, 0, this.width, this.height);
        for (let i = 0; i < imageData.data.length; i += 4) {
            imageData.data[i] = imageData.data[i] + noise;
        }
        ctx.putImageData(imageData, 0, 0);
        return originalToDataURL.apply(this, arguments);
    };
})();
"""

WEBGL_SPOOF_SCRIPT = """
(function() {
    const getParameter = WebGLRenderingContext.prototype.getParameter;
    WebGLRenderingContext.prototype.getParameter = function(parameter) {
        if (parameter === 37445) return '%VENDOR%';
        if (parameter === 37446) return '%RENDERER%';
        return getParameter.apply(this, arguments);
    };
})();
"""

def inject_fingerprint_scripts(page, fingerprint_config):
    await page.add_init_script(CANVAS_NOISE_SCRIPT.replace('%NOISE_SEED%', str(fingerprint_config["canvas_noise"])))
    await page.add_init_script(WEBGL_SPOOF_SCRIPT.replace('%VENDOR%', fingerprint_config["webgl_vendor"]))
```

---

#### ‚úÖ –ó–∞–¥–∞—á–∞ 1.3: Fingerprint Generator
**–§–∞–π–ª—ã:**
- –°–æ–∑–¥–∞—Ç—å `backend/fingerprint_generator.py`
- –î–æ–±–∞–≤–∏—Ç—å endpoint `POST /api/fingerprint/generate`

**–ö–æ–¥:**
```python
import random

def generate_fingerprint(preset: str, proxy_country: str = None) -> dict:
    if preset == "russia_standard":
        return {
            "user_agent": generate_russian_ua(),
            "timezone": "Europe/Moscow",
            "locale": "ru-RU",
            "canvas_noise": random.randint(0, 10),
            "webgl_vendor": "Google Inc. (Intel)",
            "webgl_renderer": random.choice([
                "ANGLE (Intel, Intel(R) UHD Graphics 620)",
                "ANGLE (Intel, Intel(R) HD Graphics 530)",
            ]),
            "audio_noise": random.random() * 0.0001,
            "screen": {"width": 1920, "height": 1080},
            "hardware_concurrency": random.choice([4, 8]),
        }
    # ... –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è kazakhstan_standard
```

---

#### ‚úÖ –ó–∞–¥–∞—á–∞ 1.4: Geolocation –ø–æ IP
**–§–∞–π–ª—ã:**
- –°–æ–∑–¥–∞—Ç—å `backend/geolocation.py`
- –î–æ–±–∞–≤–∏—Ç—å endpoint `POST /api/proxy/geolocate`

**–ö–æ–¥:**
```python
async def get_proxy_geolocation(proxy_url: str) -> dict:
    async with httpx.AsyncClient(proxies=proxy_url) as client:
        response = await client.get('https://ipapi.co/json/')
        data = response.json()
        return {
            "country": data["country_code"],
            "timezone": data["timezone"],
            "locale": get_locale_for_country(data["country_code"]),
        }
```

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–ê–ñ–ù–û - 1-2 –Ω–µ–¥–µ–ª–∏):

#### ‚úÖ –ó–∞–¥–∞—á–∞ 2.1: Chrome Profile Management
- –ê–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π
- –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞

#### ‚úÖ –ó–∞–¥–∞—á–∞ 2.2: Cookies Import/Export UI
- –î–æ–±–∞–≤–∏—Ç—å textarea –¥–ª—è JSON cookies
- –ö–Ω–æ–ø–∫–∏ –∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç

#### ‚úÖ –ó–∞–¥–∞—á–∞ 2.3: WebRTC Leak Protection
- –ò–Ω–∂–µ–∫—Ç —Å–∫—Ä–∏–ø—Ç–æ–≤ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ WebRTC
- Chrome flags: `--disable-webrtc-hw-encoding`

---

## 4. –û–ë–ù–û–í–õ–ï–ù–ò–ï –ë–ê–ó–´ –î–ê–ù–ù–´–•

### –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ –º–æ–¥–µ–ª—å Account:

```python
# backend/db.py —Å—Ç—Ä–æ–∫–∞ 33
class Account(Base):
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è

    # –ù–æ–≤—ã–µ –ø–æ–ª—è –¥–ª—è –∞–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ç–∞
    user_agent = Column(String(500))
    timezone = Column(String(100))
    locale = Column(String(50))
    screen_width = Column(Integer, default=1920)
    screen_height = Column(Integer, default=1080)
    canvas_noise = Column(Integer, default=0)
    webgl_vendor = Column(String(255))
    webgl_renderer = Column(String(255))
    audio_noise = Column(Float, default=0.0)
    hardware_concurrency = Column(Integer, default=8)
    color_depth = Column(Integer, default=24)
```

**–ú–∏–≥—Ä–∞—Ü–∏—è:**
```bash
# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –±–∞–∑—É –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å ALTER TABLE
ALTER TABLE accounts ADD COLUMN user_agent VARCHAR(500);
ALTER TABLE accounts ADD COLUMN timezone VARCHAR(100);
# ...
```

---

## 5. –û–ë–ù–û–í–õ–ï–ù–ò–ï FRONTEND

### –ò–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø—ã:

```typescript
// frontend/src/modules/accounts/types.ts
export interface Account {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ

  // –ù–æ–≤—ã–µ –¥–ª—è –∞–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ç–∞
  userAgent?: string;
  timezone?: string;
  locale?: string;
  screenWidth?: number;
  screenHeight?: number;
  canvasNoise?: number;
  webglVendor?: string;
  webglRenderer?: string;
  audioNoise?: number;
  hardwareConcurrency?: number;
  colorDepth?: number;
}
```

### –û–±–Ω–æ–≤–∏—Ç—å UI –≤–∫–ª–∞–¥–∫–∏ Fingerprint:

```typescript
// frontend/src/modules/accounts/components/AccountSidebar.tsx

// –ó–∞–º–µ–Ω–∏—Ç—å —á–µ–∫–±–æ–∫—Å—ã –Ω–∞ –∞–∫—Ç–∏–≤–Ω—ã–µ
<label className="checkbox-label">
  <input
    type="checkbox"
    checked={account.canvasNoise > 0}
    onChange={handleToggleCanvas}
  />
  Canvas —Å–ø—É—Ñ–∏–Ω–≥
  {account.canvasNoise > 0 && <span>–®—É–º: {account.canvasNoise}</span>}
</label>

// –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
const handleGenerateFingerprint = async () => {
  const response = await fetch('/api/fingerprint/generate', {
    method: 'POST',
    body: JSON.stringify({
      preset: account.fingerprint,
      proxyCountry: extractCountryFromProxy(account.proxy),
    }),
  });

  const fingerprint = await response.json();
  setAccount({ ...account, ...fingerprint });
};
```

---

## 6. –ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê

### –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: 40%

**–ß—Ç–æ –µ—Å—Ç—å:**
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ API (10%)
- ‚úÖ UI —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (10%)
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–∫—Å–∏ (10%)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ LocalStorage (10%)

**–ß—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç:**
- ‚ùå Canvas/WebGL/Audio —Å–ø—É—Ñ–∏–Ω–≥ (20%)
- ‚ùå Browser Launcher –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (15%)
- ‚ùå Fingerprint –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (10%)
- ‚ùå Timezone –ø–æ IP (5%)

### –í—Ä–µ–º—è –¥–æ production-ready:

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–∫—Ä–∏—Ç–∏—á–Ω–æ):** 2-3 –Ω–µ–¥–µ–ª–∏ (1 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–≤–∞–∂–Ω–æ):** 1-2 –Ω–µ–¥–µ–ª–∏
**–ò—Ç–æ–≥–æ:** 4-6 –Ω–µ–¥–µ–ª—å

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Playwright:**
   ```bash
   cd backend
   pip install playwright httpx
   playwright install chromium
   ```

2. **–°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª–∏:**
   ```bash
   touch backend/browser_launcher.py
   touch backend/fingerprint_injector.py
   touch backend/fingerprint_generator.py
   touch backend/geolocation.py
   ```

3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1:**
   - Browser Launcher
   - Fingerprint Injector
   - Generator
   - Geolocation

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç —á–µ—Ä–µ–∑ –Ω–æ–≤—ã–π launcher
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ CreepJS: https://abrahamjuliot.github.io/creepjs/
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ fingerprint —É–Ω–∏–∫–∞–ª–µ–Ω

---

## –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–í–∫–ª–∞–¥–∫–∞ –ê–∫–∫–∞—É–Ω—Ç—ã –∏–º–µ–µ—Ç —Å–æ–ª–∏–¥–Ω—ã–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç (40%), –Ω–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∞–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ç–∞ (60%).**

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
1. –ù–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ Canvas/WebGL/Audio —Å–ø—É—Ñ–∏–Ω–≥–∞
2. –ë—Ä–∞—É–∑–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –∞–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
3. Fingerprints –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. Timezone –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ IP –ø—Ä–æ–∫—Å–∏

**–î–ª—è –æ–±—Ö–æ–¥–∞ –±–∞–Ω–æ–≤ –Ø–Ω–¥–µ–∫—Å–∞ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (~2-3 –Ω–µ–¥–µ–ª–∏ —Ä–∞–±–æ—Ç—ã).**

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∞ –¥–ª—è:
- –ü–∞—Ä—Å–∏–Ω–≥–∞ —á–∞—Å—Ç–æ—Ç–Ω–æ—Å—Ç–∏ –±–µ–∑ –±–∞–Ω–æ–≤
- –û—Ç–∫—Ä—É—Ç–∫–∏ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ —Å –Ω–æ–≤—ã–º–∏ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏
- –°–æ–∑–¥–∞–Ω–∏—è "—É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ä–∞–∑–Ω—ã—Ö –ü–ö"
