# 16. UI Layer: Edge --app СЂРµР¶РёРј (Р°СЂС…РёРІРЅС‹Р№ РґРѕРєСѓРјРµРЅС‚)

> **РСЃС‚РѕСЂРёС‡РµСЃРєР°СЏ СЃРїСЂР°РІРєР°: РџРµСЂРµС…РѕРґ СЃ PyWebView РЅР° Edge --app mode**

## РўРµРєСѓС‰РµРµ СЂРµС€РµРЅРёРµ (СЃ РЅРѕСЏР±СЂСЏ 2024)

KeySet-MVP Р±РѕР»СЊС€Рµ **РќР• РёСЃРїРѕР»СЊР·СѓРµС‚ PyWebView**. Р’РјРµСЃС‚Рѕ СЌС‚РѕРіРѕ РїСЂРёРјРµРЅСЏРµС‚СЃСЏ Edge РІ СЂРµР¶РёРјРµ РїСЂРёР»РѕР¶РµРЅРёСЏ (`--app`).

### РџРѕС‡РµРјСѓ РѕС‚РєР°Р·Р°Р»РёСЃСЊ РѕС‚ PyWebView

1. **РџСЂРѕР±Р»РµРјС‹ СЃРѕРІРјРµСЃС‚РёРјРѕСЃС‚Рё** СЃ Vite code-splitting
2. **Р”РѕРїРѕР»РЅРёС‚РµР»СЊРЅР°СЏ Р·Р°РІРёСЃРёРјРѕСЃС‚СЊ** (~50 MB Рє СЂР°Р·РјРµСЂСѓ СЃР±РѕСЂРєРё)
3. **РџСЂРѕР±Р»РµРјС‹ СЃ js_api bridge** РїСЂРё СЃР»РѕР¶РЅРѕР№ СЃС‚СЂСѓРєС‚СѓСЂРµ chunks

### РўРµРєСѓС‰Р°СЏ Р°СЂС…РёС‚РµРєС‚СѓСЂР°

```python
# launcher.py
import subprocess
from pathlib import Path

# Р—Р°РїСѓСЃРє Edge РІ app-СЂРµР¶РёРјРµ (РѕРєРЅРѕ Р‘Р•Р— Р°РґСЂРµСЃРЅРѕР№ СЃС‚СЂРѕРєРё)
edge_paths = [
    r"C:\Program Files (x86)\Microsoft\Edge\Application\msedge.exe",
    r"C:\Program Files\Microsoft\Edge\Application\msedge.exe",
]

for edge_path in edge_paths:
    if Path(edge_path).exists():
        subprocess.Popen([
            edge_path,
            f"--app=http://127.0.0.1:{port}",
            f"--user-data-dir={temp_dir}"
        ])
        break
```

### РџСЂРµРёРјСѓС‰РµСЃС‚РІР° Edge --app

вњ… **РќР°С‚РёРІРЅС‹Р№ РІРёРґ** - РѕРєРЅРѕ Р±РµР· Р°РґСЂРµСЃРЅРѕР№ СЃС‚СЂРѕРєРё, РІС‹РіР»СЏРґРёС‚ РєР°Рє desktop РїСЂРёР»РѕР¶РµРЅРёРµ
вњ… **Р‘С‹СЃС‚СЂС‹Р№ Р·Р°РїСѓСЃРє** - Edge СѓР¶Рµ СѓСЃС‚Р°РЅРѕРІР»РµРЅ РІ Windows 10/11
вњ… **РњРµРЅСЊС€РёР№ СЂР°Р·РјРµСЂ** .exe - РЅРµ РЅСѓР¶РЅРѕ СѓРїР°РєРѕРІС‹РІР°С‚СЊ WebView Р±РёР±Р»РёРѕС‚РµРєРё
вњ… **РќРµС‚ РїСЂРѕР±Р»РµРј** СЃ Vite chunks - Р±СЂР°СѓР·РµСЂ Р·Р°РіСЂСѓР¶Р°РµС‚ РІСЃРµ РєР°Рє РѕР±С‹С‡РЅРѕ
вњ… **РЎРѕРІСЂРµРјРµРЅРЅС‹Р№ РґРІРёР¶РѕРє** - Chromium СЃ РїРѕР»РЅРѕР№ РїРѕРґРґРµСЂР¶РєРѕР№ СЃС‚Р°РЅРґР°СЂС‚РѕРІ

### Vite РєРѕРЅС„РёРіСѓСЂР°С†РёСЏ

РўРµРїРµСЂСЊ **РќР• С‚СЂРµР±СѓРµС‚СЃСЏ** РѕС‚РєР»СЋС‡Р°С‚СЊ code-splitting:

```typescript
// frontend/vite.config.ts
export default defineConfig({
  plugins: [react()],
  // manualChunks Р±РѕР»СЊС€Рµ РќР• РЅСѓР¶РµРЅ!
  // Code-splitting СЂР°Р±РѕС‚Р°РµС‚ РєРѕСЂСЂРµРєС‚РЅРѕ СЃ Edge
});
```

## РЎРІСЏР·СЊ СЃ РґСЂСѓРіРёРјРё РґРѕРєСѓРјРµРЅС‚Р°РјРё

- **[12_PRODUCTION_WINDOWS_BUILD.md](./12_PRODUCTION_WINDOWS_BUILD.md)** вЂ” Р°РєС‚СѓР°Р»СЊРЅС‹Р№ РїСЂРѕС†РµСЃСЃ СЃР±РѕСЂРєРё
- **[08_FRONTEND_STRUCTURE.md](./08_FRONTEND_STRUCTURE.md)** вЂ” frontend Р°СЂС…РёС‚РµРєС‚СѓСЂР°

## TL;DR

- **PyWebView РЈР”РђР›Р•Рќ** РёР· РїСЂРѕРµРєС‚Р° (РЅРѕСЏР±СЂСЊ 2024)
- **РўРµРєСѓС‰РµРµ СЂРµС€РµРЅРёРµ:** Edge РІ --app СЂРµР¶РёРјРµ
- **РџСЂРѕР±Р»РµРјС‹ Vite:** Р±РѕР»СЊС€Рµ РЅРµ Р°РєС‚СѓР°Р»СЊРЅС‹
- **Р Р°Р·РјРµСЂ .exe:** СѓРјРµРЅСЊС€РёР»СЃСЏ РЅР° ~50 MB

---

**Р”Р°С‚Р° Р°СЂС…РёРІРёСЂРѕРІР°РЅРёСЏ:** 2024-11-11
**РЎС‚Р°С‚СѓСЃ:** РђР РҐРР’РќР«Р™ Р”РћРљРЈРњР•РќРў
